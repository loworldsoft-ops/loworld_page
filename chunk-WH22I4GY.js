import{a as pt,b as ut,c as bt}from"./chunk-BC7ZRNLB.js";import{b as w,c as xt}from"./chunk-MFFC5IMK.js";import{b as _t}from"./chunk-V7YY2L3L.js";import{a as gt,b as ht}from"./chunk-UQGXXO52.js";import{a as ft}from"./chunk-ZDVHUZHG.js";import"./chunk-YEEPMWEI.js";import{d as dt}from"./chunk-BSKGBRCR.js";import{d as ot}from"./chunk-MNKRZP7T.js";import{b as mt}from"./chunk-JOEASKFR.js";import{l as at,p as st,s as ct,t as rt,u as lt}from"./chunk-26SHGXXT.js";import{a as U}from"./chunk-QNKFZVMU.js";import{aa as Y,ga as Z,ha as J,ia as tt,ja as et,ka as it,la as nt,w as X}from"./chunk-R3X7UJ7J.js";import{D as W,H as G,K as q,Z as H,_ as K,d as j,e as $,ea as k,o as Q}from"./chunk-ARY6345B.js";import{$b as E,Kb as d,Lb as i,Mb as n,Nb as O,Rb as x,Vb as u,Wb as l,Za as r,_ as C,_b as A,ac as T,ca as B,cb as S,gc as y,ha as g,ia as h,jb as L,jc as a,kb as v,kc as M,lc as f,pb as p,pc as F,qc as V,rc as N}from"./chunk-WMBKZIN6.js";import{a as R,b as z,e as b}from"./chunk-JKOY2XUY.js";var Ct=(()=>{class o{static \u0275fac=function(s){return new(s||o)};static \u0275mod=v({type:o});static \u0275inj=C({imports:[X,Y,J,ot,w]})}return o})();var yt=["messagesContainer"];function Mt(o,e){o&1&&(i(0,"div",5)(1,"div",6)(2,"mat-icon",7),a(3,"refresh"),n(),i(4,"p"),a(5,"\uB300\uC2DC\uBCF4\uB4DC\uB97C \uBD88\uB7EC\uC624\uB294 \uC911..."),n()()())}function kt(o,e){if(o&1){let t=x();i(0,"div",8)(1,"mat-icon"),a(2,"error_outline"),n(),i(3,"span"),a(4),n(),i(5,"button",9),u("click",function(){g(t);let c=l();return h(c.ngOnInit())}),i(6,"mat-icon"),a(7,"refresh"),n()()()}if(o&2){let t=l();r(4),M(t.error)}}function Ot(o,e){if(o&1){let t=x();i(0,"div",24)(1,"div",25),O(2,"div",26)(3,"div",27),i(4,"mat-icon",28),a(5,"verified"),n()(),i(6,"div",29)(7,"h2"),a(8,"\u{1F389} \uBAA8\uB4E0 \uC0C1\uB2F4\uC774 \uCC98\uB9AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),n(),i(9,"p"),a(10,"\uC0C8\uB85C\uC6B4 \uC0C1\uB2F4 \uC694\uCCAD\uC744 \uAE30\uB2E4\uB9AC\uACE0 \uC788\uC2B5\uB2C8\uB2E4"),n(),i(11,"div",30)(12,"div",31)(13,"mat-icon"),a(14,"schedule"),n(),i(15,"span"),a(16,"\uB300\uAE30: "),i(17,"strong"),a(18,"0"),n()()(),i(19,"div",31)(20,"mat-icon"),a(21,"support_agent"),n(),i(22,"span"),a(23,"\uC628\uB77C\uC778"),n()(),i(24,"div",31)(25,"mat-icon"),a(26,"timer"),n(),i(27,"span"),a(28,"\uC751\uB2F5\uC2DC\uAC04: "),i(29,"strong"),a(30,"<2\uBD84"),n()()()(),i(31,"div",32)(32,"button",33),u("click",function(){g(t);let c=l(2);return h(c.loadRooms())}),i(33,"mat-icon"),a(34,"refresh"),n(),a(35," \uC0C8\uB85C\uACE0\uCE68 "),n(),i(36,"button",33),u("click",function(){g(t);let c=l(2);return h(c.openTestGuide())}),i(37,"mat-icon"),a(38,"help_outline"),n(),a(39," \uD14C\uC2A4\uD2B8 \uBC29\uBC95 "),n()()()()}}function wt(o,e){if(o&1){let t=x();i(0,"div",36),u("click",function(){let c=g(t).$implicit,_=l(3);return h(_.selectRoom(c))}),i(1,"div",37)(2,"div",38)(3,"mat-icon"),a(4,"person"),n()(),i(5,"div",39)(6,"div",40),a(7),n(),i(8,"div",41),a(9),n()(),i(10,"button",42),u("click",function(c){let _=g(t).$implicit;return l(3).acceptRequest(_),h(c.stopPropagation())}),i(11,"mat-icon"),a(12,"check"),n()()()()}if(o&2){let t=e.$implicit,s=l(3);y("selected",(s.selectedRoom==null?null:s.selectedRoom.id)===t.id),r(7),f(" ",(t.client==null?null:t.client.name)||"\uACE0\uAC1D "+t.clientId.substring(0,8)," "),r(2),f(" ",s.formatTime(t.lastQueuedAt||t.updatedAt)," ")}}function Pt(o,e){if(o&1&&(i(0,"div",34),p(1,wt,13,4,"div",35),n()),o&2){let t=l(2);r(),d("ngForOf",t.waitingRooms)}}function It(o,e){o&1&&(i(0,"div",43)(1,"mat-icon"),a(2,"check_circle_outline"),n(),i(3,"p"),a(4,"\uB300\uAE30\uC911\uC778 \uC0C1\uB2F4\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),n()())}function St(o,e){if(o&1&&(i(0,"div",47),a(1),n()),o&2){let t=l().$implicit;r(),f(" ",t.unreadCount," ")}}function Lt(o,e){if(o&1){let t=x();i(0,"div",45),u("click",function(){let c=g(t).$implicit,_=l(3);return h(_.selectRoom(c))}),i(1,"div",37)(2,"div",38)(3,"mat-icon"),a(4,"person"),n()(),i(5,"div",39)(6,"div",40),a(7),n(),i(8,"div",41),a(9),n()(),p(10,St,2,1,"div",46),n()()}if(o&2){let t=e.$implicit,s=l(3);y("selected",(s.selectedRoom==null?null:s.selectedRoom.id)===t.id),r(7),f(" ",(t.client==null?null:t.client.name)||"\uACE0\uAC1D "+t.clientId.substring(0,8)," "),r(2),f(" ",s.formatTime(t.lastMessageAt||t.updatedAt)," "),r(),d("ngIf",t.unreadCount&&t.unreadCount>0)}}function At(o,e){if(o&1&&(i(0,"div",34),p(1,Lt,11,5,"div",44),n()),o&2){let t=l(2);r(),d("ngForOf",t.activeRooms)}}function Et(o,e){o&1&&(i(0,"div",43)(1,"mat-icon"),a(2,"chat_bubble_outline"),n(),i(3,"p"),a(4,"\uC9C4\uD589\uC911\uC778 \uC0C1\uB2F4\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),n()())}function Tt(o,e){o&1&&(i(0,"div",48)(1,"mat-icon"),a(2,"chat_bubble_outline"),n(),i(3,"h3"),a(4,"\uC0C1\uB2F4\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694"),n(),i(5,"p"),a(6,"\uC67C\uCABD\uC5D0\uC11C \uC0C1\uB2F4\uC744 \uC120\uD0DD\uD558\uAC70\uB098 \uB300\uAE30\uC911\uC778 \uC0C1\uB2F4\uC744 \uC218\uB77D\uD574\uC8FC\uC138\uC694."),n()())}function Dt(o,e){if(o&1&&(i(0,"span")(1,"mat-icon"),a(2,"email"),n(),a(3),n()),o&2){let t=l(3);r(3),f(" ",t.currentClient.email," ")}}function Rt(o,e){if(o&1&&(i(0,"span")(1,"mat-icon"),a(2,"phone"),n(),a(3),n()),o&2){let t=l(3);r(3),f(" ",t.currentClient.phone," ")}}function zt(o,e){if(o&1&&(i(0,"div",68)(1,"div",69)(2,"div",70),a(3),n(),i(4,"div",71),a(5),n()()()),o&2){let t=e.$implicit,s=l(3);y("client-message",t.senderType===s.SenderType.CLIENT)("agent-message",t.senderType===s.SenderType.AGENT)("bot-message",t.senderType===s.SenderType.BOT)("system-message",t.senderType===s.SenderType.SYSTEM),r(3),M(t.content),r(2),M(s.formatTime(t.createdAt))}}function Bt(o,e){o&1&&(i(0,"div",72)(1,"div",73),O(2,"span")(3,"span")(4,"span"),n(),i(5,"span",74),a(6,"\uACE0\uAC1D\uC774 \uC785\uB825\uC911..."),n()())}function Ft(o,e){if(o&1){let t=x();i(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"mat-icon"),a(5,"person"),n()(),i(6,"div",53)(7,"h3"),a(8),n(),i(9,"div",54),p(10,Dt,4,1,"span",55)(11,Rt,4,1,"span",55),n()()(),i(12,"div",56)(13,"button",57)(14,"mat-icon"),a(15,"info"),n()(),i(16,"button",58),u("click",function(){g(t);let c=l(2);return h(c.closeRoom())}),i(17,"mat-icon"),a(18,"close"),n()()()(),i(19,"div",59,0),p(21,zt,6,10,"div",60)(22,Bt,7,0,"div",61),n(),i(23,"div",62)(24,"div",63)(25,"button",64)(26,"mat-icon"),a(27,"attach_file"),n()(),i(28,"button",65)(29,"mat-icon"),a(30,"image"),n()()(),i(31,"textarea",66),N("ngModelChange",function(c){g(t);let _=l(2);return V(_.messageInput,c)||(_.messageInput=c),h(c)}),u("keydown",function(c){g(t);let _=l(2);return h(_.onKeyPress(c))})("input",function(){g(t);let c=l(2);return h(c.onTyping())}),n(),i(32,"button",67),u("click",function(){g(t);let c=l(2);return h(c.sendMessage())}),i(33,"mat-icon"),a(34,"send"),n()()()()}if(o&2){let t=l(2);r(8),M((t.currentClient==null?null:t.currentClient.name)||"\uACE0\uAC1D "+t.selectedRoom.clientId.substring(0,8)),r(2),d("ngIf",t.currentClient&&t.currentClient.email),r(),d("ngIf",t.currentClient&&t.currentClient.phone),r(10),d("ngForOf",t.messages)("ngForTrackBy",t.trackByMessageId),r(),d("ngIf",t.isTyping),r(9),F("ngModel",t.messageInput),r(),d("disabled",!t.messageInput.trim())}}function Vt(o,e){if(o&1){let t=x();i(0,"div",10),p(1,Ot,40,0,"div",11),i(2,"div",12)(3,"div",13)(4,"h2"),a(5,"\uC0C1\uB2F4 \uBAA9\uB85D"),n(),i(6,"button",14),u("click",function(){g(t);let c=l();return h(c.loadRooms())}),i(7,"mat-icon"),a(8,"refresh"),n()()(),i(9,"div",15)(10,"div",16)(11,"mat-icon",17),a(12,"schedule"),n(),i(13,"h3"),a(14),n()(),p(15,Pt,2,1,"div",18)(16,It,5,0,"div",19),n(),i(17,"div",15)(18,"div",16)(19,"mat-icon",20),a(20,"chat"),n(),i(21,"h3"),a(22),n()(),p(23,At,2,1,"div",18)(24,Et,5,0,"div",19),n()(),i(25,"div",21),p(26,Tt,7,0,"div",22)(27,Ft,35,8,"div",23),n()()}if(o&2){let t=l();r(),d("ngIf",t.waitingRooms.length===0&&t.activeRooms.length===0),r(13),f("\uB300\uAE30\uC911 (",t.waitingRooms.length,")"),r(),d("ngIf",t.waitingRooms.length>0),r(),d("ngIf",t.waitingRooms.length===0),r(6),f("\uC9C4\uD589\uC911 (",t.activeRooms.length,")"),r(),d("ngIf",t.activeRooms.length>0),r(),d("ngIf",t.activeRooms.length===0),r(2),d("ngIf",!t.selectedRoom),r(),d("ngIf",t.selectedRoom)}}var P=class o{constructor(e,t){this.apiService=e;this.socketService=t}messagesContainer;agentId="agent-1";agentName="\uC0C1\uB2F4\uC6D0";organizationId="1";waitingRooms=[];activeRooms=[];allRooms=[];selectedRoom;messages=[];currentClient;loading=!0;error=null;messageInput="";isTyping=!1;typingTimeout;subscriptions=[];RoomStatus=pt;SenderType=ut;debugLogger=B(U);ngOnInit(){return b(this,null,function*(){this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC","\u{1F680} \uC0C1\uB2F4\uC6D0 \uB300\uC2DC\uBCF4\uB4DC \uCD08\uAE30\uD654 \uC2DC\uC791"),this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC",`\uC0C1\uB2F4\uC6D0 \uC815\uBCF4: ${this.agentName} (ID: ${this.agentId})`),this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC",`\uC870\uC9C1 ID: ${this.organizationId}`);try{this.loading=!0,this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC","\u23F8\uFE0F WebSocket \uC790\uB3D9 \uC5F0\uACB0 \uBE44\uD65C\uC131\uD654 (\uC218\uB3D9 \uD65C\uC131\uD654 \uD544\uC694)"),yield this.loadRooms(),this.debugLogger.success("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC","\u2705 \uB300\uC2DC\uBCF4\uB4DC \uCD08\uAE30\uD654 \uC644\uB8CC"),this.loading=!1}catch(e){console.error("\uB300\uC2DC\uBCF4\uB4DC \uCD08\uAE30\uD654 \uC2E4\uD328:",e),this.debugLogger.error("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC",`\u274C \uCD08\uAE30\uD654 \uC2E4\uD328: ${e?.message||e}`),this.debugLogger.warn("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC","\u26A0\uFE0F \uC77C\uBD80 \uAE30\uB2A5\uC774 \uC81C\uD55C\uB420 \uC218 \uC788\uC9C0\uB9CC \uB300\uC2DC\uBCF4\uB4DC\uB294 \uACC4\uC18D \uC0AC\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4"),e?.status!==404&&e?.status!==500?this.error="\uB300\uC2DC\uBCF4\uB4DC\uB97C \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.":this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC","\u{1F4A1} \uBC31\uC5D4\uB4DC API\uAC00 \uAD6C\uD604\uB418\uBA74 \uC790\uB3D9\uC73C\uB85C \uC5F0\uACB0\uB429\uB2C8\uB2E4"),this.loading=!1}})}ngOnDestroy(){this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC","\u{1F50C} WebSocket \uC5F0\uACB0 \uD574\uC81C"),this.socketService.disconnect(),this.subscriptions.forEach(e=>e.unsubscribe())}connectWebSocket(){return b(this,null,function*(){this.debugLogger.info("WebSocket","\u{1F50C} WebSocket \uC5F0\uACB0 \uC2DC\uC791"),this.socketService.connect(),this.socketService.registerAgent(this.agentId,this.organizationId),this.debugLogger.success("WebSocket","\u2705 WebSocket \uC5F0\uACB0 \uC644\uB8CC");let e=this.socketService.onEvent("requestSupport").subscribe(m=>{this.debugLogger.info("\uC0C1\uB2F4\uC6D0\uB300\uC2DC\uBCF4\uB4DC",`\u{1F514} \uC0C8 \uC0C1\uB2F4 \uC694\uCCAD - roomId: ${m?.room?.id}`),this.handleNewSupportRequest(m.room)}),t=this.socketService.onEvent("createChat").subscribe(m=>{m?.chat&&(this.debugLogger.info("\uBA54\uC2DC\uC9C0\uC218\uC2E0",`\u{1F4AC} \uC0C8 \uBA54\uC2DC\uC9C0 - ${m.chat.senderType}: ${m.chat.content?.substring(0,20)}...`),this.handleNewMessage(m.chat))}),s=this.socketService.onEvent("assignAgentSuccess").subscribe(m=>{this.debugLogger.success("WebSocket",`\u2705 \uC0C1\uB2F4 \uC218\uB77D \uC131\uACF5 - roomId: ${m?.roomId}`)}),c=this.socketService.onEvent("clientTyping").subscribe(m=>{this.debugLogger.info("WebSocket",`\u270D\uFE0F \uACE0\uAC1D \uD0C0\uC774\uD551 \uC911 - roomId: ${m?.roomId}`),this.handleClientTyping(m)}),_=this.socketService.onEvent("roomClosed").subscribe(m=>{this.debugLogger.info("WebSocket",`\u{1F6AA} \uCC44\uD305\uBC29 \uC885\uB8CC - roomId: ${m?.roomId}`),this.handleRoomClosed(m.roomId)});this.subscriptions.push(e,t,s,c,_),this.debugLogger.info("WebSocket","\u{1F4E1} \uC774\uBCA4\uD2B8 \uB9AC\uC2A4\uB108 \uB4F1\uB85D \uC644\uB8CC")})}loadRooms(){return b(this,null,function*(){this.debugLogger.info("\uCC44\uD305\uBC29\uBAA9\uB85D","\u{1F4CB} \uCC44\uD305\uBC29 \uBAA9\uB85D \uB85C\uB4DC \uC2DC\uC791"),this.debugLogger.info("\uCC44\uD305\uBC29\uBAA9\uB85D",`API \uD638\uCD9C: GET /channeltalk/agent/rooms/organization/${this.organizationId}`);try{let e=yield this.apiService.getAgentRooms(this.organizationId).toPromise();this.allRooms=e||[],this.categorizeRooms(),this.debugLogger.success("\uCC44\uD305\uBC29\uBAA9\uB85D",`\u2705 \uCC44\uD305\uBC29 \uB85C\uB4DC \uC644\uB8CC - \uB300\uAE30: ${this.waitingRooms.length}\uAC1C, \uC9C4\uD589: ${this.activeRooms.length}\uAC1C, \uC804\uCCB4: ${this.allRooms.length}\uAC1C`)}catch(e){if(this.debugLogger.error("\uCC44\uD305\uBC29\uBAA9\uB85D",`\u274C \uCC44\uD305\uBC29 \uBAA9\uB85D \uB85C\uB4DC \uC2E4\uD328: ${e?.status} - ${e?.message}`),this.debugLogger.info("\uCC44\uD305\uBC29\uBAA9\uB85D",`\uC5D0\uB7EC \uC0C1\uC138: ${JSON.stringify(e?.error||{})}`),e?.status===404||e?.status===500)this.debugLogger.warn("\uCC44\uD305\uBC29\uBAA9\uB85D","\u26A0\uFE0F \uBC31\uC5D4\uB4DC API \uBBF8\uAD6C\uD604 - \uBE48 \uBAA9\uB85D\uC73C\uB85C \uACC4\uC18D \uC9C4\uD589"),this.debugLogger.info("\uCC44\uD305\uBC29\uBAA9\uB85D","\u{1F4A1} CHAT_BACKEND_CONNECTION_GUIDE.md \uBB38\uC11C\uB97C \uCC38\uACE0\uD558\uC5EC \uBC31\uC5D4\uB4DC API\uB97C \uAD6C\uD604\uD558\uC138\uC694"),this.allRooms=[],this.categorizeRooms();else throw e}})}categorizeRooms(){this.waitingRooms=this.allRooms.filter(e=>e.status==="waiting_agent"),this.activeRooms=this.allRooms.filter(e=>e.status==="agent_active"&&e.agentId===this.agentId),this.debugLogger.info("\uCC44\uD305\uBC29\uBAA9\uB85D",`\u{1F4CA} \uCC44\uD305\uBC29 \uBD84\uB958 \uC644\uB8CC - \uB300\uAE30: ${this.waitingRooms.length}, \uC9C4\uD589: ${this.activeRooms.length}`)}selectRoom(e){return b(this,null,function*(){this.debugLogger.info("\uCC44\uD305\uBC29\uC120\uD0DD",`\u{1F4CC} \uCC44\uD305\uBC29 \uC120\uD0DD - roomId: ${e.id}, \uC0C1\uD0DC: ${e.status}`);try{this.selectedRoom=e,this.currentClient=e.client,yield this.loadMessages(e.id),yield this.markAsRead(e.id),this.socketService.emitEvent("joinRoom",{roomId:e.id}),this.debugLogger.info("\uCC44\uD305\uBC29\uC120\uD0DD",`\u{1F50C} Socket Room \uCC38\uAC00 - roomId: ${e.id}`),setTimeout(()=>this.scrollToBottom(),100),this.debugLogger.success("\uCC44\uD305\uBC29\uC120\uD0DD","\u2705 \uCC44\uD305\uBC29 \uC120\uD0DD \uC644\uB8CC")}catch(t){console.error("\uCC44\uD305\uBC29 \uC120\uD0DD \uC2E4\uD328:",t),this.debugLogger.error("\uCC44\uD305\uBC29\uC120\uD0DD",`\u274C \uCC44\uD305\uBC29 \uC120\uD0DD \uC2E4\uD328: ${t}`)}})}loadMessages(e){return b(this,null,function*(){this.debugLogger.info("\uBA54\uC2DC\uC9C0\uB85C\uB4DC",`\u{1F4E8} \uBA54\uC2DC\uC9C0 \uC870\uD68C - roomId: ${e}`);try{let t=yield this.apiService.getRoomMessages(e,100).toPromise();this.messages=t||[],this.debugLogger.success("\uBA54\uC2DC\uC9C0\uB85C\uB4DC",`\u2705 \uBA54\uC2DC\uC9C0 \uB85C\uB4DC \uC644\uB8CC: ${this.messages.length}\uAC1C`)}catch(t){console.error("\uBA54\uC2DC\uC9C0 \uB85C\uB4DC \uC2E4\uD328:",t),this.debugLogger.error("\uBA54\uC2DC\uC9C0\uB85C\uB4DC",`\u274C \uBA54\uC2DC\uC9C0 \uB85C\uB4DC \uC2E4\uD328: ${t}`),this.messages=[]}})}markAsRead(e){return b(this,null,function*(){try{yield this.apiService.markAsRead(e,this.agentId,"agent").toPromise();let t=this.allRooms.find(s=>s.id===e);t&&(t.unreadCount=0),this.debugLogger.info("\uBA54\uC2DC\uC9C0\uB85C\uB4DC","\u2705 \uC77D\uC74C \uCC98\uB9AC \uC644\uB8CC")}catch(t){console.error("\uC77D\uC74C \uCC98\uB9AC \uC2E4\uD328:",t)}})}acceptRequest(e){return b(this,null,function*(){this.debugLogger.info("\uC0C1\uB2F4\uC218\uB77D",`\u{1F64B} \uC0C1\uB2F4 \uC218\uB77D - roomId: ${e.id}`);try{this.socketService.assignAgent(e.id,this.agentId),this.debugLogger.success("\uC0C1\uB2F4\uC218\uB77D","\u2705 \uC0C1\uB2F4\uC6D0 \uBC30\uC815 \uC644\uB8CC");let t=z(R({},e),{status:"agent_active",agentId:this.agentId});this.updateRoomInList(t),this.categorizeRooms(),yield this.selectRoom(t),this.debugLogger.info("\uC0C1\uB2F4\uC218\uB77D","\u{1F4E1} \uACE0\uAC1D\uC5D0\uAC8C \uBC30\uC815 \uC54C\uB9BC \uC804\uC1A1")}catch(t){console.error("\uC0C1\uB2F4 \uC218\uB77D \uC2E4\uD328:",t),this.debugLogger.error("\uC0C1\uB2F4\uC218\uB77D",`\u274C \uC0C1\uB2F4 \uC218\uB77D \uC2E4\uD328: ${t}`),alert("\uC0C1\uB2F4 \uC218\uB77D\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}sendMessage(){return b(this,null,function*(){if(!this.messageInput.trim()||!this.selectedRoom){this.debugLogger.warn("\uBA54\uC2DC\uC9C0\uC804\uC1A1","\u26A0\uFE0F \uBA54\uC2DC\uC9C0 \uB0B4\uC6A9 \uB610\uB294 \uCC44\uD305\uBC29 \uC815\uBCF4 \uC5C6\uC74C");return}let e=this.messageInput.trim();this.messageInput="",this.debugLogger.info("\uBA54\uC2DC\uC9C0\uC804\uC1A1",`\u{1F4E4} \uBA54\uC2DC\uC9C0 \uC804\uC1A1 - "${e.substring(0,30)}..."`);try{let t=yield this.apiService.sendMessage({roomId:this.selectedRoom.id,senderId:this.agentId,senderType:"agent",content:e}).toPromise();t&&(this.messages.push(t),this.socketService.emitEvent("sendMessage",{roomId:this.selectedRoom.id,message:t}),this.debugLogger.success("\uBA54\uC2DC\uC9C0\uC804\uC1A1","\u2705 \uBA54\uC2DC\uC9C0 \uC804\uC1A1 \uC644\uB8CC"),setTimeout(()=>this.scrollToBottom(),50))}catch(t){console.error("\uBA54\uC2DC\uC9C0 \uC804\uC1A1 \uC2E4\uD328:",t),this.debugLogger.error("\uBA54\uC2DC\uC9C0\uC804\uC1A1",`\u274C \uBA54\uC2DC\uC9C0 \uC804\uC1A1 \uC2E4\uD328: ${t}`),alert("\uBA54\uC2DC\uC9C0 \uC804\uC1A1\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onTyping(){this.selectedRoom&&(this.socketService.emitEvent("agentTyping",{roomId:this.selectedRoom.id,agentId:this.agentId,agentName:this.agentName}),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.socketService.emitEvent("agentStoppedTyping",{roomId:this.selectedRoom.id})},1e3))}closeRoom(){return b(this,null,function*(){if(this.selectedRoom&&confirm("\uC774 \uC0C1\uB2F4\uC744 \uC885\uB8CC\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")){this.debugLogger.info("\uC0C1\uB2F4\uC885\uB8CC",`\u{1F6AA} \uC0C1\uB2F4 \uC885\uB8CC - roomId: ${this.selectedRoom.id}`);try{let e=yield this.apiService.updateRoomStatus(this.selectedRoom.id,"resolved").toPromise();e&&(this.updateRoomInList(e),this.categorizeRooms(),this.socketService.emitEvent("roomClosed",{roomId:this.selectedRoom.id}),this.debugLogger.success("\uC0C1\uB2F4\uC885\uB8CC","\u2705 \uC0C1\uB2F4 \uC885\uB8CC \uC644\uB8CC"),this.selectedRoom=void 0,this.messages=[],this.currentClient=void 0)}catch(e){console.error("\uC0C1\uB2F4 \uC885\uB8CC \uC2E4\uD328:",e),this.debugLogger.error("\uC0C1\uB2F4\uC885\uB8CC",`\u274C \uC0C1\uB2F4 \uC885\uB8CC \uC2E4\uD328: ${e}`),alert("\uC0C1\uB2F4 \uC885\uB8CC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}})}handleNewSupportRequest(e){this.debugLogger.info("\uC0C1\uB2F4\uC694\uCCAD\uCC98\uB9AC",`\u{1F195} \uC0C8 \uC0C1\uB2F4 \uC694\uCCAD \uCC98\uB9AC - roomId: ${e.id}`);let t=this.allRooms.findIndex(s=>s.id===e.id);t>=0?(this.allRooms[t]=e,this.debugLogger.info("\uC0C1\uB2F4\uC694\uCCAD\uCC98\uB9AC","\u{1F504} \uAE30\uC874 \uCC44\uD305\uBC29 \uC5C5\uB370\uC774\uD2B8")):(this.allRooms.unshift(e),this.debugLogger.info("\uC0C1\uB2F4\uC694\uCCAD\uCC98\uB9AC","\u2795 \uC0C8 \uCC44\uD305\uBC29 \uCD94\uAC00")),this.categorizeRooms(),this.showNotification("\uC0C8\uB85C\uC6B4 \uC0C1\uB2F4 \uC694\uCCAD",`${e.client?.name||"\uACE0\uAC1D"}\uB2D8\uC774 \uC0C1\uB2F4\uC744 \uC694\uCCAD\uD588\uC2B5\uB2C8\uB2E4.`),this.debugLogger.success("\uC0C1\uB2F4\uC694\uCCAD\uCC98\uB9AC","\u2705 \uC0C8 \uC0C1\uB2F4 \uC694\uCCAD \uCC98\uB9AC \uC644\uB8CC")}handleNewMessage(e){if(this.debugLogger.info("\uBA54\uC2DC\uC9C0\uCC98\uB9AC",`\u{1F4AC} \uC0C8 \uBA54\uC2DC\uC9C0 \uCC98\uB9AC - roomId: ${e.roomId}`),this.selectedRoom&&e.roomId===this.selectedRoom.id)this.messages.push(e),setTimeout(()=>this.scrollToBottom(),50),this.markAsRead(e.roomId),this.debugLogger.info("\uBA54\uC2DC\uC9C0\uCC98\uB9AC","\u2705 \uBA54\uC2DC\uC9C0 \uCD94\uAC00 \uBC0F \uC77D\uC74C \uCC98\uB9AC");else{let t=this.allRooms.find(s=>s.id===e.roomId);t&&(t.unreadCount=(t.unreadCount||0)+1,t.lastMessageAt=e.createdAt,this.debugLogger.info("\uBA54\uC2DC\uC9C0\uCC98\uB9AC",`\u{1F4EC} \uB2E4\uB978 \uCC44\uD305\uBC29 \uBA54\uC2DC\uC9C0 - \uC77D\uC9C0 \uC54A\uC74C: ${t.unreadCount}`))}}handleClientTyping(e){this.selectedRoom&&e.roomId===this.selectedRoom.id&&(this.isTyping=!0,this.debugLogger.info("\uD0C0\uC774\uD551","\u270D\uFE0F \uACE0\uAC1D\uC774 \uC785\uB825 \uC911..."),setTimeout(()=>{this.isTyping=!1},3e3))}handleRoomClosed(e){this.debugLogger.info("\uCC44\uD305\uBC29\uC885\uB8CC\uCC98\uB9AC",`\u{1F6AA} \uCC44\uD305\uBC29 \uC885\uB8CC \uCC98\uB9AC - roomId: ${e}`);let t=this.allRooms.find(s=>s.id===e);t&&(t.status="resolved",this.categorizeRooms(),this.selectedRoom?.id===e&&(this.selectedRoom=void 0,this.messages=[],this.currentClient=void 0,this.debugLogger.info("\uCC44\uD305\uBC29\uC885\uB8CC\uCC98\uB9AC","\u2705 \uC120\uD0DD\uB41C \uCC44\uD305\uBC29 \uD574\uC81C")),this.debugLogger.success("\uCC44\uD305\uBC29\uC885\uB8CC\uCC98\uB9AC","\u2705 \uCC44\uD305\uBC29 \uC885\uB8CC \uCC98\uB9AC \uC644\uB8CC"))}updateRoomInList(e){let t=this.allRooms.findIndex(s=>s.id===e.id);t>=0?(this.allRooms[t]=e,this.debugLogger.info("\uCC44\uD305\uBC29\uC5C5\uB370\uC774\uD2B8","\u{1F504} \uAE30\uC874 \uCC44\uD305\uBC29 \uC5C5\uB370\uC774\uD2B8")):(this.allRooms.push(e),this.debugLogger.info("\uCC44\uD305\uBC29\uC5C5\uB370\uC774\uD2B8","\u2795 \uC0C8 \uCC44\uD305\uBC29 \uCD94\uAC00"))}scrollToBottom(){this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}showNotification(e,t){"Notification"in window&&Notification.permission==="granted"&&new Notification(e,{body:t})}formatTime(e){let t=new Date(e),s=t.getHours().toString().padStart(2,"0"),c=t.getMinutes().toString().padStart(2,"0");return`${s}:${c}`}formatDate(e){let t=new Date(e),s=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0");return`${s}/${c}`}getStatusLabel(e){switch(e){case"waiting_agent":return"\uB300\uAE30\uC911";case"agent_active":return"\uC0C1\uB2F4\uC911";case"resolved":return"\uD574\uACB0\uB428";case"closed":return"\uC885\uB8CC";default:return e}}onKeyPress(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())}trackByMessageId(e,t){return t.id}openTestGuide(){let e=`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
  \u{1F4DA} \uCC44\uD305 \uC0C1\uB2F4 \uD14C\uC2A4\uD2B8 \uAC00\uC774\uB4DC
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

\u2705 \uBC29\uBC95 1: \uC2A4\uD1A0\uC5B4\uC5D0\uC11C \uC0C1\uB2F4 \uC694\uCCAD\uD558\uAE30

1. \uC2A4\uD1A0\uC5B4 \uD398\uC774\uC9C0\uB85C \uC774\uB3D9
   \u{1F449} \uBA54\uB274\uC5D0\uC11C "\uC2A4\uD1A0\uC5B4" \uD074\uB9AD

2. "\uACE0\uAC1D \uC9C0\uC6D0" \uBC84\uD2BC \uD074\uB9AD
   \u{1F449} \uC6B0\uCE21 \uD558\uB2E8\uC758 \uC9C0\uC6D0 \uBC84\uD2BC\uC744 \uCC3E\uC73C\uC138\uC694

3. \uC0C1\uB2F4 \uC694\uCCAD \uC791\uC131
   \u{1F449} \uBB38\uC758 \uB0B4\uC6A9\uC744 \uC785\uB825\uD558\uACE0 \uC804\uC1A1

4. \uC0C1\uB2F4\uC6D0 \uB300\uC2DC\uBCF4\uB4DC\uC5D0\uC11C \uD655\uC778
   \u{1F449} \uC774 \uD398\uC774\uC9C0\uB85C \uB3CC\uC544\uC640\uC11C \uD655\uC778

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

\u2705 \uBC29\uBC95 2: API\uB85C \uD14C\uC2A4\uD2B8 \uB370\uC774\uD130 \uC0DD\uC131

\uD130\uBBF8\uB110\uC5D0\uC11C \uC2E4\uD589:
cd SyncBI-Station
node seed-data-via-api.js

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

\u{1F4A1} \uCC38\uACE0\uC0AC\uD56D:
\u2022 \uBC31\uC5D4\uB4DC \uC11C\uBC84\uAC00 \uC2E4\uD589 \uC911\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4
\u2022 organizationId\uB294 '1'\uB85C \uC124\uC815\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4
\u2022 WebSocket \uC5F0\uACB0\uC774 \uC815\uC0C1\uC774\uC5B4\uC57C \uC2E4\uC2DC\uAC04 \uC54C\uB9BC\uC774 \uC791\uB3D9\uD569\uB2C8\uB2E4

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
    `.trim();alert(e)}static \u0275fac=function(t){return new(t||o)(S(bt),S(ft))};static \u0275cmp=L({type:o,selectors:[["app-chat-agent-dashboard"]],viewQuery:function(t,s){if(t&1&&A(yt,5),t&2){let c;E(c=T())&&(s.messagesContainer=c.first)}},standalone:!1,decls:4,vars:3,consts:[["messagesContainer",""],[1,"agent-dashboard"],["class","loading-overlay",4,"ngIf"],["class","error-banner",4,"ngIf"],["class","dashboard-layout",4,"ngIf"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"spin"],[1,"error-banner"],["mat-icon-button","",3,"click"],[1,"dashboard-layout"],["class","all-clear-banner",4,"ngIf"],[1,"rooms-panel"],[1,"panel-header"],["mat-icon-button","","matTooltip","\uC0C8\uB85C\uACE0\uCE68",3,"click"],[1,"rooms-section"],[1,"section-header"],[1,"status-icon","waiting"],["class","rooms-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"status-icon","active"],[1,"chat-panel"],["class","no-selection",4,"ngIf"],["class","chat-container",4,"ngIf"],[1,"all-clear-banner"],[1,"banner-animation"],[1,"pulse-ring"],[1,"pulse-ring","delay-1"],[1,"success-icon"],[1,"banner-content"],[1,"banner-stats"],[1,"stat-item"],[1,"banner-actions"],["mat-stroked-button","",3,"click"],[1,"rooms-list"],["class","room-card waiting",3,"selected","click",4,"ngFor","ngForOf"],[1,"room-card","waiting",3,"click"],[1,"room-info"],[1,"client-avatar"],[1,"room-details"],[1,"client-name"],[1,"last-message-time"],["mat-mini-fab","","color","primary","matTooltip","\uC0C1\uB2F4 \uC218\uB77D",1,"accept-btn",3,"click"],[1,"empty-state"],["class","room-card active",3,"selected","click",4,"ngFor","ngForOf"],[1,"room-card","active",3,"click"],["class","unread-badge",4,"ngIf"],[1,"unread-badge"],[1,"no-selection"],[1,"chat-container"],[1,"chat-header"],[1,"client-info"],[1,"client-avatar-large"],[1,"client-details"],[1,"client-meta"],[4,"ngIf"],[1,"chat-actions"],["mat-icon-button","","matTooltip","\uC0C1\uB2F4 \uC815\uBCF4"],["mat-icon-button","","matTooltip","\uC0C1\uB2F4 \uC885\uB8CC",3,"click"],[1,"messages-container"],["class","message-wrapper",3,"client-message","agent-message","bot-message","system-message",4,"ngFor","ngForOf","ngForTrackBy"],["class","typing-indicator",4,"ngIf"],[1,"input-container"],[1,"input-actions"],["mat-icon-button","","matTooltip","\uD30C\uC77C \uCCA8\uBD80"],["mat-icon-button","","matTooltip","\uC774\uBBF8\uC9C0 \uCCA8\uBD80"],["placeholder","\uBA54\uC2DC\uC9C0\uB97C \uC785\uB825\uD558\uC138\uC694... (Shift+Enter: \uC904\uBC14\uAFC8)","rows","1",1,"message-input",3,"ngModelChange","keydown","input","ngModel"],["mat-fab","","color","primary",1,"send-btn",3,"click","disabled"],[1,"message-wrapper"],[1,"message-bubble"],[1,"message-content"],[1,"message-time"],[1,"typing-indicator"],[1,"typing-dots"],[1,"typing-text"]],template:function(t,s){t&1&&(i(0,"div",1),p(1,Mt,6,0,"div",2)(2,kt,8,1,"div",3)(3,Vt,28,9,"div",4),n()),t&2&&(r(),d("ngIf",s.loading),r(),d("ngIf",s.error&&!s.loading),r(),d("ngIf",!s.loading&&!s.error))},dependencies:[j,$,W,G,q,tt,it,Z,et,rt,gt],styles:['.agent-dashboard[_ngcontent-%COMP%]{width:100%;height:100vh;background:#f5f7fa;position:relative;overflow:hidden}.agent-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffff2;display:flex;align-items:center;justify-content:center;z-index:1000}.agent-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{text-align:center}.agent-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#1976d2;margin-bottom:16px}.agent-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.agent-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px}.agent-dashboard[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;padding:16px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #ef9a9a}.agent-dashboard[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#c62828}.agent-dashboard[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px}.agent-dashboard[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#c62828}.agent-dashboard[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:16px 20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #90caf9;margin-bottom:0}.agent-dashboard[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}.agent-dashboard[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.agent-dashboard[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.agent-dashboard[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;opacity:.9}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:32px 40px;display:flex;align-items:center;gap:32px;border-bottom:none;margin-bottom:0;position:relative;overflow:hidden}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-10%;width:300px;height:300px;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;left:-5%;width:200px;height:200px;background:#ffffff14;border-radius:50%;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite;animation-delay:1s}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-animation[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;flex-shrink:0;z-index:1}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-animation[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;border:3px solid rgba(255,255,255,.6);border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s ease-out infinite}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-animation[_ngcontent-%COMP%]   .pulse-ring.delay-1[_ngcontent-%COMP%]{animation-delay:.5s}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-animation[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;width:48px;height:48px;color:#fff;animation:_ngcontent-%COMP%_scale-in .5s ease-out}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{flex:1;z-index:1}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:700;color:#fff}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:15px;opacity:.95;color:#fff}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-stats[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:20px}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;font-size:14px}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;border:1px solid rgba(255,255,255,.3);padding:8px 20px;border-radius:8px;display:flex;align-items:center;gap:6px;transition:all .3s ease}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.agent-dashboard[_ngcontent-%COMP%]   .all-clear-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]{display:flex;height:100%;overflow:hidden}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]{width:360px;background:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;overflow:hidden}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e0e0e0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding:8px 0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .status-icon.waiting[_ngcontent-%COMP%]{color:#ff9800}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .status-icon.active[_ngcontent-%COMP%]{color:#4caf50}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#333}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:12px;cursor:pointer;transition:all .2s ease}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]:hover{background:#f5f5f5;transform:translate(4px)}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card.selected[_ngcontent-%COMP%]{background:#e3f2fd;border-color:#1976d2}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card.waiting[_ngcontent-%COMP%]{border-left:4px solid #ff9800}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card.active[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .client-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;flex-shrink:0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .client-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px;width:24px;height:24px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]{flex:1;min-width:0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .last-message-time[_ngcontent-%COMP%]{font-size:12px;color:#999}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{flex-shrink:0;transform:scale(.8)}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .rooms-list[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-info[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{background:#f44336;color:#fff;border-radius:12px;padding:2px 8px;font-size:12px;font-weight:600;min-width:20px;text-align:center}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#999}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:12px;opacity:.5}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]   .rooms-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;background:#fff}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .no-selection[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#999;padding:40px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .no-selection[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;opacity:.3;margin-bottom:20px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .no-selection[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin:0 0 8px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .no-selection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:#fff;box-shadow:0 2px 4px #0000000d}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   .client-avatar-large[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   .client-avatar-large[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:28px;width:28px;height:28px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   .client-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600;color:#333}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   .client-details[_ngcontent-%COMP%]   .client-meta[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   .client-details[_ngcontent-%COMP%]   .client-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   .client-details[_ngcontent-%COMP%]   .client-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;background:#f5f7fa}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:flex;margin-bottom:16px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.client-message[_ngcontent-%COMP%], .agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.bot-message[_ngcontent-%COMP%]{justify-content:flex-start}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.client-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%], .agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.bot-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #e0e0e0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.agent-message[_ngcontent-%COMP%]{justify-content:flex-end}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.agent-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.system-message[_ngcontent-%COMP%]{justify-content:center}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper.system-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#ffe0b2;color:#e65100;font-size:12px;padding:6px 12px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{max-width:70%;padding:12px 16px;border-radius:18px;box-shadow:0 2px 4px #0000001a}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;white-space:pre-wrap;word-break:break-word;margin-bottom:4px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:11px;opacity:.7;text-align:right}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:4px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#999;animation:_ngcontent-%COMP%_typing 1.4s infinite}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   .typing-text[_ngcontent-%COMP%]{font-size:12px;color:#999}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid #e0e0e0;background:#fff;display:flex;align-items:flex-end;gap:12px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-actions[_ngcontent-%COMP%]{display:flex;gap:4px;padding-bottom:4px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#666}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;border:1px solid #e0e0e0;border-radius:24px;padding:12px 20px;font-size:14px;font-family:inherit;resize:none;outline:none;max-height:120px;transition:border-color .2s}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{border-color:#1976d2}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]::placeholder{color:#999}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{transform:scale(.85);box-shadow:0 4px 8px #1976d24d}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:scale(1);opacity:.5}30%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:1}to{transform:translate(-50%,-50%) scale(1.5);opacity:0}}@keyframes _ngcontent-%COMP%_scale-in{0%{transform:translate(-50%,-50%) scale(0)}50%{transform:translate(-50%,-50%) scale(1.2)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(10deg)}}@media (max-width: 1024px){.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]{width:300px}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{max-width:80%}}@media (max-width: 768px){.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]{flex-direction:column}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .rooms-panel[_ngcontent-%COMP%]{width:100%;height:40%;border-right:none;border-bottom:1px solid #e0e0e0}.agent-dashboard[_ngcontent-%COMP%]   .dashboard-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]{height:60%}}']})};var Nt=[{path:"",component:P}],I=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=v({type:o});static \u0275inj=C({imports:[k.forChild(Nt),k]})};var vt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=v({type:o});static \u0275inj=C({imports:[Q,k,I,H,K,nt,lt,at,st,ht,mt,ct,_t,xt,Ct,w,dt]})};export{vt as ChatTalkAgentModule};
