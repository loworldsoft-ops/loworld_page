import{b as Gt,c as Rt,d as Vt,e as Lt,f as $t,g as jt}from"./chunk-TVN66SQ5.js";import{a as Ut}from"./chunk-NLL2GBCR.js";import{a as Nt,b as zt,c as Ft,d as qt}from"./chunk-JGYT7X4W.js";import{c as St}from"./chunk-6ZTG2E6J.js";import{c as Dt}from"./chunk-U7MGMVP4.js";import{d as wt}from"./chunk-FZQTDODF.js";import{a as Et,b as It,c as Bt,d as Tt}from"./chunk-OKCUQ6IX.js";import"./chunk-KWGWQWKN.js";import{a as Be}from"./chunk-5LF32KZU.js";import{b as At}from"./chunk-U3O5GYJJ.js";import{l as yt,p as kt,q as Ee,r as Ie}from"./chunk-BYQQUOAJ.js";import{c as Ye,d as pe,f as le,g as me}from"./chunk-W4AHS3DZ.js";import{d as vt}from"./chunk-RRLQBX2C.js";import"./chunk-N3ZM2K6F.js";import{a as ye}from"./chunk-DNCDD7ID.js";import{a as Mt,b as ht,c as xt,h as we}from"./chunk-HES6RMVA.js";import{aa as Pt,ga as ke,ha as Ot,ia as De,la as Se}from"./chunk-3W5N7WYH.js";import"./chunk-H7YW6YZX.js";import{A as pt,C as mt,D as xe,H as Oe,L as ve,T as _t,U as ut,V as Ct,Z as ft,c as st,ca as bt,d as Me,e as oe,ea as ge,ga as We,m as dt,n as gt,o as he}from"./chunk-N2Z47IIO.js";import{$b as je,Ac as J,Bc as at,Cc as ct,Dc as R,Eb as T,Kb as g,Lb as n,Mb as o,Nb as k,Ob as nt,Pb as ot,Pc as lt,Rb as O,Ta as tt,Vb as b,Wb as d,Z as V,Za as l,_ as se,_b as $e,ac as Ue,ba as Le,ca as Pe,cb as A,ec as F,fc as S,g as Ze,gc as v,ha as _,ia as u,ic as q,ja as N,jb as Q,jc as i,ka as L,kb as de,kc as C,lc as M,mc as D,nc as it,pb as f,pc as j,qc as U,rb as ce,rc as H,vc as Y,wc as G,xa as et,xc as rt,yc as He,zc as W}from"./chunk-JVCDH4YT.js";import{a as ne,b as be,e as y}from"./chunk-JKOY2XUY.js";var Ht=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=se({imports:[Pt,Ot]})}return r})();function en(r,t){if(r&1&&(n(0,"p",10),i(1),o()),r&2){let e=d();l(),C(e.data.verdict)}}var Z=class r{constructor(t,e,a){this.dialogRef=t;this.data=e;this.sanitizer=a;this.sanitizedMessage=this.sanitizer.bypassSecurityTrustHtml(e.message),this.isComparisonDialog=e.title?.includes("\uBE44\uAD50")||!1}sanitizedMessage;isComparisonDialog;onCancel(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||r)(A(Mt),A(ht),A(pt))};static \u0275cmp=Q({type:r,selectors:[["app-confirm-dialog"]],decls:18,vars:10,consts:[[1,"confirm-dialog"],[1,"dialog-header"],[1,"icon-wrapper"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"dialog-content"],[1,"message-content",3,"innerHTML"],["class","verdict",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click"],["mat-raised-button","",1,"confirm-btn",3,"click"],[1,"verdict"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),i(4),o()(),n(5,"button",3),b("click",function(){return a.onCancel()}),n(6,"mat-icon"),i(7,"close"),o()()(),n(8,"div",4)(9,"h2"),i(10),o(),k(11,"div",5),f(12,en,2,1,"p",6),o(),n(13,"div",7)(14,"button",8),b("click",function(){return a.onCancel()}),i(15),o(),n(16,"button",9),b("click",function(){return a.onConfirm()}),i(17),o()()()),e&2&&(v("comparison-dialog",a.isComparisonDialog),l(2),v("comparison-icon",a.isComparisonDialog),l(2),C(a.isComparisonDialog?"compare_arrows":"help_outline"),l(6),C(a.data.title||"\uD655\uC778"),l(),g("innerHTML",a.sanitizedMessage,tt),l(),g("ngIf",a.data.verdict),l(3),M(" ",a.data.cancelText||"\uCDE8\uC18C"," "),l(2),M(" ",a.data.confirmText||"\uD655\uC778"," "))},dependencies:[he,oe,we,Se,De,ke,Ie,Ee],styles:['@charset "UTF-8";.confirm-dialog[_ngcontent-%COMP%]{padding:0;background:var(--bg-primary, #ffffff);border-radius:16px;min-width:400px;max-width:500px;overflow:hidden}.confirm-dialog.comparison-dialog[_ngcontent-%COMP%]{min-width:700px;max-width:900px}.dialog-header[_ngcontent-%COMP%]{position:relative;padding:24px 24px 0;display:flex;justify-content:space-between;align-items:flex-start}.icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #667eea4d}.icon-wrapper.comparison-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#8b5cf6);box-shadow:0 4px 12px #3b82f64d}.icon-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:28px;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]{color:var(--text-secondary, #666);width:32px;height:32px}.close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5)}.dialog-content[_ngcontent-%COMP%]{padding:20px 24px 24px}.dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 12px;font-size:24px;font-weight:700;color:var(--text-primary, #212529);line-height:1.3}.dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:var(--text-secondary, #666)}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:1.6;color:var(--text-secondary, #666)}.dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:var(--bg-secondary, #f8f9fa);border-radius:8px;font-weight:600;font-size:15px;color:var(--accent-primary, #667eea);text-align:center}.dialog-actions[_ngcontent-%COMP%]{padding:16px 24px 24px;display:flex;gap:12px;justify-content:flex-end}.cancel-btn[_ngcontent-%COMP%]{min-width:100px;height:44px;border-radius:8px;font-weight:600;font-size:15px;color:var(--text-secondary, #666);background:transparent;border:1px solid var(--border-color, #e0e0e0);transition:all .2s ease}.cancel-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5);border-color:var(--text-secondary, #666)}.confirm-btn[_ngcontent-%COMP%]{min-width:100px;height:44px;border-radius:8px;font-weight:600;font-size:15px;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 4px 12px #667eea4d;transition:all .2s ease}.confirm-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #667eea66;transform:translateY(-1px)}.confirm-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}body.dark-theme[_nghost-%COMP%]   .confirm-dialog[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .confirm-dialog[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .confirm-dialog[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .confirm-dialog[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .confirm-dialog[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .confirm-dialog[_ngcontent-%COMP%]{background:#1a1a2e!important}body.dark-theme[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f5f5f7!important}body.dark-theme[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .verdict[_ngcontent-%COMP%]{background:#2d2d44!important;color:#3b82f6!important}body.dark-theme[_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{color:#8e8e93!important;border-color:#2d2d44!important}body.dark-theme[_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover, [data-theme=dark][_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#2d2d44!important;border-color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, [data-theme=dark][_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#2d2d44!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.confirm-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}']})};var Qe=[{id:1,name:"Waxing Gibbous",nameKo:"\uCC28\uC624\uB974\uB294 \uCCA0\uC6D4",rarity:"unique",type:"weapon",category:"\uB3C4\uB07C",attackSpeed:"\uBE60\uB984",attacksPerSecond:1.1,favorites:7,tags:["\uACE0\uC720","\uB3C4\uB07C"],stats:[{name:"\uCD08\uB2F9 \uACF5\uACA9 \uD69F\uC218",value:"1.10 (\uBE60\uB984)",type:"special"},{name:"\uCE7C\uB0A0 \uBC1C\uD1B1\uC774 \uB450 \uBC30\uC758 \uD53C\uD574\uB97C \uC904 \uD655\uB960",value:"+50.0%",type:"damage"},{name:"\uADF9\uB300\uD654 \uD53C\uD574",value:"+[88.0-115.0]%",type:"critical"},{name:"\uD53C\uC758 \uC6B8\uBD80\uC9D6\uC74C\uC774 \uBD80\uC5EC\uD558\uB294 \uC740\uD3D0",value:"+[2.2-3.0]\uCD08",type:"special"},{name:"\uCE7C\uB0A0 \uBC1C\uD1B1",value:"+[2-4]",type:"special"},{name:"\uB3C5\uC131 \uBC1C\uD1B1",value:"+[1-2]",type:"special"}],uniqueEffect:"\uCE7C\uB0A0 \uBC1C\uD1B1\uC73C\uB85C \uC801\uC744 \uCC98\uCE58\uD558\uBA74 2\uCD08 \uB3D9\uC548 \uC740\uD3D0\uB97C \uC5BB\uC2B5\uB2C8\uB2E4. \uACF5\uACA9\uD574 \uC740\uD3D0\uAC00 \uC885\uB8CC\uB418\uBA74 1.0-4.0\uCD08 \uB3D9\uC548 \uD655\uC815\uC801\uC73C\uB85C \uADF9\uB300\uD654 \uACF5\uACA9\uD569\uB2C8\uB2E4.",classRestriction:["\uB4DC\uB8E8\uC774\uB4DC"]},{id:2,name:"Butcher's Cleaver",nameKo:"\uB3C4\uC0B4\uC790\uC758 \uC2DD\uCE7C",rarity:"unique",type:"weapon",category:"\uB3C4\uB07C",attackSpeed:"\uBE60\uB984",attacksPerSecond:1.1,favorites:10,tags:["\uACE0\uC720","\uB3C4\uB07C"],stats:[{name:"\uCD08\uB2F9 \uACF5\uACA9 \uD69F\uC218",value:"1.10 (\uBE60\uB984)",type:"special"},{name:"\uBD80\uC0C1\uB2F9\uD55C \uC801\uC5D0\uAC8C \uC8FC\uB294 \uD53C\uD574",value:"+175.0%",type:"damage"},{name:"\uACF5\uD3EC \uC801\uC5D0 \uB300\uD55C \uADF9\uB300\uD654 \uD655\uB960",value:"+[16.0-25.0]%",type:"critical"},{name:"\uC774\uB3D9 \uC18D\uB3C4",value:"+[17.5-23.0]%",type:"special"},{name:"\uACF5\uACA9 \uC18D\uB3C4",value:"+[8.3-10.0]%",type:"special"},{name:"\uBB3C\uB9AC \uD53C\uD574",value:"+[62.5-85.0]%",type:"damage"}],uniqueEffect:"\uD589\uC6B4\uC758 \uC801\uC911: \uC801\uC5D0\uAC8C \uACF5\uACA9\uC774 \uADF9\uB300\uD654\uB85C \uC801\uC911\uD558\uBA74 \uCD5C\uB300 100% \uD655\uB960\uB85C \uD574\uB2F9 \uC801\uC774 4\uCD08 \uB3D9\uC548 \uACF5\uD3EC\uC5D0 \uC9C8\uB9AC\uACE0 61 \u2013 90% \uAC10\uC18D\uB429\uB2C8\uB2E4."},{id:3,name:"Condemnation",nameKo:"\uADDC\uD0C4",rarity:"unique",type:"weapon",category:"\uB2E8\uAC80",attackSpeed:"\uB9E4\uC6B0 \uBE60\uB984",attacksPerSecond:1.2,favorites:13,tags:["\uACE0\uC720","\uB2E8\uAC80","\uD63C\uB3C8\uC758 \uBC29\uC5B4\uAD6C"],chaosArmor:!0,stats:[{name:"\uCD08\uB2F9 \uACF5\uACA9 \uD69F\uC218",value:"1.20 (\uB9E4\uC6B0 \uBE60\uB984)",type:"special"},{name:"\uACF5\uACA9\uB825",value:"+50.0%",type:"damage"},{name:"\uAE30\uBCF8 \uACF5\uACA9 \uC18D\uB3C4",value:"+[16.0-25.0]%",type:"special"},{name:"\uD589\uC6B4\uC758 \uC801\uC911: \uC801\uC744 2\uCD08 \uB3D9\uC548 \uCDE8\uC57D\uD558\uAC8C \uB9CC\uB4E4 \uD655\uB960 \uCD5C\uB300",value:"+[43.3-47.3]%",type:"special"},{name:"\uC18C\uBAA8\uD55C \uC5F0\uACC4 \uC810\uC218\uB2F9 \uD53C\uD574",value:"+[47.0-65.0]%",type:"damage"},{name:"\uBBFC\uCCA9",value:"+[80-94]",type:"special"}],uniqueEffect:"\uC5F0\uACC4 \uC810\uC218 3\uC810\uC744 \uC18C\uBAA8\uD558\uBA74 \uD575\uC2EC \uAE30\uC220\uC758 \uD53C\uD574\uAC00 50\u201370% \uC99D\uAC00\uD569\uB2C8\uB2E4. \uAE30\uBCF8 \uAE30\uC220\uC774 \uD56D\uC0C1 \uC5F0\uACC4 \uC810\uC218 3\uC810\uC744 \uC0DD\uC131\uD569\uB2C8\uB2E4.",classRestriction:["\uB3C4\uC801"]},{id:7,name:"The Grandfather",nameKo:"\uADA4\uBA78\uC790",rarity:"mythic",type:"weapon",category:"\uAC80",attackSpeed:"\uBE60\uB984",attacksPerSecond:1.1,favorites:40,tags:["\uC2E0\uD654 \uACE0\uC720","\uB3C4\uAC80"],stats:[{name:"\uCD08\uB2F9 \uACF5\uACA9 \uD69F\uC218",value:"1.10 (\uBE60\uB984)",type:"special"},{name:"\uACF5\uACA9\uB825",value:"+100.0%",type:"damage"},{name:"\uBAA8\uB4E0 \uB2A5\uB825\uCE58",value:"+160",type:"special"},{name:"\uCD5C\uB300 \uC0DD\uBA85\uB825",value:"35.0%",type:"vital"},{name:"\uD53C\uD574 \uAC10\uC18C",value:"10.0%",type:"defense"},{name:"\uD589\uC6B4\uC758 \uC801\uC911: \uCD5C\uB300 15% \uD655\uB960\uB85C \uC0DD\uBA85\uB825",value:"+530 \uD68C\uBCF5",type:"lifesteal"},{name:"\uD589\uC6B4\uC758 \uC801\uC911: \uCD5C\uB300 25% \uD655\uB960\uB85C \uC8FC\uC704 \uC801\uC5D0\uAC8C",value:"900\uC758 \uC554\uD751 \uD53C\uD574",type:"damage"}],uniqueEffect:"\uD589\uC6B4\uC758 \uC801\uC911: \uCD5C\uB300 25% \uD655\uB960\uB85C \uC8FC\uC704 \uC801\uC5D0\uAC8C 900\uC758 \uC554\uD751 \uD53C\uD574\uB97C \uC8FC\uACE0, \uC801\uC774 \uC8FC\uB294 \uD53C\uD574\uB97C 5\uCD08 \uB3D9\uC548 20% \uAC10\uC18C\uC2DC\uD0B5\uB2C8\uB2E4."},{id:19,name:"Doombringer",nameKo:"\uD55C\uC544\uBE44",rarity:"mythic",type:"weapon",category:"\uC591\uC190 \uAC80",attackSpeed:"\uB290\uB9BC",attacksPerSecond:1,favorites:54,tags:["\uC2E0\uD654 \uACE0\uC720","\uC591\uC190 \uAC80"],stats:[{name:"\uCD08\uB2F9 \uACF5\uACA9 \uD69F\uC218",value:"1.00 (\uB290\uB9BC)",type:"special"},{name:"\uACF5\uACA9\uB825",value:"+150.0%",type:"damage"},{name:"\uB0B4\uAD6C\uB3C4 \uAC10\uC18C \uBB34\uC2DC",value:"",type:"special"},{name:"\uBAA8\uB4E0 \uB2A5\uB825\uCE58",value:"+200",type:"special"},{name:"\uACF5\uACA9\uB825",value:"+300.0%",type:"damage"},{name:"\uCD5C\uB300 \uC0DD\uBA85\uB825",value:"+1,800",type:"vital"},{name:"\uCD5C\uB300 \uC790\uC6D0",value:"+20",type:"special"}],uniqueEffect:"\uD50C\uB808\uC774\uC5B4\uC758 \uADF9\uB300\uD654 \uD53C\uD574\uAC00 100% \uC99D\uAC00\uD569\uB2C8\uB2E4. \uC774 \uBB34\uAE30\uC5D0 \uBD99\uB294 \uB098\uBA38\uC9C0 \uC18D\uC131\uC774 \uC77C\uBC18\uC801\uC778 \uC218\uC900\uBCF4\uB2E4 \uB192\uAC8C \uBD99\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4."},{id:21,name:"Melted Heart of Selig",nameKo:"\uC140\uB9AC\uADF8\uC758 \uB179\uC740 \uC2EC\uC7A5",rarity:"mythic",type:"accessory",category:"\uBAA9\uAC78\uC774",favorites:48,tags:["\uC2E0\uD654 \uACE0\uC720","\uBAA9\uAC78\uC774"],stats:[{name:"\uBAA8\uB4E0 \uC6D0\uC18C\uC5D0 \uB300\uD55C \uCD5C\uB300 \uC800\uD56D",value:"+3.0%",type:"resist"},{name:"\uBAA8\uB4E0 \uC6D0\uC18C \uC800\uD56D",value:"+30.0%",type:"resist"},{name:"\uAC74\uAC15 \uC0C1\uD0DC\uC5D0\uC11C \uD53C\uD574 \uAC10\uC18C",value:"15.0%",type:"defense"},{name:"\uD589\uC6B4\uC758 \uC801\uC911 \uD655\uB960",value:"+15.0%",type:"special"},{name:"\uC774\uB3D9 \uC18D\uB3C4",value:"+25.0%",type:"special"},{name:"\uC790\uC6D0 \uC0DD\uC131\uB7C9",value:"15.0%",type:"special"}],uniqueEffect:"60\uC758 \uCD5C\uB300 \uC790\uC6D0\uC744 \uC5BB\uC2B5\uB2C8\uB2E4. \uD53C\uD574\uB97C \uBC1B\uC73C\uBA74 \uCD5C\uB300 \uC0DD\uBA85\uB825\uC758 1%\uC744 \uC783\uC744 \uB54C\uB9C8\uB2E4 75%\uB9CC\uD07C\uC758 \uD53C\uD574\uB97C 2 \uC790\uC6D0\uC73C\uB85C \uB300\uC2E0 \uC783\uC2B5\uB2C8\uB2E4."},{id:43,name:"Andariel's Visage",nameKo:"\uC548\uB2E4\uB9AC\uC5D8\uC758 \uB450\uAC1C\uACE8",rarity:"mythic",type:"armor",category:"\uD22C\uAD6C",favorites:10,tags:["\uC2E0\uD654 \uACE0\uC720","\uD22C\uAD6C"],stats:[{name:"\uB3C5 \uC800\uD56D",value:"+666.0%",type:"resist"},{name:"\uACF5\uACA9 \uC18D\uB3C4",value:"+30.0%",type:"special"},{name:"\uBAA8\uB4E0 \uB2A5\uB825\uCE58",value:"+110",type:"special"},{name:"\uC801\uC911 \uC2DC \uC0DD\uBA85\uB825 \uD68C\uBCF5",value:"+86",type:"lifesteal"},{name:"\uCD5C\uB300 \uB3C5 \uC800\uD56D",value:"+10%",type:"resist"}],uniqueEffect:"\uD589\uC6B4\uC758 \uC801\uC911: \uCD5C\uB300 20% \uD655\uB960\uB85C \uB3C5\uBC1C\uC744 \uBC1C\uB3D9\uD558\uC5EC \uBC94\uC704 \uB0B4\uC758 \uC801\uB4E4\uC5D0\uAC8C 5\uCD08\uC5D0 \uAC78\uCCD0 6,000\uC758 \uC911\uB3C5 \uD53C\uD574\uB97C \uC90D\uB2C8\uB2E4."},{id:44,name:"Harlequin Crest",nameKo:"\uD560\uB9AC\uD038 \uAD00\uBAA8",rarity:"mythic",type:"armor",category:"\uD22C\uAD6C",favorites:88,tags:["\uC2E0\uD654 \uACE0\uC720","\uD22C\uAD6C"],stats:[{name:"\uC7AC\uC0AC\uC6A9 \uB300\uAE30\uC2DC\uAC04 \uAC10\uC18C",value:"20.0%",type:"special"},{name:"\uCD5C\uB300 \uC0DD\uBA85\uB825",value:"800",type:"vital"},{name:"\uCD5C\uB300 \uC790\uC6D0",value:"+18",type:"special"},{name:"\uBC29\uC5B4\uB3C4",value:"+350",type:"defense"}],uniqueEffect:"20%\uC758 \uD53C\uD574 \uAC10\uC18C\uB97C \uC5BB\uC2B5\uB2C8\uB2E4. \uB610\uD55C \uBAA8\uB4E0 \uAE30\uC220 \uB4F1\uAE09\uC774 +4 \uC0C1\uC2B9\uD569\uB2C8\uB2E4."},{id:53,name:"Ring of Starless Skies",nameKo:"\uBCC4 \uC5C6\uB294 \uD558\uB298\uC758 \uBC18\uC9C0",rarity:"mythic",type:"accessory",category:"\uBC18\uC9C0",favorites:21,tags:["\uC2E0\uD654 \uACE0\uC720","\uBC18\uC9C0"],stats:[{name:"\uBAA8\uB4E0 \uC6D0\uC18C \uC800\uD56D",value:"+12.5%",type:"resist"},{name:"\uBAA8\uB4E0 \uC6D0\uC18C \uC800\uD56D",value:"+12.5%",type:"resist"},{name:"\uACF5\uACA9 \uC18D\uB3C4",value:"+17.5%",type:"special"},{name:"\uADF9\uB300\uD654 \uD655\uB960",value:"+12.5%",type:"critical"},{name:"\uD589\uC6B4\uC758 \uC801\uC911 \uD655\uB960",value:"+12.5%",type:"special"},{name:"\uD575\uC2EC \uAE30\uC220",value:"+2",type:"special"}],uniqueEffect:"\uC8FC \uC790\uC6D0\uC744 \uC18C\uBAA8\uD558\uBA74 3\uCD08 \uB3D9\uC548 10%\uB9CC\uD07C, \uCD5C\uB300 50%\uAE4C\uC9C0 \uAE30\uC220\uC758 \uC790\uC6D0 \uC18C\uBAA8\uB7C9\uC774 \uAC10\uC18C\uD558\uACE0 \uC8FC\uB294 \uD53C\uD574\uAC00 \uC99D\uAC00\uD569\uB2C8\uB2E4."},{id:100,name:"Common Sword",nameKo:"\uC77C\uBC18 \uAC80",rarity:"common",type:"weapon",category:"\uAC80",attackSpeed:"\uBCF4\uD1B5",attacksPerSecond:1,stats:[{name:"\uACF5\uACA9\uB825",value:"+10",type:"damage"},{name:"\uD798",value:"+5",type:"special"}]},{id:101,name:"Uncommon Axe",nameKo:"\uD76C\uADC0\uD558\uC9C0 \uC54A\uC740 \uB3C4\uB07C",rarity:"uncommon",type:"weapon",category:"\uB3C4\uB07C",attackSpeed:"\uBE60\uB984",attacksPerSecond:1.1,stats:[{name:"\uACF5\uACA9\uB825",value:"+25",type:"damage"},{name:"\uADF9\uB300\uD654 \uD655\uB960",value:"+5%",type:"critical"},{name:"\uD798",value:"+10",type:"special"}]},{id:102,name:"Rare Dagger",nameKo:"\uD76C\uADC0\uD55C \uB2E8\uAC80",rarity:"rare",type:"weapon",category:"\uB2E8\uAC80",attackSpeed:"\uB9E4\uC6B0 \uBE60\uB984",attacksPerSecond:1.3,stats:[{name:"\uACF5\uACA9\uB825",value:"+45",type:"damage"},{name:"\uADF9\uB300\uD654 \uD53C\uD574",value:"+50%",type:"critical"},{name:"\uBBFC\uCCA9",value:"+25",type:"special"},{name:"\uC0DD\uBA85\uB825 \uD761\uC218",value:"+3%",type:"lifesteal"}]},{id:103,name:"Epic Staff",nameKo:"\uC11C\uC0AC\uC2DC \uC9C0\uD321\uC774",rarity:"epic",type:"weapon",category:"\uC9C0\uD321\uC774",attackSpeed:"\uB290\uB9BC",attacksPerSecond:.9,stats:[{name:"\uACF5\uACA9\uB825",value:"+80",type:"damage"},{name:"\uADF9\uB300\uD654 \uD53C\uD574",value:"+100%",type:"critical"},{name:"\uC9C0\uB2A5",value:"+50",type:"special"},{name:"\uBAA8\uB4E0 \uC6D0\uC18C \uC800\uD56D",value:"+15%",type:"resist"},{name:"\uB9C8\uB098 \uC7AC\uC0DD",value:"+5/\uCD08",type:"manasteal"}]}];var Te=class r{dbName="NovelScenarioDB";dbVersion=1;storeName="scenarios";db=null;constructor(){this.initDB()}initDB(){return y(this,null,function*(){return new Promise((t,e)=>{let a=indexedDB.open(this.dbName,this.dbVersion);a.onerror=()=>{console.error("IndexedDB \uC5F4\uAE30 \uC2E4\uD328:",a.error),e(a.error)},a.onsuccess=()=>{this.db=a.result,console.log("\u2705 IndexedDB \uCD08\uAE30\uD654 \uC644\uB8CC"),t()},a.onupgradeneeded=c=>{let s=c.target.result;if(!s.objectStoreNames.contains(this.storeName)){let m=s.createObjectStore(this.storeName,{keyPath:"id"});m.createIndex("title","title",{unique:!1}),m.createIndex("genre","genre",{unique:!1}),m.createIndex("createdAt","createdAt",{unique:!1}),console.log("\u{1F4E6} IndexedDB \uC2A4\uD1A0\uC5B4 \uC0DD\uC131 \uC644\uB8CC")}}})})}ensureDB(){return y(this,null,function*(){return this.db||(yield this.initDB()),this.db})}saveScenario(t){return y(this,null,function*(){let e=yield this.ensureDB();return new Promise((a,c)=>{let P=e.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(t);P.onsuccess=()=>{console.log("\u{1F4BE} \uC2DC\uB098\uB9AC\uC624 \uC800\uC7A5 \uC644\uB8CC:",t.title),a()},P.onerror=()=>{console.error("\u274C \uC2DC\uB098\uB9AC\uC624 \uC800\uC7A5 \uC2E4\uD328:",P.error),c(P.error)}})})}getAllScenarios(){return y(this,null,function*(){let t=yield this.ensureDB();return new Promise((e,a)=>{let m=t.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();m.onsuccess=()=>{let P=m.result;P.sort((h,x)=>new Date(x.createdAt).getTime()-new Date(h.createdAt).getTime()),console.log("\u{1F4DA} \uC2DC\uB098\uB9AC\uC624 \uBAA9\uB85D \uB85C\uB4DC:",P.length,"\uAC1C"),e(P)},m.onerror=()=>{console.error("\u274C \uC2DC\uB098\uB9AC\uC624 \uBAA9\uB85D \uB85C\uB4DC \uC2E4\uD328:",m.error),a(m.error)}})})}getScenario(t){return y(this,null,function*(){let e=yield this.ensureDB();return new Promise((a,c)=>{let P=e.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);P.onsuccess=()=>{a(P.result||null)},P.onerror=()=>{console.error("\u274C \uC2DC\uB098\uB9AC\uC624 \uB85C\uB4DC \uC2E4\uD328:",P.error),c(P.error)}})})}deleteScenario(t){return y(this,null,function*(){let e=yield this.ensureDB();return new Promise((a,c)=>{let P=e.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);P.onsuccess=()=>{console.log("\u{1F5D1}\uFE0F \uC2DC\uB098\uB9AC\uC624 \uC0AD\uC81C \uC644\uB8CC:",t),a()},P.onerror=()=>{console.error("\u274C \uC2DC\uB098\uB9AC\uC624 \uC0AD\uC81C \uC2E4\uD328:",P.error),c(P.error)}})})}getScenariosByGenre(t){return y(this,null,function*(){let e=yield this.ensureDB();return new Promise((a,c)=>{let h=e.transaction([this.storeName],"readonly").objectStore(this.storeName).index("genre").getAll(t);h.onsuccess=()=>{let x=h.result;x.sort((w,p)=>new Date(p.createdAt).getTime()-new Date(w.createdAt).getTime()),a(x)},h.onerror=()=>{console.error("\u274C \uC7A5\uB974\uBCC4 \uC2DC\uB098\uB9AC\uC624 \uB85C\uB4DC \uC2E4\uD328:",h.error),c(h.error)}})})}clearAllScenarios(){return y(this,null,function*(){let t=yield this.ensureDB();return new Promise((e,a)=>{let m=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();m.onsuccess=()=>{console.log("\u{1F5D1}\uFE0F \uBAA8\uB4E0 \uC2DC\uB098\uB9AC\uC624 \uC0AD\uC81C \uC644\uB8CC"),e()},m.onerror=()=>{console.error("\u274C \uC2DC\uB098\uB9AC\uC624 \uC804\uCCB4 \uC0AD\uC81C \uC2E4\uD328:",m.error),a(m.error)}})})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ae=class r{dbName="NovelItemDB";storeName="items";db=null;constructor(){this.initDB()}initDB(){return y(this,null,function*(){return new Promise((t,e)=>{let a=indexedDB.open(this.dbName,1);a.onerror=()=>{e(a.error)},a.onsuccess=()=>{this.db=a.result,t()},a.onupgradeneeded=c=>{let s=c.target.result;if(!s.objectStoreNames.contains(this.storeName)){let m=s.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0});m.createIndex("name","name",{unique:!1}),m.createIndex("type","type",{unique:!1}),m.createIndex("grade","grade",{unique:!1}),m.createIndex("createdAt","createdAt",{unique:!1})}}})})}saveItem(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).add(t);m.onsuccess=()=>{e(m.result)},m.onerror=()=>{a(m.error)}})})}getAllItems(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,e)=>{let s=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();s.onsuccess=()=>{let m=s.result;m.sort((P,h)=>new Date(h.createdAt).getTime()-new Date(P.createdAt).getTime()),t(m)},s.onerror=()=>{e(s.error)}})})}getItem(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);m.onsuccess=()=>{e(m.result)},m.onerror=()=>{a(m.error)}})})}deleteItem(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);m.onsuccess=()=>{e()},m.onerror=()=>{a(m.error)}})})}getItemsByType(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let P=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).index("type").getAll(t);P.onsuccess=()=>{e(P.result)},P.onerror=()=>{a(P.error)}})})}getItemsByGrade(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let P=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).index("grade").getAll(t);P.onsuccess=()=>{e(P.result)},P.onerror=()=>{a(P.error)}})})}clearAllItems(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,e)=>{let s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();s.onsuccess=()=>{t()},s.onerror=()=>{e(s.error)}})})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ne=class r{dbName="NovelCharacterDB";storeName="characters";db=null;constructor(){this.initDB()}initDB(){return y(this,null,function*(){return new Promise((t,e)=>{let a=indexedDB.open(this.dbName,1);a.onerror=()=>{e(a.error)},a.onsuccess=()=>{this.db=a.result,t()},a.onupgradeneeded=c=>{let s=c.target.result;if(!s.objectStoreNames.contains(this.storeName)){let m=s.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0});m.createIndex("name","name",{unique:!1}),m.createIndex("occupation","occupation",{unique:!1}),m.createIndex("createdAt","createdAt",{unique:!1})}}})})}saveCharacter(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).add(t);m.onsuccess=()=>{e(m.result)},m.onerror=()=>{a(m.error)}})})}getAllCharacters(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,e)=>{let s=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();s.onsuccess=()=>{let m=s.result;m.sort((P,h)=>new Date(h.createdAt).getTime()-new Date(P.createdAt).getTime()),t(m)},s.onerror=()=>{e(s.error)}})})}getCharacter(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);m.onsuccess=()=>{e(m.result)},m.onerror=()=>{a(m.error)}})})}deleteCharacter(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);m.onsuccess=()=>{e()},m.onerror=()=>{a(m.error)}})})}clearAllCharacters(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,e)=>{let s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();s.onsuccess=()=>{t()},s.onerror=()=>{e(s.error)}})})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var ie=class r{STORAGE_KEY="novel_auth_user";ADMIN_USERNAME="admin";ADMIN_PASSWORD="9920";currentUserSubject;currentUser$;constructor(){let t=this.loadUserFromStorage();this.currentUserSubject=new Ze(t),this.currentUser$=this.currentUserSubject.asObservable()}loadUserFromStorage(){try{let t=localStorage.getItem(this.STORAGE_KEY);if(t){let e=JSON.parse(t);return e.loginTime=new Date(e.loginTime),e}}catch{}return null}saveUserToStorage(t){try{t?localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)):localStorage.removeItem(this.STORAGE_KEY)}catch{}}login(t,e){if(t===this.ADMIN_USERNAME&&e===this.ADMIN_PASSWORD){let a={username:this.ADMIN_USERNAME,loginTime:new Date};return this.currentUserSubject.next(a),this.saveUserToStorage(a),!0}return!1}logout(){this.currentUserSubject.next(null),this.saveUserToStorage(null)}isLoggedIn(){return this.currentUserSubject.value!==null}getCurrentUser(){return this.currentUserSubject.value}getCurrentUsername(){let t=this.getCurrentUser();return t?t.username:null}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var ze=class r{debugLogger=Pe(ye);dbName="NovelStoryDB";storeName="stories";db=null;constructor(){this.initDB()}initDB(){return y(this,null,function*(){return new Promise((t,e)=>{let a=indexedDB.open(this.dbName,1);a.onerror=()=>{this.debugLogger.error("StoryDB",`\u274C DB \uC5F4\uAE30 \uC2E4\uD328: ${a.error}`),e(a.error)},a.onsuccess=()=>{this.db=a.result,this.debugLogger.success("StoryDB","\u2705 DB \uC5F4\uAE30 \uC131\uACF5"),t()},a.onupgradeneeded=c=>{let s=c.target.result;if(!s.objectStoreNames.contains(this.storeName)){let m=s.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!1});m.createIndex("title","title",{unique:!1}),m.createIndex("createdAt","createdAt",{unique:!1}),m.createIndex("genre","genre",{unique:!1})}}})})}saveStory(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(t);m.onsuccess=()=>{this.debugLogger.success("StoryDB",`\u{1F4BE} \uC2A4\uD1A0\uB9AC \uC800\uC7A5 \uC131\uACF5: ${t.title}`),e()},m.onerror=()=>{this.debugLogger.error("StoryDB",`\u274C \uC2A4\uD1A0\uB9AC \uC800\uC7A5 \uC2E4\uD328: ${m.error}`),a(m.error)}})})}getAllStories(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,e)=>{let s=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();s.onsuccess=()=>{let m=s.result;m.sort((P,h)=>new Date(h.createdAt).getTime()-new Date(P.createdAt).getTime()),this.debugLogger.info("StoryDB",`\u{1F4DA} \uC800\uC7A5\uB41C \uC2A4\uD1A0\uB9AC \uBAA9\uB85D: ${m.length}\uAC1C`),t(m)},s.onerror=()=>{this.debugLogger.error("StoryDB",`\u274C \uC2A4\uD1A0\uB9AC \uBAA9\uB85D \uB85C\uB4DC \uC2E4\uD328: ${s.error}`),e(s.error)}})})}getStory(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);m.onsuccess=()=>{e(m.result||null)},m.onerror=()=>{a(m.error)}})})}deleteStory(t){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((e,a)=>{let m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);m.onsuccess=()=>{e()},m.onerror=()=>{a(m.error)}})})}clearAllStories(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,e)=>{let s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();s.onsuccess=()=>{t()},s.onerror=()=>{e(s.error)}})})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Fe=class r{dbName="NovelGameDB";dbVersion=2;storeName="gameSaves";db=null;constructor(){this.initDB()}initDB(){return y(this,null,function*(){return new Promise((t,e)=>{let a=indexedDB.open(this.dbName,this.dbVersion);a.onerror=()=>{e(a.error)},a.onsuccess=()=>{this.db=a.result,t()},a.onupgradeneeded=c=>{let s=c.target.result;s.objectStoreNames.contains(this.storeName)&&s.deleteObjectStore(this.storeName);let m=s.createObjectStore(this.storeName,{keyPath:"id"});m.createIndex("novelId","novelId",{unique:!1}),m.createIndex("saveDate","saveDate",{unique:!1}),m.createIndex("novelTitle","novelTitle",{unique:!1})}})})}ensureDB(){return y(this,null,function*(){if(this.db)return this.db;if(yield this.initDB(),!this.db)throw new Error("IndexedDB \uC5F0\uACB0 \uC2E4\uD328");return this.db})}saveGame(t){return y(this,null,function*(){try{let e=yield this.ensureDB();return new Promise((a,c)=>{let m=e.transaction([this.storeName],"readwrite").objectStore(this.storeName),P=be(ne({},t),{saveDate:new Date(t.saveDate)}),h=m.put(P);h.onsuccess=()=>{a()},h.onerror=()=>{c(h.error)}})}catch(e){throw e}})}loadGame(t){return y(this,null,function*(){try{let e=yield this.ensureDB();return new Promise((a,c)=>{let P=e.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);P.onsuccess=()=>{P.result?a(P.result):a(null)},P.onerror=()=>{c(P.error)}})}catch{return null}})}getAllGames(){return y(this,null,function*(){try{let t=yield this.ensureDB();return new Promise((e,a)=>{let m=t.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();m.onsuccess=()=>{let P=m.result||[];P.sort((h,x)=>new Date(x.saveDate).getTime()-new Date(h.saveDate).getTime()),e(P)},m.onerror=()=>{a(m.error)}})}catch{return[]}})}getGamesByNovelId(t){return y(this,null,function*(){try{let e=yield this.ensureDB();return new Promise((a,c)=>{let h=e.transaction([this.storeName],"readonly").objectStore(this.storeName).index("novelId").getAll(t);h.onsuccess=()=>{let x=h.result||[];x.sort((w,p)=>new Date(p.saveDate).getTime()-new Date(w.saveDate).getTime()),a(x)},h.onerror=()=>{c(h.error)}})}catch{return[]}})}deleteGame(t){return y(this,null,function*(){try{let e=yield this.ensureDB();return new Promise((a,c)=>{let P=e.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);P.onsuccess=()=>{a()},P.onerror=()=>{c(P.error)}})}catch(e){throw e}})}clearAllGames(){return y(this,null,function*(){try{let t=yield this.ensureDB();return new Promise((e,a)=>{let m=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();m.onsuccess=()=>{e()},m.onerror=()=>{a(m.error)}})}catch(t){throw t}})}migrateFromLocalStorage(){return y(this,null,function*(){try{let t=0,e=Object.keys(localStorage);for(let a of e)if(a.startsWith("novel_game_"))try{let c=localStorage.getItem(a);if(c){let s=JSON.parse(c);yield this.saveGame(s),t++}}catch{}return t}catch{return 0}})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var qe=class r{constructor(){}seededRandom(t){let e=t;return()=>(e=(e*1664525+1013904223)%4294967296,e/4294967296)}generateDungeon(t,e,a){let c=`dungeon_${Date.now()}`,s=Math.random(),m=this.seededRandom(s*1e6),P={easy:.75,normal:1,hard:1.25,hell:1.5}[e],h=Math.floor(t.baseFloors*P),x={id:c,dungeonTypeId:t.id,difficulty:e,seed:s,storyContext:t.storyDescription,totalFloors:h,currentFloor:0,floors:[],status:"active",startTime:new Date,elapsedTime:0,stats:{roomsExplored:0,monstersKilled:0,elitesKilled:0,bossKilled:!1,treasuresFound:0,deathCount:0},accumulatedRewards:{gold:0,experience:0,items:[]},playerSnapshot:{hp:0,mp:0,level:a}};for(let w=1;w<=h;w++){let p=this.generateFloor(w,h,t,e,m);x.floors.push(p)}return x}generateFloor(t,e,a,c,s){let m=t===e,P=5,h=Math.floor(t/2),x=Math.floor(s()*3),w=P+h+x,p=[],E=this.createRoom("entrance",t,a,c,s);p.push(E);for(let I=0;I<w-2;I++){let K=this.selectRandomRoomType(m,s),z=this.createRoom(K,t,a,c,s);p.push(z)}if(m){let I=this.createRoom("boss",t,a,c,s);p.push(I)}else{let I=this.createRoom("exit",t,a,c,s);p.push(I)}return this.connectRooms(p,s),{floorNumber:t,rooms:p,entranceRoomId:p[0].id,exitRoomId:m?void 0:p[p.length-1].id,bossRoomId:m?p[p.length-1].id:void 0,isCleared:!1,generatedAt:new Date}}createRoom(t,e,a,c,s){let m=`room_${Date.now()}_${s()}`,P=s(),h;P<.3?h="small":P<.8?h="medium":h="large";let x={id:m,type:t,size:h,description:this.getRoomDescription(t,a.theme,s),monsters:[],isCleared:["entrance","exit","treasure","shrine","shop","safe"].includes(t),interactables:[],connectedRoomIds:[],isExplored:t==="entrance",isCurrentRoom:!1};return["normal","elite","boss"].includes(t)&&(x.monsters=this.spawnMonsters(t,e,a,c,h,s)),t==="treasure"?x.interactables.push(this.createTreasureChest(e,c,s)):t==="shrine"&&x.interactables.push(this.createShrine(s)),x}connectRooms(t,e){for(let a=0;a<t.length-1;a++)t[a].connectedRoomIds.push(t[a+1].id),t[a+1].connectedRoomIds.push(t[a].id);for(let a=1;a<t.length-2;a++)if(e()<.3){let c=a+2;c<t.length&&!t[a].connectedRoomIds.includes(t[c].id)&&(t[a].connectedRoomIds.push(t[c].id),t[c].connectedRoomIds.push(t[a].id))}}selectRandomRoomType(t,e){if(t){let c=["normal","elite","treasure","shrine"];return c[Math.floor(e()*c.length)]}let a=e();return a<.45?"normal":a<.65?"elite":a<.8?"treasure":a<.92?"shrine":a<.97?"shop":"event"}getRoomDescription(t,e,a){let s={entrance:{undead:["\uC881\uC740 \uD1B5\uB85C. \uBCBD\uC5D0 \uC624\uB798\uB41C \uD683\uBD88\uC774 \uCF1C\uC838\uC788\uB2E4.","\uC785\uAD6C\uC5D0\uC11C \uCC28\uAC00\uC6B4 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C4\uB2E4.","\uBB18\uC9C0\uC758 \uC785\uAD6C. \uBE44\uC11D\uB4E4\uC774 \uB298\uC5B4\uC11C \uC788\uB2E4."],demon:["\uBD89\uAC8C \uD0C0\uC624\uB974\uB294 \uC785\uAD6C. \uC720\uD669 \uB0C4\uC0C8\uAC00 \uC9C4\uB3D9\uD55C\uB2E4.","\uB9C8\uC871\uC758 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C0\uB294 \uB3D9\uAD74 \uC785\uAD6C.","\uC6A9\uC554\uC774 \uD750\uB974\uB294 \uB3D9\uAD74 \uC785\uAD6C. \uC5F4\uAE30\uAC00 \uC555\uB3C4\uC801\uC774\uB2E4."],ancient:["\uAC70\uB300\uD55C \uC11D\uC870 \uBB38. \uACE0\uB300 \uBB38\uC790\uAC00 \uC0C8\uACA8\uC838 \uC788\uB2E4.","\uC6C5\uC7A5\uD55C \uC785\uAD6C. \uC138\uC6D4\uC758 \uD754\uC801\uC774 \uC5ED\uB825\uD558\uB2E4.","\uC0AC\uB9C9 \uBAA8\uB798\uC5D0 \uBC18\uCBE4 \uBB3B\uD78C \uC720\uC801\uC758 \uC785\uAD6C."],beast:["\uC232 \uC18D \uB3D9\uAD74. \uC57C\uC218\uC758 \uC6B8\uC74C\uC18C\uB9AC\uAC00 \uB4E4\uB9B0\uB2E4.","\uB369\uAD74\uB85C \uB4A4\uB36E\uC778 \uB3D9\uAD74 \uC785\uAD6C.","\uB3D9\uBB3C \uBF08\uAC00 \uD769\uC5B4\uC9C4 \uB3D9\uAD74 \uC785\uAD6C."],magic:["\uB9C8\uBC95\uC9C4\uC774 \uADF8\uB824\uC9C4 \uC785\uAD6C. \uB9C8\uB825\uC774 \uAC10\uC9C0\uB41C\uB2E4.","\uC2E0\uBE44\uB85C\uC6B4 \uBE5B\uC774 \uC0C8\uC5B4\uB098\uC624\uB294 \uD3EC\uD138.","\uB5A0\uB2E4\uB2C8\uB294 \uB8EC \uBB38\uC790\uB4E4\uC774 \uBCF4\uC778\uB2E4."],nature:["\uC774\uB07C\uB85C \uB4A4\uB36E\uC778 \uC790\uC5F0 \uB3D9\uAD74.","\uC9C0\uD558 \uC232\uC758 \uC785\uAD6C. \uBC84\uC12F\uC774 \uBC1C\uAD11\uD558\uACE0 \uC788\uB2E4.","\uBB3C\uC774 \uD750\uB974\uB294 \uC790\uC5F0 \uB3D9\uAD74 \uC785\uAD6C."]},normal:{undead:["\uAD00\uC774 \uB298\uC5B4\uC120 \uBC29. \uBB34\uC5B8\uAC00 \uC6C0\uC9C1\uC774\uB294 \uC18C\uB9AC\uAC00 \uB4E4\uB9B0\uB2E4.","\uC5B4\uB450\uC6B4 \uBC29. \uBF08\uB2E4\uADC0\uAC00 \uBC14\uB2E5\uC5D0 \uD769\uC5B4\uC838 \uC788\uB2E4.","\uBB18\uC2E4. \uBCBD\uBA74\uC5D0 \uD574\uACE8\uC774 \uC7A5\uC2DD\uB418\uC5B4 \uC788\uB2E4.","\uC881\uC740 \uBCF5\uB3C4. \uAC70\uBBF8\uC904\uC774 \uACF3\uACF3\uC5D0 \uCCD0\uC838\uC788\uB2E4."],demon:["\uBD89\uC740 \uBE5B\uC774 \uAC10\uB3C4\uB294 \uBC29. \uC5F4\uAE30\uAC00 \uB290\uAEF4\uC9C4\uB2E4.","\uC6A9\uC554\uC774 \uD750\uB974\uB294 \uBC29. \uB9C8\uC871\uC758 \uC6B8\uC74C\uC18C\uB9AC\uAC00 \uB4E4\uB9B0\uB2E4.","\uD654\uC5FC\uC5D0 \uADF8\uC744\uB9B0 \uBC29. \uC720\uD669 \uB0C4\uC0C8\uAC00 \uB3C5\uD558\uB2E4.","\uC545\uB9C8\uC758 \uBB38\uC591\uC774 \uC0C8\uACA8\uC9C4 \uBC29."],ancient:["\uBA3C\uC9C0\uAC00 \uC313\uC778 \uBC29. \uACE0\uB300 \uC720\uBB3C\uB4E4\uC774 \uB193\uC5EC\uC788\uB2E4.","\uB113\uC740 \uD640. \uC11D\uC0C1\uB4E4\uC774 \uB3C4\uC5F4\uD574 \uC788\uB2E4.","\uACE0\uB300 \uBB38\uC790\uAC00 \uC0C8\uACA8\uC9C4 \uBCBD\uBA74.","\uBCF4\uC874\uC774 \uC798 \uB41C \uACE0\uB300\uC758 \uBC29."],beast:["\uC57C\uC218\uC758 \uB465\uC9C0. \uBF08\uC640 \uAC00\uC8FD\uC774 \uD769\uC5B4\uC838 \uC788\uB2E4.","\uC881\uC740 \uAD74. \uAE01\uD78C \uC790\uAD6D\uC774 \uBCF4\uC778\uB2E4.","\uC5B4\uB450\uC6B4 \uBC29. \uC73C\uB974\uB801\uAC70\uB9AC\uB294 \uC18C\uB9AC\uAC00 \uB4E4\uB9B0\uB2E4.","\uD138\uACFC \uBC1C\uD1B1 \uC790\uAD6D\uC774 \uAC00\uB4DD\uD55C \uBC29."],magic:["\uB9C8\uBC95\uC9C4\uC774 \uADF8\uB824\uC9C4 \uBC29. \uB9C8\uB825\uC774 \uD750\uB978\uB2E4.","\uB5A0\uB2E4\uB2C8\uB294 \uC218\uC815\uB4E4. \uC2E0\uBE44\uB85C\uC6B4 \uAE30\uC6B4.","\uB9C8\uBC95 \uC2E4\uD5D8\uC2E4\uC758 \uD754\uC801. \uB9C8\uB098\uAC00 \uCDA9\uB9CC\uD558\uB2E4.","\uCC28\uC6D0\uC774 \uC65C\uACE1\uB41C \uBC29. \uD604\uC2E4\uAC10\uC774 \uD76C\uBBF8\uD558\uB2E4."],nature:["\uC774\uB07C\uC640 \uBC84\uC12F\uC73C\uB85C \uB4A4\uB36E\uC778 \uBC29.","\uC9C0\uD558 \uC232. \uBC1C\uAD11 \uC2DD\uBB3C\uB4E4\uC774 \uBE5B\uB09C\uB2E4.","\uBB3C\uC6C5\uB369\uC774\uAC00 \uC788\uB294 \uC790\uC5F0 \uB3D9\uAD74.","\uBFCC\uB9AC\uAC00 \uCC9C\uC7A5\uC744 \uB6AB\uACE0 \uC790\uB77C\uACE0 \uC788\uB2E4."]},elite:{undead:["\uAC70\uB300\uD55C \uBB34\uB364. \uAC15\uB825\uD55C \uC5B8\uB370\uB4DC\uC758 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C4\uB2E4.","\uC81C\uB2E8\uC774 \uB193\uC778 \uBC29. \uBD80\uD65C\uC758 \uC758\uC2DD \uD754\uC801\uC774 \uBCF4\uC778\uB2E4.","\uC5D8\uB9AC\uD2B8 \uC5B8\uB370\uB4DC\uC758 \uAC70\uCC98. \uAC80\uC740 \uC624\uB77C\uAC00 \uD750\uB978\uB2E4."],demon:["\uB9C8\uC871 \uB300\uC7A5\uC758 \uBC29. \uBD89\uC740 \uC624\uB77C\uAC00 \uAC15\uB82C\uD558\uB2E4.","\uD654\uC5FC \uC81C\uB2E8. \uAC15\uB825\uD55C \uB9C8\uC871\uC774 \uC9C0\uD0A4\uACE0 \uC788\uB2E4.","\uC9C0\uC625\uC758 \uBB38 \uC55E. \uAC15\uD55C \uC545\uB9C8\uC758 \uAE30\uC6B4."],ancient:["\uC218\uD638\uC790\uC758 \uBC29. \uAC70\uB300\uD55C \uACE8\uB818\uC774 \uC11C\uC788\uB2E4.","\uBD09\uC778\uB41C \uBC29. \uAC15\uB825\uD55C \uB9C8\uBC95\uC774 \uAC10\uC9C0\uB41C\uB2E4.","\uACE0\uB300 \uC804\uC0AC\uC758 \uBB34\uB364. \uAC11\uC637\uC774 \uC6C0\uC9C1\uC778\uB2E4."],beast:["\uC54C\uD30C\uC758 \uB465\uC9C0. \uAC15\uD55C \uC57C\uC218\uC758 \uAE30\uC6B4.","\uAC70\uB300\uD55C \uB3D9\uBB3C\uC758 \uAC70\uCC98. \uC704\uC555\uAC10\uC774 \uB290\uAEF4\uC9C4\uB2E4.","\uBB34\uB9AC\uC758 \uC6B0\uB450\uBA38\uB9AC\uAC00 \uC9C0\uD0A4\uB294 \uBC29."],magic:["\uB300\uB9C8\uBC95\uC0AC\uC758 \uBC29. \uB9C8\uB825\uC774 \uD3ED\uBC1C\uC801\uC774\uB2E4.","\uAC15\uB825\uD55C \uB9C8\uBC95 \uC0DD\uBB3C\uC774 \uBD09\uC778\uB418\uC5B4 \uC788\uB2E4.","\uCC28\uC6D0 \uADE0\uC5F4. \uAC15\uB825\uD55C \uC874\uC7AC\uAC00 \uB290\uAEF4\uC9C4\uB2E4."],nature:["\uACE0\uB300 \uB098\uBB34\uC758 \uC218\uD638\uC790. \uC790\uC5F0\uC758 \uD798\uC774 \uAC15\uD558\uB2E4.","\uAC70\uB300 \uC2DD\uBB3C \uAD34\uBB3C\uC758 \uB465\uC9C0.","\uC790\uC5F0\uC758 \uC815\uB839\uC774 \uC9C0\uD0A4\uB294 \uC131\uC5ED."]},boss:{undead:["\uAC70\uB300\uD55C \uC11D\uAD00. \uB9AC\uCE58\uC758 \uAE30\uC6B4\uC774 \uC555\uB3C4\uC801\uC774\uB2E4.","\uB9DD\uC790\uC758 \uC655\uC88C. \uD574\uACE8 \uC655\uC774 \uC549\uC544\uC788\uB2E4.","\uC5B8\uB370\uB4DC \uAD70\uC8FC\uC758 \uBC29. \uC8FD\uC74C\uC758 \uAE30\uC6B4\uC774 \uCDA9\uB9CC\uD558\uB2E4."],demon:["\uB9C8\uC655\uC758 \uC625\uC88C. \uD654\uC5FC\uC774 \uC18C\uC6A9\uB3CC\uC774\uCE5C\uB2E4.","\uC9C0\uC625\uC758 \uBB38 \uC55E. \uB370\uBAAC \uB85C\uB4DC\uAC00 \uAE30\uB2E4\uB9B0\uB2E4.","\uC545\uB9C8\uC758 \uC131\uC18C. \uC555\uB3C4\uC801\uC778 \uC545\uC758\uAC00 \uB290\uAEF4\uC9C4\uB2E4."],ancient:["\uD0C0\uC774\uD0C4\uC758 \uBC29. \uAC70\uB300\uD55C \uC11D\uC0C1\uC774 \uC6C0\uC9C1\uC778\uB2E4.","\uACE0\uB300 \uC655\uC758 \uBB34\uB364. \uC655\uC758 \uC601\uD63C\uC774 \uAE68\uC5B4\uB0AC\uB2E4.","\uC720\uC801\uC758 \uD575\uC2EC\uBD80. \uCD5C\uC885 \uC218\uD638\uC790\uAC00 \uC788\uB2E4."],beast:["\uC804\uC124\uC758 \uC57C\uC218. \uBAA8\uB4E0 \uC9D0\uC2B9\uC758 \uC655.","\uAC70\uB300\uD55C \uB3D9\uAD74 \uC655\uAD6D\uC758 \uAD70\uC8FC.","\uACE0\uB300 \uB9F9\uC218\uC758 \uAC70\uCC98."],magic:["\uB300\uB9C8\uBC95\uC0AC\uC758 \uD0D1 \uAF2D\uB300\uAE30.","\uCC28\uC6D0\uC758 \uC9C0\uBC30\uC790. \uD604\uC2E4\uC774 \uC65C\uACE1\uB41C\uB2E4.","\uB9C8\uBC95\uC758 \uD654\uC2E0. \uC21C\uC218\uD55C \uB9C8\uB825\uC758 \uC874\uC7AC."],nature:["\uACE0\uB300 \uC218\uD638\uB839. \uC790\uC5F0\uC758 \uD654\uC2E0.","\uC138\uACC4\uC218\uC758 \uC218\uD638\uC790.","\uC6D0\uC2DC\uB9BC\uC758 \uC9C0\uBC30\uC790."]},treasure:{undead:["\uBA3C\uC9C0 \uC313\uC778 \uBCF4\uBB3C \uC0C1\uC790.","\uBE44\uBC00 \uBB34\uB364 \uC18D \uBCF4\uBB3C.","\uD669\uAE08\uC73C\uB85C \uB41C \uC11D\uAD00."],demon:["\uD654\uC5FC\uC5D0 \uB458\uB7EC\uC2F8\uC778 \uBCF4\uBB3C \uC0C1\uC790.","\uB9C8\uC871\uC758 \uC804\uB9AC\uD488.","\uC9C0\uC625\uC758 \uBCF4\uBB3C\uACE0."],ancient:["\uBD09\uC778\uB41C \uBCF4\uBB3C \uC0C1\uC790. \uB8EC \uBB38\uC790\uAC00 \uC0C8\uACA8\uC838 \uC788\uB2E4.","\uACE0\uB300\uC758 \uBCF4\uBB3C \uCC3D\uACE0.","\uC655\uC2E4\uC758 \uBCF4\uBB3C."],beast:["\uC57C\uC218\uAC00 \uBAA8\uC740 \uBCF4\uBB3C.","\uBE5B\uB098\uB294 \uB3CC\uC774 \uAC00\uB4DD\uD55C \uB465\uC9C0.","\uC9D0\uC2B9\uC758 \uBCF4\uBB3C\uACE0."],magic:["\uB9C8\uBC95\uC73C\uB85C \uBCF4\uD638\uB41C \uC0C1\uC790.","\uCC28\uC6D0 \uC8FC\uBA38\uB2C8.","\uBB34\uD55C \uBCF4\uBB3C \uC0C1\uC790."],nature:["\uC790\uC5F0\uC758 \uC120\uBB3C. \uBE5B\uB098\uB294 \uC5F4\uB9E4.","\uD06C\uB9AC\uC2A4\uD0C8 \uB3D9\uAD74.","\uBCF4\uC11D\uB098\uBB34."]},shrine:{undead:["\uC8FD\uC74C\uC758 \uC131\uC18C. \uCC28\uAC00\uC6B4 \uAE30\uC6B4.","\uB9DD\uC790\uC758 \uC81C\uB2E8.","\uC601\uD63C\uC758 \uC0D8."],demon:["\uC9C0\uC625\uBD88 \uC131\uC18C.","\uC545\uB9C8\uC758 \uC81C\uB2E8. \uD798\uC774 \uC19F\uB294\uB2E4.","\uB9C8\uB825\uC758 \uC0D8."],ancient:["\uACE0\uB300\uC758 \uC131\uC18C. \uC2E0\uC131\uD55C \uAE30\uC6B4.","\uB9C8\uB098\uC758 \uC0D8.","\uCD95\uBCF5\uC758 \uC81C\uB2E8."],beast:["\uC57C\uC0DD\uC758 \uC131\uC18C.","\uC815\uB839\uC758 \uC0D8.","\uC790\uC5F0\uC758 \uC81C\uB2E8."],magic:["\uB9C8\uB825 \uCDA9\uC804\uC18C.","\uB8EC \uC81C\uB2E8.","\uB9C8\uBC95\uC9C4 \uC131\uC18C."],nature:["\uC0DD\uBA85\uC758 \uC0D8.","\uCE58\uC720\uC758 \uB098\uBB34.","\uC790\uC5F0\uC758 \uCD95\uBCF5."]}}[t]?.[e]||["\uD3C9\uBC94\uD55C \uBC29."];return s[Math.floor(a()*s.length)]}spawnMonsters(t,e,a,c,s,m){let P=[],h=e*2,w={easy:.7,normal:1,hard:1.3,hell:1.6}[c]||1,E={small:.75,medium:1,large:1.5}[s]||1;if(t==="normal"){let B=Math.floor((2+m()*3)*E);for(let I=0;I<B;I++)P.push(this.createMonster("normal",h,a,w,m))}else if(t==="elite"){let B=Math.floor((1+m()*2)*E);for(let I=0;I<B;I++)P.push(this.createMonster("elite",h+3,a,w,m))}else t==="boss"&&P.push(this.createMonster("boss",h+7,a,w,m));return P}createMonster(t,e,a,c,s){let m=`monster_${Date.now()}_${s()}`,P=50+e*25,h=8+e*4,x=3+e*2,w={normal:1,elite:2.5,boss:6}[t],p=.85+s()*.3,E={id:m,name:this.getMonsterName(t,a,s),type:t,level:e,hp:Math.floor(P*w*c*p),maxHp:Math.floor(P*w*c*p),attack:Math.floor(h*w*c*p),defense:Math.floor(x*w*c*p),dropTable:{goldMin:Math.floor(10*e*w),goldMax:Math.floor(25*e*w),itemDropChance:t==="boss"?1:t==="elite"?.6:.25,itemRarity:t==="boss"?"legendary":t==="elite"?"rare":"common"},isDead:!1};if(t==="elite"||t==="boss"){let B=t==="boss"?3:2;E.eliteAffixes=this.generateEliteAffixes(B,s),E.eliteAffixes.forEach(I=>{this.applyEliteAffix(E,I)})}return E}getMonsterName(t,e,a){let c={normal:{undead:["\uC880\uBE44","\uC2A4\uCF08\uB808\uD1A4","\uC720\uB839","\uAD6C\uC6B8","\uC6CC\uCEE4","\uD574\uACE8\uBCD1\uC0AC"],demon:["\uC784\uD504","\uD5EC\uD558\uC6B4\uB4DC","\uB9C8\uC871 \uC804\uC0AC","\uC791\uC740 \uC545\uB9C8","\uD654\uC5FC \uC815\uB839","\uB9C8\uC871 \uC815\uCC30\uBCD1"],ancient:["\uACE8\uB818","\uC6C0\uC9C1\uC774\uB294 \uAC11\uC637","\uACE0\uB300 \uC218\uD638\uC790","\uC11D\uC0C1","\uB9C8\uBC95 \uC778\uD615","\uACE0\uB300 \uC804\uC0AC"],beast:["\uB291\uB300","\uACF0","\uBA67\uB3FC\uC9C0","\uAC70\uB300 \uAC70\uBBF8","\uB3C5\uC0AC","\uBC15\uC950 \uB5BC"],magic:["\uB9C8\uBC95 \uC2AC\uB77C\uC784","\uC6D0\uC18C \uC815\uB839","\uB9C8\uB098 \uB4DC\uB808\uC778","\uB5A0\uB2E4\uB2C8\uB294 \uB208","\uB9C8\uBC95 \uAD6C\uCCB4","\uD658\uC601"],nature:["\uAC70\uB300 \uBC84\uC12F","\uC2DD\uC778 \uC2DD\uBB3C","\uB369\uAD74 \uAD34\uBB3C","\uB3CC\uC9C4 \uB098\uBB34","\uD3EC\uC790 \uAD34\uBB3C","\uB098\uBB34 \uC815\uB839"]},elite:{undead:["\uAC15\uD654\uB41C \uC880\uBE44","\uACE0\uC704 \uC2A4\uCF08\uB808\uD1A4","\uC6D0\uD55C\uC758 \uC720\uB839","\uB9AC\uCE58 \uC218\uC2B5\uC0DD","\uC8FD\uC74C\uC758 \uAE30\uC0AC","\uC800\uC8FC\uBC1B\uC740 \uC804\uC0AC"],demon:["\uC0C1\uAE09 \uC784\uD504","\uC9C0\uC625\uC758 \uC0AC\uB0E5\uAC1C","\uB9C8\uC871 \uB300\uC7A5","\uD654\uC5FC \uAD70\uC8FC","\uC5B4\uB460\uC758 \uB9C8\uBC95\uC0AC","\uC545\uB9C8 \uAD70\uB2E8\uC7A5"],ancient:["\uACE0\uB300 \uACE8\uB818","\uB9C8\uBC95 \uAC11\uC637","\uC218\uD638\uC790 \uB300\uC7A5","\uD0C0\uC774\uD0C4\uC758 \uD30C\uD3B8","\uACE0\uB300 \uB9C8\uBC95\uC0AC","\uBD09\uC778\uB41C \uC804\uC0AC"],beast:["\uC54C\uD30C \uB291\uB300","\uAD11\uD3EC\uD55C \uACF0","\uAC70\uB300 \uB9F9\uC218","\uC5EC\uC655 \uAC70\uBBF8","\uC655\uBC40","\uACE0\uB300 \uC9D0\uC2B9"],magic:["\uC0C1\uAE09 \uC815\uB839","\uB9C8\uBC95 \uC9C0\uBC30\uC790","\uCC28\uC6D0 \uD30C\uC218\uAFBC","\uB9C8\uB098 \uAD70\uC8FC","\uD658\uC601 \uB9C8\uC2A4\uD130","\uACF5\uAC04 \uC65C\uACE1\uC790"],nature:["\uACE0\uB300 \uC218\uD638\uBAA9","\uC790\uC5F0\uC758 \uBCF5\uC218\uC790","\uAC70\uB300 \uD3EC\uC2DD\uC790","\uC815\uB839 \uAD70\uC8FC","\uC138\uACC4\uC218 \uAC00\uC9C0","\uC790\uC5F0\uC758 \uBD84\uB178"]},boss:{undead:["\uB9AC\uCE58","\uD574\uACE8 \uC655","\uB9DD\uB839\uC758 \uAD70\uC8FC","\uC8FD\uC74C\uC758 \uD654\uC2E0","\uC5B8\uB370\uB4DC \uB85C\uB4DC","\uB9DD\uC790\uC758 \uC655"],demon:["\uB9C8\uC655","\uC9C0\uC625\uC758 \uAD70\uC8FC","\uB370\uBAAC \uB85C\uB4DC","\uD654\uC5FC\uC758 \uAD70\uC8FC","\uC545\uB9C8 \uB300\uC655","\uC2EC\uC5F0\uC758 \uC9C0\uBC30\uC790"],ancient:["\uD0C0\uC774\uD0C4","\uACE0\uB300 \uC655","\uC720\uC801\uC758 \uC218\uD638\uC2E0","\uCD5C\uD6C4\uC758 \uC218\uD638\uC790","\uACE0\uB300 \uD669\uC81C","\uBD09\uC778\uB41C \uC2E0"],beast:["\uC9D0\uC2B9\uC758 \uC655","\uD0DC\uACE0\uC758 \uB9F9\uC218","\uC57C\uC218 \uAD70\uC8FC","\uC6D0\uC2DC\uC758 \uD3EC\uC2DD\uC790","\uB9CC\uBB3C\uC758 \uC0AC\uB0E5\uAFBC","\uACE0\uB300 \uC6A9"],magic:["\uB300\uB9C8\uBC95\uC0AC","\uCC28\uC6D0 \uC9C0\uBC30\uC790","\uB9C8\uBC95\uC758 \uD654\uC2E0","\uB9C8\uB098\uC758 \uAD70\uC8FC","\uACF5\uAC04\uC758 \uC9C0\uBC30\uC790","\uD604\uC2E4 \uC65C\uACE1\uC790"],nature:["\uC138\uACC4\uC218 \uC218\uD638\uC790","\uC790\uC5F0\uC758 \uD654\uC2E0","\uC6D0\uC2DC\uB9BC \uAD70\uC8FC","\uB300\uC9C0\uC758 \uBD84\uB178","\uC0DD\uBA85\uC758 \uC9C0\uBC30\uC790","\uC790\uC5F0 \uADF8 \uC790\uCCB4"]}},s=e.theme||"undead",m=c[t][s]||["\uC54C \uC218 \uC5C6\uB294 \uBAAC\uC2A4\uD130"];return m[Math.floor(a()*m.length)]}generateEliteAffixes(t,e){let a=["\uAC15\uD654","\uC7AC\uC0DD","\uD654\uC5FC","\uB0C9\uAE30","\uB3C5","\uBC88\uAC1C","\uD761\uD608","\uBC18\uC0AC","\uC2E0\uC18D","\uACAC\uACE0","\uAD11\uD3ED\uD654","\uBD84\uC5F4","\uC21C\uAC04\uC774\uB3D9","\uB9C8\uBC95\uC800\uD56D","\uBB3C\uB9AC\uC800\uD56D"],c=[],s=[...a].sort(()=>e()-.5);for(let m=0;m<t&&m<s.length;m++)c.push(s[m]);return c}applyEliteAffix(t,e){switch(e){case"\uAC15\uD654":t.hp=Math.floor(t.hp*1.5),t.maxHp=Math.floor(t.maxHp*1.5);break;case"\uACAC\uACE0":t.defense=Math.floor(t.defense*1.5);break;case"\uC2E0\uC18D":t.attack=Math.floor(t.attack*1.3);break;case"\uD654\uC5FC":case"\uB0C9\uAE30":case"\uB3C5":case"\uBC88\uAC1C":t.attack=Math.floor(t.attack*1.2);break}}createTreasureChest(t,e,a){let s={easy:.75,normal:1,hard:1.5,hell:2}[e]||1;return{id:`chest_${Date.now()}_${a()}`,type:"chest",name:"\uBCF4\uBB3C \uC0C1\uC790",description:"\uBC18\uC9DD\uC774\uB294 \uBCF4\uBB3C \uC0C1\uC790. \uADC0\uC911\uD55C \uC544\uC774\uD15C\uC774 \uB4E4\uC5B4\uC788\uC744 \uAC83 \uAC19\uB2E4.",isLocked:a()<.2,lockDifficulty:Math.floor(t*s),lootGold:Math.floor((100+a()*200)*t*s),lootItems:[],isUsed:!1}}createShrine(t){let e=[{type:"health",name:"\uC0DD\uBA85\uC758 \uC131\uC18C",value:50,duration:30,description:"\uCD5C\uB300 HP\uAC00 50% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"mana",name:"\uB9C8\uB098\uC758 \uC131\uC18C",value:30,duration:30,description:"\uCD5C\uB300 MP\uAC00 30% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"damage",name:"\uD798\uC758 \uC131\uC18C",value:25,duration:15,description:"\uACF5\uACA9\uB825\uC774 25% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"defense",name:"\uBCF4\uD638\uC758 \uC131\uC18C",value:20,duration:15,description:"\uBC29\uC5B4\uB825\uC774 20% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"experience",name:"\uC9C0\uD61C\uC758 \uC131\uC18C",value:100,duration:10,description:"\uD68D\uB4DD \uACBD\uD5D8\uCE58\uAC00 100% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"gold",name:"\uBD80\uC758 \uC131\uC18C",value:50,duration:10,description:"\uD68D\uB4DD \uACE8\uB4DC\uAC00 50% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"speed",name:"\uC2E0\uC18D\uC758 \uC131\uC18C",value:30,duration:20,description:"\uC774\uB3D9 \uC18D\uB3C4\uAC00 30% \uC99D\uAC00\uD569\uB2C8\uB2E4."},{type:"luck",name:"\uD589\uC6B4\uC758 \uC131\uC18C",value:20,duration:20,description:"\uC544\uC774\uD15C \uB4DC\uB86D\uB960\uC774 20% \uC99D\uAC00\uD569\uB2C8\uB2E4."}],a=e[Math.floor(t()*e.length)];return{id:`shrine_${Date.now()}_${t()}`,type:"shrine",name:a.name,description:a.description,shrineEffect:{type:a.type,value:a.value,duration:a.duration},isUsed:!1}}getDifficultyRewardMultiplier(t){return{easy:.75,normal:1,hard:1.5,hell:2.5}[t]||1}getFloorDangerLevel(t,e){return 1+t/e*2}getRoomTypeWeights(t,e){let a=t/e;return{normal:.45,elite:.15+a*.15,treasure:.15,shrine:.12,shop:.08,event:.05,safe:Math.max(.05-a*.05,0)}}static \u0275fac=function(e){return new(e||r)};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};function dn(r,t){if(r&1&&(n(0,"div",20)(1,"div",21)(2,"h3"),i(3),o(),n(4,"span",22),i(5),o()(),n(6,"p",23),i(7),o()()),r&2){let e=d(2);l(3),D("",e.getRoomTypeIcon(e.currentRoom.type)," ",e.getRoomTypeKorean(e.currentRoom.type)),l(),v("cleared",e.currentRoom.isCleared),l(),M(" ",e.currentRoom.isCleared?"\u2705 \uD074\uB9AC\uC5B4":"\u2694\uFE0F \uC804\uD22C \uC911"," "),l(2),C(e.currentRoom.description)}}function gn(r,t){if(r&1&&(n(0,"div",49)(1,"span",50),i(2,"\u2694\uFE0F"),o(),n(3,"span",51),i(4),o()()),r&2){let e=d(4);l(4),C(e.playerEquipment.weapon.name)}}function pn(r,t){if(r&1&&(n(0,"div",49)(1,"span",50),i(2,"\u{1F6E1}\uFE0F"),o(),n(3,"span",51),i(4),o()()),r&2){let e=d(4);l(4),C(e.playerEquipment.armor.name)}}function mn(r,t){if(r&1&&(n(0,"div",49)(1,"span",50),i(2,"\u{1F48D}"),o(),n(3,"span",51),i(4),o()()),r&2){let e=d(4);l(4),C(e.playerEquipment.accessory.name)}}function _n(r,t){if(r&1&&(n(0,"div",47),f(1,gn,5,1,"div",48)(2,pn,5,1,"div",48)(3,mn,5,1,"div",48),o()),r&2){let e=d(3);l(),g("ngIf",e.playerEquipment.weapon),l(),g("ngIf",e.playerEquipment.armor),l(),g("ngIf",e.playerEquipment.accessory)}}function un(r,t){if(r&1&&(n(0,"div",54)(1,"span",55),i(2,"\u2728"),o(),n(3,"span",56),i(4),o()()),r&2){let e=t.$implicit;g("title",e.description),l(4),C(e.name)}}function Cn(r,t){if(r&1&&(n(0,"div",52),f(1,un,5,2,"div",53),W(2,"slice"),o()),r&2){let e=d(3);l(),g("ngForOf",ct(2,1,e.playerSkills,0,3))}}function fn(r,t){if(r&1&&(n(0,"div",59),i(1),o()),r&2){let e=t.$implicit;l(),M(" ",e," ")}}function bn(r,t){if(r&1&&(n(0,"div",57),f(1,fn,2,1,"div",58),W(2,"slice"),o()),r&2){let e=d(3);l(),g("ngForOf",at(2,1,e.battleLog,-3))}}function Pn(r,t){if(r&1&&(n(0,"span",70),i(1),o()),r&2){let e=t.$implicit;l(),M(" ",e," ")}}function Mn(r,t){if(r&1&&(n(0,"div",68),f(1,Pn,2,1,"span",69),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.eliteAffixes)}}function hn(r,t){r&1&&(n(0,"div",71),i(1," \u{1F3AF} "),o())}function xn(r,t){if(r&1){let e=O();n(0,"div",60),b("click",function(){let c=_(e).index,s=d(3);return u(s.selectMonster(c))}),n(1,"div",61)(2,"div",62),i(3),o(),n(4,"div",63),i(5),o(),n(6,"div",64),i(7),o(),f(8,Mn,2,1,"div",65),o(),n(9,"div",66)(10,"div",32),k(11,"div",33),n(12,"span",34),i(13),o()()(),n(14,"div",35)(15,"span",36),i(16),o(),n(17,"span",36),i(18),o()(),f(19,hn,2,0,"div",67),o()}if(r&2){let e=t.$implicit,a=t.index,c=d(3);v("attacking",c.isMonsterAttacking&&a===c.selectedMonsterIndex)("damaged",c.monsterDamagedStates[a])("dead",e.isDead)("selected",a===c.selectedMonsterIndex&&!e.isDead),l(2),S("color",c.getMonsterTypeColor(e.type)),l(),M(" ",c.getMonsterIcon(e.type)," "),l(),S("color",c.getMonsterTypeColor(e.type)),l(),M(" ",e.name," "),l(2),M("Lv.",e.level),l(),g("ngIf",e.eliteAffixes),l(3),S("width",e.hp/e.maxHp*100,"%"),l(2),D("",e.hp," / ",e.maxHp),l(3),M("\u2694\uFE0F ",e.attack),l(2),M("\u{1F6E1}\uFE0F ",e.defense),l(),g("ngIf",a===c.selectedMonsterIndex&&!e.isDead)}}function On(r,t){if(r&1&&(n(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),i(5,"\u{1F9D9}\u200D\u2642\uFE0F"),o(),n(6,"div",29),i(7),o(),n(8,"div",30),i(9),o()(),n(10,"div",31)(11,"div",32),k(12,"div",33),n(13,"span",34),i(14),o()()(),n(15,"div",35)(16,"span",36),i(17),o(),n(18,"span",36),i(19),o()(),f(20,_n,4,3,"div",37)(21,Cn,3,5,"div",38),o(),n(22,"div",39)(23,"div",40),i(24,"\u2694\uFE0F"),o(),f(25,bn,3,4,"div",41),o(),n(26,"div",42),f(27,xn,20,23,"div",43),o()(),n(28,"div",44)(29,"div",45),i(30,"\u{1F916} \uC790\uB3D9 \uC804\uD22C \uC9C4\uD589 \uC911..."),o(),n(31,"div",46),i(32," \uC804\uD22C\uAC00 \uC790\uB3D9\uC73C\uB85C \uC9C4\uD589\uB429\uB2C8\uB2E4 "),o()()()),r&2){let e=d(2);l(2),v("attacking",e.isPlayerAttacking)("damaged",e.isPlayerDamaged),l(5),C(e.playerName||"\uD50C\uB808\uC774\uC5B4"),l(2),M("Lv.",e.playerLevel),l(3),S("width",e.playerHp/e.playerMaxHp*100,"%"),l(2),D("",e.playerHp," / ",e.playerMaxHp),l(3),M("\u2694\uFE0F ",e.playerAttackPower),l(2),M("\u{1F6E1}\uFE0F ",e.playerDefensePower),l(),g("ngIf",e.playerEquipment),l(),g("ngIf",e.playerSkills&&e.playerSkills.length>0),l(4),g("ngIf",e.battleLog.length>0),l(2),g("ngForOf",e.battleMonsters)}}function vn(r,t){if(r&1&&(n(0,"div",89)(1,"div",90),i(2,"\u{1F381}"),o(),n(3,"div",91),i(4),o(),n(5,"div",92),i(6),o()()),r&2){let e=t.$implicit;q("rarity-"+e.rarity),l(4),C(e.name),l(2),C(e.rarity)}}function yn(r,t){if(r&1&&(n(0,"div",85)(1,"div",86),i(2,"\uD68D\uB4DD \uC544\uC774\uD15C"),o(),n(3,"div",87),f(4,vn,7,4,"div",88),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.battleRewards.items)}}function wn(r,t){r&1&&(n(0,"div",93)(1,"span",94),i(2,"\uC544\uC774\uD15C \uD68D\uB4DD \uC5C6\uC74C"),o()())}function kn(r,t){if(r&1){let e=O();n(0,"div",72)(1,"div",73)(2,"h2",74),i(3,"\u{1F389} \uC804\uD22C \uC2B9\uB9AC!"),o(),n(4,"div",75)(5,"div",76)(6,"div",77),i(7,"\u2B50"),o(),n(8,"div",78)(9,"div",79),i(10,"\uACBD\uD5D8\uCE58"),o(),n(11,"div",80),i(12),o()()(),n(13,"div",81)(14,"div",77),i(15,"\u{1F4B0}"),o(),n(16,"div",78)(17,"div",79),i(18,"\uACE8\uB4DC"),o(),n(19,"div",80),i(20),o()()(),f(21,yn,5,1,"div",82)(22,wn,3,0,"div",83),o(),n(23,"button",84),b("click",function(){_(e);let c=d(2);return u(c.claimRewards())}),i(24," \u2705 \uBCF4\uC0C1 \uBC1B\uAE30 "),o()()()}if(r&2){let e=d(2);l(12),M("+",e.battleRewards.exp," EXP"),l(8),M("+",e.battleRewards.gold," G"),l(),g("ngIf",e.battleRewards.items.length>0),l(),g("ngIf",e.battleRewards.items.length===0)}}function Dn(r,t){if(r&1){let e=O();n(0,"button",101),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.moveToRoom(c.id))}),i(1),o()}if(r&2){let e=t.$implicit,a=d(3);l(),D(" ",a.getRoomTypeIcon(e.type)," ",a.getRoomTypeKorean(e.type)," ")}}function Sn(r,t){if(r&1){let e=O();n(0,"div",102)(1,"button",103),b("click",function(){_(e);let c=d(3);return u(c.moveToNextFloor())}),i(2),o()()}if(r&2){let e=d(3);l(2),M(" \u2B07\uFE0F ",e.dungeon.currentFloor+1,"\uCE35\uC73C\uB85C \uB0B4\uB824\uAC00\uAE30 ")}}function En(r,t){if(r&1&&(n(0,"div",95)(1,"div",96)(2,"h3"),i(3,"\u2705 \uBC29\uC744 \uD074\uB9AC\uC5B4\uD588\uC2B5\uB2C8\uB2E4!"),o(),n(4,"p"),i(5,"\uB2E4\uC74C \uBC29\uC73C\uB85C \uC774\uB3D9\uD558\uAC70\uB098 \uD0D0\uD5D8\uC744 \uACC4\uC18D\uD558\uC138\uC694."),o()(),n(6,"div",97)(7,"h4"),i(8,"\u{1F6AA} \uC774\uB3D9 \uAC00\uB2A5\uD55C \uBC29"),o(),n(9,"div",98),f(10,Dn,2,2,"button",99),o()(),f(11,Sn,3,1,"div",100),o()),r&2){let e=d(2);l(10),g("ngForOf",e.getConnectedRooms()),l(),g("ngIf",e.currentRoom.type==="exit")}}function In(r,t){if(r&1){let e=O();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),i(4),o(),n(5,"span",4),i(6),o()(),n(7,"div",5)(8,"div",6)(9,"label"),i(10,"HP"),o(),n(11,"div",7),k(12,"div",8),n(13,"span",9),i(14),o()()(),n(15,"div",10)(16,"label"),i(17,"MP"),o(),n(18,"div",7),k(19,"div",8),n(20,"span",9),i(21),o()()()(),n(22,"div",11)(23,"span"),i(24),o(),n(25,"span"),i(26),o(),n(27,"span"),i(28),o(),n(29,"span"),i(30),o()()(),n(31,"div",12)(32,"div",13),f(33,dn,8,6,"div",14)(34,On,33,16,"div",15)(35,kn,25,4,"div",16)(36,En,12,2,"div",17),o()(),n(37,"div",18)(38,"button",19),b("click",function(){_(e);let c=d();return u(c.escapeDungeon())}),i(39,"\u{1F6AA} \uB358\uC804 \uD0C8\uCD9C"),o()()()}if(r&2){let e=d();l(4),D("",e.dungeon.dungeonTypeId," - ",e.dungeon.difficulty),l(2),D("",e.dungeon.currentFloor,"\uCE35 / ",e.dungeon.totalFloors,"\uCE35"),l(6),S("width",e.getHpPercent(),"%"),l(2),D("",e.playerHp," / ",e.playerMaxHp),l(5),S("width",e.getMpPercent(),"%"),l(2),D("",e.playerMp," / ",e.playerMaxMp),l(3),M("\u{1F5E1}\uFE0F ",e.dungeon.stats.monstersKilled),l(2),M("\u{1F451} ",e.dungeon.stats.elitesKilled),l(2),M("\u{1F48E} ",e.dungeon.stats.treasuresFound),l(2),D("\u{1F5FA}\uFE0F ",e.getExploredRoomsCount()," / ",e.currentFloorRooms.length),l(3),g("ngIf",e.showRoomInfo),l(),g("ngIf",e.currentBattleMonster&&!e.currentRoom.isCleared),l(),g("ngIf",e.showRewards&&e.battleRewards),l(),g("ngIf",e.currentRoom.isCleared&&!e.currentBattleMonster)}}var Ge=class r{constructor(t){this.snackBar=t}dungeon;currentRoom;playerHp=100;playerMaxHp=100;playerMp=50;playerMaxMp=50;playerName="\uD50C\uB808\uC774\uC5B4";playerLevel=1;playerAttackPower=10;playerDefensePower=5;playerEquipment={};playerSkills=[];roomMove=new ce;monsterAttack=new ce;interactableUse=new ce;dungeonEscape=new ce;floorMove=new ce;rewardsClaimed=new ce;minimapRooms=[];currentFloorRooms=[];showMinimap=!0;showMonsterList=!0;showRoomInfo=!0;currentBattleMonster=null;battleMonsters=[];selectedMonsterIndex=0;isBattleAnimating=!1;isPlayerAttacking=!1;isPlayerDamaged=!1;isMonsterAttacking=!1;isMonsterDamaged=!1;monsterDamagedStates=[];battleLog=[];isDefending=!1;battleRewards=null;showRewards=!1;ngOnInit(){console.log("\u{1F527} DungeonExplorer ngOnInit \uD638\uCD9C\uB428"),console.log("\uCD08\uAE30 dungeon:",this.dungeon),console.log("\uCD08\uAE30 currentRoom:",this.currentRoom),this.updateMinimapData()}ngOnChanges(t){console.log("\u{1F527} DungeonExplorer ngOnChanges \uD638\uCD9C\uB428"),console.log("\uBCC0\uACBD\uC0AC\uD56D:",t),(t.dungeon||t.currentRoom)&&(console.log("\uB358\uC804 \uB610\uB294 \uBC29 \uBCC0\uACBD \uAC10\uC9C0"),console.log("\uC0C8 dungeon:",this.dungeon),console.log("\uC0C8 currentRoom:",this.currentRoom),this.updateMinimapData(),this.updateCurrentFloorRooms(),t.currentRoom&&(console.log(">>> \uBC29 \uBCC0\uACBD\uC73C\uB85C \uC778\uD55C \uC804\uD22C \uCD08\uAE30\uD654 \uC2DC\uC791"),this.initializeBattle()))}initializeBattle(){if(console.log("\u{1F504} ===== \uC804\uD22C \uCD08\uAE30\uD654 \uC2DC\uC791 ====="),console.log("currentRoom:",this.currentRoom),!this.currentRoom){this.currentBattleMonster=null,this.battleMonsters=[],console.log("\u274C \uBC29 \uC815\uBCF4 \uC5C6\uC74C");return}console.log("\u{1F4CA} \uBC29 \uC815\uBCF4 \uC0C1\uC138:",{type:this.currentRoom.type,isCleared:this.currentRoom.isCleared,monsters:this.currentRoom.monsters,monstersCount:this.currentRoom.monsters?.length||0,monstersDetails:this.currentRoom.monsters});let t=this.currentRoom.monsters?.filter(e=>!e.isDead)||[];console.log("\u{1F480} \uC0B4\uC544\uC788\uB294 \uBAAC\uC2A4\uD130:",t.length,t),t.length>0&&!this.currentRoom.isCleared?(this.battleMonsters=[...t],this.selectedMonsterIndex=0,this.currentBattleMonster=this.battleMonsters[0],this.monsterDamagedStates=new Array(this.battleMonsters.length).fill(!1),this.battleLog=[`\u2694\uFE0F ${this.battleMonsters.length}\uB9C8\uB9AC\uC758 \uC801\uACFC \uC804\uD22C \uC2DC\uC791!`],console.log("\u2705 \uC804\uD22C \uBAAC\uC2A4\uD130 \uC124\uC815 \uC644\uB8CC:",this.battleMonsters.length,"\uB9C8\uB9AC"),console.log("\u2694\uFE0F \uC804\uD22C \uC52C\uC774 \uD45C\uC2DC\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4!"),setTimeout(()=>{this.startAutoBattle()},500)):(this.currentBattleMonster=null,this.battleMonsters=[],this.battleLog=[],console.log("\u274C \uC804\uD22C \uBAAC\uC2A4\uD130 \uC5C6\uC74C - \uC774\uC720:",{noAliveMonsters:t.length===0,roomCleared:this.currentRoom.isCleared})),console.log("\u{1F504} ===== \uC804\uD22C \uCD08\uAE30\uD654 \uC644\uB8CC ====="),console.log("battleMonsters:",this.battleMonsters.length,"\uB9C8\uB9AC"),this.isBattleAnimating=!1,this.isPlayerAttacking=!1,this.isPlayerDamaged=!1,this.isMonsterAttacking=!1,this.isMonsterDamaged=!1,this.isDefending=!1}startAutoBattle(){if(!this.currentBattleMonster||this.currentRoom.isCleared){console.log("\u23F9\uFE0F \uC790\uB3D9 \uC804\uD22C \uC911\uC9C0 (\uBAAC\uC2A4\uD130 \uC5C6\uC74C \uB610\uB294 \uBC29 \uD074\uB9AC\uC5B4)");return}console.log("\u{1F916} \uC790\uB3D9 \uC804\uD22C \uC9C4\uD589 \uC911..."),this.playerAttack()}updateMinimapData(){if(!this.dungeon||!this.currentRoom)return;let t=this.dungeon.floors[this.dungeon.currentFloor-1];t&&(this.minimapRooms=t.rooms.map(e=>({id:e.id,type:e.type,isExplored:e.isExplored,isCurrentRoom:e.id===this.currentRoom.id,isCleared:e.isCleared,position:this.calculateRoomPosition(e,t.rooms)})))}updateCurrentFloorRooms(){if(!this.dungeon)return;let t=this.dungeon.floors[this.dungeon.currentFloor-1];t&&(this.currentFloorRooms=t.rooms)}calculateRoomPosition(t,e){let a=e.findIndex(s=>s.id===t.id),c=5;return{x:a%c*60+30,y:Math.floor(a/c)*60+30}}moveToRoom(t){this.currentRoom&&this.currentRoom.connectedRoomIds.includes(t)&&this.roomMove.emit(t)}attackMonster(t){this.monsterAttack.emit(t)}useInteractable(t){this.interactableUse.emit(t)}escapeDungeon(){this.snackBar.open("\uB358\uC804\uC5D0\uC11C \uD0C8\uCD9C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uC9C4\uD589 \uC0C1\uD669\uC774 \uC0AC\uB77C\uC9D1\uB2C8\uB2E4.","\uD0C8\uCD9C",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["dungeon-escape-snackbar"]}).onAction().subscribe(()=>{this.dungeonEscape.emit()})}moveToNextFloor(){if(!this.dungeon)return;let t=this.dungeon.currentFloor+1;t<=this.dungeon.totalFloors&&this.floorMove.emit(t)}getConnectedRooms(){return!this.currentRoom||!this.currentFloorRooms?[]:this.currentFloorRooms.filter(t=>this.currentRoom.connectedRoomIds.includes(t.id))}getHpPercent(){return this.playerHp/this.playerMaxHp*100}getMpPercent(){return this.playerMp/this.playerMaxMp*100}getRoomTypeIcon(t){return{entrance:"\u{1F6AA}",normal:"\u2694\uFE0F",elite:"\u{1F451}",boss:"\u{1F480}",treasure:"\u{1F48E}",shrine:"\u2728",shop:"\u{1F3EA}",safe:"\u{1F6E1}\uFE0F",event:"\u2753",exit:"\u{1F6AA}"}[t]||"\u2753"}getRoomTypeKorean(t){return{entrance:"\uC785\uAD6C",normal:"\uC77C\uBC18 \uBC29",elite:"\uC5D8\uB9AC\uD2B8 \uBC29",boss:"\uBCF4\uC2A4 \uBC29",treasure:"\uBCF4\uBB3C \uBC29",shrine:"\uC131\uC18C",shop:"\uC0C1\uC810",safe:"\uC548\uC804 \uC9C0\uB300",event:"\uC774\uBCA4\uD2B8 \uBC29",exit:"\uCD9C\uAD6C"}[t]||"\uC54C \uC218 \uC5C6\uB294 \uBC29"}getMonsterTypeColor(t){return{normal:"#cccccc",elite:"#4169E1",boss:"#FF4500"}[t]||"#cccccc"}toggleMinimap(){this.showMinimap=!this.showMinimap}toggleMonsterList(){this.showMonsterList=!this.showMonsterList}toggleRoomInfo(){this.showRoomInfo=!this.showRoomInfo}getProgressPercent(){if(!this.dungeon)return 0;let t=this.dungeon.currentFloor,e=this.dungeon.totalFloors;return t/e*100}getExploredRoomsCount(){return this.currentFloorRooms?this.currentFloorRooms.filter(t=>t.isExplored).length:0}getClearedRoomsCount(){return this.currentFloorRooms?this.currentFloorRooms.filter(t=>t.isCleared).length:0}getAliveMonsters(){return this.battleMonsters.filter(t=>!t.isDead)}selectMonster(t){this.battleMonsters[t]&&!this.battleMonsters[t].isDead&&(this.selectedMonsterIndex=t,this.currentBattleMonster=this.battleMonsters[t])}getAvailableInteractables(){return this.currentRoom?this.currentRoom.interactables.filter(t=>!t.isUsed):[]}getMonsterIcon(t){return{normal:"\u{1F479}",elite:"\u{1F451}",boss:"\u{1F480}"}[t]||"\u{1F479}"}playerAttack(){if(!this.currentBattleMonster||this.isBattleAnimating||this.battleMonsters.length===0)return;this.isBattleAnimating=!0,this.isPlayerAttacking=!0;let t=this.battleMonsters[this.selectedMonsterIndex];if(!t||t.isDead){let h=this.getAliveMonsters();if(h.length===0){this.isBattleAnimating=!1,this.isPlayerAttacking=!1;return}this.selectedMonsterIndex=this.battleMonsters.indexOf(h[0]),this.currentBattleMonster=h[0],this.playerAttack();return}let e=this.playerAttackPower,a=.8+Math.random()*.4,c=t.maxHp||t.hp,s=Math.floor(c*(.4+Math.random()*.1)),m=Math.floor((e-t.defense*.5)*a),P=Math.max(s,m*10);this.battleLog.push(`\u2694\uFE0F ${this.playerName}\uC774(\uAC00) ${t.name}\uC744(\uB97C) \uACF5\uACA9!`),setTimeout(()=>{this.monsterDamagedStates[this.selectedMonsterIndex]=!0,t.hp=Math.max(0,t.hp-P),this.battleLog.push(`\u{1F4A5} ${t.name}\uC5D0\uAC8C ${P} \uB370\uBBF8\uC9C0!`),setTimeout(()=>{this.isPlayerAttacking=!1,this.monsterDamagedStates[this.selectedMonsterIndex]=!1,t.hp===0?(t.isDead=!0,this.battleLog.push(`\u2705 ${t.name} \uCC98\uCE58!`),setTimeout(()=>{this.monsterAttack.emit(t);let h=this.getAliveMonsters();h.length>0?(this.selectedMonsterIndex=this.battleMonsters.indexOf(h[0]),this.currentBattleMonster=h[0],this.isBattleAnimating=!1,this.monsterCounterAttack()):(console.log("\u{1F389} \uBAA8\uB4E0 \uBAAC\uC2A4\uD130 \uCC98\uCE58! \uBC29 \uD074\uB9AC\uC5B4"),this.currentBattleMonster=null,this.currentRoom.isCleared=!0,this.battleLog.push("\u{1F389} \uC804\uD22C \uC2B9\uB9AC!"),this.isBattleAnimating=!1,this.calculateAndShowRewards())},300)):this.monsterCounterAttack()},150)},150)}monsterCounterAttack(){let t=this.getAliveMonsters();if(t.length===0){this.isBattleAnimating=!1;return}this.performMonsterAttacks(t,0)}performMonsterAttacks(t,e){if(e>=t.length){this.isBattleAnimating=!1,setTimeout(()=>{this.startAutoBattle()},300);return}let a=t[e];this.isMonsterAttacking=!0,this.battleLog.push(`\u{1F479} ${a.name}\uC758 \uBC18\uACA9!`),setTimeout(()=>{let c=a.attack,s=this.isDefending?this.playerDefensePower*2:this.playerDefensePower,m=.8+Math.random()*.4,P=Math.max(1,Math.floor((c-s*.5)*m));this.isPlayerDamaged=!0,this.battleLog.push(`\u{1F4A5} \uD50C\uB808\uC774\uC5B4\uAC00 ${P} \uB370\uBBF8\uC9C0 \uBC1B\uC74C!`),this.isDefending&&(this.battleLog.push("\u{1F6E1}\uFE0F \uBC29\uC5B4\uB85C \uB370\uBBF8\uC9C0 \uAC10\uC18C!"),this.isDefending=!1),setTimeout(()=>{this.isMonsterAttacking=!1,this.isPlayerDamaged=!1,this.performMonsterAttacks(t,e+1)},150)},150)}playerSkill(){if(!this.currentBattleMonster||this.isBattleAnimating||this.playerMp<20)return;this.isBattleAnimating=!0,this.isPlayerAttacking=!0;let t=this.playerAttackPower*2,e=Math.floor(t-this.currentBattleMonster.defense*.3);this.battleLog.push(`\u2728 ${this.playerName}\uC758 \uD544\uC0B4\uAE30!`),setTimeout(()=>{this.isMonsterDamaged=!0,this.currentBattleMonster.hp=Math.max(0,this.currentBattleMonster.hp-e),this.battleLog.push(`\u{1F4A5}\u{1F4A5} ${e} \uAC15\uB825\uD55C \uB370\uBBF8\uC9C0!`),setTimeout(()=>{this.isPlayerAttacking=!1,this.isMonsterDamaged=!1,this.currentBattleMonster.hp===0?(this.currentBattleMonster.isDead=!0,this.battleLog.push(`\u2705 ${this.currentBattleMonster.name} \uCC98\uCE58!`),setTimeout(()=>{this.monsterAttack.emit(this.currentBattleMonster),this.isBattleAnimating=!1;let a=this.getAliveMonsters();a.length>0&&(this.currentBattleMonster=a[0],this.battleLog=[])},300)):this.monsterCounterAttack()},150)},150)}playerDefend(){this.isBattleAnimating||(this.isBattleAnimating=!0,this.isDefending=!0,this.battleLog.push(`\u{1F6E1}\uFE0F ${this.playerName}\uC740(\uB294) \uBC29\uC5B4 \uD0DC\uC138\uB97C \uCDE8\uD588\uB2E4!`),setTimeout(()=>{this.monsterCounterAttack()},150))}playerFlee(){if(this.isBattleAnimating)return;let e=Math.random()<.5;this.isBattleAnimating=!0,this.battleLog.push("\u{1F3C3} \uB3C4\uB9DD\uCE58\uAE30 \uC2DC\uB3C4..."),setTimeout(()=>{e?(this.battleLog.push("\u2705 \uB3C4\uB9DD\uC5D0 \uC131\uACF5\uD588\uB2E4!"),setTimeout(()=>{this.isBattleAnimating=!1},300)):(this.battleLog.push("\u274C \uB3C4\uB9DD\uC5D0 \uC2E4\uD328\uD588\uB2E4!"),setTimeout(()=>{this.monsterCounterAttack()},150))},300)}calculateAndShowRewards(){if(!this.currentRoom||!this.battleMonsters.length)return;let t=0,e=0,a=[];this.battleMonsters.forEach(c=>{let s={normal:20,elite:50,boss:150};t+=c.level*(s[c.type]||20);let m={normal:10,elite:30,boss:100};e+=Math.floor(c.level*(m[c.type]||10)*(.8+Math.random()*.4));let P={normal:.15,elite:.4,boss:.8};if(Math.random()<(P[c.type]||.15)){let h=Math.random(),x="common";h>.95?x="legendary":h>.85?x="epic":h>.65?x="rare":h>.35&&(x="uncommon"),a.push({name:`${c.name}\uC758 \uC804\uB9AC\uD488`,rarity:x,level:c.level})}}),this.battleRewards={exp:t,gold:e,items:a},this.showRewards=!0,console.log("\u{1F381} \uC804\uD22C \uBCF4\uC0C1:",this.battleRewards)}claimRewards(){this.battleRewards&&(this.rewardsClaimed.emit(this.battleRewards),this.showRewards=!1,this.battleRewards=null,this.battleMonsters=[])}static \u0275fac=function(e){return new(e||r)(A(Be))};static \u0275cmp=Q({type:r,selectors:[["app-dungeon-explorer"]],inputs:{dungeon:"dungeon",currentRoom:"currentRoom",playerHp:"playerHp",playerMaxHp:"playerMaxHp",playerMp:"playerMp",playerMaxMp:"playerMaxMp",playerName:"playerName",playerLevel:"playerLevel",playerAttackPower:"playerAttackPower",playerDefensePower:"playerDefensePower",playerEquipment:"playerEquipment",playerSkills:"playerSkills"},outputs:{roomMove:"roomMove",monsterAttack:"monsterAttack",interactableUse:"interactableUse",dungeonEscape:"dungeonEscape",floorMove:"floorMove",rewardsClaimed:"rewardsClaimed"},standalone:!1,features:[et],decls:1,vars:1,consts:[["class","dungeon-explorer",4,"ngIf"],[1,"dungeon-explorer"],[1,"dungeon-header"],[1,"dungeon-title"],[1,"floor-info"],[1,"player-status"],[1,"status-bar","hp-bar"],[1,"bar-container"],[1,"bar-fill"],[1,"bar-text"],[1,"status-bar","mp-bar"],[1,"dungeon-stats"],[1,"dungeon-content"],[1,"center-panel"],["class","room-info-card",4,"ngIf"],["class","battle-scene",4,"ngIf"],["class","battle-rewards-overlay",4,"ngIf"],["class","room-cleared-section",4,"ngIf"],[1,"dungeon-footer"],[1,"btn-danger",3,"click"],[1,"room-info-card"],[1,"room-header"],[1,"room-status"],[1,"room-description"],[1,"battle-scene"],[1,"battle-arena"],[1,"battle-player"],[1,"player-avatar"],[1,"avatar-icon"],[1,"player-name"],[1,"player-level"],[1,"battle-hp-bar","player-hp"],[1,"hp-bar-bg"],[1,"hp-bar-fill"],[1,"hp-text"],[1,"battle-stats"],[1,"stat-item"],["class","player-equipment",4,"ngIf"],["class","player-skills",4,"ngIf"],[1,"battle-vs"],[1,"vs-icon"],["class","turn-indicator",4,"ngIf"],[1,"battle-monsters-container"],["class","battle-monster",3,"attacking","damaged","dead","selected","click",4,"ngFor","ngForOf"],[1,"battle-waiting"],[1,"waiting-text"],[2,"font-size","14px","color","#aaa","margin-top","10px"],[1,"player-equipment"],["class","equipment-item",4,"ngIf"],[1,"equipment-item"],[1,"equipment-icon"],[1,"equipment-name"],[1,"player-skills"],["class","skill-item",3,"title",4,"ngFor","ngForOf"],[1,"skill-item",3,"title"],[1,"skill-icon"],[1,"skill-name"],[1,"turn-indicator"],["class","battle-message",4,"ngFor","ngForOf"],[1,"battle-message"],[1,"battle-monster",3,"click"],[1,"monster-avatar"],[1,"monster-icon"],[1,"monster-name"],[1,"monster-level"],["class","elite-tags",4,"ngIf"],[1,"battle-hp-bar","monster-hp"],["class","target-indicator",4,"ngIf"],[1,"elite-tags"],["class","elite-tag",4,"ngFor","ngForOf"],[1,"elite-tag"],[1,"target-indicator"],[1,"battle-rewards-overlay"],[1,"rewards-panel"],[1,"rewards-title"],[1,"rewards-content"],[1,"reward-item","exp"],[1,"reward-icon"],[1,"reward-info"],[1,"reward-label"],[1,"reward-value"],[1,"reward-item","gold"],["class","reward-items",4,"ngIf"],["class","no-items",4,"ngIf"],[1,"btn-claim-rewards",3,"click"],[1,"reward-items"],[1,"reward-items-title"],[1,"reward-item-list"],["class","reward-item-card",3,"class",4,"ngFor","ngForOf"],[1,"reward-item-card"],[1,"item-icon"],[1,"item-name"],[1,"item-rarity"],[1,"no-items"],[2,"color","#999"],[1,"room-cleared-section"],[1,"cleared-message"],[1,"connected-rooms"],[1,"room-buttons"],["class","move-btn",3,"click",4,"ngFor","ngForOf"],["class","floor-exit",4,"ngIf"],[1,"move-btn",3,"click"],[1,"floor-exit"],[1,"next-floor-btn",3,"click"]],template:function(e,a){e&1&&f(0,In,40,21,"div",0),e&2&&g("ngIf",a.dungeon&&a.currentRoom)},dependencies:[Me,oe,gt],styles:[".dungeon-explorer[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;background:linear-gradient(135deg,#1a1a2e,#16213e);color:#e0e0e0;font-family:Noto Sans KR,sans-serif}.dungeon-header[_ngcontent-%COMP%]{padding:20px;background:#0000004d;border-bottom:2px solid #4a4a4a;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.dungeon-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:gold}.floor-info[_ngcontent-%COMP%]{margin-left:15px;color:#aaa;font-size:14px}.player-status[_ngcontent-%COMP%]{display:flex;gap:20px}.status-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.bar-container[_ngcontent-%COMP%]{position:relative;width:150px;height:20px;background:#00000080;border-radius:10px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s}.hp-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f44,#f66)}.mp-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#44f,#66f)}.bar-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:12px;color:#fff;text-shadow:0 0 3px black}.dungeon-stats[_ngcontent-%COMP%]{display:flex;gap:15px;font-size:14px}.dungeon-content[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden;padding:16px;gap:16px;min-height:0}.center-panel[_ngcontent-%COMP%]{flex:1;overflow:hidden;padding:16px;background:#0003;border-radius:10px;min-height:0;display:flex;flex-direction:column}.room-info-card[_ngcontent-%COMP%]{background:#ffd7001a;padding:20px;border-radius:10px;border:2px solid #ffd700;margin-bottom:20px}.room-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.room-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;color:gold}.room-status[_ngcontent-%COMP%]{padding:5px 15px;border-radius:5px;font-size:14px;background:#ff44444d;border:1px solid #ff4444}.room-status.cleared[_ngcontent-%COMP%]{background:#44ff444d;border-color:#4f4}.room-description[_ngcontent-%COMP%]{color:#ccc;line-height:1.6;margin:10px 0}.monster-section[_ngcontent-%COMP%]{margin:20px 0}.monster-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:gold;margin-bottom:15px}.monster-list[_ngcontent-%COMP%]{display:grid;gap:15px}.monster-card[_ngcontent-%COMP%]{background:#0006;padding:15px;border-radius:10px;border:2px solid #666;transition:all .3s}.monster-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #00000080}.monster-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px}.monster-level[_ngcontent-%COMP%]{font-size:14px;color:#aaa;margin-left:10px}.elite-affixes[_ngcontent-%COMP%]{display:flex;gap:5px;flex-wrap:wrap;margin-top:5px}.affix-badge[_ngcontent-%COMP%]{background:#4169e14d;padding:3px 8px;border-radius:5px;font-size:12px;border:1px solid #4169E1}.monster-hp-bar[_ngcontent-%COMP%]{position:relative;width:100%;height:25px;background:#00000080;border-radius:5px;overflow:hidden;margin:10px 0}.hp-fill[_ngcontent-%COMP%]{height:100%;transition:width .5s;background:#f44}.hp-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:12px;color:#fff;text-shadow:0 0 3px black}.monster-stats[_ngcontent-%COMP%]{display:flex;gap:15px;margin:10px 0;font-size:14px}.attack-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:linear-gradient(135deg,#f44,#c00);border:none;border-radius:5px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s}.attack-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 5px 15px #ff444480}.room-cleared-section[_ngcontent-%COMP%]{text-align:center;padding:30px;background:#44ff441a;border-radius:10px;border:2px solid #44ff44}.cleared-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4f4;margin-bottom:10px}.connected-rooms[_ngcontent-%COMP%]{margin-top:30px}.connected-rooms[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:gold;margin-bottom:15px}.room-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}.move-btn[_ngcontent-%COMP%]{padding:15px 25px;background:#ffd70033;border:2px solid #ffd700;border-radius:10px;color:gold;font-size:16px;cursor:pointer;transition:all .3s}.move-btn[_ngcontent-%COMP%]:hover{background:#ffd70066;transform:translateY(-2px)}.next-floor-btn[_ngcontent-%COMP%]{margin-top:20px;padding:15px 30px;background:linear-gradient(135deg,#4169e1,#1e3a8a);border:none;border-radius:10px;color:#fff;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s}.next-floor-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 5px 20px #4169e180}.dungeon-footer[_ngcontent-%COMP%]{padding:20px;background:#0000004d;border-top:2px solid #4a4a4a;display:flex;justify-content:center;align-items:center}.btn-danger[_ngcontent-%COMP%]{padding:12px 30px;background:linear-gradient(135deg,#f44,#c00);border:none;border-radius:8px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s}.btn-danger[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 5px 15px #ff444480}.battle-scene[_ngcontent-%COMP%]{width:100%;padding:30px;background:linear-gradient(180deg,#141428f2,#0a0a14fa);border-radius:16px;margin:20px 0}.battle-arena[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:40px;padding:30px;background:#0000004d;border-radius:12px;min-height:300px}.battle-monsters-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;gap:15px;flex-wrap:nowrap;justify-content:flex-start;align-items:center;overflow-x:auto;overflow-y:hidden;padding:10px 0}.battle-monsters-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.battle-monsters-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}.battle-monsters-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b000099;border-radius:4px}.battle-monsters-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#8b0000cc}.battle-player[_ngcontent-%COMP%]{flex:0 0 300px;display:flex;flex-direction:column;align-items:center;gap:15px;transition:all .3s ease}.battle-player.attacking[_ngcontent-%COMP%]{transform:scale(1.1) translate(10px);filter:brightness(1.3);animation:_ngcontent-%COMP%_attack-shake .3s ease}.battle-player.damaged[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_damage-flash .5s ease}.battle-monster[_ngcontent-%COMP%]{flex:0 0 180px;min-width:180px;display:flex;flex-direction:column;align-items:center;gap:10px;padding:12px;background:#3200004d;border:2px solid rgba(139,0,0,.5);border-radius:10px;transition:all .3s ease;cursor:pointer;position:relative}.battle-monster[_ngcontent-%COMP%]:hover:not(.dead){border-color:#ffd700cc;transform:translateY(-5px);box-shadow:0 5px 15px #ffd7004d}.battle-monster.selected[_ngcontent-%COMP%]:not(.dead){border-color:gold;border-width:3px;box-shadow:0 0 20px #ffd70099}.battle-monster.attacking[_ngcontent-%COMP%]{transform:scale(1.1);filter:brightness(1.3);animation:_ngcontent-%COMP%_attack-shake .3s ease}.battle-monster.damaged[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_damage-flash .5s ease}.battle-monster.dead[_ngcontent-%COMP%]{opacity:.3;filter:grayscale(100%);cursor:not-allowed;pointer-events:none}@keyframes _ngcontent-%COMP%_attack-shake{0%,to{transform:scale(1.1) translate(10px)}25%{transform:scale(1.1) translate(15px) rotate(3deg)}75%{transform:scale(1.1) translate(5px) rotate(-3deg)}}@keyframes _ngcontent-%COMP%_damage-flash{0%,to{filter:brightness(1)}50%{filter:brightness(.5) hue-rotate(180deg)}}.player-avatar[_ngcontent-%COMP%], .monster-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.avatar-icon[_ngcontent-%COMP%], .monster-icon[_ngcontent-%COMP%]{font-size:60px;width:90px;height:90px;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,#ffffff1a,#0000004d);border-radius:50%;border:3px solid rgba(255,215,0,.3);box-shadow:0 8px 24px #00000080}.player-name[_ngcontent-%COMP%], .monster-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.8)}.player-level[_ngcontent-%COMP%], .monster-level[_ngcontent-%COMP%]{font-size:14px;color:#aaa;padding:4px 12px;background:#ffffff1a;border-radius:12px}.elite-tags[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}.elite-tag[_ngcontent-%COMP%]{padding:4px 10px;background:linear-gradient(135deg,#ffd70033,#ff8c0033);border:1px solid rgba(255,215,0,.5);border-radius:8px;font-size:11px;color:gold;text-shadow:0 0 4px rgba(255,215,0,.5)}.battle-hp-bar[_ngcontent-%COMP%]{width:100%;max-width:250px}.hp-bar-bg[_ngcontent-%COMP%]{position:relative;width:100%;height:28px;background:#0009;border-radius:14px;overflow:hidden;border:2px solid rgba(255,255,255,.2)}.hp-bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .5s ease;background:linear-gradient(90deg,#f44,#f66,#f88);box-shadow:0 0 10px #f44c}.battle-hp-bar.player-hp[_ngcontent-%COMP%]   .hp-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4f4,#6f6,#8f8);box-shadow:0 0 10px #4f4c}.hp-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:13px;font-weight:700;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.9),0 0 8px rgba(0,0,0,.9);z-index:1}.battle-stats[_ngcontent-%COMP%]{display:flex;gap:15px;font-size:13px}.stat-item[_ngcontent-%COMP%]{padding:6px 12px;background:#ffffff1a;border-radius:8px;font-size:13px;font-weight:600;color:#fff}.target-indicator[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;font-size:24px;animation:_ngcontent-%COMP%_target-pulse 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_target-pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.8}}.battle-vs[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.vs-icon[_ngcontent-%COMP%]{font-size:48px;animation:_ngcontent-%COMP%_pulse 2s ease infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.2);opacity:1}}.turn-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:200px}.battle-message[_ngcontent-%COMP%]{padding:8px 16px;background:#ffffff1a;border-left:3px solid #ffd700;border-radius:4px;font-size:14px;color:#fff;animation:_ngcontent-%COMP%_fade-in .3s ease}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.battle-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-top:30px;padding:20px;background:#0003;border-radius:12px}.action-btn[_ngcontent-%COMP%]{padding:18px 24px;font-size:16px;font-weight:700;border:2px solid;border-radius:12px;cursor:pointer;transition:all .3s ease;text-shadow:0 2px 4px rgba(0,0,0,.8)}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 20px #0006}.action-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.7)}.attack-action[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44,#c00);border-color:#f66;color:#fff}.attack-action[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#f66,red);box-shadow:0 6px 20px #f449}.skill-action[_ngcontent-%COMP%]{background:linear-gradient(135deg,#44f,#00c);border-color:#66f;color:#fff}.skill-action[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#66f,#00f);box-shadow:0 6px 20px #44f9}.defend-action[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f4,#0c0);border-color:#6f6;color:#fff}.defend-action[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6f6,#0f0);box-shadow:0 6px 20px #4f49}.flee-action[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa4,#c80);border-color:#fb6;color:#fff}.flee-action[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#fb6,#f90);box-shadow:0 6px 20px #fa49}.battle-waiting[_ngcontent-%COMP%]{margin-top:20px;text-align:center;padding:15px;background:#ffd7001a;border-radius:8px}.waiting-text[_ngcontent-%COMP%]{font-size:18px;color:gold;animation:_ngcontent-%COMP%_pulse 1.5s ease infinite}@media (max-width: 768px){.battle-arena[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.battle-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.avatar-icon[_ngcontent-%COMP%], .monster-icon[_ngcontent-%COMP%]{font-size:60px;width:90px;height:90px}}.player-equipment[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-top:12px;width:100%;max-width:250px}.equipment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 12px;background:#8b5cf626;border:1px solid rgba(139,92,246,.3);border-radius:8px;font-size:13px;transition:all .2s ease}.equipment-item[_ngcontent-%COMP%]:hover{background:#8b5cf640;border-color:#8b5cf680;transform:translate(3px)}.equipment-icon[_ngcontent-%COMP%]{font-size:16px;filter:drop-shadow(0 0 4px rgba(139,92,246,.6))}.equipment-name[_ngcontent-%COMP%]{color:#d8b4fe;font-weight:600;text-shadow:0 0 8px rgba(139,92,246,.8);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.player-skills[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-top:12px;width:100%;max-width:250px}.skill-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 12px;background:#3b82f626;border:1px solid rgba(59,130,246,.3);border-radius:8px;font-size:13px;cursor:help;transition:all .2s ease}.skill-item[_ngcontent-%COMP%]:hover{background:#3b82f640;border-color:#3b82f680;transform:translate(3px)}.skill-icon[_ngcontent-%COMP%]{font-size:16px;filter:drop-shadow(0 0 4px rgba(59,130,246,.6));animation:_ngcontent-%COMP%_skill-glow 2s ease infinite}@keyframes _ngcontent-%COMP%_skill-glow{0%,to{filter:drop-shadow(0 0 4px rgba(59,130,246,.6))}50%{filter:drop-shadow(0 0 8px rgb(59,130,246))}}.skill-name[_ngcontent-%COMP%]{color:#93c5fd;font-weight:600;text-shadow:0 0 8px rgba(59,130,246,.8);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 768px){.player-equipment[_ngcontent-%COMP%], .player-skills[_ngcontent-%COMP%]{max-width:200px}.equipment-item[_ngcontent-%COMP%], .skill-item[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}.equipment-icon[_ngcontent-%COMP%], .skill-icon[_ngcontent-%COMP%]{font-size:14px}}.battle-rewards-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .3s ease}.rewards-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28003cf2,#140028f2);border:3px solid rgba(255,215,0,.6);border-radius:20px;padding:40px;max-width:600px;width:90%;box-shadow:0 20px 60px #ffd7004d;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.34,1.56,.64,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.rewards-title[_ngcontent-%COMP%]{text-align:center;font-size:32px;font-weight:700;color:gold;margin-bottom:30px;text-shadow:0 0 20px rgba(255,215,0,.8);animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_glow{0%,to{text-shadow:0 0 20px rgba(255,215,0,.8)}50%{text-shadow:0 0 30px rgb(255,215,0)}}.rewards-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:30px}.reward-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:20px;background:#ffffff0d;border:2px solid rgba(255,255,255,.1);border-radius:12px;transition:all .3s ease}.reward-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#fff3;transform:translate(5px)}.reward-item.exp[_ngcontent-%COMP%]{border-color:#66bbff80}.reward-item.exp[_ngcontent-%COMP%]   .reward-icon[_ngcontent-%COMP%]{color:#6bf;font-size:48px}.reward-item.gold[_ngcontent-%COMP%]{border-color:#ffd70080}.reward-item.gold[_ngcontent-%COMP%]   .reward-icon[_ngcontent-%COMP%]{color:gold;font-size:48px}.reward-info[_ngcontent-%COMP%]{flex:1}.reward-label[_ngcontent-%COMP%]{font-size:14px;color:#aaa;margin-bottom:5px}.reward-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff}.reward-items[_ngcontent-%COMP%]{margin-top:10px}.reward-items-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff;margin-bottom:15px;text-align:center}.reward-item-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px}.reward-item-card[_ngcontent-%COMP%]{padding:15px;background:#ffffff0d;border:2px solid rgba(255,255,255,.2);border-radius:10px;text-align:center;transition:all .3s ease}.reward-item-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #00000080}.reward-item-card.rarity-common[_ngcontent-%COMP%]{border-color:#9e9e9e80}.reward-item-card.rarity-uncommon[_ngcontent-%COMP%]{border-color:#1eff0080;background:#1eff000d}.reward-item-card.rarity-rare[_ngcontent-%COMP%]{border-color:#0070dd80;background:#0070dd0d}.reward-item-card.rarity-epic[_ngcontent-%COMP%]{border-color:#a335ee80;background:#a335ee0d}.reward-item-card.rarity-legendary[_ngcontent-%COMP%]{border-color:#ff8000b3;background:#ff80001a;box-shadow:0 0 20px #ff80004d}.item-icon[_ngcontent-%COMP%]{font-size:40px;margin-bottom:10px}.item-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#fff;margin-bottom:5px}.item-rarity[_ngcontent-%COMP%]{font-size:12px;color:#aaa;text-transform:capitalize}.no-items[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666}.btn-claim-rewards[_ngcontent-%COMP%]{width:100%;padding:18px;background:linear-gradient(135deg,gold,orange);border:none;border-radius:12px;font-size:20px;font-weight:700;color:#000;cursor:pointer;transition:all .3s ease;box-shadow:0 6px 20px #ffd70066}.btn-claim-rewards[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #ffd70099;background:linear-gradient(135deg,orange,gold)}.btn-claim-rewards[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})};var An=["battleLogContainer"],Nn=r=>({slot:"weapon",item:r}),ee=()=>["inventory-grid"],zn=r=>({slot:"armor",item:r}),Fn=r=>({slot:"helmet",item:r}),qn=r=>({slot:"amulet",item:r}),Gn=r=>({slot:"belt",item:r}),Rn=r=>({slot:"gloves",item:r}),Vn=r=>({slot:"boots",item:r}),Ln=r=>({slot:"ring1",item:r}),$n=r=>({slot:"ring2",item:r}),jn=()=>["weapon-slot","armor-slot","helmet-slot","amulet-slot","belt-slot","gloves-slot","boots-slot","ring1-slot","ring2-slot"],Un=r=>({item:r,slot:"weapon"}),Hn=r=>({item:r,slot:"armor"}),Yn=r=>({item:r,slot:"helmet"}),Wn=r=>({item:r,slot:"amulet"}),Kn=r=>({item:r,slot:"belt"}),Xn=r=>({item:r,slot:"gloves"}),Qn=r=>({item:r,slot:"boots"}),Jn=r=>({item:r,slot:"ring1"}),Zn=r=>({item:r,slot:"ring2"}),eo=(r,t)=>({item:r,index:t}),Wt=(r,t,e,a)=>({"node-start":r,"node-story":t,"node-choice":e,"node-current":a}),to=()=>[];function no(r,t){if(r&1&&(n(0,"div",71)(1,"span",72),i(2),o()()),r&2){let e=d(2);l(2),M("\u{1F464} ",e.getCurrentUsername())}}function oo(r,t){if(r&1&&(n(0,"div",96),i(1),o()),r&2){let e=d(3);l(),M(" ",e.storyGenerationError," ")}}function io(r,t){if(r&1){let e=O();n(0,"div",97),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.selectCharacterForStory(c))}),n(1,"div",98),i(2),o(),n(3,"div",99),i(4),o()()}if(r&2){let e=t.$implicit,a=d(3);v("selected",a.isCharacterSelected(e)),l(2),C(e.name),l(2),C(e.occupation)}}function ro(r,t){r&1&&(n(0,"p",100),i(1," \uC800\uC7A5\uB41C \uCE90\uB9AD\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. AI \uCE90\uB9AD\uD130 \uC0DD\uC131\uC744 \uBA3C\uC800 \uC774\uC6A9\uD574\uC8FC\uC138\uC694. "),o())}function ao(r,t){if(r&1){let e=O();n(0,"div",97),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.selectItemForStory(c))}),n(1,"div",98),i(2),o(),n(3,"div",99),i(4),o()()}if(r&2){let e=t.$implicit,a=d(3);v("selected",a.isItemSelected(e)),l(2),C(e.name),l(2),D("",e.type," \xB7 ",e.grade)}}function co(r,t){r&1&&(n(0,"p",100),i(1," \uC800\uC7A5\uB41C \uC544\uC774\uD15C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4. AI \uC544\uC774\uD15C \uC0DD\uC131\uC744 \uBA3C\uC800 \uC774\uC6A9\uD574\uC8FC\uC138\uC694. "),o())}function lo(r,t){if(r&1){let e=O();n(0,"div",97),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.selectScenarioForStory(c))}),n(1,"div",98),i(2),o(),n(3,"div",99),i(4),o()()}if(r&2){let e=t.$implicit,a=d(3);v("selected",a.isScenarioSelected(e)),l(2),C(e.title),l(2),C(e.genre)}}function so(r,t){r&1&&(n(0,"p",100),i(1," \uC800\uC7A5\uB41C \uC2DC\uB098\uB9AC\uC624\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. AI \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131\uC744 \uBA3C\uC800 \uC774\uC6A9\uD574\uC8FC\uC138\uC694. "),o())}function go(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3AC} \uC2A4\uD1A0\uB9AC \uC0DD\uC131"),o())}function po(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function mo(r,t){if(r&1&&(n(0,"p"),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function _o(r,t){if(r&1){let e=O();n(0,"div",101)(1,"h4"),i(2,"\u2705 \uC2A4\uD1A0\uB9AC\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),o(),n(3,"div",102)(4,"div",103)(5,"span",104),i(6),o(),n(7,"h3"),i(8),o()(),n(9,"p",105),i(10),o(),n(11,"div",106)(12,"span",107),i(13),o(),n(14,"span",107),i(15),o(),n(16,"span",107),i(17),o()(),n(18,"div",108)(19,"h5"),i(20,"\uCCAB \uBC88\uC9F8 \uC7A5\uBA74"),o(),f(21,mo,2,1,"p",109),o()(),n(22,"div",110)(23,"button",111),b("click",function(){_(e);let c=d(3);return u(c.saveGeneratedStory())}),i(24," \u{1F4BE} \uC2A4\uD1A0\uB9AC \uC800\uC7A5 "),o(),n(25,"button",112),b("click",function(){_(e);let c=d(3);return u(c.addGeneratedStoryToList())}),i(26," \u{1F3AE} \uAC8C\uC784 \uC2DC\uC791 "),o(),n(27,"button",113),b("click",function(){_(e);let c=d(3);return u(c.clearGeneratedStory())}),i(28," \u{1F504} \uB2E4\uC2DC \uC0DD\uC131 "),o()()()}if(r&2){let e=d(3);l(6),C(e.generatedStory.icon),l(2),C(e.generatedStory.title),l(2),C(e.generatedStory.description),l(3),M("\u{1F4DA} ",e.generatedStory.genre),l(2),M("\u2694\uFE0F ",e.generatedStory.difficulty==="easy"?"\uC26C\uC6C0":e.generatedStory.difficulty==="normal"?"\uBCF4\uD1B5":"\uC5B4\uB824\uC6C0"),l(2),M("\u{1F4B0} ",e.generatedStory.startingGold,"G"),l(4),g("ngForOf",e.generatedStory.firstStory)}}function uo(r,t){if(r&1){let e=O();n(0,"div",73)(1,"div",74)(2,"div",75)(3,"h3"),i(4,"\u2728 \uC2A4\uD1A0\uB9AC \uC0DD\uC131\uAE30"),o(),n(5,"button",76),b("click",function(){_(e);let c=d(2);return u(c.toggleStoryCreatorPanel())}),i(6,"\u2715"),o()(),n(7,"div",77)(8,"h4"),i(9,"\uC800\uC7A5\uB41C \uCF58\uD150\uCE20\uB85C \uC0C8\uB85C\uC6B4 \uC774\uC57C\uAE30\uB97C \uB9CC\uB4E4\uC5B4\uBCF4\uC138\uC694"),o(),n(10,"p"),i(11,"\uCE90\uB9AD\uD130, \uC544\uC774\uD15C, \uC2DC\uB098\uB9AC\uC624\uB97C \uC120\uD0DD\uD558\uBA74 Loworld AI\uAC00 \uD765\uBBF8\uC9C4\uC9C4\uD55C \uC778\uD130\uB799\uD2F0\uBE0C \uC18C\uC124\uC744 \uC0DD\uC131\uD569\uB2C8\uB2E4."),o()(),f(12,oo,2,1,"div",78),n(13,"div",79)(14,"label",80)(15,"span",81),i(16,"\u{1F4D6}"),o(),n(17,"span",82),i(18,"\uC2A4\uD1A0\uB9AC \uC81C\uBAA9"),o(),n(19,"span",83),i(20,"*"),o()(),n(21,"input",84),H("ngModelChange",function(c){_(e);let s=d(2);return U(s.storyTitle,c)||(s.storyTitle=c),u(c)}),o(),n(22,"div",85),i(23),o()(),n(24,"div",86)(25,"div",87)(26,"h5"),i(27,"\u{1F3AD} \uC8FC\uC778\uACF5 \uC120\uD0DD "),n(28,"span",88),i(29),o()(),n(30,"div",89),f(31,io,5,4,"div",90),o(),f(32,ro,2,0,"p",91),o(),n(33,"div",87)(34,"h5"),i(35,"\u{1F48E} \uD575\uC2EC \uC544\uC774\uD15C \uC120\uD0DD "),n(36,"span",88),i(37),o()(),n(38,"div",89),f(39,ao,5,5,"div",90),o(),f(40,co,2,0,"p",91),o(),n(41,"div",87)(42,"h5"),i(43,"\u{1F3AC} \uC2DC\uB098\uB9AC\uC624 \uC120\uD0DD "),n(44,"span",88),i(45),o()(),n(46,"div",89),f(47,lo,5,4,"div",90),o(),f(48,so,2,0,"p",91),o()(),n(49,"div",92)(50,"button",93),b("click",function(){_(e);let c=d(2);return u(c.generateStoryFromSavedContent())}),f(51,go,2,0,"span",94)(52,po,2,0,"span",94),o()(),f(53,_o,29,7,"div",95),o()()}if(r&2){let e=d(2);l(12),g("ngIf",e.storyGenerationError),l(9),j("ngModel",e.storyTitle),l(2),M("",e.storyTitle.length,"/50"),l(6),M("(",e.selectedCharactersForStory.length,"\uAC1C \uC120\uD0DD\uB428)"),l(2),g("ngForOf",e.savedCharacters),l(),g("ngIf",e.savedCharacters.length===0),l(5),M("(",e.selectedItemsForStory.length,"\uAC1C \uC120\uD0DD\uB428)"),l(2),g("ngForOf",e.savedItems),l(),g("ngIf",e.savedItems.length===0),l(5),M("(",e.selectedScenariosForStory.length,"\uAC1C \uC120\uD0DD\uB428)"),l(2),g("ngForOf",e.savedScenarios),l(),g("ngIf",e.savedScenarios.length===0),l(2),g("disabled",e.isGeneratingStory||!e.storyTitle||e.storyTitle.trim()===""||e.selectedCharactersForStory.length===0||e.selectedItemsForStory.length===0||e.selectedScenariosForStory.length===0),l(),g("ngIf",!e.isGeneratingStory),l(),g("ngIf",e.isGeneratingStory),l(),g("ngIf",e.generatedStory)}}function Co(r,t){if(r&1){let e=O();n(0,"div",117),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.loadSavedStoryForGame(c))}),n(1,"div",118)(2,"div",119)(3,"span",104),i(4),o(),n(5,"h4"),i(6),o()(),n(7,"button",120),b("click",function(c){let s=_(e).$implicit,m=d(3);return u(m.deleteSavedStory(s.id,c))}),i(8," \u{1F5D1}\uFE0F "),o()(),n(9,"div",106)(10,"span",107),i(11),o(),n(12,"span",107),i(13),o(),n(14,"span",107),i(15),o()(),n(16,"p",121),i(17),o(),n(18,"div",122)(19,"span",123),i(20),o(),n(21,"span",124),i(22,"\u{1F916} AI \uC0DD\uC131"),o()()()}if(r&2){let e=t.$implicit,a=d(3);l(4),C(e.icon),l(2),C(e.title),l(5),M("\u{1F4DA} ",e.genre),l(2),M("\u2694\uFE0F ",e.difficulty==="easy"?"\uC26C\uC6C0":e.difficulty==="normal"?"\uBCF4\uD1B5":"\uC5B4\uB824\uC6C0"),l(2),M("\u{1F4B0} ",e.startingGold,"G"),l(2),C(e.description),l(3),C(a.formatSaveDate(e.createdAt))}}function fo(r,t){if(r&1&&(n(0,"div",114)(1,"div",67)(2,"h3"),i(3,"\u{1F4DA} \uC800\uC7A5\uB41C \uC2A4\uD1A0\uB9AC"),o(),n(4,"p",68),i(5,"AI\uAC00 \uC0DD\uC131\uD55C \uB098\uB9CC\uC758 \uC774\uC57C\uAE30\uB4E4"),o()(),n(6,"div",115),f(7,Co,23,7,"div",116),o()()),r&2){let e=d(2);l(7),g("ngForOf",e.savedStories)}}function bo(r,t){if(r&1&&(n(0,"span",136),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function Po(r,t){if(r&1&&(n(0,"div",134),f(1,bo,2,1,"span",135),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.personality.slice(0,3))}}function Mo(r,t){if(r&1&&(n(0,"div",134)(1,"span",136),i(2),o()()),r&2){let e=d().$implicit;l(2),C(e.personality)}}function ho(r,t){if(r&1){let e=O();n(0,"div",128),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.loadCharacter(c))}),n(1,"div",129)(2,"h4"),i(3),o(),n(4,"button",120),b("click",function(c){let s=_(e).$implicit,m=d(3);return u(s.id&&m.deleteCharacter(s.id,c))}),i(5," \u{1F5D1}\uFE0F "),o()(),n(6,"div",130)(7,"span",107),i(8),o(),n(9,"span",107),i(10),o(),n(11,"span",107),i(12),o()(),n(13,"p",131),i(14),o(),f(15,Po,2,1,"div",132)(16,Mo,3,1,"div",132),n(17,"div",133)(18,"span",123),i(19),o()()()}if(r&2){let e=t.$implicit,a=d(3);l(3),C(e.name),l(5),M("\u{1F464} ",e.gender),l(2),M("\u{1F4C5} ",e.age,"\uC138"),l(2),M("\u{1F4BC} ",e.occupation),l(2),C(e.backstory),l(),g("ngIf",a.isArray(e.personality)),l(),g("ngIf",!a.isArray(e.personality)&&e.personality),l(3),C(a.formatSaveDate(e.createdAt))}}function xo(r,t){if(r&1&&(n(0,"div",125)(1,"div",67)(2,"h3"),i(3,"\u{1F3AD} \uC800\uC7A5\uB41C \uCE90\uB9AD\uD130"),o(),n(4,"p",68),i(5,"AI\uAC00 \uC0DD\uC131\uD55C \uCE90\uB9AD\uD130\uB4E4"),o()(),n(6,"div",126),f(7,ho,20,8,"div",127),o()()),r&2){let e=d(2);l(7),g("ngForOf",e.savedCharacters)}}function Oo(r,t){if(r&1&&(n(0,"span",147),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function vo(r,t){if(r&1){let e=O();n(0,"div",140),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.loadScenario(c))}),n(1,"div",141)(2,"h4"),i(3),o(),n(4,"button",120),b("click",function(c){let s=_(e).$implicit;return d(3).deleteScenario(s.id),u(c.stopPropagation())}),i(5," \u{1F5D1}\uFE0F "),o()(),n(6,"p",142),i(7),o(),n(8,"div",143),f(9,Oo,2,1,"span",144),o(),n(10,"div",145)(11,"span",146),i(12),o(),n(13,"span",123),i(14),o()()()}if(r&2){let e=t.$implicit,a=d(3);l(3),C(e.title),l(4),C(e.description),l(2),g("ngForOf",e.tags.slice(0,3)),l(3),C(e.genre),l(2),C(a.formatSaveDate(e.createdAt))}}function yo(r,t){if(r&1&&(n(0,"div",137)(1,"div",67)(2,"h3"),i(3,"\u{1F3AC} \uC800\uC7A5\uB41C \uC2DC\uB098\uB9AC\uC624"),o(),n(4,"p",68),i(5,"AI\uAC00 \uC0DD\uC131\uD55C \uC2DC\uB098\uB9AC\uC624\uB4E4"),o()(),n(6,"div",138),f(7,vo,15,5,"div",139),o()()),r&2){let e=d(2);l(7),g("ngForOf",e.savedScenarios)}}function wo(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2694\uFE0F ",e.stats.attack)}}function ko(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F6E1}\uFE0F ",e.stats.defense)}}function Do(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2764\uFE0F ",e.stats.hp)}}function So(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F499} ",e.stats.mp)}}function Eo(r,t){if(r&1&&(n(0,"div",158),f(1,wo,2,1,"span",159)(2,ko,2,1,"span",159)(3,Do,2,1,"span",159)(4,So,2,1,"span",159),o()),r&2){let e=d().$implicit;l(),g("ngIf",e.stats.attack),l(),g("ngIf",e.stats.defense),l(),g("ngIf",e.stats.hp),l(),g("ngIf",e.stats.mp)}}function Io(r,t){if(r&1&&(n(0,"span",147),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function Bo(r,t){if(r&1){let e=O();n(0,"div",151),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.loadItem(c))}),n(1,"div",152)(2,"h4"),i(3),o(),n(4,"button",120),b("click",function(c){let s=_(e).$implicit,m=d(3);return u(s.id&&m.deleteItem(s.id,c))}),i(5," \u{1F5D1}\uFE0F "),o()(),n(6,"p",99),i(7),o(),f(8,Eo,5,4,"div",153),n(9,"div",154)(10,"span",155),i(11),o(),n(12,"span",156),i(13),o(),f(14,Io,2,1,"span",144),o(),n(15,"div",157)(16,"span",123),i(17),o()()()}if(r&2){let e=t.$implicit,a=d(3);v("grade-legendary",e.grade==="\uC2E0\uD654"||e.grade==="\uC804\uC124")("grade-rare",e.grade==="\uD76C\uADC0")("grade-uncommon",e.grade==="\uACE0\uAE09"),l(3),C(e.name),l(4),C(e.description),l(),g("ngIf",e.stats),l(3),C(e.type),l(2),C(e.grade),l(),g("ngForOf",e.tags.slice(0,2)),l(3),C(a.formatSaveDate(e.createdAt))}}function To(r,t){if(r&1&&(n(0,"div",148)(1,"div",67)(2,"h3"),i(3,"\u{1F48E} \uC800\uC7A5\uB41C \uC544\uC774\uD15C"),o(),n(4,"p",68),i(5,"AI\uAC00 \uC0DD\uC131\uD55C \uBB34\uAE30\uC640 \uC544\uC774\uD15C\uB4E4"),o()(),n(6,"div",149),f(7,Bo,18,13,"div",150),o()()),r&2){let e=d(2);l(7),g("ngForOf",e.savedItems)}}function Ao(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2694\uFE0F ",e.stats.attack)}}function No(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F6E1}\uFE0F ",e.stats.defense)}}function zo(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2764\uFE0F ",e.stats.hp)}}function Fo(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F499} ",e.stats.mp)}}function qo(r,t){if(r&1&&(n(0,"div",158),f(1,Ao,2,1,"span",159)(2,No,2,1,"span",159)(3,zo,2,1,"span",159)(4,Fo,2,1,"span",159),o()),r&2){let e=d().$implicit;l(),g("ngIf",e.stats.attack),l(),g("ngIf",e.stats.defense),l(),g("ngIf",e.stats.hp),l(),g("ngIf",e.stats.mp)}}function Go(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4B0} \uAD6C\uB9E4\uD558\uAE30"),o())}function Ro(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4B8} \uACE8\uB4DC \uBD80\uC871"),o())}function Vo(r,t){if(r&1){let e=O();n(0,"div",165)(1,"div",152)(2,"h4"),i(3),o(),n(4,"div",166),i(5),o()(),n(6,"p",99),i(7),o(),f(8,qo,5,4,"div",153),n(9,"div",154)(10,"span",155),i(11),o(),n(12,"span",156),i(13),o()(),n(14,"div",167)(15,"button",168),b("click",function(c){let s=_(e).$implicit,m=d(3);return u(m.buyItemFromShop(s,c))}),f(16,Go,2,0,"span",94)(17,Ro,2,0,"span",94),o()()()}if(r&2){let e=t.$implicit,a=d(3);v("grade-legendary",e.grade==="\uC2E0\uD654"||e.grade==="\uC804\uC124")("grade-rare",e.grade==="\uD76C\uADC0")("grade-uncommon",e.grade==="\uACE0\uAE09"),l(3),C(e.name),l(2),M("",e.price||a.calculateItemPriceByGrade(e.grade),"G"),l(2),C(e.description),l(),g("ngIf",e.stats),l(3),C(e.type),l(2),C(e.grade),l(2),v("insufficient-gold",a.gold<(e.price||a.calculateItemPriceByGrade(e.grade))),l(),g("ngIf",a.gold>=(e.price||a.calculateItemPriceByGrade(e.grade))),l(),g("ngIf",a.gold<(e.price||a.calculateItemPriceByGrade(e.grade)))}}function Lo(r,t){if(r&1&&(n(0,"div",161)(1,"div",67)(2,"h3"),i(3,"\u{1F6D2} AI \uC544\uC774\uD15C \uC0C1\uC810"),o(),n(4,"p",68),i(5,"AI\uAC00 \uC0DD\uC131\uD55C \uC544\uC774\uD15C\uC744 \uACE8\uB4DC\uB85C \uAD6C\uB9E4\uD558\uC138\uC694 (\uBCF4\uC720 \uACE8\uB4DC: "),n(6,"span",162),i(7),o(),i(8,")"),o()(),n(9,"div",163),f(10,Vo,18,16,"div",164),o()()),r&2){let e=d(2);l(7),M("",e.gold,"G"),l(3),g("ngForOf",e.savedItems)}}function $o(r,t){if(r&1){let e=O();n(0,"div",169),b("click",function(){let c=_(e).$implicit,s=d(2);return u(s.selectNovel(c))}),n(1,"div",170)(2,"div",171),i(3),o(),n(4,"div",172),i(5),o()(),n(6,"div",173)(7,"h4"),i(8),o(),n(9,"div",174),i(10),o(),n(11,"p",175),i(12),o(),n(13,"div",176)(14,"div",177)(15,"span",178),i(16,"\u{1F4B0}"),o(),n(17,"span",179),i(18),o()(),n(19,"div",177)(20,"span",178),i(21,"\u{1F392}"),o(),n(22,"span",179),i(23),o()()()()()}if(r&2){let e=t.$implicit;l(3),C(e.icon),l(),q("difficulty-"+e.difficulty),l(),M(" ",e.difficulty==="easy"?"\uC26C\uC6C0":e.difficulty==="normal"?"\uBCF4\uD1B5":"\uC5B4\uB824\uC6C0"," "),l(3),C(e.title),l(2),C(e.genre),l(2),C(e.description),l(6),M("",e.startingGold,"G"),l(5),M("",e.startingItems.length,"\uAC1C")}}function jo(r,t){if(r&1){let e=O();n(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div",47)(5,"h2"),i(6,"\u{1F4D6} \uC778\uD130\uB799\uD2F0\uBE0C \uC18C\uC124 \uB77C\uC774\uBE0C\uB7EC\uB9AC"),o(),n(7,"p",48),i(8,"\uB2F9\uC2E0\uC758 \uC120\uD0DD\uC774 \uB9CC\uB4E4\uC5B4\uAC00\uB294 \uC774\uC57C\uAE30"),o()(),n(9,"div",49),f(10,no,3,1,"div",50),n(11,"button",51),b("click",function(){_(e);let c=d();return u(c.logout())}),i(12," \u{1F6AA} \uB85C\uADF8\uC544\uC6C3 "),o()()(),n(13,"div",52)(14,"div",53),b("click",function(){_(e);let c=d();return u(c.scrollToNovels())}),n(15,"div",54),i(16,"\u{1F3AE}"),o(),n(17,"h3"),i(18,"\uC0C8\uB85C\uC6B4 \uBAA8\uD5D8"),o(),n(19,"p"),i(20,"\uB2E4\uC591\uD55C \uC7A5\uB974\uC758 \uC18C\uC124 \uC120\uD0DD"),o(),n(21,"div",55),i(22),o()(),n(23,"div",56),b("click",function(){_(e);let c=d();return u(c.openCharacterCreator())}),n(24,"div",54),i(25,"\u{1F3AD}"),o(),n(26,"h3"),i(27,"AI \uCE90\uB9AD\uD130 \uC0DD\uC131"),o(),n(28,"p"),i(29,"Loworld AI\uB85C \uCE90\uB9AD\uD130 \uB9CC\uB4E4\uAE30"),o(),n(30,"div",57),i(31,"AI"),o()(),n(32,"div",56),b("click",function(){_(e);let c=d();return u(c.openScenarioCreator())}),n(33,"div",54),i(34,"\u{1F3AC}"),o(),n(35,"h3"),i(36,"AI \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131"),o(),n(37,"p"),i(38,"Loworld AI\uB85C \uC0C1\uD669 \uB9CC\uB4E4\uAE30"),o(),n(39,"div",57),i(40,"AI"),o()(),n(41,"div",56),b("click",function(){_(e);let c=d();return u(c.openItemCreator())}),n(42,"div",54),i(43,"\u{1F48E}"),o(),n(44,"h3"),i(45,"AI \uC544\uC774\uD15C \uC0DD\uC131"),o(),n(46,"p"),i(47,"Loworld AI\uB85C \uBB34\uAE30/\uC544\uC774\uD15C \uB9CC\uB4E4\uAE30"),o(),n(48,"div",57),i(49,"AI"),o()(),n(50,"div",58),b("click",function(){_(e);let c=d();return u(c.toggleStoryCreatorPanel())}),n(51,"div",54),i(52,"\u2728"),o(),n(53,"h3"),i(54,"\uC2A4\uD1A0\uB9AC \uC0DD\uC131"),o(),n(55,"p"),i(56,"\uC800\uC7A5\uB41C \uCF58\uD150\uCE20\uB85C \uC0C8 \uC774\uC57C\uAE30 \uB9CC\uB4E4\uAE30"),o(),n(57,"div",59),i(58,"NEW"),o()()(),f(59,uo,54,16,"div",60)(60,fo,8,1,"div",61)(61,xo,8,1,"div",62)(62,yo,8,1,"div",63)(63,To,8,1,"div",64)(64,Lo,11,2,"div",65),o(),n(65,"div",66)(66,"div",67)(67,"h3"),i(68,"\u{1F4DA} \uC18C\uC124 \uC120\uD0DD"),o(),n(69,"p",68),i(70,"\uC0C8\uB85C\uC6B4 \uC774\uC57C\uAE30\uB97C \uC2DC\uC791\uD558\uC138\uC694"),o()(),n(71,"div",69),f(72,$o,24,9,"div",70),o()()()()}if(r&2){let e=d();l(10),g("ngIf",e.getCurrentUsername()),l(12),M("",e.novelTemplates.length,"\uAC1C"),l(37),g("ngIf",e.showStoryCreatorPanel),l(),g("ngIf",e.savedStories.length>0),l(),g("ngIf",e.savedCharacters.length>0),l(),g("ngIf",e.savedScenarios.length>0),l(),g("ngIf",e.savedItems.length>0),l(),g("ngIf",e.savedItems.length>0),l(8),g("ngForOf",e.novelTemplates)}}function Uo(r,t){if(r&1){let e=O();n(0,"div",180)(1,"div",181)(2,"div",182),i(3),o(),n(4,"h1",183),i(5),o(),n(6,"div",184),i(7),o(),n(8,"p",185),i(9),o(),n(10,"div",186)(11,"div",187)(12,"span",188),i(13,"\uC2DC\uC791 \uACE8\uB4DC:"),o(),n(14,"span",189),i(15),o()(),n(16,"div",187)(17,"span",188),i(18,"\uC2DC\uC791 \uC544\uC774\uD15C:"),o(),n(19,"span",189),i(20),o()(),n(21,"div",187)(22,"span",188),i(23,"\uB09C\uC774\uB3C4:"),o(),n(24,"span",189),i(25),o()()(),n(26,"div",190)(27,"button",191),b("click",function(){_(e);let c=d();return u(c.backToNovelSelection())}),i(28,"\u2190 \uB2E4\uB978 \uC18C\uC124 \uC120\uD0DD"),o(),n(29,"button",192),b("click",function(){_(e);let c=d();return u(c.startStory())}),i(30,"\u{1F4DA} \uBAA8\uD5D8 \uC2DC\uC791"),o()()()()}if(r&2){let e=d();l(3),C(e.selectedNovel==null?null:e.selectedNovel.icon),l(2),C(e.selectedNovel==null?null:e.selectedNovel.title),l(2),C(e.selectedNovel==null?null:e.selectedNovel.genre),l(2),C(e.selectedNovel==null?null:e.selectedNovel.description),l(6),M("\u{1F4B0} ",e.selectedNovel==null?null:e.selectedNovel.startingGold,"G"),l(5),M("\u{1F392} ",(e.selectedNovel==null||e.selectedNovel.startingItems==null?null:e.selectedNovel.startingItems.length)||0,"\uAC1C"),l(4),q("difficulty-badge-"+(e.selectedNovel==null?null:e.selectedNovel.difficulty)),l(),M(" ",(e.selectedNovel==null?null:e.selectedNovel.difficulty)==="easy"?"\u2B50 \uC26C\uC6C0":(e.selectedNovel==null?null:e.selectedNovel.difficulty)==="normal"?"\u2B50\u2B50 \uBCF4\uD1B5":"\u2B50\u2B50\u2B50 \uC5B4\uB824\uC6C0"," ")}}function Ho(r,t){if(r&1){let e=O();n(0,"div",247),b("click",function(){_(e);let c=d(2);return u(c.expandLeftPanel())}),n(1,"div",248),i(2,"\u{1F4DA}"),o(),n(3,"div",249),i(4,"\uBA54\uB274"),o()()}}function Yo(r,t){if(r&1){let e=O();n(0,"div",250)(1,"div",251)(2,"h3"),i(3,"\u{1F3AE} \uAC8C\uC784 \uBA54\uB274"),o(),n(4,"button",76),b("click",function(){_(e);let c=d(2);return u(c.closeLeftPanel())}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"button",253),b("click",function(){_(e);let c=d(2);return u(c.saveGame())}),i(8,"\u{1F4BE} \uAC8C\uC784 \uC800\uC7A5"),o(),n(9,"button",253),b("click",function(){_(e);let c=d(2);return u(c.loadGame())}),i(10,"\u{1F4C2} \uAC8C\uC784 \uBD88\uB7EC\uC624\uAE30"),o(),n(11,"button",253),b("click",function(){_(e);let c=d(2);return u(c.toggleCharacterPanel())}),i(12,"\u{1F464} \uCE90\uB9AD\uD130 \uC815\uBCF4"),o(),n(13,"button",253),b("click",function(){_(e);let c=d(2);return u(c.openCharacterCreator())}),i(14,"\u{1F3AD} AI \uCE90\uB9AD\uD130 \uC0DD\uC131"),o(),n(15,"button",253),b("click",function(){_(e);let c=d(2);return u(c.toggleInventoryPanel())}),i(16),o(),n(17,"button",253),b("click",function(){_(e);let c=d(2);return u(c.toggleShopPanel())}),i(18,"\u{1F6D2} \uC0C1\uC810"),o(),n(19,"button",253),b("click",function(){_(e);let c=d(2);return u(c.startBattle())}),i(20,"\u2694\uFE0F \uC804\uD22C\uD558\uAE30"),o(),k(21,"div",254),n(22,"div",255),i(23,"\u{1F3B2} \uC544\uC774\uD15C \uAD00\uB9AC"),o(),n(24,"button",256),b("click",function(){_(e);let c=d(2);return u(c.generateRandomItems())}),i(25,"\u2728 \uB79C\uB364 \uC544\uC774\uD15C \uC0DD\uC131"),o(),n(26,"button",257),b("click",function(){_(e);let c=d(2);return u(c.resetInventory())}),i(27,"\u{1F504} \uC778\uBCA4\uD1A0\uB9AC \uCD08\uAE30\uD654"),o(),k(28,"div",254),n(29,"div",255),i(30,"\u2699\uFE0F \uAC1C\uBC1C\uC790 \uB3C4\uAD6C"),o(),n(31,"button",253),b("click",function(){_(e);let c=d(2);return u(c.debugInventory())}),i(32,"\u{1F50D} \uC778\uBCA4\uD1A0\uB9AC \uB514\uBC84\uADF8"),o(),n(33,"button",258),b("click",function(){_(e);let c=d(2);return u(c.resetGameData())}),i(34,"\u{1F5D1}\uFE0F \uAC8C\uC784 \uB370\uC774\uD130 \uCD08\uAE30\uD654"),o()()()}if(r&2){let e=d(2);l(16),M("\u{1F392} \uC778\uBCA4\uD1A0\uB9AC (",e.inventory.length,")")}}function Wo(r,t){if(r&1&&(n(0,"p"),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function Ko(r,t){if(r&1&&(n(0,"div"),f(1,Wo,2,1,"p",109),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.lines)}}function Xo(r,t){if(r&1&&(n(0,"div"),i(1),o()),r&2){let e=d().$implicit;l(),M("\u2B50 ",e.choiceText)}}function Qo(r,t){if(r&1&&(n(0,"div",259),f(1,Ko,2,1,"div",94)(2,Xo,2,1,"div",94),o()),r&2){let e=t.$implicit;l(),g("ngIf",e.type==="story"),l(),g("ngIf",e.type==="choice")}}function Jo(r,t){if(r&1&&(n(0,"p",285),i(1),o()),r&2){let e=d(3);l(),M(" ",e.battleTurn==="player"?"\uB2F9\uC2E0\uC758 \uCC28\uB840\uC785\uB2C8\uB2E4.":"\uC801\uC774 \uD589\uB3D9\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4..."," ")}}function Zo(r,t){if(r&1&&(n(0,"div",269)(1,"span",270),i(2,"\uB0B4\uB825"),o(),n(3,"div",271)(4,"div",272),k(5,"div",286),o(),n(6,"span",179),i(7),o()()()),r&2){let e=d(3);l(5),S("width",e.playerInternalPower.current/e.playerInternalPower.max*100,"%"),l(2),D("",e.playerInternalPower.current,"/",e.playerInternalPower.max)}}function ei(r,t){if(r&1&&(n(0,"div",269)(1,"span",270),i(2,"\uB0B4\uB825"),o(),n(3,"div",271)(4,"div",272),k(5,"div",286),o(),n(6,"span",179),i(7),o()()()),r&2){let e=d(3);l(5),S("width",e.battleEnemy.internalPower/e.battleEnemy.maxInternalPower*100,"%"),l(2),D("",e.battleEnemy.internalPower,"/",e.battleEnemy.maxInternalPower)}}function ti(r,t){if(r&1&&(n(0,"div",287),i(1),o()),r&2){let e=t.$implicit,a=t.index;S("animation-delay",a*50,"ms"),v("damage",e.includes("\uD53C\uD574"))("heal",e.includes("\uD68C\uBCF5"))("critical",e.includes("\uCE58\uBA85\uD0C0")||e.includes("\uD68C\uC2EC"))("combo",e.includes("\uC5F0\uACC4")),l(),M(" ",e," ")}}function ni(r,t){if(r&1&&(n(0,"div",260)(1,"div",261)(2,"div",262)(3,"h3"),i(4,"\u2014 \uC804\uD22C \u2014"),o(),f(5,Jo,2,1,"p",263),o(),n(6,"div",264)(7,"div",265)(8,"div",266)(9,"h4"),i(10),o(),n(11,"span",267),i(12),o()(),n(13,"div",268)(14,"div",269)(15,"span",270),i(16,"\uCCB4\uB825"),o(),n(17,"div",271)(18,"div",272),k(19,"div",273),o(),n(20,"span",179),i(21),o()()(),n(22,"div",269)(23,"span",270),i(24,"\uB9C8\uB825"),o(),n(25,"div",271)(26,"div",272),k(27,"div",274),o(),n(28,"span",179),i(29),o()()(),f(30,Zo,8,4,"div",275),n(31,"div",276)(32,"span",270),i(33,"\uACF5\uACA9"),o(),n(34,"span",277),i(35),o(),n(36,"span",278),i(37,"|"),o(),n(38,"span",270),i(39,"\uBC29\uC5B4"),o(),n(40,"span",277),i(41),o()()()(),n(42,"div",279),i(43,"VS"),o(),n(44,"div",280)(45,"div",266)(46,"h4"),i(47),o()(),n(48,"div",268)(49,"div",269)(50,"span",270),i(51,"\uCCB4\uB825"),o(),n(52,"div",271)(53,"div",272),k(54,"div",281),o(),n(55,"span",179),i(56),o()()(),n(57,"div",269)(58,"span",270),i(59,"\uB9C8\uB825"),o(),n(60,"div",271)(61,"div",272),k(62,"div",274),o(),n(63,"span",179),i(64),o()()(),f(65,ei,8,4,"div",275),n(66,"div",276)(67,"span",270),i(68,"\uACF5\uACA9"),o(),n(69,"span",277),i(70),o(),n(71,"span",278),i(72,"|"),o(),n(73,"span",270),i(74,"\uBC29\uC5B4"),o(),n(75,"span",277),i(76),o()()()()()(),n(77,"div",282,0)(79,"div",283),f(80,ti,2,11,"div",284),o()()()),r&2){let e=d(2);l(5),g("ngIf",!e.battleEnded),l(2),v("active-turn",e.battleTurn==="player"),l(3),C(e.playerCharacter.name),l(2),M("Lv.",e.playerCharacter.level),l(7),S("width",e.playerCharacter.hp/e.playerCharacter.maxHp*100,"%"),v("low",e.playerCharacter.hp/e.playerCharacter.maxHp<.3),l(2),D("",e.playerCharacter.hp,"/",e.playerCharacter.maxHp),l(6),S("width",e.playerCharacter.mp/e.playerCharacter.maxMp*100,"%"),l(2),D("",e.playerCharacter.mp,"/",e.playerCharacter.maxMp),l(),g("ngIf",e.learnedMartialSkills.length>0),l(5),C(e.playerCharacter.attack),l(6),C(e.playerCharacter.defense),l(3),v("active-turn",e.battleTurn==="enemy"),l(3),C(e.battleEnemy.name),l(7),S("width",e.battleEnemy.hp/e.battleEnemy.maxHp*100,"%"),v("low",e.battleEnemy.hp/e.battleEnemy.maxHp<.3),l(2),D("",e.battleEnemy.hp,"/",e.battleEnemy.maxHp),l(6),S("width",e.battleEnemy.mp/e.battleEnemy.maxMp*100,"%"),l(2),D("",e.battleEnemy.mp,"/",e.battleEnemy.maxMp),l(),g("ngIf",e.learnedMartialSkills.length>0),l(5),C(e.battleEnemy.attack),l(6),C(e.battleEnemy.defense),l(4),g("ngForOf",e.battleLog.slice(-8))}}function oi(r,t){if(r&1){let e=O();n(0,"div",290)(1,"button",291),b("click",function(){let c=_(e).index,s=d(3);return u(s.selectChoice(c))}),n(2,"span",292),i(3),o(),n(4,"span",293),i(5),o()(),n(6,"button",294),b("click",function(){let c=_(e).index,s=d(3);return u(s.openScenarioLinkPanel(c))}),i(7," \u{1F517} "),o()()}if(r&2){let e=t.$implicit,a=t.index;l(3),C(a+1),l(2),C(e)}}function ii(r,t){if(r&1&&(n(0,"div")(1,"h3"),i(2,"\uC5B4\uB5BB\uAC8C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"),o(),n(3,"div",288),f(4,oi,8,2,"div",289),o()()),r&2){let e=d(2);l(4),g("ngForOf",e.choices)}}function ri(r,t){if(r&1){let e=O();n(0,"div",299)(1,"button",296),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.useMartialSkillInBattle(c))}),n(2,"span",292),i(3),o(),n(4,"span",293),i(5),n(6,"span",297),i(7),o(),n(8,"span",300),i(9),o()()()()}if(r&2){let e=t.$implicit,a=t.index,c=d(3);l(),g("disabled",c.playerInternalPower.current<e.internalPowerCost),l(2),C(a+5),l(2),D(" ",e.name," (",e.chineseName,") "),l(2),M("\uB0B4\uACF5 ",e.internalPowerCost),l(),v("grade-\uC808\uD559",e.grade==="\uC808\uD559"),l(),C(e.grade)}}function ai(r,t){if(r&1){let e=O();n(0,"div")(1,"h3"),i(2,"\uC5B4\uB5BB\uAC8C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"),o(),n(3,"div",295)(4,"div",290)(5,"button",291),b("click",function(){_(e);let c=d(2);return u(c.playerAttack())}),n(6,"span",292),i(7,"1"),o(),n(8,"span",293),i(9,"\uAE30\uBCF8 \uACF5\uACA9"),o()()(),n(10,"div",290)(11,"button",296),b("click",function(){_(e);let c=d(2);return u(c.playerSkill())}),n(12,"span",292),i(13,"2"),o(),n(14,"span",293),i(15,"\uB9C8\uBC95 \uACF5\uACA9 "),n(16,"span",297),i(17,"(MP 10)"),o()()()(),n(18,"div",290)(19,"button",291),b("click",function(){_(e);let c=d(2);return u(c.playerDefend())}),n(20,"span",292),i(21,"3"),o(),n(22,"span",293),i(23,"\uBC29\uC5B4 \uC790\uC138"),o()()(),n(24,"div",290)(25,"button",296),b("click",function(){_(e);let c=d(2);return u(c.usePotion())}),n(26,"span",292),i(27,"4"),o(),n(28,"span",293),i(29,"\uD68C\uBCF5 \uD3EC\uC158 \uC0AC\uC6A9"),o()()(),f(30,ri,10,8,"div",298),o()()}if(r&2){let e=d(2);l(11),g("disabled",e.playerCharacter.mp<10),l(14),g("disabled",!e.hasPotion()),l(5),g("ngForOf",e.learnedMartialSkills)}}function ci(r,t){if(r&1){let e=O();n(0,"div",247),b("click",function(){_(e);let c=d(2);return u(c.expandRightPanel())}),n(1,"div",248),i(2,"\u{1F4CA}"),o(),n(3,"div",249),i(4,"\uC815\uBCF4"),o()()}}function li(r,t){if(r&1){let e=O();n(0,"div",250)(1,"div",251)(2,"h3"),i(3,"\u{1F4CA} \uAC8C\uC784 \uC815\uBCF4"),o(),n(4,"button",76),b("click",function(){_(e);let c=d(2);return u(c.closeRightPanel())}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"div"),i(8),o(),n(9,"div"),i(10),o(),n(11,"div"),i(12),o()()()}if(r&2){let e=d(2);l(8),M("\uC120\uD0DD \uD69F\uC218: ",e.currentPath.length),l(2),M("\uC2A4\uD1A0\uB9AC \uBE14\uB85D: ",e.storyBlocks.length),l(2),D("\uACBD\uD5D8\uCE58: ",e.playerCharacter.exp,"/",e.playerCharacter.maxExp)}}function si(r,t){if(r&1){let e=O();n(0,"div",193)(1,"div",194)(2,"div",195),f(3,Ho,5,0,"div",196)(4,Yo,35,1,"div",197),o()(),n(5,"div",198)(6,"div",199)(7,"button",200),b("click",function(){_(e);let c=d();return u(c.toggleLeftPanel())}),N(),n(8,"svg",201),k(9,"line",202)(10,"line",203)(11,"line",204),o()(),L(),n(12,"button",205),b("click",function(){_(e);let c=d();return u(c.backToNovelSelection())}),N(),n(13,"svg",201),k(14,"path",206)(15,"polyline",207),o(),L(),n(16,"span"),i(17,"\uD648"),o()(),n(18,"div",208)(19,"button",209),b("click",function(){_(e);let c=d();return u(c.toggleCharacterPanel())}),N(),n(20,"svg",210),k(21,"path",211)(22,"circle",212),o(),L(),n(23,"span"),i(24,"\uCE90\uB9AD\uD130"),o()(),n(25,"button",213),b("click",function(){_(e);let c=d();return u(c.toggleInventoryPanel())}),N(),n(26,"svg",210),k(27,"path",214)(28,"polyline",215)(29,"line",216),o(),L(),n(30,"span"),i(31),o()(),n(32,"button",217),b("click",function(){_(e);let c=d();return u(c.openDungeonDialog())}),N(),n(33,"svg",210),k(34,"rect",218)(35,"line",219)(36,"line",220)(37,"line",221)(38,"line",222),o(),L(),n(39,"span"),i(40,"\uB358\uC804"),o()(),n(41,"button",223),b("click",function(){_(e);let c=d();return u(c.toggleWuxiaPanel())}),N(),n(42,"svg",210),k(43,"circle",224)(44,"path",225),o(),L(),n(45,"span"),i(46,"\uC218\uB828"),o()(),n(47,"button",226),b("click",function(){_(e);let c=d();return u(c.toggleAdvancedFlowPanel())}),N(),n(48,"svg",210),k(49,"circle",227)(50,"circle",228)(51,"circle",229)(52,"line",230)(53,"line",231),o(),L(),n(54,"span"),i(55,"\uD50C\uB85C\uC6B0"),o()(),n(56,"button",232),b("click",function(){_(e);let c=d();return u(c.toggleRightPanel())}),N(),n(57,"svg",210),k(58,"line",233)(59,"line",234)(60,"line",235),o()(),L(),n(61,"button",236),b("click",function(){_(e);let c=d();return u(c.logout())}),N(),n(62,"svg",210),k(63,"path",237)(64,"polyline",238)(65,"line",239),o()()()(),L(),n(66,"div",240)(67,"div",241)(68,"h2"),i(69,"\uC81C1\uC7A5 - \uC6B4\uBA85\uC758 \uC2DC\uC791"),o()(),n(70,"div",242),f(71,Qo,3,2,"div",243),o(),f(72,ni,81,35,"div",244)(73,ii,5,1,"div",94)(74,ai,31,3,"div",94),o()(),n(75,"div",245)(76,"div",246),f(77,ci,5,0,"div",196)(78,li,13,4,"div",197),o()()()}if(r&2){let e=d();l(),v("collapsed",e.isLeftPanelCollapsed),l(2),g("ngIf",e.isLeftPanelCollapsed),l(),g("ngIf",!e.isLeftPanelCollapsed),l(15),v("active",e.showCharacterPanel),l(6),v("active",e.showInventoryPanel),l(6),M("\uC778\uBCA4\uD1A0\uB9AC (",e.inventory.length,")"),l(10),v("active",e.showWuxiaPanel),l(30),g("ngForOf",e.storyBlocks),l(),g("ngIf",e.inBattle),l(),g("ngIf",e.choices.length>0&&!e.inBattle),l(),g("ngIf",e.inBattle&&!e.battleEnded&&e.battleTurn==="player"),l(),v("collapsed",e.isRightPanelCollapsed),l(2),g("ngIf",e.isRightPanelCollapsed),l(),g("ngIf",!e.isRightPanelCollapsed)}}function di(r,t){if(r&1){let e=O();n(0,"div",301),b("click",function(){_(e);let c=d();return u(c.closeAllPanels())}),o()}}function gi(r,t){if(r&1&&(n(0,"div",341)(1,"div",342),i(2),o(),n(3,"div",343),i(4),o()()),r&2){let e=t.$implicit;l(2),C(e.name),l(2),D("Lv.",e.level,"/",e.maxLevel)}}function pi(r,t){if(r&1&&(n(0,"div",338)(1,"h4",325),i(2,"\u2728 \uBCF4\uC720 \uC2A4\uD0AC"),o(),n(3,"div",339),f(4,gi,5,3,"div",340),o()()),r&2){let e=d(2);l(4),g("ngForOf",e.playerCharacter.skills)}}function mi(r,t){if(r&1){let e=O();n(0,"div",302)(1,"div",251)(2,"h3"),i(3,"\u{1F4CA} \uCE90\uB9AD\uD130 \uC815\uBCF4"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.showCharacterPanel=!1)}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"div",303)(8,"div",304)(9,"div",305)(10,"span",306),i(11,"\u{1F464}"),o()(),n(12,"div",307)(13,"h2"),i(14),o(),n(15,"div",308),i(16),o()()()(),n(17,"div",309)(18,"div",310)(19,"span"),i(20,"\uACBD\uD5D8\uCE58"),o(),n(21,"span",311),i(22),o()(),n(23,"div",312),k(24,"div",313),o(),n(25,"div",314),i(26),o()(),n(27,"div",315)(28,"div",316)(29,"div",317)(30,"span",318),i(31,"\u2764\uFE0F"),o(),n(32,"span",319),i(33,"HP"),o(),n(34,"span",320),i(35),o()(),n(36,"div",321),k(37,"div",313),o()(),n(38,"div",322)(39,"div",317)(40,"span",318),i(41,"\u{1F499}"),o(),n(42,"span",319),i(43,"MP"),o(),n(44,"span",320),i(45),o()(),n(46,"div",323),k(47,"div",313),o()()(),n(48,"div",324)(49,"h4",325),i(50,"\u2694\uFE0F \uAE30\uBCF8 \uB2A5\uB825\uCE58"),o(),n(51,"div",326)(52,"div",177)(53,"div",178),i(54,"\u2694\uFE0F"),o(),n(55,"div",327)(56,"div",328),i(57,"\uACF5\uACA9\uB825"),o(),n(58,"div",179),i(59),o()()(),n(60,"div",177)(61,"div",178),i(62,"\u{1F6E1}\uFE0F"),o(),n(63,"div",327)(64,"div",328),i(65,"\uBC29\uC5B4\uB825"),o(),n(66,"div",179),i(67),o()()(),n(68,"div",177)(69,"div",178),i(70,"\u26A1"),o(),n(71,"div",327)(72,"div",328),i(73,"\uBBFC\uCCA9"),o(),n(74,"div",179),i(75),o()()(),n(76,"div",177)(77,"div",178),i(78,"\u{1F4AA}"),o(),n(79,"div",327)(80,"div",328),i(81,"\uD798"),o(),n(82,"div",179),i(83),o()()(),n(84,"div",177)(85,"div",178),i(86,"\u{1F9E0}"),o(),n(87,"div",327)(88,"div",328),i(89,"\uC9C0\uB2A5"),o(),n(90,"div",179),i(91),o()()(),n(92,"div",177)(93,"div",178),i(94,"\u2B50"),o(),n(95,"div",327)(96,"div",328),i(97,"\uC2A4\uD0AC \uD3EC\uC778\uD2B8"),o(),n(98,"div",179),i(99),o()()()()(),n(100,"div",329)(101,"h4",325),i(102,"\u{1F4B0} \uBCF4\uC720 \uC7AC\uD654"),o(),n(103,"div",330)(104,"div",331)(105,"span",332),i(106,"\u{1F4B0}"),o(),n(107,"span",333),i(108),W(109,"number"),o()(),n(110,"div",334)(111,"span",332),i(112,"\u{1F48E}"),o(),n(113,"span",333),i(114),W(115,"number"),o()(),n(116,"div",335)(117,"span",332),i(118,"\u{1F52E}"),o(),n(119,"span",333),i(120),W(121,"number"),o()(),n(122,"div",336)(123,"span",332),i(124,"\u{1F3AB}"),o(),n(125,"span",333),i(126),W(127,"number"),o()()()(),f(128,pi,5,1,"div",337),o()()}if(r&2){let e=d();l(14),C(e.playerCharacter.name),l(2),M("Lv.",e.playerCharacter.level),l(6),D("",e.playerCharacter.exp," / ",e.playerCharacter.maxExp),l(2),S("width",e.playerCharacter.exp/e.playerCharacter.maxExp*100,"%"),l(2),M(" ",(e.playerCharacter.exp/e.playerCharacter.maxExp*100).toFixed(1),"% "),l(9),D("",e.playerCharacter.hp," / ",e.playerCharacter.maxHp),l(2),S("width",e.playerCharacter.hp/e.playerCharacter.maxHp*100,"%"),v("low",e.playerCharacter.hp/e.playerCharacter.maxHp<.3)("medium",e.playerCharacter.hp/e.playerCharacter.maxHp>=.3&&e.playerCharacter.hp/e.playerCharacter.maxHp<.7),l(8),D("",e.playerCharacter.mp," / ",e.playerCharacter.maxMp),l(2),S("width",e.playerCharacter.mp/e.playerCharacter.maxMp*100,"%"),l(12),C(e.playerCharacter.attack),l(8),C(e.playerCharacter.defense),l(8),C(e.playerCharacter.agility),l(8),C(e.playerCharacter.strength),l(8),C(e.playerCharacter.intelligence),l(8),C(e.playerCharacter.skillPoints),l(9),C(J(109,30,e.playerCharacter.gold)),l(6),C(J(115,32,e.playerCharacter.gem)),l(6),C(J(121,34,e.playerCharacter.crystal)),l(6),C(J(127,36,e.playerCharacter.ticket)),l(2),g("ngIf",e.playerCharacter.skills&&e.playerCharacter.skills.length>0)}}function _i(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("weapon"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Un,e)),l(3),C(e.name||e.baseType)}}function ui(r,t){r&1&&(n(0,"div",388),i(1,"\uBB34\uAE30"),o())}function Ci(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("armor"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Hn,e)),l(3),C(e.name||e.baseType)}}function fi(r,t){r&1&&(n(0,"div",388),i(1,"\uBC29\uC5B4\uAD6C"),o())}function bi(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("helmet"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Yn,e)),l(3),C(e.name||e.baseType)}}function Pi(r,t){r&1&&(n(0,"div",388),i(1,"\uD22C\uAD6C"),o())}function Mi(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("amulet"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Wn,e)),l(3),C(e.name||e.baseType)}}function hi(r,t){r&1&&(n(0,"div",388),i(1,"\uBAA9\uAC78\uC774"),o())}function xi(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("belt"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Kn,e)),l(3),C(e.name||e.baseType)}}function Oi(r,t){r&1&&(n(0,"div",388),i(1,"\uD5C8\uB9AC\uB760"),o())}function vi(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("gloves"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Xn,e)),l(3),C(e.name||e.baseType)}}function yi(r,t){r&1&&(n(0,"div",388),i(1,"\uC7A5\uAC11"),o())}function wi(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("boots"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Qn,e)),l(3),C(e.name||e.baseType)}}function ki(r,t){r&1&&(n(0,"div",388),i(1,"\uC2E0\uBC1C"),o())}function Di(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("ring1"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Jn,e)),l(3),C(e.name||e.baseType)}}function Si(r,t){r&1&&(n(0,"div",388),i(1,"\uBC18\uC9C0"),o())}function Ei(r,t){if(r&1){let e=O();n(0,"div",384)(1,"div",385)(2,"div",386),i(3),o(),n(4,"button",387),b("mousedown",function(c){return _(e),u(c.stopPropagation())})("click",function(c){return _(e),d(3).unequipItem("ring2"),c.stopPropagation(),u(c.preventDefault())}),i(5,"\u2715"),o()()()}if(r&2){let e=t.ngIf;g("cdkDragData",G(2,Zn,e)),l(3),C(e.name||e.baseType)}}function Ii(r,t){r&1&&(n(0,"div",388),i(1,"\uBC18\uC9C0"),o())}function Bi(r,t){if(r&1){let e=O();n(0,"button",389),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.setInventoryFilter(c.value))}),i(1),o()}if(r&2){let e=t.$implicit,a=d(3);v("active",a.inventoryFilter===e.value),l(),D(" ",e.icon," ",e.label," ")}}function Ti(r,t){if(r&1&&(n(0,"div",396),i(1),o()),r&2){let e=d().$implicit;l(),M(" \xD7",e.quantity," ")}}function Ai(r,t){if(r&1&&(n(0,"div",397)(1,"div",398),i(2),o(),n(3,"div",399),i(4),o()()),r&2){let e=d().$implicit,a=d(3);l(2),C(a.getInventoryItemIcon(e)),l(2),C(a.getTruncatedName(e))}}function Ni(r,t){if(r&1){let e=O();n(0,"div",390),b("click",function(c){let s=_(e),m=s.$implicit,P=s.index,h=d(3);return u(h.onInventoryCellClick(c,m,P))})("contextmenu",function(c){let s=_(e),m=s.$implicit,P=s.index,h=d(3);return u(h.onInventoryCellRightClick(c,m,P))})("dblclick",function(){let c=_(e),s=c.$implicit,m=c.index,P=d(3);return u(P.onInventoryCellDoubleClick(s,m))}),n(1,"div",391)(2,"div",392),i(3),o(),n(4,"div",393),i(5),o(),f(6,Ti,2,1,"div",394),o(),f(7,Ai,5,2,"div",395),o()}if(r&2){let e=t.$implicit,a=t.index,c=d(3);q("rarity-"+e.rarity),g("cdkDragData",rt(7,eo,e,a)),l(3),C(c.getInventoryItemIcon(e)),l(),g("title",e.nameKo||e.name),l(),M(" ",c.getTruncatedName(e)," "),l(),g("ngIf",e.quantity>1)}}function zi(r,t){r&1&&(n(0,"div",400)(1,"div",391)(2,"div",401),i(3,"\u{1F4E6}"),o()()())}function Fi(r,t){if(r&1){let e=O();n(0,"div",349)(1,"div",350)(2,"h4",325),i(3,"\u2694\uFE0F \uC7A5\uCC29 \uC911\uC778 \uC7A5\uBE44"),o(),n(4,"div",351)(5,"div",352)(6,"div",353),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"weapon"))}),n(7,"div",354),i(8,"\u2694\uFE0F"),o(),f(9,_i,6,4,"div",355)(10,ui,2,0,"ng-template",null,1,R),o(),n(12,"div",356),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"armor"))}),n(13,"div",354),i(14,"\u{1F6E1}\uFE0F"),o(),f(15,Ci,6,4,"div",355)(16,fi,2,0,"ng-template",null,2,R),o()(),n(18,"div",357)(19,"div",358),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"helmet"))}),n(20,"div",354),i(21,"\u26D1\uFE0F"),o(),f(22,bi,6,4,"div",355)(23,Pi,2,0,"ng-template",null,3,R),o(),n(25,"div",359),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"amulet"))}),n(26,"div",354),i(27,"\u{1F4FF}"),o(),f(28,Mi,6,4,"div",355)(29,hi,2,0,"ng-template",null,4,R),o(),n(31,"div",360),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"belt"))}),n(32,"div",354),i(33,"\u{1F454}"),o(),f(34,xi,6,4,"div",355)(35,Oi,2,0,"ng-template",null,5,R),o()(),n(37,"div",361)(38,"div",362),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"gloves"))}),n(39,"div",354),i(40,"\u{1F9E4}"),o(),f(41,vi,6,4,"div",355)(42,yi,2,0,"ng-template",null,6,R),o(),n(44,"div",363),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"boots"))}),n(45,"div",354),i(46,"\u{1F462}"),o(),f(47,wi,6,4,"div",355)(48,ki,2,0,"ng-template",null,7,R),o()(),n(50,"div",364)(51,"div",365),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"ring1"))}),n(52,"div",354),i(53,"\u{1F48D}"),o(),f(54,Di,6,4,"div",355)(55,Si,2,0,"ng-template",null,8,R),o(),n(57,"div",366),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onEquipmentSlotDrop(c,"ring2"))}),n(58,"div",354),i(59,"\u{1F48D}"),o(),f(60,Ei,6,4,"div",355)(61,Ii,2,0,"ng-template",null,9,R),o()()()(),n(63,"div",367)(64,"h4",325),i(65,"\u{1F392} \uBCF4\uC720 \uC544\uC774\uD15C"),o(),n(66,"div",368)(67,"div",369),f(68,Bi,2,4,"button",370),o(),n(69,"div",371)(70,"label"),i(71,"\uC815\uB82C:"),o(),n(72,"select",372),H("ngModelChange",function(c){_(e);let s=d(2);return U(s.inventorySortBy,c)||(s.inventorySortBy=c),u(c)}),b("change",function(){_(e);let c=d(2);return u(c.sortInventory())}),n(73,"option",373),i(74,"\uD76C\uADC0\uB3C4\uC21C"),o(),n(75,"option",374),i(76,"\uD0C0\uC785\uC21C"),o(),n(77,"option",375),i(78,"\uC774\uB984\uC21C"),o(),n(79,"option",376),i(80,"\uCD5C\uADFC \uD68D\uB4DD\uC21C"),o()(),n(81,"button",377),b("click",function(){_(e);let c=d(2);return u(c.autoSortInventory())}),i(82," \u{1F504} \uC790\uB3D9 \uC815\uB82C "),o()()(),n(83,"div",378)(84,"div",379),b("cdkDropListDropped",function(c){_(e);let s=d(2);return u(s.onInventoryDrop(c))}),f(85,Ni,8,10,"div",380)(86,zi,4,0,"div",381),o()(),n(87,"div",382)(88,"span",383),i(89),o()()()()}if(r&2){let e=F(11),a=F(17),c=F(24),s=F(30),m=F(36),P=F(43),h=F(49),x=F(56),w=F(62),p=d(2);l(6),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.weapon)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.weapon==null?null:p.playerCharacter.equipment.weapon.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.weapon==null?null:p.playerCharacter.equipment.weapon.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.weapon==null?null:p.playerCharacter.equipment.weapon.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.weapon==null?null:p.playerCharacter.equipment.weapon.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.weapon==null?null:p.playerCharacter.equipment.weapon.rarity)==="legendary"),g("cdkDropListData",G(152,Nn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.weapon))("cdkDropListConnectedTo",Y(154,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.weapon)("ngIfElse",e),l(3),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.armor)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.armor==null?null:p.playerCharacter.equipment.armor.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.armor==null?null:p.playerCharacter.equipment.armor.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.armor==null?null:p.playerCharacter.equipment.armor.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.armor==null?null:p.playerCharacter.equipment.armor.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.armor==null?null:p.playerCharacter.equipment.armor.rarity)==="legendary"),g("cdkDropListData",G(155,zn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.armor))("cdkDropListConnectedTo",Y(157,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.armor)("ngIfElse",a),l(4),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.helmet)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.helmet==null?null:p.playerCharacter.equipment.helmet.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.helmet==null?null:p.playerCharacter.equipment.helmet.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.helmet==null?null:p.playerCharacter.equipment.helmet.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.helmet==null?null:p.playerCharacter.equipment.helmet.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.helmet==null?null:p.playerCharacter.equipment.helmet.rarity)==="legendary"),g("cdkDropListData",G(158,Fn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.helmet))("cdkDropListConnectedTo",Y(160,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.helmet)("ngIfElse",c),l(3),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.amulet)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.amulet==null?null:p.playerCharacter.equipment.amulet.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.amulet==null?null:p.playerCharacter.equipment.amulet.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.amulet==null?null:p.playerCharacter.equipment.amulet.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.amulet==null?null:p.playerCharacter.equipment.amulet.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.amulet==null?null:p.playerCharacter.equipment.amulet.rarity)==="legendary"),g("cdkDropListData",G(161,qn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.amulet))("cdkDropListConnectedTo",Y(163,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.amulet)("ngIfElse",s),l(3),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.belt)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.belt==null?null:p.playerCharacter.equipment.belt.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.belt==null?null:p.playerCharacter.equipment.belt.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.belt==null?null:p.playerCharacter.equipment.belt.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.belt==null?null:p.playerCharacter.equipment.belt.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.belt==null?null:p.playerCharacter.equipment.belt.rarity)==="legendary"),g("cdkDropListData",G(164,Gn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.belt))("cdkDropListConnectedTo",Y(166,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.belt)("ngIfElse",m),l(4),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.gloves)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.gloves==null?null:p.playerCharacter.equipment.gloves.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.gloves==null?null:p.playerCharacter.equipment.gloves.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.gloves==null?null:p.playerCharacter.equipment.gloves.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.gloves==null?null:p.playerCharacter.equipment.gloves.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.gloves==null?null:p.playerCharacter.equipment.gloves.rarity)==="legendary"),g("cdkDropListData",G(167,Rn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.gloves))("cdkDropListConnectedTo",Y(169,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.gloves)("ngIfElse",P),l(3),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.boots)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.boots==null?null:p.playerCharacter.equipment.boots.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.boots==null?null:p.playerCharacter.equipment.boots.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.boots==null?null:p.playerCharacter.equipment.boots.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.boots==null?null:p.playerCharacter.equipment.boots.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.boots==null?null:p.playerCharacter.equipment.boots.rarity)==="legendary"),g("cdkDropListData",G(170,Vn,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.boots))("cdkDropListConnectedTo",Y(172,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.boots)("ngIfElse",h),l(4),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring1)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring1==null?null:p.playerCharacter.equipment.ring1.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring1==null?null:p.playerCharacter.equipment.ring1.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring1==null?null:p.playerCharacter.equipment.ring1.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring1==null?null:p.playerCharacter.equipment.ring1.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring1==null?null:p.playerCharacter.equipment.ring1.rarity)==="legendary"),g("cdkDropListData",G(173,Ln,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring1))("cdkDropListConnectedTo",Y(175,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring1)("ngIfElse",x),l(3),v("has-item",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring2)("rarity-common",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring2==null?null:p.playerCharacter.equipment.ring2.rarity)==="common")("rarity-uncommon",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring2==null?null:p.playerCharacter.equipment.ring2.rarity)==="uncommon")("rarity-rare",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring2==null?null:p.playerCharacter.equipment.ring2.rarity)==="rare")("rarity-epic",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring2==null?null:p.playerCharacter.equipment.ring2.rarity)==="epic")("rarity-legendary",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring2==null?null:p.playerCharacter.equipment.ring2.rarity)==="legendary"),g("cdkDropListData",G(176,$n,p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring2))("cdkDropListConnectedTo",Y(178,ee)),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring2)("ngIfElse",w),l(8),g("ngForOf",p.inventoryFilterOptions),l(4),j("ngModel",p.inventorySortBy),l(12),g("cdkDropListData",p.getFilteredAndSortedInventory())("cdkDropListConnectedTo",Y(179,jn)),l(),g("ngForOf",p.getFilteredAndSortedInventory()),l(),g("ngForOf",p.getEmptyInventorySlots()),l(3),D(" ",p.getFilteredAndSortedInventory().length," / ",p.maxInventorySize," \uC544\uC774\uD15C ")}}function qi(r,t){if(r&1&&(n(0,"div",349)(1,"div",402)(2,"h4",325),i(3,"\u{1F4B0} \uBCF4\uC720 \uC7AC\uD654"),o(),n(4,"div",403)(5,"div",404)(6,"div",405)(7,"span",406),i(8,"\u{1F4B0}"),o(),n(9,"div",407)(10,"h5",408),i(11,"\uACE8\uB4DC"),o(),n(12,"p",409),i(13,"\uAE30\uBCF8 \uD654\uD3D0 - \uC0C1\uC810\uC5D0\uC11C \uC544\uC774\uD15C\uC744 \uAD6C\uB9E4\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),o()()(),n(14,"div",410)(15,"span",411),i(16),W(17,"number"),o(),n(18,"span",412),i(19,"G"),o()()(),n(20,"div",413)(21,"div",405)(22,"span",406),i(23,"\u{1F48E}"),o(),n(24,"div",407)(25,"h5",408),i(26,"\uBCF4\uC11D"),o(),n(27,"p",409),i(28,"\uD504\uB9AC\uBBF8\uC5C4 \uD654\uD3D0 - \uD2B9\uBCC4\uD55C \uC544\uC774\uD15C\uC744 \uAD6C\uB9E4\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),o()()(),n(29,"div",410)(30,"span",411),i(31),W(32,"number"),o(),n(33,"span",412),i(34,"\uAC1C"),o()()(),n(35,"div",414)(36,"div",405)(37,"span",406),i(38,"\u{1F52E}"),o(),n(39,"div",407)(40,"h5",408),i(41,"\uD06C\uB9AC\uC2A4\uD0C8"),o(),n(42,"p",409),i(43,"\uAC15\uD654 \uC7AC\uB8CC - \uC7A5\uBE44\uB97C \uAC15\uD654\uD558\uB294\uB370 \uC0AC\uC6A9\uB429\uB2C8\uB2E4"),o()()(),n(44,"div",410)(45,"span",411),i(46),W(47,"number"),o(),n(48,"span",412),i(49,"\uAC1C"),o()()(),n(50,"div",415)(51,"div",405)(52,"span",406),i(53,"\u{1F3AB}"),o(),n(54,"div",407)(55,"h5",408),i(56,"\uD2F0\uCF13"),o(),n(57,"p",409),i(58,"\uD2B9\uC218 \uCEE8\uD150\uCE20 \uC785\uC7A5\uAD8C - \uB358\uC804\uC774\uB098 \uC774\uBCA4\uD2B8\uC5D0 \uCC38\uC5EC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),o()()(),n(59,"div",410)(60,"span",411),i(61),W(62,"number"),o(),n(63,"span",412),i(64,"\uC7A5"),o()()()()()()),r&2){let e=d(2);l(16),C(J(17,4,e.gold)),l(15),C(J(32,6,e.gem)),l(15),C(J(47,8,e.crystal)),l(15),C(J(62,10,e.ticket))}}function Gi(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2694\uFE0F ",e.stats.attack)}}function Ri(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F6E1}\uFE0F ",e.stats.defense)}}function Vi(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2764\uFE0F ",e.stats.hp)}}function Li(r,t){if(r&1&&(n(0,"span",160),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F499} ",e.stats.mp)}}function $i(r,t){if(r&1&&(n(0,"div",158),f(1,Gi,2,1,"span",159)(2,Ri,2,1,"span",159)(3,Vi,2,1,"span",159)(4,Li,2,1,"span",159),o()),r&2){let e=d().$implicit;l(),g("ngIf",e.stats.attack),l(),g("ngIf",e.stats.defense),l(),g("ngIf",e.stats.hp),l(),g("ngIf",e.stats.mp)}}function ji(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4B0} \uAD6C\uB9E4\uD558\uAE30"),o())}function Ui(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4B8} \uACE8\uB4DC \uBD80\uC871"),o())}function Hi(r,t){if(r&1){let e=O();n(0,"div",165)(1,"div",152)(2,"h4"),i(3),o(),n(4,"div",166),i(5),o()(),n(6,"p",99),i(7),o(),f(8,$i,5,4,"div",153),n(9,"div",154)(10,"span",155),i(11),o(),n(12,"span",156),i(13),o()(),n(14,"div",167)(15,"button",168),b("click",function(c){let s=_(e).$implicit,m=d(4);return u(m.buyItemFromShop(s,c))}),f(16,ji,2,0,"span",94)(17,Ui,2,0,"span",94),o()()()}if(r&2){let e=t.$implicit,a=d(4);v("grade-legendary",e.grade==="\uC2E0\uD654"||e.grade==="\uC804\uC124")("grade-rare",e.grade==="\uD76C\uADC0")("grade-uncommon",e.grade==="\uACE0\uAE09"),l(3),C(e.name),l(2),M("",e.price||a.calculateItemPriceByGrade(e.grade),"G"),l(2),C(e.description),l(),g("ngIf",e.stats),l(3),C(e.type),l(2),C(e.grade),l(2),v("insufficient-gold",a.gold<(e.price||a.calculateItemPriceByGrade(e.grade))),l(),g("ngIf",a.gold>=(e.price||a.calculateItemPriceByGrade(e.grade))),l(),g("ngIf",a.gold<(e.price||a.calculateItemPriceByGrade(e.grade)))}}function Yi(r,t){if(r&1&&(n(0,"div",163),f(1,Hi,18,16,"div",164),o()),r&2){let e=d(3);l(),g("ngForOf",e.savedItems)}}function Wi(r,t){r&1&&(n(0,"div",423)(1,"p"),i(2,"\u{1F3EA} \uC0C1\uC810\uC5D0 \uC544\uC774\uD15C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),o(),n(3,"p",424),i(4,"AI \uC544\uC774\uD15C \uC0DD\uC131\uAE30\uB85C \uC544\uC774\uD15C\uC744 \uB9CC\uB4E4\uC5B4\uBCF4\uC138\uC694!"),o()())}function Ki(r,t){if(r&1&&(n(0,"div",349)(1,"div",416)(2,"div",417)(3,"div",418)(4,"span",419),i(5,"\u{1F4B0}"),o(),n(6,"span",162),i(7),o()(),n(8,"p",420),i(9,"AI\uAC00 \uC0DD\uC131\uD55C \uC544\uC774\uD15C\uC744 \uAD6C\uB9E4\uD558\uC138\uC694"),o()(),f(10,Yi,2,1,"div",421)(11,Wi,5,0,"div",422),o()()),r&2){let e=d(2);l(7),M("",e.gold,"G"),l(3),g("ngIf",e.savedItems.length>0),l(),g("ngIf",e.savedItems.length===0)}}function Xi(r,t){if(r&1){let e=O();n(0,"div",344)(1,"div",251)(2,"h3"),i(3,"\u{1F392} \uC778\uBCA4\uD1A0\uB9AC & \uC7A5\uBE44"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.showInventoryPanel=!1)}),i(5,"\xD7"),o()(),n(6,"div",345)(7,"button",346),b("click",function(){_(e);let c=d();return u(c.inventoryActiveTab="equipment")}),i(8," \u2694\uFE0F \uC7A5\uBE44 & \uC778\uBCA4\uD1A0\uB9AC "),o(),n(9,"button",347),b("click",function(){_(e);let c=d();return u(c.inventoryActiveTab="currency")}),i(10," \u{1F4B0} \uC7AC\uD654 "),o(),n(11,"button",346),b("click",function(){_(e);let c=d();return u(c.inventoryActiveTab="shop")}),i(12," \u{1F6D2} \uC0C1\uC810 "),o()(),f(13,Fi,90,180,"div",348)(14,qi,65,12,"div",348)(15,Ki,12,3,"div",348),o()}if(r&2){let e=d();l(7),v("active",e.inventoryActiveTab==="equipment"),l(2),v("active",e.inventoryActiveTab==="currency"),l(2),v("active",e.inventoryActiveTab==="shop"),l(2),g("ngIf",e.inventoryActiveTab==="equipment"),l(),g("ngIf",e.inventoryActiveTab==="currency"),l(),g("ngIf",e.inventoryActiveTab==="shop")}}function Qi(r,t){if(r&1){let e=O();n(0,"div",425),b("click",function(c){return _(e),u(c.stopPropagation())}),n(1,"div",426),b("click",function(){_(e);let c=d();return u(c.equipItemFromMenu())}),n(2,"span",427),i(3,"\u2694\uFE0F"),o(),n(4,"span",428),i(5,"\uC7A5\uCC29\uD558\uAE30"),o()(),n(6,"div",426),b("click",function(){_(e);let c=d();return u(c.showItemInfoModal())}),n(7,"span",427),i(8,"\u{1F4CB}"),o(),n(9,"span",428),i(10,"\uC815\uBCF4 \uBCF4\uAE30"),o()(),n(11,"div",429),b("click",function(){_(e);let c=d();return u(c.discardItemFromMenu())}),n(12,"span",427),i(13,"\u{1F5D1}\uFE0F"),o(),n(14,"span",428),i(15,"\uBC84\uB9AC\uAE30"),o()()()}if(r&2){let e=d();S("left",e.contextMenuPosition.x,"px")("top",e.contextMenuPosition.y,"px")}}function Ji(r,t){if(r&1&&(n(0,"span",448),i(1),o()),r&2){let e=d(3);l(),M(" \uC218\uB7C9: \xD7",e.selectedContextItem.quantity," ")}}function Zi(r,t){if(r&1&&(n(0,"div",177)(1,"span",178),i(2,"\u2694\uFE0F"),o(),n(3,"span",270),i(4,"\uACF5\uACA9\uB825"),o(),n(5,"span",179),i(6),o()()),r&2){let e=d(4);l(6),M("+",e.selectedContextItem.stats.attack)}}function er(r,t){if(r&1&&(n(0,"div",177)(1,"span",178),i(2,"\u{1F6E1}\uFE0F"),o(),n(3,"span",270),i(4,"\uBC29\uC5B4\uB825"),o(),n(5,"span",179),i(6),o()()),r&2){let e=d(4);l(6),M("+",e.selectedContextItem.stats.defense)}}function tr(r,t){if(r&1&&(n(0,"div",177)(1,"span",178),i(2,"\u2764\uFE0F"),o(),n(3,"span",270),i(4,"\uCCB4\uB825"),o(),n(5,"span",179),i(6),o()()),r&2){let e=d(4);l(6),M("+",e.selectedContextItem.stats.hp)}}function nr(r,t){if(r&1&&(n(0,"div",177)(1,"span",178),i(2,"\u{1F499}"),o(),n(3,"span",270),i(4,"\uB9C8\uB098"),o(),n(5,"span",179),i(6),o()()),r&2){let e=d(4);l(6),M("+",e.selectedContextItem.stats.mp)}}function or(r,t){if(r&1&&(n(0,"div",449)(1,"h5",450),i(2,"\u{1F4CA} \uB2A5\uB825\uCE58"),o(),n(3,"div",326),f(4,Zi,7,1,"div",451)(5,er,7,1,"div",451)(6,tr,7,1,"div",451)(7,nr,7,1,"div",451),o()()),r&2){let e=d(3);l(4),g("ngIf",e.selectedContextItem.stats.attack),l(),g("ngIf",e.selectedContextItem.stats.defense),l(),g("ngIf",e.selectedContextItem.stats.hp),l(),g("ngIf",e.selectedContextItem.stats.mp)}}function ir(r,t){if(r&1&&(n(0,"div",452)(1,"h5",453),i(2,"\u{1F4DD} \uC124\uBA85"),o(),n(3,"p"),i(4),o()()),r&2){let e=d(3);l(4),C(e.selectedContextItem.description)}}function rr(r,t){if(r&1){let e=O();n(0,"div",435)(1,"div",436)(2,"div",437),i(3),o(),n(4,"div",438)(5,"h3"),i(6),o(),n(7,"span",439),i(8),o()()(),n(9,"div",440)(10,"span",441),i(11),o(),f(12,Ji,2,1,"span",442),o(),f(13,or,8,4,"div",443)(14,ir,5,1,"div",444),n(15,"div",445)(16,"button",446),b("click",function(c){return _(e),d(2).equipItemFromModal(),u(c.stopPropagation())}),i(17," \u2694\uFE0F \uC7A5\uCC29\uD558\uAE30 "),o(),n(18,"button",447),b("click",function(c){return _(e),d(2).discardItemFromModal(),u(c.stopPropagation())}),i(19," \u{1F5D1}\uFE0F \uBC84\uB9AC\uAE30 "),o()()()}if(r&2){let e=d(2);l(),q("rarity-"+e.selectedContextItem.rarity),l(2),C(e.getInventoryItemIcon(e.selectedContextItem)),l(3),C(e.selectedContextItem.nameKo||e.selectedContextItem.name),l(2),C(e.getRarityName(e.selectedContextItem.rarity)),l(3),C(e.getTypeName(e.selectedContextItem.type)),l(),g("ngIf",e.selectedContextItem.quantity>1),l(),g("ngIf",e.selectedContextItem.stats),l(),g("ngIf",e.selectedContextItem.description)}}function ar(r,t){if(r&1){let e=O();n(0,"div",430),b("mousedown",function(c){_(e);let s=d();return u(s.onItemInfoDragStart(c))}),n(1,"div",431)(2,"h4",432),i(3,"\u{1F4CB} \uC544\uC774\uD15C \uC815\uBCF4"),o(),n(4,"button",433),b("click",function(c){return _(e),d().closeItemInfoModal(),u(c.stopPropagation())}),i(5,"\xD7"),o()(),f(6,rr,20,9,"div",434),o()}if(r&2){let e=d();S("left",e.itemInfoPosition.x,"px")("top",e.itemInfoPosition.y,"px"),l(6),g("ngIf",e.selectedContextItem)}}function cr(r,t){if(r&1){let e=O();n(0,"div"),i(1),n(2,"button",455),b("click",function(){let c=_(e).$implicit,s=d(2);return u(s.buyItem(c))}),i(3,"\uAD6C\uB9E4"),o()()}if(r&2){let e=t.$implicit,a=d(2);l(),it(" ",e.name," - ",e.price,"G (\uC7AC\uACE0: ",e.stock,") "),l(),g("disabled",a.gold<e.price||e.stock<=0)}}function lr(r,t){if(r&1){let e=O();n(0,"div",454)(1,"div",251)(2,"h3"),i(3,"\u{1F6D2} \uC0C1\uC810"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.showShopPanel=!1)}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"div"),i(8),o(),f(9,cr,4,4,"div",109),o()()}if(r&2){let e=d();l(8),M("\uBCF4\uC720 \uACE8\uB4DC: ",e.gold,"G"),l(),g("ngForOf",e.shopItems)}}function sr(r,t){r&1&&(n(0,"span"),i(1,"\u{1F9B8} \uC8FC\uC778\uACF5 \uC0DD\uC131"),o())}function dr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function gr(r,t){r&1&&(n(0,"span"),i(1,"\u2694\uFE0F \uBB34\uB9BC \uACE0\uC218 \uC0DD\uC131"),o())}function pr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function mr(r,t){r&1&&(n(0,"span"),i(1,"\u{1F525} \uC801\uB300\uC790 \uC0DD\uC131"),o())}function _r(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function ur(r,t){r&1&&(n(0,"span"),i(1,"\u{1F465} \uC870\uC5F0 \uC0DD\uC131"),o())}function Cr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function fr(r,t){if(r&1&&(n(0,"div",96),i(1),o()),r&2){let e=d(2);l(),M(" \u26A0\uFE0F ",e.characterGenerationError," ")}}function br(r,t){if(r&1&&(n(0,"span",473),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function Pr(r,t){if(r&1&&(n(0,"div",470)(1,"h5"),i(2,"\u2694\uFE0F \uB2A5\uB825"),o(),n(3,"div",471),f(4,br,2,1,"span",472),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.generatedCharacter.abilities)}}function Mr(r,t){if(r&1&&(n(0,"span",476),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function hr(r,t){if(r&1&&(n(0,"div",134)(1,"h5"),i(2,"\u2B50 \uD2B9\uC131"),o(),n(3,"div",474),f(4,Mr,2,1,"span",475),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.generatedCharacter.traits)}}function xr(r,t){if(r&1){let e=O();n(0,"div",462)(1,"h4"),i(2,"\u{1F389} \uCE90\uB9AD\uD130\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),o(),n(3,"div",463)(4,"div",464)(5,"span",465),i(6,"\uC774\uB984:"),o(),n(7,"span",466),i(8),o()(),n(9,"div",464)(10,"span",465),i(11,"\uB098\uC774:"),o(),n(12,"span",466),i(13),o()(),n(14,"div",464)(15,"span",465),i(16,"\uC131\uBCC4:"),o(),n(17,"span",466),i(18),o()(),n(19,"div",464)(20,"span",465),i(21,"\uC5ED\uD560:"),o(),n(22,"span",466),i(23),o()()(),n(24,"div",467)(25,"h5"),i(26,"\u{1F4D6} \uC678\uBAA8"),o(),n(27,"p"),i(28),o()(),n(29,"div",467)(30,"h5"),i(31,"\u{1F4AD} \uC131\uACA9"),o(),n(32,"p"),i(33),o()(),n(34,"div",467)(35,"h5"),i(36,"\u{1F4DC} \uBC30\uACBD"),o(),n(37,"p"),i(38),o()(),f(39,Pr,5,1,"div",468),n(40,"div",467)(41,"h5"),i(42,"\u{1F3AF} \uBAA9\uD45C"),o(),n(43,"p"),i(44),o()(),f(45,hr,5,1,"div",132),n(46,"div",190)(47,"button",111),b("click",function(){_(e);let c=d(2);return u(c.saveGeneratedCharacter())}),i(48," \u{1F4BE} \uCE90\uB9AD\uD130 \uC800\uC7A5\uD558\uAE30 "),o(),n(49,"button",469),b("click",function(){_(e);let c=d(2);return u(c.applyGeneratedCharacter())}),i(50," \u2705 \uC774 \uCE90\uB9AD\uD130\uB85C \uD50C\uB808\uC774\uD558\uAE30 "),o(),n(51,"button",113),b("click",function(){_(e);let c=d(2);return u(c.generateAiCharacter())}),i(52," \u{1F504} \uB2E4\uC2DC \uC0DD\uC131\uD558\uAE30 "),o()()()}if(r&2){let e=d(2);l(8),C(e.generatedCharacter.name),l(5),M("",e.generatedCharacter.age,"\uC138"),l(5),C(e.generatedCharacter.gender==="male"?"\uB0A8\uC131":"\uC5EC\uC131"),l(5),C(e.generatedCharacter.role),l(5),C(e.generatedCharacter.appearance),l(5),C(e.generatedCharacter.personality),l(5),C(e.generatedCharacter.background),l(),g("ngIf",e.generatedCharacter.abilities),l(5),C(e.generatedCharacter.goals),l(),g("ngIf",e.generatedCharacter.traits)}}function Or(r,t){if(r&1){let e=O();n(0,"div",456)(1,"div",251)(2,"h3"),i(3,"\u{1F3AD} AI \uCE90\uB9AD\uD130 \uC0DD\uC131"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.showCharacterCreatorPanel=!1)}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"div",457)(8,"div",77)(9,"h4"),i(10,"\u2728 Loworld AI\uB85C \uCE90\uB9AD\uD130 \uC0DD\uC131\uD558\uAE30"),o(),n(11,"p"),i(12,"AI\uAC00 \uBB34\uD611 \uC18C\uC124 \uC2A4\uD0C0\uC77C\uC758 \uB3C5\uD2B9\uD55C \uCE90\uB9AD\uD130\uB97C \uC0DD\uC131\uD574\uB4DC\uB9BD\uB2C8\uB2E4."),o()(),n(13,"div",458)(14,"button",459),b("click",function(){_(e);let c=d();return u(c.generateAiCharacter("\uC8FC\uC778\uACF5"))}),f(15,sr,2,0,"span",94)(16,dr,2,0,"span",94),o(),n(17,"button",460),b("click",function(){_(e);let c=d();return u(c.generateAiCharacter("\uBB34\uB9BC \uACE0\uC218"))}),f(18,gr,2,0,"span",94)(19,pr,2,0,"span",94),o(),n(20,"button",460),b("click",function(){_(e);let c=d();return u(c.generateAiCharacter("\uC801\uB300\uC790"))}),f(21,mr,2,0,"span",94)(22,_r,2,0,"span",94),o(),n(23,"button",460),b("click",function(){_(e);let c=d();return u(c.generateAiCharacter("\uC870\uC5F0"))}),f(24,ur,2,0,"span",94)(25,Cr,2,0,"span",94),o()(),f(26,fr,2,1,"div",78)(27,xr,53,10,"div",461),o()()()}if(r&2){let e=d();l(14),g("disabled",e.isGeneratingCharacter),l(),g("ngIf",!e.isGeneratingCharacter),l(),g("ngIf",e.isGeneratingCharacter),l(),g("disabled",e.isGeneratingCharacter),l(),g("ngIf",!e.isGeneratingCharacter),l(),g("ngIf",e.isGeneratingCharacter),l(),g("disabled",e.isGeneratingCharacter),l(),g("ngIf",!e.isGeneratingCharacter),l(),g("ngIf",e.isGeneratingCharacter),l(),g("disabled",e.isGeneratingCharacter),l(),g("ngIf",!e.isGeneratingCharacter),l(),g("ngIf",e.isGeneratingCharacter),l(),g("ngIf",e.characterGenerationError),l(),g("ngIf",e.generatedCharacter)}}function vr(r,t){r&1&&(n(0,"span"),i(1,"\u2694\uFE0F \uC804\uD1B5 \uBB34\uD611"),o())}function yr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function wr(r,t){r&1&&(n(0,"span"),i(1,"\u{1F31F} \uD604\uB300 \uD310\uD0C0\uC9C0"),o())}function kr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function Dr(r,t){r&1&&(n(0,"span"),i(1,"\u{1F311} \uC554\uD751 \uBB34\uD611"),o())}function Sr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function Er(r,t){r&1&&(n(0,"span"),i(1,"\u{1F49D} \uB85C\uB9E8\uC2A4"),o())}function Ir(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function Br(r,t){if(r&1&&(n(0,"div",96),i(1),o()),r&2){let e=d(2);l(),M(" \u26A0\uFE0F ",e.scenarioGenerationError," ")}}function Tr(r,t){if(r&1&&(n(0,"li"),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function Ar(r,t){if(r&1&&(n(0,"div",486)(1,"h5"),i(2,"\u{1F465} \uB4F1\uC7A5\uC778\uBB3C"),o(),n(3,"ul"),f(4,Tr,2,1,"li",109),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.generatedScenario.characters)}}function Nr(r,t){if(r&1&&(n(0,"span",489),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function zr(r,t){if(r&1&&(n(0,"div",143)(1,"h5"),i(2,"\u{1F3F7}\uFE0F \uD0DC\uADF8"),o(),n(3,"div",487),f(4,Nr,2,1,"span",488),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.generatedScenario.tags)}}function Fr(r,t){if(r&1){let e=O();n(0,"div",481)(1,"h4"),i(2,"\u{1F389} \uC2DC\uB098\uB9AC\uC624\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),o(),n(3,"div",482)(4,"h2"),i(5),o()(),n(6,"div",483)(7,"h5"),i(8,"\u{1F4D6} \uC124\uBA85"),o(),n(9,"p"),i(10),o()(),n(11,"div",483)(12,"h5"),i(13,"\u{1F4CD} \uBC30\uACBD"),o(),n(14,"p"),i(15),o()(),f(16,Ar,5,1,"div",484),n(17,"div",483)(18,"h5"),i(19,"\u2694\uFE0F \uAC08\uB4F1"),o(),n(20,"p"),i(21),o()(),n(22,"div",483)(23,"h5"),i(24,"\u{1F3AF} \uBAA9\uD45C"),o(),n(25,"p"),i(26),o()(),n(27,"div",483)(28,"h5"),i(29,"\u{1F4AD} \uBD84\uC704\uAE30"),o(),n(30,"p"),i(31),o()(),f(32,zr,5,1,"div",485),n(33,"div",190)(34,"button",469),b("click",function(){_(e);let c=d(2);return u(c.saveGeneratedScenario())}),i(35," \u{1F4BE} \uC2DC\uB098\uB9AC\uC624 \uC800\uC7A5\uD558\uAE30 "),o(),n(36,"button",112),b("click",function(){_(e);let c=d(2);return u(c.startGameWithScenario())}),i(37," \u{1F3AE} \uC774 \uC2DC\uB098\uB9AC\uC624\uB85C \uAC8C\uC784 \uC2DC\uC791 "),o(),n(38,"button",113),b("click",function(){_(e);let c=d(2);return u(c.generateAiScenario())}),i(39," \u{1F504} \uB2E4\uC2DC \uC0DD\uC131\uD558\uAE30 "),o()()()}if(r&2){let e=d(2);l(5),C(e.generatedScenario.title),l(5),C(e.generatedScenario.description),l(5),C(e.generatedScenario.setting),l(),g("ngIf",e.generatedScenario.characters),l(5),C(e.generatedScenario.conflict),l(5),C(e.generatedScenario.goal),l(5),C(e.generatedScenario.mood),l(),g("ngIf",e.generatedScenario.tags)}}function qr(r,t){if(r&1){let e=O();n(0,"div",477)(1,"div",251)(2,"h3"),i(3,"\u{1F3AC} AI \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.showScenarioCreatorPanel=!1)}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"div",478)(8,"div",77)(9,"h4"),i(10,"\u2728 Loworld AI\uB85C \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131\uD558\uAE30"),o(),n(11,"p"),i(12,"AI\uAC00 \uBB34\uD611 \uC18C\uC124 \uC2A4\uD0C0\uC77C\uC758 \uB3C5\uD2B9\uD55C \uC2DC\uB098\uB9AC\uC624\uB97C \uC0DD\uC131\uD574\uB4DC\uB9BD\uB2C8\uB2E4."),o()(),n(13,"div",479)(14,"button",459),b("click",function(){_(e);let c=d();return u(c.generateAiScenario("\uBB34\uD611","\uC804\uD1B5\uC801\uC778","\uAE34\uC7A5\uAC10 \uB118\uCE58\uB294"))}),f(15,vr,2,0,"span",94)(16,yr,2,0,"span",94),o(),n(17,"button",460),b("click",function(){_(e);let c=d();return u(c.generateAiScenario("\uD310\uD0C0\uC9C0","\uD604\uB300\uC801\uC778","\uC2E0\uBE44\uB85C\uC6B4"))}),f(18,wr,2,0,"span",94)(19,kr,2,0,"span",94),o(),n(20,"button",460),b("click",function(){_(e);let c=d();return u(c.generateAiScenario("\uBB34\uD611","\uC554\uD751","\uC5B4\uB450\uC6B4"))}),f(21,Dr,2,0,"span",94)(22,Sr,2,0,"span",94),o(),n(23,"button",460),b("click",function(){_(e);let c=d();return u(c.generateAiScenario("\uB85C\uB9E8\uC2A4","\uAC10\uC131\uC801\uC778","\uB2EC\uCF64\uD55C"))}),f(24,Er,2,0,"span",94)(25,Ir,2,0,"span",94),o()(),f(26,Br,2,1,"div",78)(27,Fr,40,8,"div",480),o()()()}if(r&2){let e=d();l(14),g("disabled",e.isGeneratingScenario),l(),g("ngIf",!e.isGeneratingScenario),l(),g("ngIf",e.isGeneratingScenario),l(),g("disabled",e.isGeneratingScenario),l(),g("ngIf",!e.isGeneratingScenario),l(),g("ngIf",e.isGeneratingScenario),l(),g("disabled",e.isGeneratingScenario),l(),g("ngIf",!e.isGeneratingScenario),l(),g("ngIf",e.isGeneratingScenario),l(),g("disabled",e.isGeneratingScenario),l(),g("ngIf",!e.isGeneratingScenario),l(),g("ngIf",e.isGeneratingScenario),l(),g("ngIf",e.scenarioGenerationError),l(),g("ngIf",e.generatedScenario)}}function Gr(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3B2} \uB79C\uB364 10\uAC1C \uC0DD\uC131"),o())}function Rr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function Vr(r,t){r&1&&(n(0,"span"),i(1,"\u2694\uFE0F \uBB34\uAE30 10\uAC1C"),o())}function Lr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function $r(r,t){r&1&&(n(0,"span"),i(1,"\u{1F6E1}\uFE0F \uBC29\uC5B4\uAD6C 10\uAC1C"),o())}function jr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function Ur(r,t){r&1&&(n(0,"span"),i(1,"\u{1F9EA} \uC18C\uBE44\uD488 10\uAC1C"),o())}function Hr(r,t){r&1&&(n(0,"span"),i(1,"\u23F3 \uC0DD\uC131 \uC911..."),o())}function Yr(r,t){if(r&1&&(n(0,"div",96),i(1),o()),r&2){let e=d(2);l(),M(" \u26A0\uFE0F ",e.itemGenerationError," ")}}function Wr(r,t){if(r&1&&(n(0,"span",513),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2694\uFE0F +",e.stats.attack)}}function Kr(r,t){if(r&1&&(n(0,"span",513),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F6E1}\uFE0F +",e.stats.defense)}}function Xr(r,t){if(r&1&&(n(0,"span",513),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2764\uFE0F +",e.stats.hp)}}function Qr(r,t){if(r&1&&(n(0,"span",513),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F499} +",e.stats.mp)}}function Jr(r,t){if(r&1&&(n(0,"div",511),f(1,Wr,2,1,"span",512)(2,Kr,2,1,"span",512)(3,Xr,2,1,"span",512)(4,Qr,2,1,"span",512),o()),r&2){let e=d().$implicit;l(),g("ngIf",e.stats.attack),l(),g("ngIf",e.stats.defense),l(),g("ngIf",e.stats.hp),l(),g("ngIf",e.stats.mp)}}function Zr(r,t){if(r&1){let e=O();n(0,"div",503)(1,"div",504)(2,"h5"),i(3),o(),n(4,"span",505),i(5),o()(),n(6,"div",506),i(7),o(),n(8,"div",507),i(9),o(),f(10,Jr,5,4,"div",508),n(11,"div",509)(12,"button",510),b("click",function(){let c=_(e).index,s=d(3);return u(s.saveGeneratedItemByIndex(c))}),i(13," \u{1F4BE} \uC800\uC7A5 "),o()()()}if(r&2){let e=t.$implicit;v("grade-common",e.grade==="\uC77C\uBC18")("grade-uncommon",e.grade==="\uACE0\uAE09")("grade-rare",e.grade==="\uD76C\uADC0")("grade-epic",e.grade==="\uC601\uC6C5")("grade-legendary",e.grade==="\uC804\uC124"||e.grade==="\uC2E0\uD654"),l(3),C(e.name),l(),q("grade-"+e.grade),l(),C(e.grade),l(2),M(" \u{1F4E6} ",e.type," "),l(2),M(" ",e.description," "),l(),g("ngIf",e.stats)}}function ea(r,t){if(r&1){let e=O();n(0,"div",499)(1,"h4"),i(2),o(),n(3,"div",149),f(4,Zr,14,17,"div",500),o(),n(5,"div",501)(6,"button",502),b("click",function(){_(e);let c=d(2);return u(c.saveAllGeneratedItems())}),i(7," \u{1F4BE} \uBAA8\uB450 \uC800\uC7A5 "),o()()()}if(r&2){let e=d(2);l(2),M("\u{1F389} ",e.generatedItems.length,"\uAC1C\uC758 \uC544\uC774\uD15C\uC774 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),l(2),g("ngForOf",e.generatedItems)}}function ta(r,t){if(r&1&&(n(0,"div",177)(1,"span",270),i(2,"\u2694\uFE0F \uACF5\uACA9\uB825"),o(),n(3,"span",179),i(4),o()()),r&2){let e=d(4);l(4),M("+",e.generatedItem.stats.attack)}}function na(r,t){if(r&1&&(n(0,"div",177)(1,"span",270),i(2,"\u{1F6E1}\uFE0F \uBC29\uC5B4\uB825"),o(),n(3,"span",179),i(4),o()()),r&2){let e=d(4);l(4),M("+",e.generatedItem.stats.defense)}}function oa(r,t){if(r&1&&(n(0,"div",177)(1,"span",270),i(2,"\u2764\uFE0F HP"),o(),n(3,"span",179),i(4),o()()),r&2){let e=d(4);l(4),M("+",e.generatedItem.stats.hp)}}function ia(r,t){if(r&1&&(n(0,"div",177)(1,"span",270),i(2,"\u{1F499} MP"),o(),n(3,"span",179),i(4),o()()),r&2){let e=d(4);l(4),M("+",e.generatedItem.stats.mp)}}function ra(r,t){if(r&1&&(n(0,"div",158)(1,"h5"),i(2,"\u{1F4CA} \uB2A5\uB825\uCE58"),o(),n(3,"div",326),f(4,ta,5,1,"div",451)(5,na,5,1,"div",451)(6,oa,5,1,"div",451)(7,ia,5,1,"div",451),o()()),r&2){let e=d(3);l(4),g("ngIf",e.generatedItem.stats.attack),l(),g("ngIf",e.generatedItem.stats.defense),l(),g("ngIf",e.generatedItem.stats.hp),l(),g("ngIf",e.generatedItem.stats.mp)}}function aa(r,t){if(r&1&&(n(0,"li"),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function ca(r,t){if(r&1&&(n(0,"div",524)(1,"h5"),i(2,"\u2728 \uD6A8\uACFC"),o(),n(3,"ul"),f(4,aa,2,1,"li",109),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.generatedItem.effects)}}function la(r,t){if(r&1&&(n(0,"div",525)(1,"h5"),i(2,"\u26A0\uFE0F \uC0AC\uC6A9 \uC870\uAC74"),o(),n(3,"p"),i(4),o()()),r&2){let e=d(3);l(4),C(e.generatedItem.requirements)}}function sa(r,t){if(r&1&&(n(0,"div",526)(1,"h5"),i(2,"\u{1F4DC} \uC804\uC124"),o(),n(3,"p",527),i(4),o()()),r&2){let e=d(3);l(4),C(e.generatedItem.lore)}}function da(r,t){if(r&1&&(n(0,"span",489),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function ga(r,t){if(r&1&&(n(0,"div",154)(1,"h5"),i(2,"\u{1F3F7}\uFE0F \uD0DC\uADF8"),o(),n(3,"div",487),f(4,da,2,1,"span",488),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.generatedItem.tags)}}function pa(r,t){if(r&1){let e=O();n(0,"div",514)(1,"h4"),i(2,"\u{1F389} \uC544\uC774\uD15C\uC774 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),o(),n(3,"div",515)(4,"h2"),i(5),o(),n(6,"div",505),i(7),o()(),n(8,"div",516)(9,"span",517),i(10),o()(),n(11,"div",518)(12,"h5"),i(13,"\u{1F4D6} \uC124\uBA85"),o(),n(14,"p"),i(15),o()(),f(16,ra,8,4,"div",153)(17,ca,5,1,"div",519)(18,la,5,1,"div",520)(19,sa,5,1,"div",521)(20,ga,5,1,"div",522),n(21,"div",190)(22,"button",111),b("click",function(){_(e);let c=d(2);return u(c.saveGeneratedItem())}),i(23," \u{1F4BE} \uC544\uC774\uD15C \uC800\uC7A5\uD558\uAE30 "),o(),n(24,"button",523),b("click",function(){_(e);let c=d(2);return u(c.addGeneratedItemToInventory())}),i(25," \u{1F392} \uC778\uBCA4\uD1A0\uB9AC\uC5D0 \uCD94\uAC00 "),o(),n(26,"button",113),b("click",function(){_(e);let c=d(2);return u(c.generateAiItem())}),i(27," \u{1F504} \uB2E4\uC2DC \uC0DD\uC131\uD558\uAE30 "),o()()()}if(r&2){let e=d(2);l(3),v("grade-legendary",e.generatedItem.grade==="\uC2E0\uD654"||e.generatedItem.grade==="\uC804\uC124"),l(2),C(e.generatedItem.name),l(),q("grade-"+e.generatedItem.grade),l(),M(" ",e.generatedItem.grade," "),l(3),M("\u{1F4E6} ",e.generatedItem.type),l(5),C(e.generatedItem.description),l(),g("ngIf",e.generatedItem.stats),l(),g("ngIf",e.generatedItem.effects&&e.generatedItem.effects.length>0),l(),g("ngIf",e.generatedItem.requirements),l(),g("ngIf",e.generatedItem.lore),l(),g("ngIf",e.generatedItem.tags&&e.generatedItem.tags.length>0)}}function ma(r,t){if(r&1){let e=O();n(0,"div",490)(1,"div",251)(2,"h3"),i(3,"\u{1F48E} AI \uC544\uC774\uD15C \uC0DD\uC131"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.showItemCreatorPanel=!1)}),i(5,"\xD7"),o()(),n(6,"div",252)(7,"div",491)(8,"div",77)(9,"h4"),i(10,"\u2728 Loworld AI\uB85C \uC544\uC774\uD15C \uC0DD\uC131\uD558\uAE30"),o(),n(11,"p"),i(12,"AI\uAC00 \uBB34\uD611 \uC18C\uC124 \uC2A4\uD0C0\uC77C\uC758 \uB3C5\uD2B9\uD55C \uC544\uC774\uD15C\uC744 \uC0DD\uC131\uD574\uB4DC\uB9BD\uB2C8\uB2E4."),o()(),n(13,"div",492)(14,"button",493),b("click",function(){_(e);let c=d();return u(c.generateAiItem())}),f(15,Gr,2,0,"span",94)(16,Rr,2,0,"span",94),o(),n(17,"button",494),b("click",function(){_(e);let c=d();return u(c.generateAiItem("\uBB34\uAE30"))}),f(18,Vr,2,0,"span",94)(19,Lr,2,0,"span",94),o(),n(20,"button",495),b("click",function(){_(e);let c=d();return u(c.generateAiItem("\uBC29\uC5B4\uAD6C"))}),f(21,$r,2,0,"span",94)(22,jr,2,0,"span",94),o(),n(23,"button",496),b("click",function(){_(e);let c=d();return u(c.generateAiItem("\uC18C\uBE44\uD488"))}),f(24,Ur,2,0,"span",94)(25,Hr,2,0,"span",94),o()(),f(26,Yr,2,1,"div",78)(27,ea,8,2,"div",497)(28,pa,28,13,"div",498),o()()()}if(r&2){let e=d();l(14),g("disabled",e.isGeneratingItem),l(),g("ngIf",!e.isGeneratingItem),l(),g("ngIf",e.isGeneratingItem),l(),g("disabled",e.isGeneratingItem),l(),g("ngIf",!e.isGeneratingItem),l(),g("ngIf",e.isGeneratingItem),l(),g("disabled",e.isGeneratingItem),l(),g("ngIf",!e.isGeneratingItem),l(),g("ngIf",e.isGeneratingItem),l(),g("disabled",e.isGeneratingItem),l(),g("ngIf",!e.isGeneratingItem),l(),g("ngIf",e.isGeneratingItem),l(),g("ngIf",e.itemGenerationError),l(),g("ngIf",e.generatedItems.length>0),l(),g("ngIf",e.generatedItem&&e.generatedItems.length===0)}}function _a(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3AC}"),o())}function ua(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4D6}"),o())}function Ca(r,t){r&1&&(n(0,"span"),i(1,"\u{1F500}"),o())}function fa(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4CD}"),o())}function ba(r,t){if(r&1&&(n(0,"div",553),i(1),o()),r&2){let e=t.$implicit;l(),D(" \u2192 ",e.substring(0,30),"",e.length>30?"...":""," ")}}function Pa(r,t){if(r&1&&(n(0,"div",551),f(1,ba,2,2,"div",552),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.choices)}}function Ma(r,t){r&1&&k(0,"div",554)}function ha(r,t){if(r&1&&(n(0,"div",544)(1,"div",545),f(2,_a,2,0,"span",94)(3,ua,2,0,"span",94)(4,Ca,2,0,"span",94)(5,fa,2,0,"span",94),o(),n(6,"div",546)(7,"div",547),i(8),o(),n(9,"div",548),i(10),o(),f(11,Pa,2,1,"div",549),o(),f(12,Ma,1,0,"div",550),o()),r&2){let e=t.$implicit,a=t.index,c=d(2);S("margin-left",e.level*40,"px"),g("ngClass",He(11,Wt,e.type==="start",e.type==="story",e.type==="choice",e.type==="current")),l(2),g("ngIf",e.type==="start"),l(),g("ngIf",e.type==="story"),l(),g("ngIf",e.type==="choice"),l(),g("ngIf",e.type==="current"),l(3),C(e.label),l(2),M("\uB808\uBCA8 ",e.level),l(),g("ngIf",e.type==="current"&&e.choices),l(),g("ngIf",a<c.storyFlowNodes.length-1)}}function xa(r,t){if(r&1){let e=O();n(0,"div",528)(1,"div",529)(2,"div",530)(3,"div",531)(4,"h3"),i(5,"\u{1F5FA}\uFE0F \uC2A4\uD1A0\uB9AC \uD50C\uB85C\uC6B0"),o()(),n(6,"button",76),b("click",function(){_(e);let c=d();return u(c.toggleStoryFlowPanel())}),i(7,"\u2715"),o()(),n(8,"div",532)(9,"p"),i(10,"\uD604\uC7AC\uAE4C\uC9C0\uC758 \uC120\uD0DD\uACFC \uC55E\uC73C\uB85C\uC758 \uAC00\uB2A5\uD55C \uACBD\uB85C\uB97C \uBCF4\uC5EC\uC90D\uB2C8\uB2E4."),o(),n(11,"div",533)(12,"span",177),i(13),o(),n(14,"span",177),i(15),o(),n(16,"span",177),i(17),o()()(),n(18,"div",534)(19,"div",535),f(20,ha,13,16,"div",536),o(),n(21,"div",537)(22,"h4"),i(23,"\uBC94\uB840"),o(),n(24,"div",538)(25,"div",539)(26,"span",540),i(27,"\u{1F3AC}"),o(),i(28," \uC2DC\uC791"),o(),n(29,"div",539)(30,"span",541),i(31,"\u{1F4D6}"),o(),i(32," \uC2A4\uD1A0\uB9AC"),o(),n(33,"div",539)(34,"span",542),i(35,"\u{1F500}"),o(),i(36," \uC120\uD0DD"),o(),n(37,"div",539)(38,"span",543),i(39,"\u{1F4CD}"),o(),i(40," \uD604\uC7AC \uC704\uCE58"),o()()()()()()}if(r&2){let e=d();l(13),M("\u{1F4CA} \uC9C4\uD589 \uB2E8\uACC4: ",e.storyBlocks.length),l(2),M("\u{1F500} \uC120\uD0DD \uD69F\uC218: ",e.currentPath.length),l(2),M("\u{1F3AF} \uD604\uC7AC \uC120\uD0DD\uC9C0: ",e.choices.length),l(3),g("ngForOf",e.storyFlowNodes)}}function Oa(r,t){if(r&1&&(n(0,"span",147),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function va(r,t){if(r&1&&(n(0,"div",143),f(1,Oa,2,1,"span",144),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.tags.slice(0,3))}}function ya(r,t){if(r&1){let e=O();n(0,"div",140),b("click",function(){let c=_(e).$implicit,s=d(2);return u(s.linkScenarioToChoice(s.currentLinkingChoiceIndex,c.id))}),n(1,"div",141)(2,"h4"),i(3),o(),n(4,"span",564),i(5),o()(),n(6,"div",565)(7,"p",483),i(8),o(),n(9,"div",145)(10,"span",107),i(11),o(),n(12,"span",107),i(13),o()(),f(14,va,2,1,"div",485),o()()}if(r&2){let e=t.$implicit;l(3),C(e.title),l(2),C(e.genre),l(3),C(e.description),l(3),M("\u{1F4CD} ",e.setting),l(2),M("\u{1F3AD} ",e.mood),l(),g("ngIf",e.tags&&e.tags.length>0)}}function wa(r,t){if(r&1){let e=O();n(0,"div",566)(1,"p"),i(2,"\uC800\uC7A5\uB41C \uC2DC\uB098\uB9AC\uC624\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),o(),n(3,"button",567),b("click",function(){_(e);let c=d(2);return c.openScenarioCreator(),u(c.closeScenarioLinkPanel())}),i(4," \u{1F3AC} \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131\uD558\uAE30 "),o()()}}function ka(r,t){if(r&1){let e=O();n(0,"div",555)(1,"div",556)(2,"div",557)(3,"div",531)(4,"span",558),i(5,"\u22EE\u22EE"),o(),n(6,"h3"),i(7,"\u{1F517} \uC120\uD0DD\uC9C0\uC5D0 \uC2DC\uB098\uB9AC\uC624 \uC5F0\uACB0"),o()(),n(8,"button",76),b("click",function(){_(e);let c=d();return u(c.closeScenarioLinkPanel())}),i(9,"\u2715"),o()(),n(10,"div",559)(11,"p"),i(12,"\uC120\uD0DD\uC9C0 "),n(13,"strong"),i(14),o(),i(15,"\uC5D0 \uC5F0\uACB0\uD560 \uC2DC\uB098\uB9AC\uC624\uB97C \uC120\uD0DD\uD558\uC138\uC694."),o(),n(16,"p",560),i(17,"\u{1F4A1} \uC120\uD0DD\uD558\uBA74 \uD574\uB2F9 \uC120\uD0DD\uC9C0\uB97C \uACE0\uB97C \uB54C \uC800\uC7A5\uB41C \uC2DC\uB098\uB9AC\uC624\uAC00 \uC804\uAC1C\uB429\uB2C8\uB2E4."),o()(),n(18,"div",561)(19,"div",562),f(20,ya,15,6,"div",139),o(),f(21,wa,5,0,"div",563),o()()()}if(r&2){let e=d();l(14),M("#",e.currentLinkingChoiceIndex+1),l(6),g("ngForOf",e.savedScenarios),l(),g("ngIf",e.savedScenarios.length===0)}}function Da(r,t){if(r&1){let e=O();n(0,"button",609),b("click",function(){_(e);let c=d(2);return u(c.toggleAdvancedFlowPanel())}),i(1," \u26F6 "),o()}}function Sa(r,t){if(r&1&&(n(0,"div",610)(1,"div",611),i(2),o(),n(3,"div",612)(4,"div",613),i(5),o(),n(6,"div",614),i(7),o()()()),r&2){let e=d(2);l(2),C(e.getNodeIcon(e.getCurrentNode())),l(3),C(e.getCurrentNode().title),l(2),D("\uACBD\uB85C: ",e.storyProgress.visitedNodes.length,"/",e.storyNodes.length)}}function Ea(r,t){if(r&1&&(N(),k(0,"path",615)),r&2){let e=t.$implicit;T("d",e.path)("stroke",e.color)("stroke-width",e.width*.5)}}function Ia(r,t){if(r&1&&(N(),n(0,"g"),k(1,"circle",616),n(2,"text",617),i(3),o()()),r&2){let e=t.$implicit,a=d(2);T("transform","translate("+e.position.x+","+e.position.y+")"),l(),v("pulse",e.isCurrent),T("fill",a.getNodeColor(e))("stroke",a.getNodeBorderColor(e))("stroke-width",e.isCurrent?3:1.5),l(2),M(" ",a.getNodeIcon(e)," ")}}function Ba(r,t){if(r&1&&(n(0,"span",622),i(1),o()),r&2){let e,a=t.$implicit,c=d(3);v("current",a.nodeId===c.currentStoryNodeId),g("title",((e=c.getNodeById(a.nodeId))==null?null:e.title)||"\uC54C \uC218 \uC5C6\uC74C"),l(),M(" ",c.getNodeIcon(c.getNodeById(a.nodeId)||c.storyNodes[0])," ")}}function Ta(r,t){if(r&1&&(n(0,"div",618)(1,"div",619),i(2,"\uCD5C\uADFC \uACBD\uB85C"),o(),n(3,"div",620),f(4,Ba,2,4,"span",621),o()()),r&2){let e=d(2);l(4),g("ngForOf",e.storyProgress.pathHistory.slice(-8))}}function Aa(r,t){if(r&1&&(n(0,"div",643)(1,"span",644),i(2,"\uB0B4\uACF5"),o(),n(3,"div",657),k(4,"div",646),o(),n(5,"span",647),i(6),o()()),r&2){let e=d().$implicit;l(4),S("width",e.internalPower.current/e.internalPower.max*100,"%"),l(2),D("",e.internalPower.current,"/",e.internalPower.max)}}function Na(r,t){if(r&1&&(n(0,"div",464)(1,"span",650),i(2,"\u2B50"),o(),n(3,"span",651),i(4),o()()),r&2){let e=d().$implicit;l(4),C(e.internalPower.realm)}}function za(r,t){if(r&1&&(n(0,"span",660),i(1),o()),r&2){let e=t.$implicit;l(),M(" ",e," ")}}function Fa(r,t){if(r&1&&(n(0,"div",658),f(1,za,2,1,"span",659),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.skills.slice(0,3))}}function qa(r,t){if(r&1&&(n(0,"div",661)(1,"p"),i(2),o()()),r&2){let e=d().$implicit;l(2),C(e.description)}}function Ga(r,t){if(r&1){let e=O();n(0,"div",633),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.selectMember(c))}),n(1,"div",634)(2,"div",635),i(3),o(),n(4,"div",636)(5,"div",637)(6,"span",638),i(7),o(),n(8,"span",639),i(9),o()(),n(10,"div",640),i(11),o()(),n(12,"div",641),i(13),o()(),n(14,"div",642)(15,"div",643)(16,"span",644),i(17,"HP"),o(),n(18,"div",645),k(19,"div",646),o(),n(20,"span",647),i(21),o()(),f(22,Aa,7,4,"div",648),o(),n(23,"div",649)(24,"div",464)(25,"span",650),i(26,"\u2694\uFE0F"),o(),n(27,"span",651),i(28),o()(),n(29,"div",464)(30,"span",650),i(31,"\u{1F496}"),o(),n(32,"span",651),i(33),o(),n(34,"div",652),k(35,"div",653),o()(),f(36,Na,5,1,"div",654),o(),f(37,Fa,2,1,"div",655)(38,qa,3,1,"div",656),o()}if(r&2){let e=t.$implicit,a=d(3);v("selected",(a.selectedMember==null?null:a.selectedMember.id)===e.id),l(3),C(e.avatar||"\u{1F464}"),l(4),C(e.name),l(),T("data-role",e.role),l(),M(" ",a.getRoleName(e.role)," "),l(2),D("Lv.",e.level," | ",e.specialty),l(),T("data-status",e.status),l(),M(" ",a.getStatusName(e.status)," "),l(6),S("width",e.stats.hp/e.stats.maxHp*100,"%"),l(2),D("",e.stats.hp,"/",e.stats.maxHp),l(),g("ngIf",e.internalPower),l(6),D("\uACF5\uACA9 ",e.stats.attack," | \uBC29\uC5B4 ",e.stats.defense),l(5),M("\uCDA9\uC131\uB3C4: ",e.loyalty,"%"),l(2),S("width",e.loyalty,"%"),l(),g("ngIf",e.internalPower),l(),g("ngIf",e.skills&&e.skills.length>0),l(),g("ngIf",e.description)}}function Ra(r,t){r&1&&(n(0,"div",662)(1,"p"),i(2,"\uC544\uC9C1 \uC870\uC9C1\uC6D0\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),o(),n(3,"p"),i(4,"\uBAA8\uD5D8\uC744 \uD1B5\uD574 \uB3D9\uB8CC\uB97C \uBAA8\uC9D1\uD558\uC138\uC694!"),o()())}function Va(r,t){if(r&1&&(n(0,"div",623)(1,"div",624)(2,"div",625)(3,"h3",626),i(4),o(),n(5,"span",627),i(6),o()(),n(7,"div",628)(8,"div",629)(9,"span",270),i(10,"\uC778\uC6D0"),o(),n(11,"span",179),i(12),o()(),n(13,"div",629)(14,"span",270),i(15,"\uBA85\uC131"),o(),n(16,"span",179),i(17),o()()()(),n(18,"div",630),f(19,Ga,39,23,"div",631)(20,Ra,5,0,"div",632),o()()),r&2){let e=d(2);l(4),C(e.playerOrganization.name),l(2),M("Lv.",e.playerOrganization.level),l(6),D("",e.playerOrganization.members.length,"/",e.playerOrganization.maxMembers),l(5),C(e.playerOrganization.reputation),l(2),g("ngForOf",e.playerOrganization.members),l(),g("ngIf",e.playerOrganization.members.length===0)}}function La(r,t){r&1&&(n(0,"div",663)(1,"p"),i(2,"\uC544\uC9C1 \uC870\uC9C1\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),o(),n(3,"p"),i(4,"\uAC8C\uC784\uC744 \uC2DC\uC791\uD558\uBA74 \uC870\uC9C1\uC774 \uC0DD\uC131\uB429\uB2C8\uB2E4."),o()())}function $a(r,t){if(r&1){let e=O();n(0,"div",568)(1,"div",569)(2,"div",251)(3,"div",570)(4,"span",571),i(5),o(),n(6,"span",572),i(7),o()(),n(8,"div",573)(9,"h3"),i(10),o(),n(11,"div",49),f(12,Da,2,0,"button",574),n(13,"button",575),b("click",function(){_(e);let c=d();return u(c.toggleFlowPanel())}),i(14," \u2715 "),o()()()(),n(15,"div",576)(16,"div",577)(17,"div",578)(18,"div",129)(19,"div",304)(20,"span",306),i(21,"\u{1F3AD}"),o()(),n(22,"div",579)(23,"div",580),i(24),o(),n(25,"div",581),i(26),o()()(),n(27,"div",582)(28,"div",269)(29,"div",270)(30,"span",583),i(31,"\u2764\uFE0F"),o(),n(32,"span",328),i(33,"HP"),o()(),n(34,"div",584)(35,"div",585),k(36,"div",586),o(),n(37,"span",179),i(38),o()()(),n(39,"div",269)(40,"div",270)(41,"span",587),i(42,"\u{1F499}"),o(),n(43,"span",328),i(44,"MP"),o()(),n(45,"div",584)(46,"div",588),k(47,"div",586),o(),n(48,"span",179),i(49),o()()(),n(50,"div",589)(51,"div",590)(52,"span",178),i(53,"\u{1F4B0}"),o(),n(54,"span",179),i(55),o()(),n(56,"div",590)(57,"span",178),i(58,"\u{1F525}"),o(),n(59,"span",179),i(60),o()()(),n(61,"div",591)(62,"div",270)(63,"span",178),i(64,"\u2B50"),o(),n(65,"span",328),i(66,"\uCD08\uB958"),o()(),n(67,"div",592),i(68),o()()()()(),n(69,"div",593),f(70,Sa,8,4,"div",594),n(71,"div",595),N(),n(72,"svg",596)(73,"g",597),f(74,Ea,1,3,"path",598),o(),n(75,"g",599),f(76,Ia,4,7,"g",109),o()()(),L(),n(77,"div",600)(78,"div",177)(79,"span",178),i(80,"\u{1F4CD}"),o(),n(81,"span",601),i(82),o()(),n(83,"div",177)(84,"span",178),i(85,"\u{1F500}"),o(),n(86,"span",601),i(87),o()(),n(88,"div",177)(89,"span",178),i(90,"\u2694\uFE0F"),o(),n(91,"span",601),i(92),o()()(),f(93,Ta,5,1,"div",602),o(),n(94,"div",603),f(95,Va,21,7,"div",604)(96,La,5,0,"div",605),o()(),n(97,"div",606)(98,"button",346),b("click",function(){_(e);let c=d();return u(c.switchFlowTab("character"))}),n(99,"span",607),i(100,"\u{1F3AD}"),o(),n(101,"span",608),i(102,"\uCE90\uB9AD\uD130"),o()(),n(103,"button",346),b("click",function(){_(e);let c=d();return u(c.switchFlowTab("organization"))}),n(104,"span",607),i(105,"\u{1F3DB}\uFE0F"),o(),n(106,"span",608),i(107,"\uC870\uC9C1"),o()(),n(108,"button",346),b("click",function(){_(e);let c=d();return u(c.switchFlowTab("map"))}),n(109,"span",607),i(110,"\u{1F5FA}\uFE0F"),o(),n(111,"span",608),i(112,"\uC2A4\uD1A0\uB9AC"),o()()()()()}if(r&2){let e=d();g("@slideInOut",void 0),l(5),C(e.getCurrentTime()),l(2),M("",e.calculateExplorationRate(),"%"),l(3),M(" ",e.flowPanelTab==="character"?"\u{1F3AD} \uCE90\uB9AD\uD130 \uC815\uBCF4":e.flowPanelTab==="organization"?"\u{1F3DB}\uFE0F \uC870\uC9C1 \uC815\uBCF4":"\u{1F5FA}\uFE0F \uC2A4\uD1A0\uB9AC \uB9F5"," "),l(2),g("ngIf",e.flowPanelTab==="map"),l(3),T("data-tab",e.flowPanelTab),l(9),C(e.playerCharacter.name||"\uBAA8\uD5D8\uAC00"),l(2),M("Lv.",e.playerCharacter.level||1),l(10),S("width",e.playerCharacter.hp&&e.playerCharacter.maxHp?e.playerCharacter.hp/e.playerCharacter.maxHp*100:100,"%"),l(2),D("",e.playerCharacter.hp||100,"/",e.playerCharacter.maxHp||100),l(9),S("width",e.playerCharacter.mp&&e.playerCharacter.maxMp?e.playerCharacter.mp/e.playerCharacter.maxMp*100:100,"%"),l(2),D("",e.playerCharacter.mp||50,"/",e.playerCharacter.maxMp||50),l(6),M("",e.gold||100,"G"),l(5),D("",e.playerInternalPower.current||100,"/",e.playerInternalPower.max||100),l(8),C(e.playerInternalPower.realm||"\uCD08\uB958"),l(2),g("ngIf",e.getCurrentNode()),l(2),T("viewBox",e.flowViewBox),l(2),g("ngForOf",e.storyConnections),l(2),g("ngForOf",e.visibleNodes),l(6),C(e.storyProgress.visitedNodes.length),l(5),C(e.storyProgress.totalChoices),l(5),D("",e.storyProgress.battlesWon,"/",e.storyProgress.battlesWon+e.storyProgress.battlesLost),l(),g("ngIf",e.storyProgress.pathHistory.length>0),l(2),g("ngIf",e.playerOrganization),l(),g("ngIf",!e.playerOrganization),l(2),v("active",e.flowPanelTab==="character"),l(5),v("active",e.flowPanelTab==="organization"),l(5),v("active",e.flowPanelTab==="map")}}function ja(r,t){if(r&1){let e=O();n(0,"button",664),b("click",function(){_(e);let c=d();return u(c.toggleFlowPanel())}),n(1,"span",665),i(2,"\u{1F5FA}\uFE0F"),o(),n(3,"span",666),i(4,"\uB9F5"),o()()}}function Ua(r,t){if(r&1){let e=O();n(0,"div",675)(1,"div",676)(2,"button",677),b("click",function(){_(e);let c=d(2);return u(c.zoomIn())}),i(3," \u{1F50D}+ \uD655\uB300 "),o(),n(4,"button",678),b("click",function(){_(e);let c=d(2);return u(c.zoomOut())}),i(5," \u{1F50D}\u2212 \uCD95\uC18C "),o(),n(6,"button",679),b("click",function(){_(e);let c=d(2);return u(c.centerView())}),i(7," \u{1F3AF} \uC911\uC559 "),o(),n(8,"button",680),b("click",function(){_(e);let c=d(2);return u(c.fitToScreen())}),i(9," \u{1F4D0} \uC804\uCCB4 "),o()(),n(10,"div",676)(11,"button",681),b("click",function(){_(e);let c=d(2);return u(c.toggleFilter("visited"))}),i(12," \u2705 \uBC29\uBB38 \uACBD\uB85C "),o(),n(13,"button",682),b("click",function(){_(e);let c=d(2);return u(c.toggleFilter("battles"))}),i(14," \u2694\uFE0F \uC804\uD22C "),o(),n(15,"button",683),b("click",function(){_(e);let c=d(2);return u(c.toggleFilter("endings"))}),i(16," \u{1F3C1} \uC5D4\uB529 "),o()(),n(17,"div",676)(18,"select",684),H("ngModelChange",function(c){_(e);let s=d(2);return U(s.flowLayoutType,c)||(s.flowLayoutType=c),u(c)}),b("change",function(){_(e);let c=d(2);return u(c.changeLayout(c.flowLayoutType))}),n(19,"option",685),i(20,"\uACC4\uCE35\uD615"),o(),n(21,"option",686),i(22,"\uBC29\uC0AC\uD615"),o(),n(23,"option",687),i(24,"\uC790\uC720\uD615"),o()()(),n(25,"div",676)(26,"button",688),b("click",function(){_(e);let c=d(2);return u(c.toggleStats())}),i(27," \u{1F4CA} \uD1B5\uACC4 "),o()()()}if(r&2){let e=d(2);l(11),v("active",e.showVisitedOnly),l(2),v("active",e.showBattlesOnly),l(2),v("active",e.showEndingsOnly),l(3),j("ngModel",e.flowLayoutType),l(8),v("active",e.showStats)}}function Ha(r,t){if(r&1&&(N(),k(0,"path",717)),r&2){let e=t.$implicit;v("visited",e.isVisited)("current",e.isCurrent),T("d",e.path)("stroke",e.color)("stroke-width",e.width)("marker-end",e.isVisited?"url(#arrowhead-visited)":"url(#arrowhead)")}}function Ya(r,t){if(r&1&&(N(),k(0,"circle",725)),r&2){let e=d().$implicit,a=d(3);T("stroke",a.getNodeBorderColor(e))}}function Wa(r,t){if(r&1&&(N(),n(0,"g",726),k(1,"circle",727),n(2,"text",728),i(3),o()()),r&2){let e=d().$implicit;l(3),M(" ",e.badge," ")}}function Ka(r,t){if(r&1&&(N(),n(0,"g",729),k(1,"circle",730),n(2,"text",731),i(3),o()()),r&2){let e=d().$implicit;l(3),M(" ",e.visitCount," ")}}function Xa(r,t){if(r&1){let e=O();N(),n(0,"g",718),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.onNodeClick(c))}),k(1,"circle",719),f(2,Ya,1,1,"circle",720),n(3,"text",721),i(4),o(),n(5,"text",722),i(6),o(),f(7,Wa,4,1,"g",723)(8,Ka,4,1,"g",724),o()}if(r&2){let e=t.$implicit,a=d(3);v("current",e.isCurrent)("visited",e.isVisited)("available",e.isAvailable)("battle",e.type==="battle")("ending",e.type==="ending")("event",e.type==="event"),T("transform","translate("+e.position.x+","+e.position.y+")"),l(),T("fill",a.getNodeColor(e))("stroke",a.getNodeBorderColor(e)),l(),g("ngIf",e.isCurrent),l(2),M(" ",a.getNodeIcon(e)," "),l(2),M(" ",e.title.length>12?e.title.substring(0,12)+"...":e.title," "),l(),g("ngIf",e.badge),l(),g("ngIf",e.visitCount&&e.visitCount>1)}}function Qa(r,t){if(r&1&&(N(),k(0,"circle",732)),r&2){let e=t.$implicit;T("cx",e.position.x)("cy",e.position.y)("fill",e.isVisited?"#48bb78":"#cbd5e0")}}function Ja(r,t){if(r&1&&(n(0,"div",689),N(),n(1,"svg",690)(2,"defs")(3,"marker",691),k(4,"polygon",692),o(),n(5,"marker",693),k(6,"polygon",694),o(),n(7,"marker",695),k(8,"polygon",696),o(),n(9,"marker",697),k(10,"polygon",698),o()(),n(11,"g",699),f(12,Ha,1,8,"path",700),o(),n(13,"g",701),f(14,Xa,9,20,"g",702),o()(),L(),n(15,"div",703)(16,"div",704),i(17,"\uC804\uCCB4 \uC9C0\uB3C4"),o(),n(18,"div",705),N(),n(19,"svg",706)(20,"g",707),f(21,Qa,1,3,"circle",708),o()()()(),L(),n(22,"div",709)(23,"div",710),i(24,"\uB178\uB4DC \uC720\uD615"),o(),n(25,"div",538)(26,"div",539)(27,"div",711),i(28,"\u{1F3AC}"),o(),n(29,"span"),i(30,"\uC2DC\uC791"),o()(),n(31,"div",539)(32,"div",712),i(33,"\u{1F4D6}"),o(),n(34,"span"),i(35,"\uC2A4\uD1A0\uB9AC (\uBC29\uBB38)"),o()(),n(36,"div",539)(37,"div",713),i(38,"\u{1F4D6}"),o(),n(39,"span"),i(40,"\uC2A4\uD1A0\uB9AC (\uBBF8\uBC29\uBB38)"),o()(),n(41,"div",539)(42,"div",714),i(43,"\u2694\uFE0F"),o(),n(44,"span"),i(45,"\uC804\uD22C"),o()(),n(46,"div",539)(47,"div",715),i(48,"\u2728"),o(),n(49,"span"),i(50,"\uC774\uBCA4\uD2B8"),o()(),n(51,"div",539)(52,"div",716),i(53,"\u{1F3C1}"),o(),n(54,"span"),i(55,"\uC5D4\uB529"),o()()()()()),r&2){let e=d(2);l(),T("viewBox",e.flowViewBox)("width","100%")("height","100%"),l(11),g("ngForOf",e.storyConnections),l(2),g("ngForOf",e.visibleNodes),l(5),T("viewBox",e.flowViewBox),l(2),g("ngForOf",e.storyNodes)}}function Za(r,t){if(r&1&&(n(0,"p"),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function ec(r,t){r&1&&(n(0,"p",744),i(1,"... \uB354\uBCF4\uAE30"),o())}function tc(r,t){if(r&1&&(n(0,"div",745)(1,"h4"),i(2,"\u{1F4CA} \uD1B5\uACC4"),o(),n(3,"div",269)(4,"span",270),i(5,"\uBC29\uBB38 \uD69F\uC218:"),o(),n(6,"span",179),i(7),o()()()),r&2){let e=d(3);l(7),C(e.selectedNode.visitCount||1)}}function nc(r,t){if(r&1&&(n(0,"li"),i(1),o()),r&2){let e=t.$implicit;l(),M(" ",e.description||e.type," ")}}function oc(r,t){if(r&1&&(n(0,"div",746)(1,"h4"),i(2,"\u{1F512} \uC9C4\uC785 \uC870\uAC74"),o(),n(3,"ul"),f(4,nc,2,1,"li",109),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.selectedNode.conditions)}}function ic(r,t){if(r&1&&(n(0,"div",553)(1,"span",748),i(2),o(),n(3,"span",293),i(4),o()()),r&2){let e=t.$implicit;l(2),C(e.icon||"\u25B6\uFE0F"),l(2),C(e.text)}}function rc(r,t){if(r&1&&(n(0,"div",747)(1,"h4"),i(2),o(),f(3,ic,5,2,"div",552),o()),r&2){let e=d(3);l(2),M("\u{1F500} \uC120\uD0DD\uC9C0 (",e.selectedNode.choices.length,"\uAC1C)"),l(),g("ngForOf",e.selectedNode.choices)}}function ac(r,t){if(r&1&&(n(0,"div",749)(1,"h4"),i(2,"\u2694\uFE0F \uC804\uD22C \uC815\uBCF4"),o(),n(3,"p")(4,"strong"),i(5,"\uC801:"),o(),i(6),o(),n(7,"p")(8,"strong"),i(9,"\uB09C\uC774\uB3C4:"),o(),i(10),o()()),r&2){let e=d(3);l(6),M(" ",e.selectedNode.battleConfig.enemyName),l(4),M(" ","\u2B50".repeat(e.selectedNode.battleConfig.difficulty))}}function cc(r,t){if(r&1){let e=O();n(0,"div",733)(1,"div",734)(2,"h3"),i(3),o(),n(4,"button",735),b("click",function(){_(e);let c=d(2);return u(c.selectedNode=null)}),i(5,"\u2715"),o()(),n(6,"div",736)(7,"div",737)(8,"span",517),i(9),o()(),n(10,"div",738)(11,"h4"),i(12,"\u{1F4D6} \uB0B4\uC6A9 \uBBF8\uB9AC\uBCF4\uAE30"),o(),f(13,Za,2,1,"p",109)(14,ec,2,0,"p",739),o(),f(15,tc,8,1,"div",740)(16,oc,5,1,"div",741)(17,rc,4,2,"div",742)(18,ac,11,2,"div",743),o()()}if(r&2){let e=d(2);l(3),C(e.selectedNode.title),l(5),v("battle",e.selectedNode.type==="battle")("ending",e.selectedNode.type==="ending")("event",e.selectedNode.type==="event"),l(),D(" ",e.getNodeIcon(e.selectedNode)," ",e.selectedNode.type," "),l(4),g("ngForOf",e.selectedNode.content.slice(0,3)),l(),g("ngIf",e.selectedNode.content.length>3),l(),g("ngIf",e.selectedNode.isVisited),l(),g("ngIf",e.selectedNode.conditions&&e.selectedNode.conditions.length>0),l(),g("ngIf",e.selectedNode.choices&&e.selectedNode.choices.length>0),l(),g("ngIf",e.selectedNode.type==="battle"&&e.selectedNode.battleConfig)}}function lc(r,t){if(r&1&&(n(0,"div",754)(1,"h4"),i(2,"\u{1F4CD} \uD604\uC7AC \uC704\uCE58"),o(),n(3,"div",755)(4,"div",756),i(5),o(),n(6,"div",757)(7,"div",758),i(8),o(),n(9,"div",759),i(10),o()()()()),r&2){let e=d(3);l(5),C(e.getNodeIcon(e.getCurrentNode())),l(3),C(e.getCurrentNode().title),l(2),M("\uACBD\uB85C: ",e.currentPath.join(" \u2192 ")||"\uC2DC\uC791")}}function sc(r,t){if(r&1&&(n(0,"span",767),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2192 ",e.choiceText)}}function dc(r,t){if(r&1&&(nt(0),n(1,"span",764),i(2),o(),n(3,"span",765),i(4),o(),f(5,sc,2,1,"span",766),ot()),r&2){let e=t.ngIf,a=d().$implicit,c=d(4);l(2),C(c.getNodeIcon(e)),l(2),C(e.title),l(),g("ngIf",a.choiceText)}}function gc(r,t){if(r&1&&(n(0,"div",763),f(1,dc,6,3,"ng-container",94),o()),r&2){let e=t.$implicit,a=d(4);l(),g("ngIf",a.getNodeById(e.nodeId))}}function pc(r,t){if(r&1&&(n(0,"div",760)(1,"h4"),i(2,"\u{1F6E4}\uFE0F \uCD5C\uADFC \uACBD\uB85C"),o(),n(3,"div",761),f(4,gc,2,1,"div",762),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.storyProgress.pathHistory.slice(-5).reverse())}}function mc(r,t){if(r&1&&(n(0,"div",750)(1,"h3"),i(2,"\u{1F4CA} \uC9C4\uD589 \uD1B5\uACC4"),o(),f(3,lc,11,3,"div",751),n(4,"div",326)(5,"div",752)(6,"div",178),i(7,"\u{1F4CD}"),o(),n(8,"div",179),i(9),o(),n(10,"div",270),i(11,"\uBC29\uBB38\uD55C \uB178\uB4DC"),o()(),n(12,"div",752)(13,"div",178),i(14,"\u{1F500}"),o(),n(15,"div",179),i(16),o(),n(17,"div",270),i(18,"\uC120\uD0DD \uD69F\uC218"),o()(),n(19,"div",752)(20,"div",178),i(21,"\u2694\uFE0F"),o(),n(22,"div",179),i(23),o(),n(24,"div",270),i(25,"\uC804\uD22C \uC2B9\uB960"),o()(),n(26,"div",752)(27,"div",178),i(28,"\u{1F5FA}\uFE0F"),o(),n(29,"div",179),i(30),o(),n(31,"div",270),i(32,"\uD0D0\uD5D8\uB960"),o()()(),f(33,pc,5,1,"div",753),o()),r&2){let e=d(2);l(3),g("ngIf",e.getCurrentNode()),l(6),D("",e.storyProgress.visitedNodes.length,"/",e.storyNodes.length),l(7),C(e.storyProgress.totalChoices),l(7),D(" ",e.storyProgress.battlesWon,"/",e.storyProgress.battlesWon+e.storyProgress.battlesLost," "),l(7),M("",e.calculateExplorationRate(),"%"),l(3),g("ngIf",e.storyProgress.pathHistory.length>0)}}function _c(r,t){if(r&1){let e=O();n(0,"div",768)(1,"div",401),i(2,"\u{1F5FA}\uFE0F"),o(),n(3,"h3"),i(4,"\uC2A4\uD1A0\uB9AC \uB9F5\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4"),o(),n(5,"p"),i(6,"\uC0D8\uD50C \uC2A4\uD1A0\uB9AC\uB97C \uB85C\uB4DC\uD558\uAC70\uB098 AI\uB85C \uC0C8\uB85C\uC6B4 \uC2A4\uD1A0\uB9AC\uB97C \uC0DD\uC131\uD558\uC138\uC694."),o(),n(7,"div",769)(8,"button",770),b("click",function(){_(e);let c=d(2);return u(c.loadSampleStoryMap())}),i(9," \u{1F4E5} \uC0D8\uD50C \uC2A4\uD1A0\uB9AC \uB85C\uB4DC "),o(),n(10,"button",771),b("click",function(){_(e);let c=d(2);return u(c.toggleStoryCreatorPanel())}),i(11," \u2728 AI \uC2A4\uD1A0\uB9AC \uC0DD\uC131 "),o()()()}}function uc(r,t){if(r&1){let e=O();n(0,"div",667)(1,"div",668)(2,"div",669)(3,"div",531)(4,"h2"),i(5,"\u{1F5FA}\uFE0F \uBE44\uC120\uD615 \uC2A4\uD1A0\uB9AC \uD50C\uB85C\uC6B0"),o(),n(6,"span",48),i(7,"\uC120\uD0DD\uACFC \uC804\uD22C\uAC00 \uB9CC\uB4DC\uB294 \uB2F9\uC2E0\uB9CC\uC758 \uC5EC\uC815"),o()(),n(8,"button",76),b("click",function(){_(e);let c=d();return u(c.toggleAdvancedFlowPanel())}),i(9," \u2715 "),o()(),f(10,Ua,28,9,"div",670)(11,Ja,56,7,"div",671)(12,cc,19,15,"div",672)(13,mc,34,8,"div",673)(14,_c,12,0,"div",674),o()()}if(r&2){let e=d();l(10),g("ngIf",e.storyNodes.length>0),l(),g("ngIf",e.storyNodes.length>0),l(),g("ngIf",e.selectedNode),l(),g("ngIf",e.showStats&&e.storyNodes.length>0),l(),g("ngIf",e.storyNodes.length===0)}}function Cc(r,t){if(r&1&&(n(0,"div",777)(1,"div",778),i(2),o(),n(3,"div",779)(4,"h4"),i(5),o(),n(6,"p",780),i(7),o()()()),r&2){let e=t.ngIf,a=d(2);l(2),C(a.getNodeIcon(e)),l(3),C(e.title),l(2),C(e.type)}}function fc(r,t){if(r&1&&(n(0,"div",781)(1,"span",782),i(2,"\uC120\uD0DD\uC9C0 ID:"),o(),n(3,"span",783),i(4),o()()),r&2){let e=d(2);l(4),C(e.currentLinkingChoiceId)}}function bc(r,t){r&1&&(n(0,"span",785),i(1," \u2713 \uC5F0\uACB0\uB428 "),o())}function Pc(r,t){if(r&1&&(n(0,"span",147),i(1),o()),r&2){let e=t.$implicit;l(),C(e)}}function Mc(r,t){if(r&1&&(n(0,"div",143),f(1,Pc,2,1,"span",144),o()),r&2){let e=d().$implicit;l(),g("ngForOf",e.tags.slice(0,3))}}function hc(r,t){if(r&1){let e=O();n(0,"div",140),b("click",function(){let c=_(e).$implicit,s=d(2);return u(s.linkScenarioToFlowNode(c.id))}),n(1,"div",141)(2,"h4"),i(3),o(),n(4,"span",564),i(5),o(),f(6,bc,2,0,"span",784),o(),n(7,"div",565)(8,"p",483),i(9),o(),n(10,"div",145)(11,"span",107),i(12),o(),n(13,"span",107),i(14),o()(),f(15,Mc,2,1,"div",485),o()()}if(r&2){let e=t.$implicit,a=d(2);v("linked",a.getLinkedScenarioId(a.currentLinkingNodeId,a.currentLinkingChoiceId)===e.id),l(3),C(e.title),l(2),C(e.genre),l(),g("ngIf",a.getLinkedScenarioId(a.currentLinkingNodeId,a.currentLinkingChoiceId)===e.id),l(3),C(e.description),l(3),M("\u{1F4CD} ",e.setting),l(2),M("\u{1F3AD} ",e.mood),l(),g("ngIf",e.tags&&e.tags.length>0)}}function xc(r,t){if(r&1){let e=O();n(0,"div",566)(1,"div",401),i(2,"\u{1F3AC}"),o(),n(3,"p"),i(4,"\uC800\uC7A5\uB41C \uC2DC\uB098\uB9AC\uC624\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),o(),n(5,"button",567),b("click",function(){_(e);let c=d(2);return c.openScenarioCreator(),u(c.closeFlowScenarioLinkPanel())}),i(6," \u2728 \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131\uD558\uAE30 "),o()()}}function Oc(r,t){if(r&1){let e=O();n(0,"div",772)(1,"div",773)(2,"div",557)(3,"div",531)(4,"span",558),i(5,"\u22EE\u22EE"),o(),n(6,"h3"),i(7,"\u{1F3AC} \uD50C\uB85C\uC6B0 \uB178\uB4DC\uC5D0 \uC2DC\uB098\uB9AC\uC624 \uC5F0\uACB0"),o()(),n(8,"button",76),b("click",function(){_(e);let c=d();return u(c.closeFlowScenarioLinkPanel())}),i(9,"\u2715"),o()(),n(10,"div",559),f(11,Cc,8,3,"div",774)(12,fc,5,1,"div",775),n(13,"p",560),i(14,"\u{1F4A1} \uC774 \uC120\uD0DD\uC9C0\uC5D0 \uC5F0\uACB0\uD560 \uC2DC\uB098\uB9AC\uC624\uB97C \uC120\uD0DD\uD558\uC138\uC694."),o()(),n(15,"div",561)(16,"div",562),f(17,hc,16,9,"div",776),o(),f(18,xc,7,0,"div",563),o()()()}if(r&2){let e=d();l(11),g("ngIf",e.getNodeById(e.currentLinkingNodeId)),l(),g("ngIf",e.currentLinkingChoiceId),l(5),g("ngForOf",e.savedScenarios),l(),g("ngIf",e.savedScenarios.length===0)}}function vc(r,t){if(r&1){let e=O();n(0,"div",349)(1,"div",790)(2,"h3"),i(3,"\u5167\u529F\u4FEE\u7149 (\uB0B4\uACF5\uC218\uB828)"),o(),n(4,"div",791)(5,"div",792)(6,"span",793),i(7,"\u5167\u529B (\uB0B4\uB825)"),o(),n(8,"span",794),i(9),o()(),n(10,"div",795),k(11,"div",796),o(),n(12,"div",797)(13,"span"),i(14),o(),n(15,"span"),i(16),o(),n(17,"span"),i(18),o()()(),n(19,"div",798)(20,"div",799)(21,"span",800),i(22,"\u2B50"),o(),n(23,"div",801)(24,"span",802),i(25),o(),n(26,"span",803),i(27,"\u5883\u754C (\uACBD\uC9C0)"),o()()(),n(28,"div",804)(29,"span",805),i(30,"\uB3CC\uD30C \uC9C4\uD589\uB3C4"),o(),n(31,"div",806),k(32,"div",313),o(),n(33,"span",807),i(34),o()()(),n(35,"div",808)(36,"button",809),b("click",function(){_(e);let c=d(2);return u(c.cultivateInternalPower(1))}),n(37,"span",810),i(38,"\u{1F9D8}"),o(),n(39,"span",811),i(40,"1\uC2DC\uAC04 \uC218\uB828"),o()(),n(41,"button",809),b("click",function(){_(e);let c=d(2);return u(c.cultivateInternalPower(4))}),n(42,"span",810),i(43,"\u{1F9D8}\u200D\u2642\uFE0F"),o(),n(44,"span",811),i(45,"4\uC2DC\uAC04 \uC218\uB828"),o()(),n(46,"button",809),b("click",function(){_(e);let c=d(2);return u(c.cultivateInternalPower(12))}),n(47,"span",810),i(48,"\u{1F9D8}\u200D\u2640\uFE0F"),o(),n(49,"span",811),i(50,"12\uC2DC\uAC04 \uC218\uB828"),o()()(),n(51,"div",812)(52,"span",813),i(53,"\u4FEE\u7DF4\u5EA6 (\uC218\uB828\uB3C4)"),o(),n(54,"div",814),k(55,"div",815),o(),n(56,"span",816),i(57),o()()()()}if(r&2){let e=d(2);l(9),D("",e.playerInternalPower.current," / ",e.playerInternalPower.max),l(2),S("width",e.playerInternalPower.current/e.playerInternalPower.max*100,"%"),l(3),M("\uD68C\uBCF5 \uC18D\uB3C4: ",e.playerInternalPower.recoveryRate,"/\uD134"),l(2),M("\uC21C\uB3C4: ",e.playerInternalPower.purity,"%"),l(2),M("\uC548\uC815\uC131: ",e.playerInternalPower.stability,"%"),l(2),q("realm-"+e.playerInternalPower.realm),l(5),C(e.playerInternalPower.realm),l(7),S("width",e.playerInternalPower.realmProgress,"%"),l(2),M("",e.playerInternalPower.realmProgress,"%"),l(21),S("width",e.playerInternalPower.trainingLevel,"%"),l(2),M("",e.playerInternalPower.trainingLevel,"%")}}function yc(r,t){r&1&&(n(0,"span",835),i(1,"\u2694\uFE0F"),o())}function wc(r,t){r&1&&(n(0,"span",835),i(1,"\u{1F4FF}"),o())}function kc(r,t){r&1&&(n(0,"span",835),i(1,"\u{1F985}"),o())}function Dc(r,t){r&1&&(n(0,"span",835),i(1,"\u{1F5E1}\uFE0F"),o())}function Sc(r,t){if(r&1&&(n(0,"div",836)(1,"span",837),i(2),o(),n(3,"span",838),i(4),o()()),r&2){let e=d().$implicit;l(),q("element-"+e.element),l(),M(" ",e.element==="fire"?"\u{1F525}":e.element==="ice"?"\u2744\uFE0F":e.element==="wind"?"\u{1F32A}\uFE0F":e.element==="thunder"?"\u26A1":"\u2620\uFE0F"," "),l(2),C(e.element)}}function Ec(r,t){if(r&1&&(n(0,"div",839)(1,"span",840),i(2,"\uC18C\uC18D:"),o(),n(3,"span",841),i(4),o()()),r&2){let e=d().$implicit,a=d(3);l(4),C(a.getFactionName(e.factionId))}}function Ic(r,t){if(r&1&&(n(0,"div",821)(1,"div",822)(2,"div",823)(3,"h4",824),i(4),o(),n(5,"p",825),i(6),o()(),n(7,"span",826),i(8),o()(),n(9,"div",827),f(10,yc,2,0,"span",828)(11,wc,2,0,"span",828)(12,kc,2,0,"span",828)(13,Dc,2,0,"span",828),n(14,"span",829),i(15),o()(),n(16,"div",830)(17,"div",269)(18,"span",270),i(19,"\uC18C\uBAA8 \uB0B4\uB825:"),o(),n(20,"span",179),i(21),o()(),n(22,"div",269)(23,"span",270),i(24,"\uC704\uB825:"),o(),n(25,"span",179),i(26),o()(),n(27,"div",269)(28,"span",270),i(29,"\uBA85\uC911\uB960:"),o(),n(30,"span",179),i(31),o()(),n(32,"div",269)(33,"span",270),i(34,"\uCE58\uBA85\uD0C0:"),o(),n(35,"span",179),i(36),o()()(),n(37,"div",831)(38,"p"),i(39),o(),n(40,"p",832),i(41),o()(),f(42,Sc,5,4,"div",833)(43,Ec,5,1,"div",834),o()),r&2){let e=t.$implicit;q("grade-"+e.grade),l(4),C(e.chineseName),l(2),C(e.name),l(2),C(e.grade),l(2),g("ngIf",e.type==="choShik"),l(),g("ngIf",e.type==="shimBeop"),l(),g("ngIf",e.type==="gyeongGong"),l(),g("ngIf",e.type==="amGi"),l(2),M(" ",e.type==="choShik"?"\uCD08\uC2DD":e.type==="shimBeop"?"\uC2EC\uBC95":e.type==="gyeongGong"?"\uACBD\uACF5":"\uC554\uAE30"," "),l(6),C(e.internalPowerCost),l(5),M("\xD7",e.damageMultiplier),l(5),M("",(e.hitRate*100).toFixed(0),"%"),l(5),M("",(e.criticalRate*100).toFixed(0),"%"),l(3),C(e.description),l(2),C(e.skillEffect),l(),g("ngIf",e.element),l(),g("ngIf",e.factionId)}}function Bc(r,t){r&1&&(n(0,"div",842)(1,"p"),i(2,"\uC544\uC9C1 \uC2B5\uB4DD\uD55C \uBB34\uACF5\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),o(),n(3,"p"),i(4,"\uBB38\uD30C\uC5D0 \uC785\uBB38\uD558\uAC70\uB098 \uBB34\uACF5 \uBE44\uAE09\uC744 \uC5BB\uC73C\uC138\uC694!"),o()())}function Tc(r,t){if(r&1&&(n(0,"div",349)(1,"div",338)(2,"h3"),i(3,"\u6B66\u529F\u62DB\u5F0F (\uBB34\uACF5\uCD08\uC2DD)"),o(),n(4,"div",817)(5,"span"),i(6),o()(),n(7,"div",818),f(8,Ic,44,18,"div",819),o(),f(9,Bc,5,0,"div",820),o()()),r&2){let e=d(2);l(6),M("\uC2B5\uB4DD\uD55C \uBB34\uACF5: ",e.learnedMartialSkills.length,"\uAC1C"),l(2),g("ngForOf",e.learnedMartialSkills),l(),g("ngIf",e.learnedMartialSkills.length===0)}}function Ac(r,t){if(r&1&&(n(0,"div",846)(1,"div",847)(2,"div",848)(3,"h4"),i(4),o(),n(5,"p",849),i(6),o()(),n(7,"div",850),i(8),o(),n(9,"div",851)(10,"p"),i(11),o(),n(12,"p")(13,"strong"),i(14,"\uBCF8\uAC70\uC9C0:"),o(),i(15),o(),n(16,"p")(17,"strong"),i(18,"\uCC3D\uC2DC\uC790:"),o(),i(19),o()(),n(20,"div",852)(21,"span"),i(22,"\uD3C9\uD310:"),o(),n(23,"div",853),k(24,"div",854),o(),n(25,"span"),i(26),o()()()()),r&2){let e=d(3);l(4),C(e.playerFaction.chineseName),l(2),C(e.playerFaction.name),l(),q("type-"+e.playerFaction.type),l(),M(" ",e.playerFaction.type==="righteous"?"\u6B63\u6D3E":e.playerFaction.type==="evil"?"\u9B54\u654E":"\u4E2D\u7ACB"," "),l(3),C(e.playerFaction.description),l(4),M(" ",e.playerFaction.headquarters),l(4),M(" ",e.playerFaction.founder),l(5),S("width",(e.playerFaction.reputation+1e3)/2e3*100+"%"),l(2),C(e.playerFaction.reputation)}}function Nc(r,t){if(r&1&&(n(0,"span",862),i(1),o()),r&2){let e=t.$implicit;l(),M(" ",e," ")}}function zc(r,t){if(r&1){let e=O();n(0,"div",858)(1,"div",848)(2,"h4"),i(3),o(),n(4,"p",849),i(5),o()(),n(6,"div",850),i(7),o(),n(8,"div",851)(9,"p"),i(10),o(),n(11,"p")(12,"strong"),i(13,"\uBCF8\uAC70\uC9C0:"),o(),i(14),o()(),n(15,"div",859),f(16,Nc,2,1,"span",860),o(),n(17,"button",861),b("click",function(){let c=_(e).$implicit,s=d(4);return u(s.joinFaction(c.id))}),i(18," \uC785\uBB38\uD558\uAE30 "),o()()}if(r&2){let e=t.$implicit;q("type-"+e.type),l(3),C(e.chineseName),l(2),C(e.name),l(),q("type-"+e.type),l(),M(" ",e.type==="righteous"?"\u6B63\u6D3E":e.type==="evil"?"\u9B54\u654E":"\u4E2D\u7ACB"," "),l(3),C(e.description),l(4),M(" ",e.headquarters),l(2),g("ngForOf",e.specialties)}}function Fc(r,t){if(r&1&&(n(0,"div",855)(1,"p"),i(2,"\uC544\uC9C1 \uBB38\uD30C\uC5D0 \uC18C\uC18D\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4."),o(),n(3,"h4"),i(4,"\uC785\uBB38 \uAC00\uB2A5\uD55C \uBB38\uD30C:"),o(),n(5,"div",856),f(6,zc,19,10,"div",857),o()()),r&2){let e=d(3);l(6),g("ngForOf",e.availableFactions)}}function qc(r,t){if(r&1&&(n(0,"div",349)(1,"div",843)(2,"h3"),i(3,"\u9580\u6D3E (\uBB38\uD30C)"),o(),f(4,Ac,27,11,"div",844)(5,Fc,7,1,"div",845),o()()),r&2){let e=d(2);l(4),g("ngIf",e.playerFaction),l(),g("ngIf",!e.playerFaction)}}function Gc(r,t){r&1&&(n(0,"span",883),i(1,"\u2B50"),o())}function Rc(r,t){if(r&1&&(n(0,"div",884)(1,"span",885),i(2,"\u2728"),o(),n(3,"span",886),i(4),o()()),r&2){let e=t.$implicit;l(4),C(e.description)}}function Vc(r,t){if(r&1&&(n(0,"div",887)(1,"span",888),i(2,"\u26A0\uFE0F"),o(),n(3,"span",889),i(4),o()()),r&2){let e=d().$implicit;l(4),D("",e.sideEffect," (",(e.sideEffectChance*100).toFixed(0),"%)")}}function Lc(r,t){if(r&1){let e=O();n(0,"div",867)(1,"div",868)(2,"div",869)(3,"h4",870),i(4),o(),n(5,"p",871),i(6),o()(),n(7,"span",872),i(8),o()(),n(9,"div",873)(10,"span",517),i(11),o(),n(12,"span",874),f(13,Gc,2,0,"span",875),o()(),n(14,"div",876)(15,"p"),i(16),o()(),n(17,"div",877),f(18,Rc,5,1,"div",878),o(),f(19,Vc,5,2,"div",879),n(20,"div",880)(21,"span",881),i(22),o(),n(23,"button",882),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.useElixir(c.id))}),i(24," \uC0AC\uC6A9\uD558\uAE30 "),o()()()}if(r&2){let e=t.$implicit;q("grade-"+e.grade),l(4),C(e.chineseName),l(2),C(e.name),l(2),C(e.grade),l(3),C(e.type),l(2),g("ngForOf",Y(11,to).constructor(e.rarity)),l(3),C(e.description),l(2),g("ngForOf",e.effects),l(),g("ngIf",e.sideEffect),l(3),M("\u{1F4B0} ",e.price,"G")}}function $c(r,t){r&1&&(n(0,"div",890)(1,"p"),i(2,"\uBCF4\uC720\uD55C \uB2E8\uC57D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),o()())}function jc(r,t){if(r&1&&(n(0,"div",349)(1,"div",863)(2,"h3"),i(3,"\u4E39\u85E5 (\uB2E8\uC57D)"),o(),n(4,"div",864),f(5,Lc,25,12,"div",865),o(),f(6,$c,3,0,"div",866),o()()),r&2){let e=d(2);l(5),g("ngForOf",e.elixirs),l(),g("ngIf",e.elixirs.length===0)}}function Uc(r,t){if(r&1){let e=O();n(0,"div",901)(1,"button",902),b("click",function(){_(e);let c=d().$implicit,s=d(3);return u(s.openMeridian(c.id))}),i(2," \uAC1C\uD1B5 "),o()()}}function Hc(r,t){if(r&1&&(n(0,"div",897)(1,"div",898)(2,"span",899),i(3),o()(),f(4,Uc,3,0,"div",900),o()),r&2){let e=t.$implicit,a=t.index,c=d(3);S("top",c.getMeridianPosition(a).top)("left",c.getMeridianPosition(a).left),v("opened",e.isOpened),g("title",e.name+" "+e.chineseName),l(3),C(a+1),l(),g("ngIf",!e.isOpened)}}function Yc(r,t){if(r&1&&(n(0,"div",912)(1,"div",806),k(2,"div",313),o(),n(3,"span"),i(4),o()()),r&2){let e=d().$implicit;l(2),S("width",e.openProgress,"%"),l(2),M("",e.openProgress,"%")}}function Wc(r,t){if(r&1&&(n(0,"span",913),i(1),o()),r&2){let e=t.$implicit,a=d().$implicit;l(),D(" ",e,": +",a.bonus[e]," ")}}function Kc(r,t){r&1&&(n(0,"span",914),i(1,"\u2713 \uAC1C\uD1B5\uB428"),o())}function Xc(r,t){if(r&1){let e=O();n(0,"button",915),b("click",function(){_(e);let c=d().$implicit,s=d(3);return u(s.openMeridian(c.id))}),i(1," \uAC1C\uD1B5\uD558\uAE30 "),o()}}function Qc(r,t){if(r&1&&(n(0,"div",903)(1,"div",904),i(2),o(),n(3,"div",905)(4,"h4"),i(5),o(),n(6,"p"),i(7),o(),f(8,Yc,5,3,"div",906),n(9,"div",907),f(10,Wc,2,2,"span",908),o()(),n(11,"div",909),f(12,Kc,2,0,"span",910)(13,Xc,2,0,"button",911),o()()),r&2){let e=t.$implicit,a=t.index,c=d(3);v("opened",e.isOpened),l(2),C(a+1),l(3),C(e.chineseName),l(2),C(e.name),l(),g("ngIf",!e.isOpened),l(2),g("ngForOf",c.getObjectKeys(e.bonus)),l(2),g("ngIf",e.isOpened),l(),g("ngIf",!e.isOpened)}}function Jc(r,t){if(r&1&&(n(0,"div",349)(1,"div",891)(2,"h3"),i(3,"\u7D93\u8108 (\uACBD\uB9E5)"),o(),n(4,"div",892)(5,"p"),i(6),o()(),n(7,"div",893),f(8,Hc,5,9,"div",894),o(),n(9,"div",895),f(10,Qc,14,9,"div",896),o()()()),r&2){let e=d(2);l(6),D("\uAC1C\uD1B5\uB41C \uD608\uB3C4: ",e.playerInternalPower.meridians.opened," / ",e.playerInternalPower.meridians.total),l(2),g("ngForOf",e.playerInternalPower.meridians.meridians),l(2),g("ngForOf",e.playerInternalPower.meridians.meridians)}}function Zc(r,t){if(r&1){let e=O();n(0,"div",786),b("click",function(){_(e);let c=d();return u(c.closeWuxiaPanel())}),n(1,"div",787),b("click",function(c){return _(e),u(c.stopPropagation())}),n(2,"div",788)(3,"h2"),i(4,"\u{1F3AF} \uC218\uB828 \uBAA8\uB4DC \u4FEE\u7149\u6A21\u5F0F"),o(),n(5,"button",76),b("click",function(){_(e);let c=d();return u(c.closeWuxiaPanel())}),i(6,"\u2715"),o()(),n(7,"div",789)(8,"button",346),b("click",function(){_(e);let c=d();return u(c.wuxiaActiveTab="cultivation")}),i(9," \u{1F525} \uB0B4\uACF5\uC218\uB828 "),o(),n(10,"button",346),b("click",function(){_(e);let c=d();return u(c.wuxiaActiveTab="skills")}),i(11," \u{1F4D6} \uBB34\uACF5\uCD08\uC2DD "),o(),n(12,"button",346),b("click",function(){_(e);let c=d();return u(c.wuxiaActiveTab="faction")}),i(13," \u{1F3DB}\uFE0F \uBB38\uD30C "),o(),n(14,"button",346),b("click",function(){_(e);let c=d();return u(c.wuxiaActiveTab="elixir")}),i(15," \u{1F48A} \uB2E8\uC57D "),o(),n(16,"button",346),b("click",function(){_(e);let c=d();return u(c.wuxiaActiveTab="meridians")}),i(17," \u2B55 \uD608\uB3C4 "),o()(),f(18,vc,58,16,"div",348)(19,Tc,10,3,"div",348)(20,qc,6,2,"div",348)(21,jc,7,2,"div",348)(22,Jc,11,4,"div",348),o()()}if(r&2){let e=d();l(8),v("active",e.wuxiaActiveTab==="cultivation"),l(2),v("active",e.wuxiaActiveTab==="skills"),l(2),v("active",e.wuxiaActiveTab==="faction"),l(2),v("active",e.wuxiaActiveTab==="elixir"),l(2),v("active",e.wuxiaActiveTab==="meridians"),l(2),g("ngIf",e.wuxiaActiveTab==="cultivation"),l(),g("ngIf",e.wuxiaActiveTab==="skills"),l(),g("ngIf",e.wuxiaActiveTab==="faction"),l(),g("ngIf",e.wuxiaActiveTab==="elixir"),l(),g("ngIf",e.wuxiaActiveTab==="meridians")}}function el(r,t){r&1&&(n(0,"span",607),i(1,"\u2694\uFE0F"),o(),n(2,"span",608),i(3,"\uC7A5\uBE44"),o())}function tl(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u26D1\uFE0F"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.helmet==null?null:e.playerCharacter.equipment.helmet.baseType)}}function nl(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u26D1\uFE0F"),o()())}function ol(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F6E1}\uFE0F"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.armor==null?null:e.playerCharacter.equipment.armor.baseType)}}function il(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F6E1}\uFE0F"),o()())}function rl(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F9E4}"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.gloves==null?null:e.playerCharacter.equipment.gloves.baseType)}}function al(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F9E4}"),o()())}function cl(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F462}"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.boots==null?null:e.playerCharacter.equipment.boots.baseType)}}function ll(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F462}"),o()())}function sl(r,t){if(r&1&&(n(0,"div",984),i(1),o()),r&2){let e=d(4);l(),D(" ",e.playerCharacter.equipment==null||e.playerCharacter.equipment.weapon==null||e.playerCharacter.equipment.weapon.baseStats==null?null:e.playerCharacter.equipment.weapon.baseStats.minDamage,"-",e.playerCharacter.equipment==null||e.playerCharacter.equipment.weapon==null||e.playerCharacter.equipment.weapon.baseStats==null?null:e.playerCharacter.equipment.weapon.baseStats.maxDamage," ")}}function dl(r,t){if(r&1&&(n(0,"div",977)(1,"div",982),i(2,"\u2694\uFE0F"),o(),n(3,"div",979),i(4),o(),f(5,sl,2,2,"div",983),o()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.weapon==null?null:e.playerCharacter.equipment.weapon.baseType),l(),g("ngIf",e.playerCharacter.equipment==null||e.playerCharacter.equipment.weapon==null?null:e.playerCharacter.equipment.weapon.baseStats)}}function gl(r,t){r&1&&(n(0,"div",980)(1,"div",985),i(2,"\u2694\uFE0F"),o()())}function pl(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F4FF}"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.amulet==null?null:e.playerCharacter.equipment.amulet.baseType)}}function ml(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F4FF}"),o()())}function _l(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F397}\uFE0F"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.belt==null?null:e.playerCharacter.equipment.belt.baseType)}}function ul(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F397}\uFE0F"),o()())}function Cl(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F48D}"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.ring1==null?null:e.playerCharacter.equipment.ring1.baseType)}}function fl(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F48D}"),o()())}function bl(r,t){if(r&1&&(n(0,"div",977)(1,"div",978),i(2,"\u{1F48D}"),o(),n(3,"div",979),i(4),o()()),r&2){let e=d(3);l(4),C(e.playerCharacter.equipment==null||e.playerCharacter.equipment.ring2==null?null:e.playerCharacter.equipment.ring2.baseType)}}function Pl(r,t){r&1&&(n(0,"div",980)(1,"div",981),i(2,"\u{1F48D}"),o()())}function Ml(r,t){if(r&1){let e=O();n(0,"div",960)(1,"h4",325),i(2,"\u2694\uFE0F \uC7A5\uBE44 \uC2AC\uB86F"),o(),n(3,"div",961)(4,"div",352)(5,"div",962),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.helmet)&&c.unequipItem("helmet"))}),n(6,"div",963),i(7,"\uD22C\uAD6C"),o(),f(8,tl,5,1,"div",964)(9,nl,3,0,"ng-template",null,3,R),o(),n(11,"div",965),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.armor)&&c.unequipItem("armor"))}),n(12,"div",963),i(13,"\uAC11\uC637"),o(),f(14,ol,5,1,"div",964)(15,il,3,0,"ng-template",null,2,R),o(),n(17,"div",966),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.gloves)&&c.unequipItem("gloves"))}),n(18,"div",963),i(19,"\uC7A5\uAC11"),o(),f(20,rl,5,1,"div",964)(21,al,3,0,"ng-template",null,6,R),o(),n(23,"div",967),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.boots)&&c.unequipItem("boots"))}),n(24,"div",963),i(25,"\uC2E0\uBC1C"),o(),f(26,cl,5,1,"div",964)(27,ll,3,0,"ng-template",null,7,R),o()(),n(29,"div",357)(30,"div",968),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.weapon)&&c.unequipItem("weapon"))}),n(31,"div",963),i(32,"\uBB34\uAE30"),o(),f(33,dl,6,2,"div",964)(34,gl,3,0,"ng-template",null,1,R),o()(),n(36,"div",361)(37,"div",969),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.amulet)&&c.unequipItem("amulet"))}),n(38,"div",963),i(39,"\uBAA9\uAC78\uC774"),o(),f(40,pl,5,1,"div",964)(41,ml,3,0,"ng-template",null,4,R),o(),n(43,"div",970),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.belt)&&c.unequipItem("belt"))}),n(44,"div",963),i(45,"\uBCA8\uD2B8"),o(),f(46,_l,5,1,"div",964)(47,ul,3,0,"ng-template",null,5,R),o(),n(49,"div",971),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.ring1)&&c.unequipItem("ring1"))}),n(50,"div",963),i(51,"\uBC18\uC9C0"),o(),f(52,Cl,5,1,"div",964)(53,fl,3,0,"ng-template",null,8,R),o(),n(55,"div",971),b("click",function(){_(e);let c=d(2);return u((c.playerCharacter.equipment==null?null:c.playerCharacter.equipment.ring2)&&c.unequipItem("ring2"))}),n(56,"div",963),i(57,"\uBC18\uC9C0"),o(),f(58,bl,5,1,"div",964)(59,Pl,3,0,"ng-template",null,9,R),o()()(),n(61,"div",972)(62,"div",973)(63,"span",974),i(64,"\u2694\uFE0F"),o(),n(65,"span",975),i(66,"\uCD1D \uACF5\uACA9\uB825"),o(),n(67,"span",976),i(68),o()(),n(69,"div",973)(70,"span",974),i(71,"\u{1F6E1}\uFE0F"),o(),n(72,"span",975),i(73,"\uCD1D \uBC29\uC5B4\uB825"),o(),n(74,"span",976),i(75),o()(),n(76,"div",973)(77,"span",974),i(78,"\u2728"),o(),n(79,"span",975),i(80,"\uD2B9\uC218 \uD6A8\uACFC"),o(),n(81,"span",976),i(82),o()()()()}if(r&2){let e=F(10),a=F(16),c=F(22),s=F(28),m=F(35),P=F(42),h=F(48),x=F(54),w=F(60),p=d(2);l(5),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.helmet?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.helmet==null?null:p.playerCharacter.equipment.helmet.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.helmet)("ngIfElse",e),l(3),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.armor?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.armor==null?null:p.playerCharacter.equipment.armor.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.armor)("ngIfElse",a),l(3),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.gloves?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.gloves==null?null:p.playerCharacter.equipment.gloves.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.gloves)("ngIfElse",c),l(3),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.boots?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.boots==null?null:p.playerCharacter.equipment.boots.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.boots)("ngIfElse",s),l(4),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.weapon?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.weapon==null?null:p.playerCharacter.equipment.weapon.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.weapon)("ngIfElse",m),l(4),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.amulet?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.amulet==null?null:p.playerCharacter.equipment.amulet.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.amulet)("ngIfElse",P),l(3),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.belt?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.belt==null?null:p.playerCharacter.equipment.belt.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.belt)("ngIfElse",h),l(3),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.ring1?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring1==null?null:p.playerCharacter.equipment.ring1.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring1)("ngIfElse",x),l(3),S("cursor",p.playerCharacter.equipment!=null&&p.playerCharacter.equipment.ring2?"pointer":"default"),T("data-rarity",(p.playerCharacter.equipment==null||p.playerCharacter.equipment.ring2==null?null:p.playerCharacter.equipment.ring2.rarity)||"empty"),l(3),g("ngIf",p.playerCharacter.equipment==null?null:p.playerCharacter.equipment.ring2)("ngIfElse",w),l(10),C(p.getTotalAttack()),l(7),C(p.getTotalDefense()),l(7),C(p.getSpecialEffectsCount())}}function hl(r,t){if(r&1){let e=O();n(0,"button",986),b("click",function(){_(e);let c=d(2);return u(c.generateRandomItems())}),n(1,"mat-icon"),i(2,"casino"),o(),i(3," AI \uC544\uC774\uD15C \uC0DD\uC131 "),o()}}function xl(r,t){r&1&&(n(0,"span"),i(1,"\u2694\uFE0F"),o())}function Ol(r,t){r&1&&(n(0,"span"),i(1,"\u{1F6E1}\uFE0F"),o())}function vl(r,t){r&1&&(n(0,"span"),i(1,"\u26D1\uFE0F"),o())}function yl(r,t){r&1&&(n(0,"span"),i(1,"\u{1F9E4}"),o())}function wl(r,t){r&1&&(n(0,"span"),i(1,"\u{1F462}"),o())}function kl(r,t){r&1&&(n(0,"span"),i(1,"\u{1F397}\uFE0F"),o())}function Dl(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4FF}"),o())}function Sl(r,t){r&1&&(n(0,"span"),i(1,"\u{1F48D}"),o())}function El(r,t){r&1&&(n(0,"span"),i(1,"\u{1F9EA}"),o())}function Il(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4E6}"),o())}function Bl(r,t){if(r&1&&(n(0,"div",1e3)(1,"span",963),i(2),o()()),r&2){let e=d().$implicit,a=d(3);l(2),C(a.getEquipmentSlotName(e.type))}}function Tl(r,t){if(r&1&&(n(0,"span",1008),i(1),o()),r&2){let e=d(2).$implicit;l(),D("\u2694\uFE0F ",e.stats.minDamage,"-",e.stats.maxDamage)}}function Al(r,t){if(r&1&&(n(0,"span",1008),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2694\uFE0F +",e.stats.attack)}}function Nl(r,t){if(r&1&&(n(0,"span",1009),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F6E1}\uFE0F +",e.stats.armor)}}function zl(r,t){if(r&1&&(n(0,"span",1009),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F6E1}\uFE0F +",e.stats.defense)}}function Fl(r,t){if(r&1&&(n(0,"span",1010),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2764\uFE0F +",e.stats.hp)}}function ql(r,t){if(r&1&&(n(0,"span",1010),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F499} +",e.stats.mp)}}function Gl(r,t){if(r&1&&(n(0,"span",1011),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F4A5} ",e.stats.critChance,"%")}}function Rl(r,t){if(r&1&&(n(0,"span",1011),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F4A2} ",e.stats.critDamage,"%")}}function Vl(r,t){if(r&1&&(n(0,"span",1012),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1FA78} ",e.stats.lifeSteal,"%")}}function Ll(r,t){if(r&1&&(n(0,"span",1013),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F525} +",e.stats.fireResist,"%")}}function $l(r,t){if(r&1&&(n(0,"span",1013),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2744\uFE0F +",e.stats.coldResist,"%")}}function jl(r,t){if(r&1&&(n(0,"span",1013),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u26A1 +",e.stats.lightningResist,"%")}}function Ul(r,t){if(r&1&&(n(0,"span",1013),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u2728 +",e.stats.allResist,"%")}}function Hl(r,t){if(r&1&&(n(0,"span",1014),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F3B2} +",e.stats.magicFind,"%")}}function Yl(r,t){if(r&1&&(n(0,"span",1014),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F4B0} +",e.stats.goldFind,"%")}}function Wl(r,t){if(r&1&&(n(0,"span",1014),i(1),o()),r&2){let e=d(2).$implicit;l(),M("\u{1F3C3} +",e.stats.movementSpeed,"%")}}function Kl(r,t){if(r&1&&(n(0,"div",511),f(1,Tl,2,2,"span",1001)(2,Al,2,1,"span",1001)(3,Nl,2,1,"span",1002)(4,zl,2,1,"span",1002)(5,Fl,2,1,"span",1003)(6,ql,2,1,"span",1003)(7,Gl,2,1,"span",1004)(8,Rl,2,1,"span",1004)(9,Vl,2,1,"span",1005)(10,Ll,2,1,"span",1006)(11,$l,2,1,"span",1006)(12,jl,2,1,"span",1006)(13,Ul,2,1,"span",1006)(14,Hl,2,1,"span",1007)(15,Yl,2,1,"span",1007)(16,Wl,2,1,"span",1007),o()),r&2){let e=d().$implicit;l(),g("ngIf",e.stats.minDamage&&e.stats.maxDamage),l(),g("ngIf",e.stats.attack&&!e.stats.minDamage),l(),g("ngIf",e.stats.armor),l(),g("ngIf",e.stats.defense&&!e.stats.armor),l(),g("ngIf",e.stats.hp),l(),g("ngIf",e.stats.mp),l(),g("ngIf",e.stats.critChance),l(),g("ngIf",e.stats.critDamage),l(),g("ngIf",e.stats.lifeSteal),l(),g("ngIf",e.stats.fireResist),l(),g("ngIf",e.stats.coldResist),l(),g("ngIf",e.stats.lightningResist),l(),g("ngIf",e.stats.allResist),l(),g("ngIf",e.stats.magicFind),l(),g("ngIf",e.stats.goldFind),l(),g("ngIf",e.stats.movementSpeed)}}function Xl(r,t){if(r&1&&(n(0,"div",1015)(1,"span",1016),i(2),o()()),r&2){let e=d().$implicit;l(2),M("\xD7",e.quantity)}}function Ql(r,t){if(r&1){let e=O();n(0,"div",989)(1,"button",990),b("menuOpened",function(){let c=_(e).$implicit,s=d(3);return u(s.selectInventoryItem(c,s.getOriginalInventoryIndex(c)))}),n(2,"div",991)(3,"div",992),f(4,xl,2,0,"span",94)(5,Ol,2,0,"span",94)(6,vl,2,0,"span",94)(7,yl,2,0,"span",94)(8,wl,2,0,"span",94)(9,kl,2,0,"span",94)(10,Dl,2,0,"span",94)(11,Sl,2,0,"span",94)(12,El,2,0,"span",94)(13,Il,2,0,"span",94),o(),n(14,"div",993)(15,"div",994),i(16),o(),n(17,"div",995),i(18),o(),n(19,"div",506),i(20),o(),f(21,Bl,3,1,"div",996)(22,Kl,17,16,"div",508)(23,Xl,3,1,"div",997),o(),n(24,"div",998),i(25),o()(),n(26,"button",999),b("click",function(c){let s=_(e).$implicit,m=d(3);return m.deleteInventoryItem(m.getOriginalInventoryIndex(s)),u(c.stopPropagation())}),n(27,"mat-icon"),i(28,"close"),o()()()()}if(r&2){let e=t.$implicit;d(2);let a=F(49),c=d();g("ngClass",c.getItemTypeColorClass(e.type)),l(),g("matMenuTriggerFor",a),T("data-rarity",e.rarity),l(3),g("ngIf",e.type==="weapon"),l(),g("ngIf",e.type==="armor"),l(),g("ngIf",e.type==="helmet"),l(),g("ngIf",e.type==="gloves"),l(),g("ngIf",e.type==="boots"),l(),g("ngIf",e.type==="belt"),l(),g("ngIf",e.type==="amulet"),l(),g("ngIf",e.type==="ring"),l(),g("ngIf",e.type==="consumable"),l(),g("ngIf",e.type==="material"),l(2),q("rarity-text-"+e.rarity),l(),C(e.name),l(),q("rarity-badge-"+e.rarity),l(),M(" ",c.getRarityText(e.rarity)," "),l(2),C(c.getItemTypeText(e.type)),l(),g("ngIf",c.getEquipmentSlotName(e.type)),l(),g("ngIf",e.stats),l(),g("ngIf",e.quantity&&e.quantity>1),l(2),M(" ",c.getRaritySymbol(e.rarity)," ")}}function Jl(r,t){if(r&1&&(n(0,"div",987),f(1,Ql,29,24,"div",988),o()),r&2){let e=d(2);l(),g("ngForOf",e.getFilteredInventory())}}function Zl(r,t){if(r&1){let e=O();n(0,"button",931),b("click",function(){_(e);let c=d(2);return u(c.onContextMenuAction("equip"))}),n(1,"mat-icon"),i(2,"upload"),o(),n(3,"span"),i(4,"\uC7A5\uBE44\uD558\uAE30"),o()()}}function es(r,t){if(r&1){let e=O();n(0,"button",931),b("click",function(){_(e);let c=d(2);return u(c.onContextMenuAction("compare"))}),n(1,"mat-icon"),i(2,"compare_arrows"),o(),n(3,"span"),i(4,"\uBE44\uAD50\uD558\uAE30"),o()()}}function ts(r,t){r&1&&(n(0,"p"),i(1,"\uC778\uBCA4\uD1A0\uB9AC\uAC00 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4"),o())}function ns(r,t){r&1&&(n(0,"p"),i(1,"\uD574\uB2F9 \uD0C0\uC785\uC758 \uC544\uC774\uD15C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),o())}function os(r,t){r&1&&(n(0,"p",560),i(1,"AI \uC544\uC774\uD15C \uC0DD\uC131 \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC5EC \uC544\uC774\uD15C\uC744 \uC0DD\uC131\uD558\uC138\uC694"),o())}function is(r,t){if(r&1){let e=O();n(0,"button",1020),b("click",function(){_(e);let c=d(3);return u(c.generateRandomItems())}),n(1,"mat-icon"),i(2,"add"),o(),i(3," \uCCAB \uC544\uC774\uD15C \uC0DD\uC131\uD558\uAE30 "),o()}}function rs(r,t){if(r&1&&(n(0,"div",1017)(1,"div",401),i(2,"\u{1F392}"),o(),f(3,ts,2,0,"p",94)(4,ns,2,0,"p",94)(5,os,2,0,"p",1018)(6,is,4,0,"button",1019),o()),r&2){let e=d(2);l(3),g("ngIf",e.inventoryFilter==="all"),l(),g("ngIf",e.inventoryFilter!=="all"),l(),g("ngIf",e.inventoryFilter==="all"),l(),g("ngIf",e.playerCharacter&&e.inventoryFilter==="all")}}function as(r,t){r&1&&(n(0,"div",1021)(1,"div",401),i(2,"\u2694\uFE0F"),o(),n(3,"h3"),i(4,"\uCE90\uB9AD\uD130 \uC815\uBCF4 \uC5C6\uC74C"),o(),n(5,"p"),i(6,"\uCE90\uB9AD\uD130\uB97C \uC0DD\uC131\uD558\uBA74 \uC7A5\uBE44 \uC815\uBCF4\uAC00 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),o()())}function cs(r,t){r&1&&(n(0,"span",607),i(1,"\u{1F3AF}"),o(),n(2,"span",608),i(3,"\uAE30\uB2A5"),o())}function ls(r,t){r&1&&(n(0,"span",607),i(1,"\u{1F5FA}\uFE0F"),o(),n(2,"span",608),i(3,"\uBBF8\uB2C8\uB9F5"),o())}function ss(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3AC}"),o())}function ds(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4D6}"),o())}function gs(r,t){r&1&&(n(0,"span"),i(1,"\u{1F500}"),o())}function ps(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4CD}"),o())}function ms(r,t){if(r&1&&(n(0,"div",1031),i(1),o()),r&2){let e=t.$implicit;l(),M(" \u2192 ",e.substring(0,25),"... ")}}function _s(r,t){if(r&1&&(n(0,"div",1032),i(1),o()),r&2){let e=d(4);l(),M(" +",e.choices.length-3,"\uAC1C \uB354 ")}}function us(r,t){if(r&1&&(n(0,"div",1028),f(1,ms,2,1,"div",1029)(2,_s,2,1,"div",1030),o()),r&2){let e=d(3);l(),g("ngForOf",e.choices.slice(0,3)),l(),g("ngIf",e.choices.length>3)}}function Cs(r,t){r&1&&k(0,"div",1033)}function fs(r,t){if(r&1&&(n(0,"div",1022)(1,"div",1023),f(2,ss,2,0,"span",94)(3,ds,2,0,"span",94)(4,gs,2,0,"span",94)(5,ps,2,0,"span",94),o(),n(6,"div",1024)(7,"div",1025),i(8),o(),f(9,us,3,2,"div",1026),o(),f(10,Cs,1,0,"div",1027),o()),r&2){let e=t.$implicit,a=t.index,c=d(2);S("margin-left",e.level*20,"px"),g("ngClass",He(10,Wt,e.type==="start",e.type==="story",e.type==="choice",e.type==="current")),l(2),g("ngIf",e.type==="start"),l(),g("ngIf",e.type==="story"),l(),g("ngIf",e.type==="choice"),l(),g("ngIf",e.type==="current"),l(3),C(e.label),l(),g("ngIf",e.type==="current"&&e.choices&&c.choices.length>0),l(),g("ngIf",a<c.storyFlowNodes.length-1)}}function bs(r,t){r&1&&(n(0,"div",768)(1,"div",401),i(2,"\u{1F4DD}"),o(),n(3,"p"),i(4,"\uC544\uC9C1 \uC0DD\uC131\uB41C \uC2A4\uD1A0\uB9AC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),o(),n(5,"p",560),i(6,"\uC18C\uC124\uC744 \uC0DD\uC131\uD558\uBA74 \uC5EC\uAE30\uC5D0 \uAD6C\uC870\uAC00 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),o()())}function Ps(r,t){r&1&&(n(0,"span",607),i(1,"\u{1F464}"),o(),n(2,"span",608),i(3,"\uCE90\uB9AD\uD130"),o())}function Ms(r,t){if(r&1&&(n(0,"div",341)(1,"div",822)(2,"span",342),i(3),o(),n(4,"span",343),i(5),o()(),n(6,"p",831),i(7),o(),n(8,"div",1051),i(9),o()()),r&2){let e=t.$implicit;l(3),C(e.name),l(2),D("Lv.",e.level,"/",e.maxLevel),l(2),C(e.description),l(),g("ngClass","type-"+e.type),l(),M(" ",e.type==="combat"?"\uC804\uD22C":e.type==="magic"?"\uB9C8\uBC95":"\uD328\uC2DC\uBE0C"," ")}}function hs(r,t){if(r&1&&(n(0,"div",1050)(1,"h4",325),i(2,"\u26A1 \uBCF4\uC720 \uC2A4\uD0AC"),o(),n(3,"div",339),f(4,Ms,10,6,"div",340),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.playerCharacter.skills)}}function xs(r,t){if(r&1&&(n(0,"div",1034)(1,"div",129)(2,"div",304)(3,"div",305)(4,"span",1035),i(5),o()(),n(6,"div",308),i(7),o()(),n(8,"div",303)(9,"h3",580),i(10),o(),n(11,"div",1036)(12,"div",1037),k(13,"div",1038),o(),n(14,"span",1039),i(15),o()()()(),n(16,"div",1040)(17,"div",1041)(18,"div",1042)(19,"span",611),i(20,"\u2764\uFE0F"),o(),n(21,"span",1043),i(22,"HP"),o(),n(23,"span",1044),i(24),o()(),n(25,"div",1045),k(26,"div",1046),o()(),n(27,"div",1041)(28,"div",1042)(29,"span",611),i(30,"\u{1F499}"),o(),n(31,"span",1043),i(32,"MP"),o(),n(33,"span",1044),i(34),o()(),n(35,"div",1047),k(36,"div",1046),o()()(),n(37,"div",582)(38,"h4",325),i(39,"\u{1F4CA} \uB2A5\uB825\uCE58"),o(),n(40,"div",326)(41,"div",177)(42,"span",178),i(43,"\u2694\uFE0F"),o(),n(44,"div",327)(45,"span",328),i(46,"\uACF5\uACA9\uB825"),o(),n(47,"span",179),i(48),o()()(),n(49,"div",177)(50,"span",178),i(51,"\u{1F6E1}\uFE0F"),o(),n(52,"div",327)(53,"span",328),i(54,"\uBC29\uC5B4\uB825"),o(),n(55,"span",179),i(56),o()()(),n(57,"div",177)(58,"span",178),i(59,"\u{1F4AA}"),o(),n(60,"div",327)(61,"span",328),i(62,"\uD798"),o(),n(63,"span",179),i(64),o()()(),n(65,"div",177)(66,"span",178),i(67,"\u{1F3C3}"),o(),n(68,"div",327)(69,"span",328),i(70,"\uBBFC\uCCA9"),o(),n(71,"span",179),i(72),o()()(),n(73,"div",177)(74,"span",178),i(75,"\u{1F9E0}"),o(),n(76,"div",327)(77,"span",328),i(78,"\uC9C0\uB2A5"),o(),n(79,"span",179),i(80),o()()(),n(81,"div",177)(82,"span",178),i(83,"\u2728"),o(),n(84,"div",327)(85,"span",328),i(86,"\uC2A4\uD0AC \uD3EC\uC778\uD2B8"),o(),n(87,"span",1048),i(88),o()()()()(),f(89,hs,5,1,"div",1049),o()),r&2){let e=d(2);l(5),C(e.playerCharacter.name.charAt(0)),l(2),M("Lv.",e.playerCharacter.level),l(3),C(e.playerCharacter.name),l(3),S("width",e.playerCharacter.exp/e.playerCharacter.maxExp*100,"%"),l(2),D("",e.playerCharacter.exp," / ",e.playerCharacter.maxExp," EXP"),l(9),D("",e.playerCharacter.hp," / ",e.playerCharacter.maxHp),l(2),S("width",e.playerCharacter.hp/e.playerCharacter.maxHp*100,"%"),l(8),D("",e.playerCharacter.mp," / ",e.playerCharacter.maxMp),l(2),S("width",e.playerCharacter.mp/e.playerCharacter.maxMp*100,"%"),l(12),C(e.playerCharacter.attack),l(8),C(e.playerCharacter.defense),l(8),C(e.playerCharacter.strength),l(8),C(e.playerCharacter.agility),l(8),C(e.playerCharacter.intelligence),l(8),C(e.playerCharacter.skillPoints),l(),g("ngIf",e.playerCharacter.skills&&e.playerCharacter.skills.length>0)}}function Os(r,t){r&1&&(n(0,"div",1052)(1,"div",401),i(2,"\u{1F464}"),o(),n(3,"h3"),i(4,"\uCE90\uB9AD\uD130 \uC815\uBCF4 \uC5C6\uC74C"),o(),n(5,"p"),i(6,"\uC544\uC9C1 \uC0DD\uC131\uB41C \uCE90\uB9AD\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),o(),n(7,"p",560),i(8,"\uC18C\uC124\uC744 \uC2DC\uC791\uD558\uBA74 \uCE90\uB9AD\uD130 \uC815\uBCF4\uAC00 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),o()())}function vs(r,t){r&1&&(n(0,"span",607),i(1,"\u{1F3DB}\uFE0F"),o(),n(2,"span",608),i(3,"\uC870\uC9C1"),o())}function ys(r,t){r&1&&(n(0,"span"),i(1,"\u2694\uFE0F"),o())}function ws(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3F0}"),o())}function ks(r,t){r&1&&(n(0,"span"),i(1,"\u{1F6E1}\uFE0F"),o())}function Ds(r,t){r&1&&(n(0,"span"),i(1,"\u{1F5E1}\uFE0F"),o())}function Ss(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3E2}"),o())}function Es(r,t){r&1&&(n(0,"span"),i(1,"\u2713"),o())}function Is(r,t){r&1&&(n(0,"span"),i(1,"\u{1F4A4}"),o())}function Bs(r,t){r&1&&(n(0,"span"),i(1,"\u{1FA79}"),o())}function Ts(r,t){r&1&&(n(0,"span"),i(1,"\u{1F3AF}"),o())}function As(r,t){if(r&1&&(n(0,"div",1089)(1,"span",1090),i(2,"\u{1F525}"),o(),n(3,"span",1091),i(4),o(),n(5,"div",1092),k(6,"div",1093),o()()),r&2){let e=d().$implicit;l(4),C(e.internalPower.realm),l(2),S("width",e.internalPower.current/e.internalPower.max*100,"%")}}function Ns(r,t){if(r&1){let e=O();n(0,"div",633),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.selectMember(c))}),n(1,"div",1075)(2,"div",635)(3,"span",1076),i(4),o(),n(5,"div",1077),i(6),o()(),n(7,"div",636)(8,"div",638),i(9),o(),n(10,"div",1078),i(11),o()(),n(12,"div",1079),f(13,Es,2,0,"span",94)(14,Is,2,0,"span",94)(15,Bs,2,0,"span",94)(16,Ts,2,0,"span",94),o()(),n(17,"div",1080)(18,"div",513)(19,"span",270),i(20,"HP"),o(),n(21,"div",1081),k(22,"div",1082),o()(),n(23,"div",513)(24,"span",270),i(25,"MP"),o(),n(26,"div",1081),k(27,"div",1083),o()()(),n(28,"div",1084)(29,"span",1085),i(30,"\u2B50"),o(),n(31,"span",1086),i(32),o(),n(33,"span",1087),i(34),o()(),f(35,As,7,3,"div",1088),o()}if(r&2){let e=t.$implicit,a=d(3);v("selected",(a.selectedMember==null?null:a.selectedMember.id)===e.id),l(4),C(e.avatar||"\u{1F464}"),l(2),M("Lv.",e.level),l(3),C(e.name),l(),g("ngClass","role-"+e.role),l(),M(" ",e.role==="leader"?"\uB9AC\uB354":e.role==="vice_leader"?"\uBD80\uB9AC\uB354":e.role==="elder"?"\uC7A5\uB85C":e.role==="captain"?"\uB300\uC7A5":e.role==="member"?"\uC815\uC2DD":"\uACAC\uC2B5"," "),l(),g("ngClass","status-"+e.status),l(),g("ngIf",e.status==="active"),l(),g("ngIf",e.status==="resting"),l(),g("ngIf",e.status==="injured"),l(),g("ngIf",e.status==="on_mission"),l(6),S("width",e.stats.hp/e.stats.maxHp*100,"%"),l(5),S("width",e.stats.mp/e.stats.maxMp*100,"%"),l(5),C(e.specialty),l(2),M("\uCDA9\uC131\uB3C4 ",e.loyalty),l(),g("ngIf",e.internalPower)}}function zs(r,t){if(r&1&&(n(0,"div",1097)(1,"span",1098),i(2,"\u{1F3DB}\uFE0F"),o(),n(3,"span",1099),i(4),o()()),r&2){let e=t.$implicit;l(4),C(e)}}function Fs(r,t){if(r&1&&(n(0,"div",1094)(1,"h4",325),i(2,"\u{1F3D7}\uFE0F \uBCF4\uC720 \uC2DC\uC124"),o(),n(3,"div",1095),f(4,zs,5,1,"div",1096),o()()),r&2){let e=d(3);l(4),g("ngForOf",e.playerOrganization.facilities)}}function qs(r,t){if(r&1&&(n(0,"div",1100)(1,"h4",325),i(2,"\u{1F4CD} \uBCF8\uAC70\uC9C0"),o(),n(3,"div",1101)(4,"span",1102),i(5,"\u{1F5FA}\uFE0F"),o(),n(6,"span",1103),i(7),o()()()),r&2){let e=d(3);l(7),C(e.playerOrganization.territory)}}function Gs(r,t){if(r&1&&(n(0,"div",1053)(1,"div",624)(2,"div",1054)(3,"div",1055),f(4,ys,2,0,"span",94)(5,ws,2,0,"span",94)(6,ks,2,0,"span",94)(7,Ds,2,0,"span",94)(8,Ss,2,0,"span",94),o(),n(9,"div",1056),i(10),o()(),n(11,"div",1057)(12,"h3",626),i(13),o(),n(14,"div",1058),i(15),o(),n(16,"div",1059)(17,"div",1060)(18,"span"),i(19,"\uBA85\uC131"),o(),n(20,"span",1061),i(21),o()(),n(22,"div",853),k(23,"div",1062),o()()()(),n(24,"div",1063)(25,"h4",325),i(26,"\u{1F4B0} \uBCF4\uC720 \uC790\uC6D0"),o(),n(27,"div",1064)(28,"div",1065)(29,"span",1066),i(30,"\u{1F4B0}"),o(),n(31,"div",1067)(32,"span",1068),i(33,"\uACE8\uB4DC"),o(),n(34,"span",1069),i(35),o()()(),n(36,"div",1065)(37,"span",1066),i(38,"\u{1F4E6}"),o(),n(39,"div",1067)(40,"span",1068),i(41,"\uC7AC\uB8CC"),o(),n(42,"span",1069),i(43),o()()(),n(44,"div",1065)(45,"span",1066),i(46,"\u2B50"),o(),n(47,"div",1067)(48,"span",1068),i(49,"\uC601\uD5A5\uB825"),o(),n(50,"span",1069),i(51),o()()()()(),n(52,"div",1070)(53,"div",1071)(54,"h4",325),i(55,"\u{1F465} \uC870\uC9C1\uC6D0"),o(),n(56,"span",1072),i(57),o()(),n(58,"div",630),f(59,Ns,36,19,"div",631),o()(),f(60,Fs,5,1,"div",1073)(61,qs,8,1,"div",1074),o()),r&2){let e=d(2);l(4),g("ngIf",e.playerOrganization.type==="guild"),l(),g("ngIf",e.playerOrganization.type==="faction"),l(),g("ngIf",e.playerOrganization.type==="clan"),l(),g("ngIf",e.playerOrganization.type==="sect"),l(),g("ngIf",e.playerOrganization.type==="company"),l(2),M("Lv.",e.playerOrganization.level),l(3),C(e.playerOrganization.name),l(),g("ngClass","type-"+e.playerOrganization.type),l(),M(" ",e.playerOrganization.type==="guild"?"\uAE38\uB4DC":e.playerOrganization.type==="faction"?"\uC138\uB825":e.playerOrganization.type==="clan"?"\uD074\uB79C":e.playerOrganization.type==="sect"?"\uBB38\uD30C":"\uC0C1\uB2E8"," "),l(6),M("",e.playerOrganization.reputation," / 1000"),l(2),S("width",e.playerOrganization.reputation/1e3*100,"%"),l(12),C(e.playerOrganization.resources.gold.toLocaleString()),l(8),C(e.playerOrganization.resources.materials.toLocaleString()),l(8),C(e.playerOrganization.resources.influence.toLocaleString()),l(6),D("",e.playerOrganization.members.length," / ",e.playerOrganization.maxMembers),l(2),g("ngForOf",e.playerOrganization.members),l(),g("ngIf",e.playerOrganization.facilities&&e.playerOrganization.facilities.length>0),l(),g("ngIf",e.playerOrganization.territory)}}function Rs(r,t){r&1&&(n(0,"div",1104)(1,"div",401),i(2,"\u{1F3DB}\uFE0F"),o(),n(3,"h3"),i(4,"\uC870\uC9C1 \uC815\uBCF4 \uC5C6\uC74C"),o(),n(5,"p"),i(6,"\uC544\uC9C1 \uAC00\uC785\uB41C \uC870\uC9C1\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),o(),n(7,"p",560),i(8,"\uC2A4\uD1A0\uB9AC\uB97C \uC9C4\uD589\uD558\uBA74 \uC870\uC9C1 \uC815\uBCF4\uAC00 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),o()())}function Vs(r,t){if(r&1){let e=O();n(0,"div",916)(1,"div",917)(2,"h3"),i(3,"\u{1F4CD} \uC18C\uC124 \uC0DD\uC131 \uB3C4\uAD6C"),o(),n(4,"button",76),b("click",function(){_(e);let c=d();return u(c.toggleFeatureMap())}),i(5,"\xD7"),o()(),n(6,"mat-tab-group",918)(7,"mat-tab"),f(8,el,4,0,"ng-template",919),n(9,"div",920),f(10,Ml,83,48,"div",921),n(11,"div",922)(12,"div",923)(13,"h4",325),i(14,"\u{1F392} \uC778\uBCA4\uD1A0\uB9AC"),o(),f(15,hl,4,0,"button",924),o(),n(16,"div",925)(17,"button",926),b("click",function(){_(e);let c=d();return u(c.setInventoryFilter("all"))}),n(18,"mat-icon"),i(19,"apps"),o(),n(20,"span"),i(21,"\uC804\uCCB4"),o()(),n(22,"button",926),b("click",function(){_(e);let c=d();return u(c.setInventoryFilter("weapon"))}),n(23,"span",927),i(24,"\u2694\uFE0F"),o(),n(25,"span"),i(26,"\uBB34\uAE30"),o()(),n(27,"button",926),b("click",function(){_(e);let c=d();return u(c.setInventoryFilter("armor"))}),n(28,"span",927),i(29,"\u{1F6E1}\uFE0F"),o(),n(30,"span"),i(31,"\uBC29\uC5B4\uAD6C"),o()(),n(32,"button",926),b("click",function(){_(e);let c=d();return u(c.setInventoryFilter("accessory"))}),n(33,"span",927),i(34,"\u{1F48D}"),o(),n(35,"span"),i(36,"\uC7A5\uC2E0\uAD6C"),o()(),n(37,"button",926),b("click",function(){_(e);let c=d();return u(c.setInventoryFilter("consumable"))}),n(38,"span",927),i(39,"\u{1F9EA}"),o(),n(40,"span"),i(41,"\uC18C\uBAA8\uD488"),o()(),n(42,"button",926),b("click",function(){_(e);let c=d();return u(c.setInventoryFilter("material"))}),n(43,"span",927),i(44,"\u{1F4E6}"),o(),n(45,"span"),i(46,"\uAE30\uD0C0"),o()()(),f(47,Jl,2,1,"div",928),n(48,"mat-menu",929,10),f(50,Zl,5,0,"button",930)(51,es,5,0,"button",930),n(52,"button",931),b("click",function(){_(e);let c=d();return u(c.onContextMenuAction("info"))}),n(53,"mat-icon"),i(54,"info"),o(),n(55,"span"),i(56,"\uC815\uBCF4 \uBCF4\uAE30"),o()(),n(57,"button",931),b("click",function(){_(e);let c=d();return u(c.deleteInventoryItem(c.selectedContextItemIndex))}),n(58,"mat-icon",932),i(59,"delete"),o(),n(60,"span"),i(61,"\uC0AD\uC81C\uD558\uAE30"),o()()(),f(62,rs,7,4,"div",933),o(),f(63,as,7,0,"div",934),o()(),n(64,"mat-tab"),f(65,cs,4,0,"ng-template",919),n(66,"div",935)(67,"div",936)(68,"h4"),i(69,"\u270D\uFE0F \uAE30\uBCF8 \uAE30\uB2A5"),o(),n(70,"div",937)(71,"div",938)(72,"span",939),i(73,"\u{1F4DD}"),o(),n(74,"span",940),i(75,"\uC0C8 \uC18C\uC124 \uC0DD\uC131"),o()(),n(76,"div",938)(77,"span",939),i(78,"\u{1F4BE}"),o(),n(79,"span",940),i(80,"\uC18C\uC124 \uC800\uC7A5"),o()(),n(81,"div",938)(82,"span",939),i(83,"\u{1F4C2}"),o(),n(84,"span",940),i(85,"\uC18C\uC124 \uC5F4\uAE30"),o()(),n(86,"div",938)(87,"span",939),i(88,"\u{1F4E5}"),o(),n(89,"span",940),i(90,"\uB0B4\uBCF4\uB0B4\uAE30"),o()()()(),n(91,"div",936)(92,"h4"),i(93,"\u{1F3AD} \uACE0\uAE09 \uAE30\uB2A5"),o(),n(94,"div",937)(95,"div",941),b("click",function(){_(e);let c=d();return u(c.toggleFlowPanel())}),n(96,"span",939),i(97,"\u{1F5FA}\uFE0F"),o(),n(98,"span",940),i(99,"\uD50C\uB85C\uC6B0 \uBBF8\uB2C8\uB9F5"),o()(),n(100,"div",941),b("click",function(){_(e);let c=d();return u(c.toggleAdvancedFlowPanel())}),n(101,"span",939),i(102,"\u{1F500}"),o(),n(103,"span",940),i(104,"\uACE0\uAE09 \uD50C\uB85C\uC6B0"),o()(),n(105,"div",941),b("click",function(){_(e);let c=d();return u(c.toggleWuxiaPanel())}),n(106,"span",939),i(107,"\u2694\uFE0F"),o(),n(108,"span",940),i(109,"\uC218\uB828 \uBAA8\uB4DC"),o()(),n(110,"div",938)(111,"span",939),i(112,"\u{1F3A8}"),o(),n(113,"span",940),i(114,"\uD14C\uB9C8 \uBCC0\uACBD"),o()()()(),n(115,"div",936)(116,"h4"),i(117,"\u{1F4CA} \uBD84\uC11D \uB3C4\uAD6C"),o(),n(118,"div",937)(119,"div",938)(120,"span",939),i(121,"\u{1F4C8}"),o(),n(122,"span",940),i(123,"\uB2E8\uC5B4 \uC218"),o()(),n(124,"div",938)(125,"span",939),i(126,"\u{1F50D}"),o(),n(127,"span",940),i(128,"\uAC80\uC0C9"),o()(),n(129,"div",938)(130,"span",939),i(131,"\u{1F4CB}"),o(),n(132,"span",940),i(133,"\uCE90\uB9AD\uD130 \uAD00\uB9AC"),o()(),n(134,"div",938)(135,"span",939),i(136,"\u{1F310}"),o(),n(137,"span",940),i(138,"\uC138\uACC4\uAD00 \uC124\uC815"),o()()()(),n(139,"div",936)(140,"h4"),i(141,"\u{1F680} AI \uAE30\uB2A5"),o(),n(142,"div",937)(143,"div",938)(144,"span",939),i(145,"\u{1F916}"),o(),n(146,"span",940),i(147,"AI \uC18C\uC124 \uC0DD\uC131"),o()(),n(148,"div",938)(149,"span",939),i(150,"\u{1F4AC}"),o(),n(151,"span",940),i(152,"\uB300\uD654 \uC0DD\uC131"),o()(),n(153,"div",938)(154,"span",939),i(155,"\u{1F3B2}"),o(),n(156,"span",940),i(157,"\uB79C\uB364 \uC804\uAC1C"),o()(),n(158,"div",938)(159,"span",939),i(160,"\u2728"),o(),n(161,"span",940),i(162,"\uC2A4\uD0C0\uC77C \uBCC0\uD658"),o()()()()()(),n(163,"mat-tab"),f(164,ls,4,0,"ng-template",919),n(165,"div",705)(166,"div",942)(167,"p"),i(168,"\u{1F4CA} \uD604\uC7AC\uAE4C\uC9C0 \uC0DD\uC131\uB41C \uC2A4\uD1A0\uB9AC \uAD6C\uC870\uB97C \uD655\uC778\uD558\uC138\uC694"),o(),n(169,"div",943)(170,"span",944),i(171),o(),n(172,"span",944),i(173),o(),n(174,"span",944),i(175),o()()(),n(176,"div",945)(177,"div",946),f(178,fs,11,15,"div",947)(179,bs,7,0,"div",674),o()(),n(180,"div",948)(181,"div",949)(182,"span",950),i(183,"\u{1F3AC}"),o(),n(184,"span"),i(185,"\uC2DC\uC791"),o()(),n(186,"div",949)(187,"span",951),i(188,"\u{1F4D6}"),o(),n(189,"span"),i(190,"\uC2A4\uD1A0\uB9AC"),o()(),n(191,"div",949)(192,"span",952),i(193,"\u{1F500}"),o(),n(194,"span"),i(195,"\uC120\uD0DD"),o()(),n(196,"div",949)(197,"span",953),i(198,"\u{1F4CD}"),o(),n(199,"span"),i(200,"\uD604\uC7AC"),o()()()()(),n(201,"mat-tab"),f(202,Ps,4,0,"ng-template",919),n(203,"div",954),f(204,xs,90,22,"div",955)(205,Os,9,0,"div",956),o()(),n(206,"mat-tab"),f(207,vs,4,0,"ng-template",919),n(208,"div",957),f(209,Gs,62,20,"div",958)(210,Rs,9,0,"div",959),o()()()()}if(r&2){let e=d();l(10),g("ngIf",e.playerCharacter),l(5),g("ngIf",e.playerCharacter),l(2),v("active",e.inventoryFilter==="all"),l(5),v("active",e.inventoryFilter==="weapon"),l(5),v("active",e.inventoryFilter==="armor"),l(5),v("active",e.inventoryFilter==="accessory"),l(5),v("active",e.inventoryFilter==="consumable"),l(5),v("active",e.inventoryFilter==="material"),l(5),g("ngIf",e.getFilteredInventory().length>0),l(),g("overlapTrigger",!1),l(2),g("ngIf",e.selectedContextItem&&e.selectedContextItem.type!=="consumable"&&e.selectedContextItem.type!=="material"&&e.selectedContextItem.type!=="quest"&&e.selectedContextItem.type!=="misc"),l(),g("ngIf",e.selectedContextItem&&e.selectedContextItem.type!=="consumable"&&e.selectedContextItem.type!=="material"&&e.selectedContextItem.type!=="quest"&&e.selectedContextItem.type!=="misc"),l(11),g("ngIf",e.getFilteredInventory().length===0),l(),g("ngIf",!e.playerCharacter),l(108),M("\u{1F4D6} \uB2E8\uACC4: ",e.storyBlocks.length),l(2),M("\u{1F500} \uC120\uD0DD: ",e.currentPath.length),l(2),M("\u{1F3AF} \uC120\uD0DD\uC9C0: ",e.choices.length),l(3),g("ngForOf",e.storyFlowNodes),l(),g("ngIf",e.storyFlowNodes.length===0),l(25),g("ngIf",e.playerCharacter),l(),g("ngIf",!e.playerCharacter),l(4),g("ngIf",e.playerOrganization),l(),g("ngIf",!e.playerOrganization)}}function Ls(r,t){if(r&1){let e=O();n(0,"div",1117),b("click",function(){let c=_(e).$implicit,s=d(3);return u(s.selectDungeonType(c))}),n(1,"div",1118),i(2),o(),n(3,"div",1119),i(4),o(),n(5,"div",1120),i(6),o(),n(7,"div",1121),i(8),o()()}if(r&2){let e=t.$implicit,a=d(3);v("selected",(a.selectedDungeonType==null?null:a.selectedDungeonType.id)===e.id),l(2),C(e.icon),l(2),C(e.koreanName),l(2),D("Lv.",e.minLevel,"-",e.recommendedLevel),l(2),M("",e.baseFloors,"\uCE35")}}function $s(r,t){if(r&1){let e=O();n(0,"div",1113)(1,"h3"),i(2,"\uB09C\uC774\uB3C4 \uC120\uD0DD"),o(),n(3,"div",1122)(4,"button",1123),b("click",function(){_(e);let c=d(3);return u(c.selectDifficulty("easy"))}),i(5," \u{1F60A} \uC26C\uC6C0 "),n(6,"span",1124),i(7,"\xD70.75"),o()(),n(8,"button",1125),b("click",function(){_(e);let c=d(3);return u(c.selectDifficulty("normal"))}),i(9," \u{1F610} \uBCF4\uD1B5 "),n(10,"span",1124),i(11,"\xD71.0"),o()(),n(12,"button",1126),b("click",function(){_(e);let c=d(3);return u(c.selectDifficulty("hard"))}),i(13," \u{1F630} \uC5B4\uB824\uC6C0 "),n(14,"span",1124),i(15,"\xD71.25"),o()(),n(16,"button",1127),b("click",function(){_(e);let c=d(3);return u(c.selectDifficulty("hell"))}),i(17," \u{1F480} \uC9C0\uC625 "),n(18,"span",1124),i(19,"\xD71.5"),o()()()()}if(r&2){let e=d(3);l(4),v("selected",e.selectedDifficulty==="easy"),l(4),v("selected",e.selectedDifficulty==="normal"),l(4),v("selected",e.selectedDifficulty==="hard"),l(4),v("selected",e.selectedDifficulty==="hell")}}function js(r,t){if(r&1){let e=O();n(0,"div",1113)(1,"h3"),i(2,"\uD14C\uC2A4\uD2B8 \uC635\uC158"),o(),n(3,"div",1128)(4,"label",1129)(5,"input",1130),H("ngModelChange",function(c){_(e);let s=d(3);return U(s.dungeonTestOptions.godMode,c)||(s.dungeonTestOptions.godMode=c),u(c)}),o(),n(6,"span"),i(7,"\u{1F6E1}\uFE0F \uBB34\uC801 \uBAA8\uB4DC (HP \uC790\uB3D9 \uD68C\uBCF5)"),o()(),n(8,"label",1129)(9,"input",1130),H("ngModelChange",function(c){_(e);let s=d(3);return U(s.dungeonTestOptions.oneHitKill,c)||(s.dungeonTestOptions.oneHitKill=c),u(c)}),o(),n(10,"span"),i(11,"\u2694\uFE0F \uC6D0\uD0AC \uBAA8\uB4DC (\uBAAC\uC2A4\uD130 1\uD0C0)"),o()(),n(12,"label",1129)(13,"input",1130),H("ngModelChange",function(c){_(e);let s=d(3);return U(s.dungeonTestOptions.showAllRooms,c)||(s.dungeonTestOptions.showAllRooms=c),u(c)}),o(),n(14,"span"),i(15,"\u{1F5FA}\uFE0F \uC804\uCCB4 \uB9F5 \uACF5\uAC1C"),o()(),n(16,"label",1129)(17,"input",1130),H("ngModelChange",function(c){_(e);let s=d(3);return U(s.dungeonTestOptions.skipCombat,c)||(s.dungeonTestOptions.skipCombat=c),u(c)}),o(),n(18,"span"),i(19,"\u23ED\uFE0F \uC804\uD22C \uC2A4\uD0B5 (\uC790\uB3D9 \uC2B9\uB9AC)"),o()(),n(20,"label",1129)(21,"input",1130),H("ngModelChange",function(c){_(e);let s=d(3);return U(s.dungeonTestOptions.unlockAllRooms,c)||(s.dungeonTestOptions.unlockAllRooms=c),u(c)}),o(),n(22,"span"),i(23,"\u{1F513} \uBAA8\uB4E0 \uBC29 \uC7A0\uAE08 \uD574\uC81C"),o()()()()}if(r&2){let e=d(3);l(5),j("ngModel",e.dungeonTestOptions.godMode),l(4),j("ngModel",e.dungeonTestOptions.oneHitKill),l(4),j("ngModel",e.dungeonTestOptions.showAllRooms),l(4),j("ngModel",e.dungeonTestOptions.skipCombat),l(4),j("ngModel",e.dungeonTestOptions.unlockAllRooms)}}function Us(r,t){if(r&1&&(n(0,"div",1113)(1,"h3"),i(2,"\uD50C\uB808\uC774\uC5B4 \uC0C1\uD0DC"),o(),n(3,"div",1131)(4,"div",269)(5,"label"),i(6,"\uB808\uBCA8:"),o(),n(7,"span"),i(8),o()(),n(9,"div",269)(10,"label"),i(11,"HP:"),o(),n(12,"span"),i(13),o()(),n(14,"div",269)(15,"label"),i(16,"MP:"),o(),n(17,"span"),i(18),o()(),n(19,"div",269)(20,"label"),i(21,"\uACF5\uACA9\uB825:"),o(),n(22,"span"),i(23),o()(),n(24,"div",269)(25,"label"),i(26,"\uBC29\uC5B4\uB825:"),o(),n(27,"span"),i(28),o()()()()),r&2){let e=d(3);l(8),C(e.playerCharacter.level),l(5),D("",e.playerCharacter.hp," / ",e.playerCharacter.maxHp),l(5),D("",e.playerCharacter.mp," / ",e.playerCharacter.maxMp),l(5),C(e.playerCharacter.attack),l(5),C(e.playerCharacter.defense)}}function Hs(r,t){if(r&1&&(n(0,"div",1112)(1,"div",1113)(2,"h3"),i(3,"\uB358\uC804 \uC120\uD0DD"),o(),n(4,"div",1114),f(5,Ls,9,7,"div",1115),o()(),f(6,$s,20,8,"div",1116)(7,js,24,5,"div",1116)(8,Us,29,7,"div",1116),o()),r&2){let e=d(2);l(5),g("ngForOf",e.dungeonTypes),l(),g("ngIf",e.selectedDungeonType),l(),g("ngIf",e.selectedDifficulty),l(),g("ngIf",e.selectedDifficulty)}}function Ys(r,t){if(r&1){let e=O();n(0,"div",1132)(1,"app-dungeon-explorer",1133),b("roomMove",function(c){_(e);let s=d(2);return u(s.onDungeonRoomMove(c))})("monsterAttack",function(c){_(e);let s=d(2);return u(s.onDungeonMonsterAttack(c))})("interactableUse",function(c){_(e);let s=d(2);return u(s.onDungeonInteractableUse(c))})("dungeonEscape",function(){_(e);let c=d(2);return u(c.onDungeonEscape())})("floorMove",function(c){_(e);let s=d(2);return u(s.onDungeonFloorMove(c))})("rewardsClaimed",function(c){_(e);let s=d(2);return u(s.onDungeonRewardsClaimed(c))}),o()()}if(r&2){let e=d(2);l(),g("dungeon",e.currentDungeon)("currentRoom",e.currentDungeonRoom)("playerHp",e.playerCharacter.hp)("playerMaxHp",e.playerCharacter.maxHp)("playerMp",e.playerCharacter.mp)("playerMaxMp",e.playerCharacter.maxMp)("playerName",e.playerCharacter.name)("playerLevel",e.playerCharacter.level)("playerAttackPower",e.playerCharacter.attack)("playerDefensePower",e.playerCharacter.defense)("playerEquipment",e.getPlayerEquipment())("playerSkills",e.getPlayerSkills())}}function Ws(r,t){if(r&1){let e=O();n(0,"div",1134)(1,"button",1135),b("click",function(){_(e);let c=d(2);return u(c.closeDungeonDialog())}),i(2,"\uCDE8\uC18C"),o(),n(3,"button",1136),b("click",function(){_(e);let c=d(2);return u(c.startDungeon())}),i(4," \u{1F3F0} \uB358\uC804 \uC785\uC7A5 "),o()()}if(r&2){let e=d(2);l(3),g("disabled",!e.selectedDungeonType||!e.selectedDifficulty)}}function Ks(r,t){if(r&1){let e=O();n(0,"div",1105)(1,"div",1106),b("click",function(){_(e);let c=d();return u(!c.showDungeonPanel&&c.closeDungeonDialog())}),o(),n(2,"div",1107)(3,"div",1108)(4,"h2"),i(5),o(),n(6,"button",76),b("click",function(){_(e);let c=d();return u(c.showDungeonPanel?c.onDungeonEscape():c.closeDungeonDialog())}),i(7,"\u2715"),o()(),f(8,Hs,9,4,"div",1109)(9,Ys,2,12,"div",1110)(10,Ws,5,1,"div",1111),o()()}if(r&2){let e=d();l(2),v("dungeon-active",e.showDungeonPanel),l(3),M("\u{1F3F0} ",e.showDungeonPanel?"\uB358\uC804 \uD0D0\uD5D8":"\uB358\uC804"),l(3),g("ngIf",!e.showDungeonPanel),l(),g("ngIf",e.showDungeonPanel&&e.currentDungeon&&e.currentDungeonRoom),l(),g("ngIf",!e.showDungeonPanel)}}function Xs(r,t){if(r&1){let e=O();n(0,"div",1137)(1,"app-dungeon-explorer",1138),b("roomMove",function(c){_(e);let s=d();return u(s.onDungeonRoomMove(c))})("monsterAttack",function(c){_(e);let s=d();return u(s.onDungeonMonsterAttack(c))})("interactableUse",function(c){_(e);let s=d();return u(s.onDungeonInteractableUse(c))})("dungeonEscape",function(){_(e);let c=d();return u(c.onDungeonEscape())})("floorMove",function(c){_(e);let s=d();return u(s.onDungeonFloorMove(c))})("rewardsClaimed",function(c){_(e);let s=d();return u(s.onDungeonRewardsClaimed(c))}),o()()}if(r&2){let e=d();l(),g("dungeon",e.currentDungeon)("currentRoom",e.currentDungeonRoom)("playerHp",e.playerCharacter.hp)("playerMaxHp",e.playerCharacter.maxHp)("playerMp",e.playerCharacter.mp)("playerMaxMp",e.playerCharacter.maxMp)}}var _e=class r{constructor(t,e,a,c,s,m,P,h,x,w,p,E,B,I){this.cdr=t;this.dialog=e;this.snackBar=a;this.router=c;this.route=s;this.geminiAiService=m;this.scenarioDbService=P;this.itemDbService=h;this.characterDbService=x;this.novelAuthService=w;this.storyDbService=p;this.notification=E;this.gameStorage=B;this.dungeonGenerator=I;this.initializePlayer(),this.loadSavedScenarios(),this.loadSavedItems(),this.loadSavedCharacters(),this.loadSavedStories()}battleLogContainer;shouldScrollBattleLog=!1;debugLogger=Pe(ye);gameStarted=!1;novelSelected=!1;selectedNovel=null;storyBlocks=[];choices=[];currentPath=[];currentGameId=null;playerCharacter;get gold(){return this.playerCharacter?.gold||0}set gold(t){this.playerCharacter&&(this.playerCharacter.gold=t,this.debugLogger.info("\uACE8\uB4DC",`\u{1F4B0} \uACE8\uB4DC \uBCC0\uACBD: ${t}G`))}get gem(){return this.playerCharacter?.gem||0}set gem(t){this.playerCharacter&&(this.playerCharacter.gem=t,this.debugLogger.info("\uBCF4\uC11D",`\u{1F48E} \uBCF4\uC11D \uBCC0\uACBD: ${t}\uAC1C`))}get crystal(){return this.playerCharacter?.crystal||0}set crystal(t){this.playerCharacter&&(this.playerCharacter.crystal=t,this.debugLogger.info("\uD06C\uB9AC\uC2A4\uD0C8",`\u{1F52E} \uD06C\uB9AC\uC2A4\uD0C8 \uBCC0\uACBD: ${t}\uAC1C`))}get ticket(){return this.playerCharacter?.ticket||0}set ticket(t){this.playerCharacter&&(this.playerCharacter.ticket=t,this.debugLogger.info("\uD2F0\uCF13",`\u{1F3AB} \uD2F0\uCF13 \uBCC0\uACBD: ${t}\uC7A5`))}inventory=[];showCharacterPanel=!1;showInventoryPanel=!1;showShopPanel=!1;inventoryActiveTab="equipment";showCharacterCreatorPanel=!1;isGeneratingCharacter=!1;generatedCharacter=null;characterGenerationError="";savedCharacters=[];showScenarioCreatorPanel=!1;isGeneratingScenario=!1;generatedScenario=null;scenarioGenerationError="";savedScenarios=[];showItemCreatorPanel=!1;isGeneratingItem=!1;generatedItem=null;generatedItems=[];itemGenerationError="";savedItems=[];showStoryCreatorPanel=!1;isGeneratingStory=!1;storyTitle="";selectedCharactersForStory=[];selectedItemsForStory=[];selectedScenariosForStory=[];generatedStory=null;storyGenerationError="";savedStories=[];showScenarioLinkPanel=!1;currentLinkingChoiceIndex=-1;showFlowScenarioLinkPanel=!1;currentLinkingNodeId="";currentLinkingChoiceId="";nodeScenarioLinks=new Map;isLeftPanelCollapsed=!0;isRightPanelCollapsed=!0;isFlowPanelOpen=!1;showStoryFlowPanel=!1;storyFlowNodes=[];storyNodes=[];storyConnections=[];currentStoryNodeId="start";storyProgress={currentNodeId:"start",visitedNodes:[],pathHistory:[],totalChoices:0,battlesWon:0,battlesLost:0,branchingFactor:0,explorationRate:0,possibleEndings:[],flags:{}};showAdvancedFlowPanel=!1;selectedNode=null;flowLayoutType="hierarchical";flowZoomLevel=1;flowPanX=0;flowPanY=0;flowViewBox="0 0 1200 800";showVisitedOnly=!1;showBattlesOnly=!1;showEndingsOnly=!1;showStats=!1;battleSkills=[];battleItems=[];currentBattleState=null;martialArtsSkills=[];learnedMartialSkills=[];playerInternalPower={current:100,max:100,recoveryRate:5,trainingLevel:0,realm:"\uCD08\uB958",realmProgress:0,meridians:{opened:0,total:12,meridians:[]},purity:50,stability:100};playerFaction=null;availableFactions=[];wulinRelationships=[];elixirs=[];martialManuals=[];martialBattleState=null;flowPanelTab="map";playerOrganization=null;selectedMember=null;showWuxiaPanel=!1;showFlowPanel=!1;wuxiaActiveTab="cultivation";dungeonTypes=[];currentDungeon=null;currentDungeonRoom=null;showDungeonPanel=!1;showDungeonEntryDialog=!1;selectedDungeonType=null;selectedDifficulty=null;dungeonProgress={inDungeon:!1,clearedDungeons:{},totalStats:{dungeonsCleared:0,monstersKilled:0,elitesKilled:0,bossesKilled:0,treasuresFound:0,totalGoldEarned:0,totalExpEarned:0}};showDungeonTestDialog=!1;dungeonTestOptions={godMode:!1,oneHitKill:!1,showAllRooms:!1,skipCombat:!1,unlockAllRooms:!1};showFeatureMap=!1;featureMapTab="features";inventoryFilter="all";maxInventorySize=60;inventorySortBy="rarity";inventoryFilterOptions=[{value:"all",label:"\uC804\uCCB4",icon:"\u{1F4E6}"},{value:"weapon",label:"\uBB34\uAE30",icon:"\u2694\uFE0F"},{value:"armor",label:"\uBC29\uC5B4\uAD6C",icon:"\u{1F6E1}\uFE0F"},{value:"accessory",label:"\uC7A5\uC2E0\uAD6C",icon:"\u{1F48D}"},{value:"consumable",label:"\uC18C\uBE44\uD488",icon:"\u2697\uFE0F"}];defaultBattleSkills=[{id:"basic-attack",name:"\uC77C\uBC18 \uACF5\uACA9",description:"\uAE30\uBCF8\uC801\uC778 \uBB3C\uB9AC \uACF5\uACA9",type:"attack",mpCost:0,cooldown:0,damageMultiplier:1,hitRate:.9,criticalRate:.1,icon:"\u2694\uFE0F"},{id:"power-strike",name:"\uAC15\uD0C0",description:"\uAC15\uB825\uD55C \uC77C\uACA9\uC744 \uB0A0\uB9BD\uB2C8\uB2E4",type:"attack",mpCost:15,cooldown:2,damageMultiplier:2,hitRate:.8,criticalRate:.25,icon:"\u{1F4A5}"},{id:"defend",name:"\uBC29\uC5B4 \uD0DC\uC138",description:"\uB2E4\uC74C \uD134\uAE4C\uC9C0 \uBC29\uC5B4\uB825 50% \uC99D\uAC00",type:"defense",mpCost:0,cooldown:1,defenseBoost:.5,duration:1,icon:"\u{1F6E1}\uFE0F"},{id:"heal",name:"\uC751\uAE09 \uCE58\uB8CC",description:"HP\uB97C 30% \uD68C\uBCF5\uD569\uB2C8\uB2E4",type:"heal",mpCost:20,cooldown:3,healAmount:.3,icon:"\u{1F49A}"},{id:"fire-ball",name:"\uD654\uC5FC\uAD6C",description:"\uD654\uC5FC \uB9C8\uBC95\uC73C\uB85C \uC801\uC744 \uACF5\uACA9\uD558\uACE0 \uD654\uC0C1\uC744 \uC785\uD799\uB2C8\uB2E4",type:"attack",mpCost:25,cooldown:2,damageMultiplier:1.8,hitRate:.85,statusEffect:{type:"burn",duration:3,value:5,name:"\uD654\uC0C1",icon:"\u{1F525}"},icon:"\u{1F525}"},{id:"strengthen",name:"\uD798\uC758 \uC99D\uAC15",description:"3\uD134 \uB3D9\uC548 \uACF5\uACA9\uB825 40% \uC99D\uAC00",type:"buff",mpCost:15,cooldown:4,duration:3,statusEffect:{type:"strengthen",duration:3,value:.4,name:"\uD798\uC758 \uC99D\uAC15",icon:"\u{1F4AA}"},icon:"\u{1F4AA}"},{id:"weaken",name:"\uC57D\uD654",description:"\uC801\uC758 \uACF5\uACA9\uB825\uC744 30% \uAC10\uC18C\uC2DC\uD0B5\uB2C8\uB2E4",type:"debuff",mpCost:10,cooldown:3,duration:2,statusEffect:{type:"weaken",duration:2,value:.3,name:"\uC57D\uD654",icon:"\u{1F53B}"},icon:"\u{1F53B}"}];inBattle=!1;battleEnded=!1;battleVictory=!1;battleTurn="player";battleLog=[];battleEnemy={name:"\uACE0\uBE14\uB9B0",hp:50,maxHp:50,mp:30,maxMp:30,internalPower:20,maxInternalPower:20,attack:8,defense:3};playerDefenseBonus=0;playerTakingDamage=!1;enemyTakingDamage=!1;shopItems=[{id:"sword_basic",name:"\uAE30\uBCF8 \uAC80",description:"\uD3C9\uBC94\uD55C \uCCA0\uAC80\uC785\uB2C8\uB2E4. \uACF5\uACA9\uB825 +5",price:50,type:"weapon",rarity:"common",stock:5,stats:{attack:5}},{id:"potion_hp",name:"\uCCB4\uB825 \uBB3C\uC57D",description:"HP\uB97C 50 \uD68C\uBCF5\uD569\uB2C8\uB2E4.",price:20,type:"consumable",rarity:"common",stock:10},{id:"potion_mp",name:"\uB9C8\uB098 \uBB3C\uC57D",description:"MP\uB97C 30 \uD68C\uBCF5\uD569\uB2C8\uB2E4.",price:25,type:"consumable",rarity:"common",stock:8},{id:"armor_leather",name:"\uAC00\uC8FD \uAC11\uC637",description:"\uD2BC\uD2BC\uD55C \uAC00\uC8FD \uAC11\uC637. \uBC29\uC5B4\uB825 +3",price:80,type:"armor",rarity:"common",stock:3,stats:{defense:3}},{id:"sword_silver",name:"\uC740\uBE5B \uAC80",description:"\uC740\uC73C\uB85C \uC81C\uC791\uB41C \uACE0\uAE09 \uAC80. \uACF5\uACA9\uB825 +12",price:200,type:"weapon",rarity:"uncommon",stock:2,stats:{attack:12}},{id:"armor_chain",name:"\uC0AC\uC2AC \uAC11\uC637",description:"\uACAC\uACE0\uD55C \uC0AC\uC2AC \uAC11\uC637. \uBC29\uC5B4\uB825 +8",price:250,type:"armor",rarity:"uncommon",stock:2,stats:{defense:8}}];novelTemplates=[];ngOnInit(){this.initializeWuxiaSystem(),this.initializeDungeonSystem(),this.loadDiabloItems(),this.loadSavedInventory(),this.migrateLocalStorageToIndexedDB(),this.loadNodeScenarioLinks(),this.generateStoryFlow(),this.route.paramMap.subscribe(t=>{let e=t.get("gameId");if(e){this.currentGameId=e;let a=sessionStorage.getItem("newGame_"+e);if(a){let c=JSON.parse(a);sessionStorage.removeItem("newGame_"+e),this.initializeNewGame(e,c.novel),setTimeout(()=>{this.startStory()},100)}else this.loadGameById(e)}else this.currentGameId=null})}migrateLocalStorageToIndexedDB(){return y(this,null,function*(){try{(yield this.gameStorage.migrateFromLocalStorage())>0}catch{}})}loadDiabloItems(){if(this.inventory.length===0){let t=Qe.slice(0,10).map(e=>this.convertDiabloItemToInventoryItem(e));this.inventory.push(...t)}else this.inventory.forEach((t,e)=>{let a=t.id.replace("diablo_",""),c=Qe.find(s=>s.id===parseInt(a));if(c&&!t.icon){let s=this.getDiabloItemIcon(c);t.icon=s}})}convertDiabloItemToInventoryItem(t){let e="misc";t.type==="weapon"?e="weapon":t.type==="armor"?t.category.includes("\uD22C\uAD6C")?e="helmet":t.category.includes("\uC7A5\uAC11")?e="gloves":t.category.includes("\uC7A5\uD654")?e="boots":t.category.includes("\uBC14\uC9C0")?e="belt":e="armor":t.type==="accessory"&&(t.category.includes("\uBAA9\uAC78\uC774")?e="amulet":t.category.includes("\uBC18\uC9C0")?e="ring":e="accessory");let a="common";switch(t.rarity){case"common":a="common";break;case"uncommon":a="uncommon";break;case"rare":a="rare";break;case"epic":a="epic";break;case"legendary":a="legendary";break;case"unique":a="unique";break;case"mythic":a="mythic";break}let c=this.getDiabloItemIcon(t),s=t.uniqueEffect||"";return t.chaosArmor&&(s=`[\uD63C\uB3C8\uC758 \uBC29\uC5B4\uAD6C] ${s}`),t.classRestriction&&t.classRestriction.length>0&&(s+=`

\uC9C1\uC5C5 \uC81C\uD55C: ${t.classRestriction.join(", ")}`),{id:`diablo_${t.id}`,name:t.nameKo,nameKo:t.nameKo,description:s,type:e,quantity:1,rarity:a,icon:c,attackSpeed:t.attackSpeed,attacksPerSecond:t.attacksPerSecond,uniqueEffect:t.uniqueEffect,chaosArmor:t.chaosArmor,favorites:t.favorites,tags:t.tags,classRestriction:t.classRestriction,detailedStats:t.stats,buyPrice:this.calculateItemPrice(a,!0),sellPrice:this.calculateItemPrice(a,!1),isEquipped:!1}}ngAfterViewChecked(){this.shouldScrollBattleLog&&this.battleLogContainer&&(this.scrollToBattleLogBottom(),this.shouldScrollBattleLog=!1)}logout(){return y(this,null,function*(){(yield this.showConfirmDialog("\uB85C\uADF8\uC544\uC6C3\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"))&&(this.novelAuthService.logout(),this.router.navigate(["/novel/login"]))})}getCurrentUsername(){return this.novelAuthService.getCurrentUsername()}showConfirmDialog(t){return new Promise(e=>{this.dialog.open(Z,{width:"450px",maxWidth:"90vw",data:{message:t},panelClass:"custom-confirm-dialog",autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(c=>{e(c===!0)})})}initializePlayer(){this.playerCharacter={name:"\uBAA8\uD5D8\uAC00",level:1,exp:0,maxExp:100,hp:100,maxHp:100,mp:50,maxMp:50,attack:35,defense:5,agility:8,strength:25,intelligence:15,gold:1e4,gem:500,crystal:200,ticket:50,skillPoints:0,skills:[{id:"basic_attack",name:"\uAE30\uBCF8 \uACF5\uACA9",description:"\uAE30\uBCF8\uC801\uC778 \uACF5\uACA9 \uAE30\uC220",level:1,maxLevel:5,type:"combat"}],inventory:[],equipment:{weapon:void 0,armor:void 0,helmet:void 0,gloves:void 0,boots:void 0,belt:void 0,amulet:void 0,ring1:void 0,ring2:void 0}},this.inventory=[{id:"wooden_sword",name:"\uB098\uBB34 \uAC80",description:"\uCD08\uBCF4\uC790\uC6A9 \uB098\uBB34 \uAC80",type:"weapon",quantity:1,buyPrice:10,sellPrice:5,rarity:"common",stats:{attack:2},isEquipped:!0}]}scrollToNovels(){let t=document.getElementById("novelsSection");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}selectNovel(t){let e=`${t.id}_${Date.now()}`;sessionStorage.setItem("newGame_"+e,JSON.stringify({isNewGame:!0,novel:t})),this.router.navigate(["/novel",e])}backToNovelSelection(){this.novelSelected=!1,this.selectedNovel=null,this.currentGameId=null,this.router.navigate(["/novel"])}initializeNewGame(t,e){this.debugLogger.info("\uAC8C\uC784\uCD08\uAE30\uD654",`\u{1F3AE} \uC0C8 \uAC8C\uC784 \uC2DC\uC791: ${e.title} | ID: ${t}`),this.currentGameId=t,this.selectedNovel=e,this.novelSelected=!0,this.gold=e.startingGold,this.inventory=this.createStartingInventory(),this.debugLogger.info("\uAC8C\uC784\uCD08\uAE30\uD654",`\u{1F392} \uB514\uC544\uBE14\uB85C \uC778\uBCA4\uD1A0\uB9AC: ${this.inventory.length}\uAC1C \uC544\uC774\uD15C`),this.storyBlocks=[],this.choices=[],this.currentPath=[],this.gameStarted=!1,this.initializePlayer(),this.debugLogger.success("\uAC8C\uC784\uCD08\uAE30\uD654","\u{1F464} \uD50C\uB808\uC774\uC5B4 \uCD08\uAE30\uD654 \uC644\uB8CC (\uC7A5\uBE44 \uC2DC\uC2A4\uD15C \uD3EC\uD568)"),this.playerCharacter.inventory=[...this.inventory],this.initializeOrganization()}startStory(){return y(this,null,function*(){if(!this.selectedNovel){this.debugLogger.error("\uC2A4\uD1A0\uB9AC\uC2DC\uC791","\u274C \uC18C\uC124\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4");return}this.debugLogger.info("\uC2A4\uD1A0\uB9AC\uC2DC\uC791",`\u{1F4D6} \uC18C\uC124 \uC77D\uAE30 \uC2DC\uC791: ${this.selectedNovel.title}`),this.gameStarted=!0,yield this.initializeNonlinearStory(),this.addStoryBlock(this.selectedNovel.firstStory),this.setChoices(this.selectedNovel.firstChoices),this.scrollToBottom()})}selectChoice(t){let e=this.choices[t];if(this.debugLogger.info("\uC120\uD0DD",`\u{1F3AF} \uC120\uD0DD: ${e}`),e.includes("\uC804\uD22C\uD558\uAE30")){this.addChoiceBlock(`\u2B50 \uC120\uD0DD: ${e}`),this.debugLogger.info("\uC804\uD22C","\u2694\uFE0F \uC804\uD22C \uC2DC\uC791"),this.startBattleFromChoice(),this.choices=[],this.transitionToStoryNode(t);return}let a=[...this.currentPath,t.toString()].join("-"),c=this.getLinkedScenario(a);if(c){this.debugLogger.info("\uC2DC\uB098\uB9AC\uC624",`\u{1F4CB} \uC5F0\uACB0\uB41C \uC2DC\uB098\uB9AC\uC624 \uBC1C\uACAC: ${c.title}`),this.addChoiceBlock(`\u2B50 \uC120\uD0DD: ${e}`),this.applyLinkedScenario(c),this.currentPath.push(t.toString()),this.transitionToStoryNode(t),this.saveGame("autosave");return}this.addChoiceBlock(`\u2B50 \uC120\uD0DD: ${e}`),this.currentPath.push(t.toString());let s=this.currentPath.join("-");this.debugLogger.info("\uACBD\uB85C\uCD94\uC801",`\u{1F5FA}\uFE0F \uD604\uC7AC \uACBD\uB85C: ${s}`);let m=this.mapPathToNodeId(s);if(m&&this.storyNodes.length>0){let P=this.currentStoryNodeId;this.currentStoryNodeId=m;let h=this.storyNodes.find(w=>w.id===P),x=this.storyNodes.find(w=>w.id===m);h&&(h.isCurrent=!1,h.isVisited=!0),x&&(x.isCurrent=!0,x.isVisited=!0,x.isAvailable=!0,x.childIds.forEach(w=>{let p=this.storyNodes.find(E=>E.id===w);p&&(p.isAvailable=!0)}),this.storyProgress.currentNodeId=m,this.storyProgress.visitedNodes.includes(m)||this.storyProgress.visitedNodes.push(m),this.storyProgress.pathHistory.push({nodeId:m,choiceIndex:t,choiceText:e,timestamp:new Date}),this.storyProgress.totalChoices++,this.generateConnections())}this.choices=[],this.processStoryPath(s,t),this.saveGame("autosave")}processStoryPath(t,e){switch(t){case"0":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uBC1D\uC740 \uAE38\uC744 \uC120\uD0DD\uD588\uC2B5\uB2C8\uB2E4.","\uBC1C\uAC78\uC74C\uC744 \uC62E\uAE38 \uB54C\uB9C8\uB2E4 \uB530\uB73B\uD55C \uAE30\uC6B4\uC774 \uBC1C\uB05D\uC5D0\uC11C \uC62C\uB77C\uC635\uB2C8\uB2E4.","\uC5BC\uB9C8 \uC9C0\uB098\uC9C0 \uC54A\uC544 \uC544\uB984\uB2E4\uC6B4 \uC815\uC6D0\uC774 \uB208\uC55E\uC5D0 \uD3BC\uCCD0\uC84C\uC2B5\uB2C8\uB2E4.","\uC0C9\uC0C9\uC758 \uAF43\uB4E4\uC774 \uB9CC\uAC1C\uD558\uACE0 \uC788\uACE0, \uB098\uBE44\uB4E4\uC774 \uC6B0\uC544\uD558\uAC8C \uCDA4\uC744 \uCD94\uACE0 \uC788\uC2B5\uB2C8\uB2E4.","\uC815\uC6D0 \uC911\uC559\uC5D0\uB294 \uC218\uC815\uCC98\uB7FC \uB9D1\uC740 \uC5F0\uBABB\uC774 \uC788\uC5B4 \uB2EC\uBE5B\uC744 \uBC18\uC0AC\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4."]),this.setChoices(["\u{1F338} \uC815\uC6D0\uC744 \uCC9C\uCC9C\uD788 \uAC70\uB2D0\uBA70 \uAF43\uD5A5\uAE30\uB97C \uB9E1\uB294\uB2E4","\u{1F48E} \uC2E0\uBE44\uB85C\uC6B4 \uC5F0\uBABB\uC5D0 \uB2E4\uAC00\uAC00 \uBCF8\uB2E4","\u{1F3C3} \uC544\uB984\uB2F5\uC9C0\uB9CC \uBE60\uB974\uAC8C \uC9C0\uB098\uAC04\uB2E4"]);break;case"1":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uC5B4\uB450\uC6B4 \uAE38\uC744 \uC120\uD0DD\uD588\uC2B5\uB2C8\uB2E4.","\uBC1C\uC744 \uB0B4\uB514\uB51C \uB54C\uB9C8\uB2E4 \uB099\uC5FD\uC774 \uBC14\uC2A4\uB77D\uAC70\uB9AC\uBA70 \uC18C\uB9AC\uB97C \uB0C5\uB2C8\uB2E4.","\uCC28\uAC00\uC6B4 \uBC14\uB78C\uC774 \uC637\uAE43\uC744 \uD30C\uACE0\uB4E4\uBA70 \uC628\uBAB8\uC5D0 \uC18C\uB984\uC774 \uB3CB\uC2B5\uB2C8\uB2E4.","\uBA40\uB9AC\uC11C \uB291\uB300\uC758 \uC6B8\uC74C\uC18C\uB9AC\uAC00 \uB4E4\uB824\uC624\uACE0, \uC5B4\uB518\uAC00\uC5D0\uC11C \uB098\uBB47\uAC00\uC9C0 \uBD80\uB7EC\uC9C0\uB294 \uC18C\uB9AC\uAC00 \uB0A9\uB2C8\uB2E4.","\uD558\uC9C0\uB9CC \uC774\uC0C1\uD558\uAC8C\uB3C4 \uC774 \uAE38\uC5D0\uC11C\uB294 \uBB18\uD55C \uD798\uC774 \uB290\uAEF4\uC9D1\uB2C8\uB2E4."]),this.setChoices(["\u2694\uFE0F \uC6A9\uAC10\uD558\uAC8C \uC5B4\uB460 \uC18D\uC73C\uB85C \uB354 \uAE4A\uC774 \uB4E4\uC5B4\uAC04\uB2E4","\u{1F6E1}\uFE0F \uC870\uC2EC\uC2A4\uB7FD\uAC8C \uC8FC\uBCC0\uC744 \uC0B4\uD53C\uBA70 \uCC9C\uCC9C\uD788 \uC9C4\uD589\uD55C\uB2E4","\u{1F525} \uD683\uBD88\uC744 \uCF1C\uC11C \uC8FC\uBCC0\uC744 \uBC1D\uD78C\uB2E4"]);break;case"0-0":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uC815\uC6D0\uC744 \uCC9C\uCC9C\uD788 \uAC70\uB2D0\uAE30 \uC2DC\uC791\uD588\uC2B5\uB2C8\uB2E4.","\uC7A5\uBBF8, \uBC31\uD569, \uB77C\uBCA4\uB354\uC758 \uD5A5\uAE30\uAC00 \uCF54\uB05D\uC744 \uAC04\uC9C8\uC785\uB2C8\uB2E4.","\uAC11\uC790\uAE30 \uD55C \uB9C8\uB9AC\uC758 \uD558\uC580 \uD1A0\uB07C\uAC00 \uB098\uD0C0\uB098 \uB2F9\uC2E0\uC744 \uBC14\uB77C\uBD05\uB2C8\uB2E4.",'"\uC548\uB155\uD558\uC138\uC694, \uC5EC\uD589\uC790\uB2D8. \uC774\uACF3\uC740 \uB9C8\uBC95\uC758 \uC815\uC6D0\uC785\uB2C8\uB2E4."',"\uD1A0\uB07C\uAC00 \uB9D0\uC744 \uD558\uC790 \uB2F9\uC2E0\uC740 \uAE5C\uC9DD \uB180\uB790\uC2B5\uB2C8\uB2E4."]),this.setChoices(["\u{1F430} \uD1A0\uB07C\uC640 \uB300\uD654\uB97C \uB098\uB208\uB2E4","\u{1F3AD} \uC774\uAC83\uC774 \uAFC8\uC778\uC9C0 \uD655\uC778\uD574\uBCF8\uB2E4","\u{1F33F} \uB354 \uAE4A\uC740 \uC815\uC6D0\uC73C\uB85C \uB4E4\uC5B4\uAC04\uB2E4"]);break;case"0-1":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uC2E0\uBE44\uB85C\uC6B4 \uC5F0\uBABB\uC5D0 \uB2E4\uAC00\uAC14\uC2B5\uB2C8\uB2E4.","\uC218\uBA74\uC774 \uAC70\uC6B8\uCC98\uB7FC \uB9D1\uC544 \uB2EC\uACFC \uBCC4\uB4E4\uC774 \uC644\uBCBD\uD558\uAC8C \uBC18\uC0AC\uB418\uACE0 \uC788\uC2B5\uB2C8\uB2E4.","\uC5F0\uBABB \uAC00\uC7A5\uC790\uB9AC\uC5D0 \uC549\uC544 \uBB3C\uC5D0 \uC190\uC744 \uB2F4\uADF8\uC790, \uB530\uB73B\uD55C \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9D1\uB2C8\uB2E4.","\uAC11\uC790\uAE30 \uC218\uBA74\uC5D0\uC11C \uC544\uB984\uB2E4\uC6B4 \uC5EC\uC131\uC758 \uBAA8\uC2B5\uC774 \uB098\uD0C0\uB0AC\uC2B5\uB2C8\uB2E4.",'"\uB2F9\uC2E0\uC758 \uB9C8\uC74C\uC18D \uC18C\uC6D0\uC744 \uB9D0\uD574\uBCF4\uC138\uC694." \uADF8\uB140\uAC00 \uBD80\uB4DC\uB7FD\uAC8C \uB9D0\uD588\uC2B5\uB2C8\uB2E4.']),this.setChoices(["\u{1F4AB} \uD3C9\uD654\uB85C\uC6B4 \uC138\uC0C1\uC744 \uC6D0\uD55C\uB2E4\uACE0 \uB9D0\uD55C\uB2E4","\u{1F4B0} \uBD80\uC640 \uAD8C\uB825\uC744 \uC6D0\uD55C\uB2E4\uACE0 \uB9D0\uD55C\uB2E4","\u2764\uFE0F \uC9C4\uC2E4\uD55C \uC0AC\uB791\uC744 \uC6D0\uD55C\uB2E4\uACE0 \uB9D0\uD55C\uB2E4"]);break;case"0-2":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uC544\uB984\uB2E4\uC6B4 \uC815\uC6D0\uC744 \uBE60\uB974\uAC8C \uC9C0\uB098\uCCE4\uC2B5\uB2C8\uB2E4.","\uC11C\uB458\uB7EC \uAC77\uB2E4 \uBCF4\uB2C8 \uC815\uC6D0 \uB05D\uC5D0 \uC6C5\uC7A5\uD55C \uC131\uC774 \uBCF4\uC785\uB2C8\uB2E4.","\uC131\uBB38 \uC55E\uC5D0\uB294 \uD669\uAE08 \uAC11\uC637\uC744 \uC785\uC740 \uAE30\uC0AC\uAC00 \uC11C \uC788\uC2B5\uB2C8\uB2E4.",'"\uBA48\uCDB0\uB77C! \uC774\uACF3\uC740 \uC2E0\uC131\uD55C \uC131\uC5ED\uC774\uB2E4."','"\uC5EC\uAE30\uB97C \uC9C0\uB098\uB824\uBA74 \uC2DC\uD5D8\uC744 \uD1B5\uACFC\uD574\uC57C \uD55C\uB2E4."']),this.setChoices(["\u2694\uFE0F \uC6A9\uAE30\uC758 \uC2DC\uD5D8\uC5D0 \uB3C4\uC804\uD55C\uB2E4","\u{1F9E0} \uC9C0\uD61C\uC758 \uC2DC\uD5D8\uC5D0 \uB3C4\uC804\uD55C\uB2E4","\u{1F496} \uC790\uBE44\uC758 \uC2DC\uD5D8\uC5D0 \uB3C4\uC804\uD55C\uB2E4"]);break;case"1-0":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uC6A9\uAC10\uD558\uAC8C \uC5B4\uB460 \uC18D\uC73C\uB85C \uB354 \uAE4A\uC774 \uB4E4\uC5B4\uAC14\uC2B5\uB2C8\uB2E4.","\uAC11\uC790\uAE30 \uC55E\uC5D0\uC11C \uBD89\uC740 \uB208\uC774 \uBE5B\uB098\uB294 \uAC70\uB300\uD55C \uB291\uB300\uAC00 \uB098\uD0C0\uB0AC\uC2B5\uB2C8\uB2E4.","\uD558\uC9C0\uB9CC \uC774\uC0C1\uD558\uAC8C\uB3C4 \uB291\uB300\uB294 \uC801\uB300\uC801\uC774\uC9C0 \uC54A\uC544 \uBCF4\uC785\uB2C8\uB2E4.",'"\uB450\uB824\uC6CC\uD558\uC9C0 \uB9C8\uB77C, \uC6A9\uAC10\uD55C \uC790\uC5EC." \uB291\uB300\uAC00 \uB9D0\uD588\uC2B5\uB2C8\uB2E4.','"\uB098\uB294 \uC774 \uC232\uC758 \uC218\uD638\uC790\uB2E4. \uB108\uC5D0\uAC8C \uC120\uBB3C\uC744 \uC8FC\uACA0\uB2E4."']),this.setChoices(["\u{1F52E} \uB9C8\uBC95\uC758 \uD06C\uB9AC\uC2A4\uD0C8\uC744 \uBC1B\uB294\uB2E4","\u{1F5E1}\uFE0F \uC804\uC124\uC758 \uAC80\uC744 \uBC1B\uB294\uB2E4","\u{1F4DC} \uACE0\uB300\uC758 \uC9C0\uC2DD\uC744 \uBC1B\uB294\uB2E4"]);break;case"1-1":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uC870\uC2EC\uC2A4\uB7FD\uAC8C \uC8FC\uBCC0\uC744 \uC0B4\uD53C\uBA70 \uCC9C\uCC9C\uD788 \uC9C4\uD589\uD588\uC2B5\uB2C8\uB2E4.","\uB364\uBD88 \uC0AC\uC774\uB85C \uC624\uB798\uB41C \uC624\uB450\uB9C9\uC774 \uBCF4\uC785\uB2C8\uB2E4.","\uCC3D\uBB38\uC5D0\uC11C \uB530\uB73B\uD55C \uBD88\uBE5B\uC774 \uC0C8\uC5B4 \uB098\uC624\uACE0 \uC788\uC2B5\uB2C8\uB2E4.","\uBB38\uC744 \uB450\uB4DC\uB9AC\uC790 \uD560\uBA38\uB2C8\uAC00 \uB098\uC640 \uBC18\uAC11\uAC8C \uB9DE\uC544\uC90D\uB2C8\uB2E4.",'"\uC5B4\uBA38, \uC774\uB7F0 \uBC24\uC5D0 \uC5B4\uCA50 \uC77C\uC774\uB2C8? \uB4E4\uC5B4\uC640\uC11C \uCC28\uB77C\uB3C4 \uD55C \uC794 \uD558\uB834."']),this.setChoices(["\u{1F375} \uD560\uBA38\uB2C8\uC640 \uD568\uAED8 \uCC28\uB97C \uB9C8\uC2E0\uB2E4","\u{1F4D6} \uD560\uBA38\uB2C8\uC5D0\uAC8C \uC774\uACF3\uC5D0 \uB300\uD574 \uBB3B\uB294\uB2E4","\u{1F381} \uD560\uBA38\uB2C8\uC5D0\uAC8C \uC120\uBB3C\uC744 \uC900\uB2E4"]);break;case"1-2":this.addStoryBlock(["\uB2F9\uC2E0\uC740 \uD683\uBD88\uC744 \uCF1C\uC11C \uC8FC\uBCC0\uC744 \uBC1D\uD614\uC2B5\uB2C8\uB2E4.","\uBD88\uBE5B\uC774 \uC5B4\uB460\uC744 \uBC00\uC5B4\uB0B4\uC790 \uB180\uB77C\uC6B4 \uAD11\uACBD\uC774 \uD3BC\uCCD0\uC84C\uC2B5\uB2C8\uB2E4.","\uACE0\uB300 \uC720\uC801\uC758 \uC785\uAD6C\uAC00 \uBAA8\uC2B5\uC744 \uB4DC\uB7EC\uB0C8\uC2B5\uB2C8\uB2E4.","\uB3CC\uBB38\uC5D0\uB294 \uC2E0\uBE44\uD55C \uBB38\uC591\uC774 \uC0C8\uACA8\uC838 \uC788\uACE0, \uC138 \uAC1C\uC758 \uBCF4\uC11D \uD648\uC774 \uC788\uC2B5\uB2C8\uB2E4.","\uAC01\uAC01 \uBE68\uAC04\uC0C9, \uD30C\uB780\uC0C9, \uB179\uC0C9\uC758 \uBCF4\uC11D\uC774 \uD544\uC694\uD574 \uBCF4\uC785\uB2C8\uB2E4."]),this.setChoices(["\u{1F534} \uBE68\uAC04 \uBCF4\uC11D\uC744 \uCC3E\uC544\uBCF8\uB2E4","\u{1F535} \uD30C\uB780 \uBCF4\uC11D\uC744 \uCC3E\uC544\uBCF8\uB2E4","\u{1F7E2} \uB179\uC0C9 \uBCF4\uC11D\uC744 \uCC3E\uC544\uBCF8\uB2E4"]);break;case"0-0-0":this.addStoryBlock(['"\uD1A0\uB07C\uB2D8, \uC774\uACF3\uC740 \uC815\uB9D0 \uB9C8\uBC95\uC758 \uC815\uC6D0\uC778\uAC00\uC694?"','"\uADF8\uB807\uC2B5\uB2C8\uB2E4. \uC774\uACF3\uC740 \uC120\uD55C \uB9C8\uC74C\uC744 \uAC00\uC9C4 \uC774\uB4E4\uB9CC \uBCFC \uC218 \uC788\uB294 \uACF3\uC774\uC5D0\uC694."','"\uB2F9\uC2E0\uC740 \uD2B9\uBCC4\uD55C \uC6B4\uBA85\uC744 \uAC00\uC9C0\uACE0 \uC788\uC2B5\uB2C8\uB2E4."',"\uD1A0\uB07C\uAC00 \uC791\uC740 \uD669\uAE08 \uC5F4\uC1E0\uB97C \uAC74\uB124\uC90D\uB2C8\uB2E4.",'"\uC774 \uC5F4\uC1E0\uB85C \uC228\uACA8\uC9C4 \uBCF4\uBB3C\uC744 \uCC3E\uC744 \uC218 \uC788\uC744 \uAC70\uC608\uC694."']),this.gainExp(25),this.gold+=30,this.addToInventory("key_golden",1),this.addStoryBlock(["\u{1F4B0} \uACBD\uD5D8\uCE58 25\uC640 \uACE8\uB4DC 30\uC744 \uD68D\uB4DD\uD588\uC2B5\uB2C8\uB2E4!","\u{1F5DD}\uFE0F \uD669\uAE08 \uC5F4\uC1E0\uB97C \uD68D\uB4DD\uD588\uC2B5\uB2C8\uB2E4!"]),this.setChoices(["\u{1F5DD}\uFE0F \uBCF4\uBB3C\uC744 \uCC3E\uC73C\uB7EC \uAC04\uB2E4","\u2753 \uC6B4\uBA85\uC5D0 \uB300\uD574 \uB354 \uBB3B\uB294\uB2E4","\u{1F3E0} \uC9D1\uC73C\uB85C \uB3CC\uC544\uAC00\uB824 \uD55C\uB2E4"]);break;case"0-1-0":this.addStoryBlock(['"\uD3C9\uD654\uB85C\uC6B4 \uC138\uC0C1\uC744 \uC6D0\uD569\uB2C8\uB2E4."',"\uC5F0\uBABB\uC758 \uC815\uB839\uC774 \uBBF8\uC18C\uB97C \uC9C0\uC5C8\uC2B5\uB2C8\uB2E4.",'"\uC544\uB984\uB2E4\uC6B4 \uC18C\uC6D0\uC774\uAD70\uC694. \uB2F9\uC2E0\uC758 \uB9C8\uC74C\uC774 \uC138\uC0C1\uC744 \uBC14\uAFC0 \uAC83\uC785\uB2C8\uB2E4."',"\uC5F0\uBABB\uC5D0\uC11C \uBE5B\uB098\uB294 \uAD6C\uC2AC\uC774 \uB5A0\uC62C\uB77C \uB2F9\uC2E0\uC758 \uC190\uC5D0 \uB193\uC785\uB2C8\uB2E4.",'"\uC774 \uD3C9\uD654\uC758 \uAD6C\uC2AC\uC740 \uB2F9\uC2E0\uC5D0\uAC8C \uD2B9\uBCC4\uD55C \uD798\uC744 \uC904 \uAC83\uC785\uB2C8\uB2E4."']),this.gainExp(40),this.gold+=50,this.addToInventory("orb_peace",1),this.addStoryBlock(["\u{1F4B0} \uACBD\uD5D8\uCE58 40\uACFC \uACE8\uB4DC 50\uC744 \uD68D\uB4DD\uD588\uC2B5\uB2C8\uB2E4!","\u{1F52E} \uD3C9\uD654\uC758 \uAD6C\uC2AC\uC744 \uD68D\uB4DD\uD588\uC2B5\uB2C8\uB2E4!"]),this.setChoices(["\u{1F30D} \uC138\uC0C1\uC744 \uAD6C\uD558\uB7EC \uB5A0\uB09C\uB2E4","\u{1F3D8}\uFE0F \uB9C8\uC744\uB85C \uB3CC\uC544\uAC00 \uC0AC\uB78C\uB4E4\uC744 \uB3D5\uB294\uB2E4","\u{1F4DA} \uB354 \uB9CE\uC740 \uC9C0\uD61C\uB97C \uC5BB\uC73C\uB7EC \uAC04\uB2E4"]);break;default:this.addStoryBlock(["\uB2F9\uC2E0\uC758 \uBAA8\uD5D8\uC774 \uACC4\uC18D\uB429\uB2C8\uB2E4...","\uC774 \uC120\uD0DD\uC774 \uC5B4\uB5A4 \uACB0\uACFC\uB97C \uAC00\uC838\uC62C\uC9C0 \uC544\uBB34\uB3C4 \uBAA8\uB985\uB2C8\uB2E4.","\uC0C8\uB85C\uC6B4 \uC7A5\uC774 \uC2DC\uC791\uB418\uB824 \uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4.","\uB2F9\uC2E0\uC758 \uC774\uC57C\uAE30\uB294 \uC5EC\uAE30\uC11C \uB05D\uB098\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.","\uACC4\uC18D\uD574\uC11C \uBAA8\uD5D8\uC744 \uC774\uC5B4\uAC00 \uBCF4\uC138\uC694!"]),this.setChoices(["\u{1F504} \uC0C8\uB85C\uC6B4 \uBAA8\uD5D8\uC744 \uC2DC\uC791\uD55C\uB2E4","\u{1F4DD} \uC774\uC57C\uAE30\uB97C \uAE30\uB85D\uD55C\uB2E4","\u{1F3AF} \uB2E4\uB978 \uC120\uD0DD\uC744 \uD574\uBCF8\uB2E4"]);break}}addStoryBlock(t){this.storyBlocks.push({type:"story",lines:t}),this.updateStoryFlow()}addChoiceBlock(t){this.storyBlocks.push({type:"choice",choiceText:t}),this.updateStoryFlow()}setChoices(t){if(Math.random()<.3&&t.length>0){let a=["\u2694\uFE0F \uC218\uC0C1\uD55C \uC801\uACFC \uB9C8\uC8FC\uCCE4\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F43A} \uC57C\uC0DD \uB291\uB300\uAC00 \uB098\uD0C0\uB0AC\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F9D9} \uC0AC\uC545\uD55C \uB9C8\uBC95\uC0AC\uAC00 \uB098\uD0C0\uB0AC\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F479} \uAC11\uC790\uAE30 \uAD34\uBB3C\uC774 \uC2B5\uACA9\uD574\uC654\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F480} \uD574\uACE8 \uC804\uC0AC\uAC00 \uAE38\uC744 \uB9C9\uB294\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F409} \uB4DC\uB798\uACE4\uC774 \uB0A0\uC544\uC624\uACE0 \uC788\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F9DB} \uC624\uD06C \uC804\uC0AC\uB4E4\uC774 \uB098\uD0C0\uB0AC\uB2E4 - \uC804\uD22C\uD558\uAE30","\u{1F47E} \uACE0\uBE14\uB9B0 \uBB34\uB9AC\uB97C \uBC1C\uACAC\uD588\uB2E4 - \uC804\uD22C\uD558\uAE30"],c=a[Math.floor(Math.random()*a.length)],s=Math.floor(Math.random()*(t.length+1));t.splice(s,0,c)}this.choices=t,this.scrollToBottom(),this.updateStoryFlow()}scrollToBottom(){this.cdr.detectChanges(),this.attemptScroll(),setTimeout(()=>{this.attemptScroll()},100),setTimeout(()=>{this.attemptScroll()},500)}attemptScroll(){let t=document.querySelector(".novel-scroll-area"),e=document.querySelector(".scroll-target");t&&e?e.scrollIntoView({behavior:"smooth",block:"end"}):t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}scrollToBattleLog(){this.shouldScrollBattleLog=!0,this.cdr.detectChanges()}scrollToBattleLogBottom(){if(this.battleLogContainer){let t=this.battleLogContainer.nativeElement;t.scrollTop=t.scrollHeight}}extractNumber(t){let e=t.match(/\d+/);return e?e[0]:"0"}saveGame(t="autosave"){return y(this,null,function*(){if(!this.selectedNovel){this.debugLogger.warn("\uC800\uC7A5","\u26A0\uFE0F \uC120\uD0DD\uB41C \uC18C\uC124\uC774 \uC5C6\uC2B5\uB2C8\uB2E4");return}this.debugLogger.info("\uC800\uC7A5",`\u{1F4BE} \uAC8C\uC784 \uC800\uC7A5 \uC2DC\uC791: ${t}`),this.currentGameId||(this.currentGameId=`${this.selectedNovel.id}_${Date.now()}`),this.playerCharacter?.inventory?this.inventory=this.playerCharacter.inventory:this.inventory&&this.playerCharacter&&(this.playerCharacter.inventory=this.inventory);let e={id:this.currentGameId,novelId:this.selectedNovel.id,novelTitle:this.selectedNovel.title,novelTemplate:this.selectedNovel,playerCharacter:this.playerCharacter,storyBlocks:this.storyBlocks,currentPath:this.currentPath,choices:this.choices,gameStarted:this.gameStarted,gold:this.playerCharacter.gold,inventory:this.playerCharacter?.inventory||this.inventory,completedQuests:[],currentChapter:1,saveDate:new Date};try{yield this.gameStorage.saveGame(e),localStorage.setItem(`novel_game_${this.currentGameId}`,JSON.stringify(e)),this.debugLogger.success("\uC800\uC7A5",`\u{1F4BE} \uAC8C\uC784 \uC800\uC7A5 \uC644\uB8CC: ${this.currentGameId}`),this.debugLogger.info("\uC800\uC7A5",`\u{1F4E6} \uC7A5\uBE44 \uC815\uBCF4 \uD3EC\uD568: ${Object.keys(this.playerCharacter?.equipment||{}).length}\uAC1C \uC2AC\uB86F`),this.debugLogger.info("\uC800\uC7A5",`\u{1F392} \uC778\uBCA4\uD1A0\uB9AC \uC544\uC774\uD15C: ${e.inventory.length}\uAC1C`),this.debugLogger.info("\uC800\uC7A5",`\u{1F4B0} \uC7AC\uD654 \uC800\uC7A5: \uACE8\uB4DC ${this.playerCharacter.gold}G, \uBCF4\uC11D ${this.playerCharacter.gem}\uAC1C, \uD06C\uB9AC\uC2A4\uD0C8 ${this.playerCharacter.crystal}\uAC1C, \uD2F0\uCF13 ${this.playerCharacter.ticket}\uC7A5`);let a=Object.entries(this.playerCharacter?.equipment||{}).filter(([c,s])=>s!==void 0).map(([c,s])=>`${c}: ${s?.baseType}`).join(", ");a?this.debugLogger.info("\uC800\uC7A5",`\u{1F3AF} \uC7A5\uCC29\uB41C \uC7A5\uBE44: ${a}`):this.debugLogger.info("\uC800\uC7A5","\u26A0\uFE0F \uC7A5\uCC29\uB41C \uC544\uC774\uD15C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4")}catch(a){localStorage.setItem(`novel_game_${this.currentGameId}`,JSON.stringify(e)),this.debugLogger.error("\uC800\uC7A5",`\u274C IndexedDB \uC800\uC7A5 \uC2E4\uD328, localStorage \uC0AC\uC6A9: ${a}`)}})}loadGameById(t){return y(this,null,function*(){this.debugLogger.info("\uBD88\uB7EC\uC624\uAE30",`\u{1F4C2} \uAC8C\uC784 \uBD88\uB7EC\uC624\uAE30 \uC2DC\uB3C4: ${t}`);try{let e=yield this.gameStorage.loadGame(t);if(!e){let c=`novel_game_${t}`,s=localStorage.getItem(c);if(!s){this.debugLogger.error("\uBD88\uB7EC\uC624\uAE30","\u274C \uC800\uC7A5\uB41C \uAC8C\uC784\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"),this.router.navigate(["/novel"]);return}e=JSON.parse(s)}if(!e){this.debugLogger.error("\uBD88\uB7EC\uC624\uAE30","\u274C \uAC8C\uC784 \uC0C1\uD0DC\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"),this.router.navigate(["/novel"]);return}let a=e.novelTemplate;if(a||(a=this.novelTemplates.find(c=>c.id===e.novelId)),!a){this.notification.show("\uC800\uC7A5\uB41C \uAC8C\uC784\uC758 \uC18C\uC124 \uC815\uBCF4\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),this.debugLogger.error("\uBD88\uB7EC\uC624\uAE30",`\u274C \uC18C\uC124\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e.novelId}`),this.router.navigate(["/novel"]);return}if(this.debugLogger.info("\uBD88\uB7EC\uC624\uAE30",`\u{1F4DC} \uAC8C\uC784 \uB85C\uB4DC \uC131\uACF5: ${a.title}`),this.selectedNovel=a,this.novelSelected=!0,this.playerCharacter=e.playerCharacter,!this.playerCharacter.equipment)this.debugLogger.warn("\uBD88\uB7EC\uC624\uAE30","\u26A0\uFE0F \uAD6C \uBC84\uC804 \uB370\uC774\uD130 - \uC7A5\uBE44 \uC2DC\uC2A4\uD15C \uCD08\uAE30\uD654"),this.playerCharacter.equipment={weapon:void 0,armor:void 0,helmet:void 0,gloves:void 0,boots:void 0,belt:void 0,amulet:void 0,ring1:void 0,ring2:void 0};else{this.debugLogger.success("\uBD88\uB7EC\uC624\uAE30","\u2705 \uC7A5\uBE44 \uC815\uBCF4 \uBCF5\uC6D0 \uC644\uB8CC");let c=Object.entries(this.playerCharacter.equipment).filter(([s,m])=>m!==void 0).map(([s,m])=>`${s}: ${m?.baseType}`).join(", ");c?this.debugLogger.info("\uBD88\uB7EC\uC624\uAE30",`\u{1F3AF} \uC7A5\uCC29\uB41C \uC7A5\uBE44: ${c}`):this.debugLogger.info("\uBD88\uB7EC\uC624\uAE30","\u26A0\uFE0F \uC7A5\uBE44 \uAC1D\uCCB4\uB294 \uC788\uC9C0\uB9CC \uC7A5\uCC29\uB41C \uC544\uC774\uD15C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4")}this.storyBlocks=e.storyBlocks,this.currentPath=e.currentPath,this.choices=e.choices,this.gameStarted=e.gameStarted,this.debugLogger.info("\uBD88\uB7EC\uC624\uAE30",`\u{1F4B0} \uC7AC\uD654 \uBCF5\uC6D0: \uACE8\uB4DC ${this.playerCharacter.gold}G, \uBCF4\uC11D ${this.playerCharacter.gem}\uAC1C, \uD06C\uB9AC\uC2A4\uD0C8 ${this.playerCharacter.crystal}\uAC1C, \uD2F0\uCF13 ${this.playerCharacter.ticket}\uC7A5`),this.playerCharacter.inventory?this.inventory=this.playerCharacter.inventory:e.inventory&&(this.inventory=e.inventory,this.playerCharacter.inventory=e.inventory),this.debugLogger.info("\uBD88\uB7EC\uC624\uAE30",`\u{1F392} \uC778\uBCA4\uD1A0\uB9AC \uBCF5\uC6D0: ${this.inventory?.length||0}\uAC1C \uC544\uC774\uD15C`),this.updatePlayerStats(),setTimeout(()=>this.scrollToBottom(),100)}catch{this.router.navigate(["/novel"])}})}formatSaveDate(t){let e=new Date(t),c=new Date().getTime()-e.getTime(),s=Math.floor(c/(1e3*60*60)),m=Math.floor(c/(1e3*60));return m<1?"\uBC29\uAE08 \uC804":m<60?`${m}\uBD84 \uC804`:s<24?`${s}\uC2DC\uAC04 \uC804`:e.toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}isArray(t){return Array.isArray(t)}loadGame(t="autosave"){return y(this,null,function*(){try{let e=yield this.gameStorage.loadGame(t);if(!e){let a=localStorage.getItem(`novel_game_${t}`);if(!a)return!1;let c=JSON.parse(a);return this.restoreGameState(c)}return this.restoreGameState(e)}catch{return!1}})}restoreGameState(t){try{if(this.playerCharacter=t.playerCharacter,!this.playerCharacter.equipment)this.playerCharacter.equipment={weapon:void 0,armor:void 0,helmet:void 0,gloves:void 0,boots:void 0,belt:void 0,amulet:void 0,ring1:void 0,ring2:void 0};else{let e=Object.entries(this.playerCharacter.equipment).filter(([a,c])=>c!==void 0).map(([a,c])=>`${a}: ${c?.baseType}`).join(", ")}return this.storyBlocks=t.storyBlocks,this.currentPath=t.currentPath,this.choices=t.choices,this.gameStarted=t.gameStarted,this.gold=t.gold,this.playerCharacter.inventory?this.inventory=this.playerCharacter.inventory:t.inventory&&(this.inventory=t.inventory,this.playerCharacter.inventory=t.inventory),this.updatePlayerStats(),this.scrollToBottom(),!0}catch{return!1}}getSaveList(){let t=[];for(let e=0;e<localStorage.length;e++){let a=localStorage.key(e);a&&a.startsWith("novel_game_")&&t.push(a.replace("novel_game_",""))}return t}toggleCharacterPanel(){this.showCharacterPanel=!this.showCharacterPanel,this.showInventoryPanel=!1,this.showShopPanel=!1}gainExp(t){this.playerCharacter.exp+=t,this.playerCharacter.exp>=this.playerCharacter.maxExp&&this.levelUp()}levelUp(){return y(this,null,function*(){this.playerCharacter.level++,this.playerCharacter.exp=0,this.playerCharacter.maxExp=Math.floor(this.playerCharacter.maxExp*1.5),this.playerCharacter.maxHp+=20,this.playerCharacter.hp=this.playerCharacter.maxHp,this.playerCharacter.maxMp+=10,this.playerCharacter.mp=this.playerCharacter.maxMp,this.playerCharacter.attack+=8,this.playerCharacter.defense+=3,this.playerCharacter.strength+=5,this.playerCharacter.intelligence+=3,this.playerCharacter.agility+=2,this.playerCharacter.skillPoints+=2,this.addStoryBlock([`\u{1F389} \uB808\uBCA8 \uC5C5! \uB808\uBCA8 ${this.playerCharacter.level}\uC774 \uB418\uC5C8\uC2B5\uB2C8\uB2E4!`,"\u{1F4AA} \uACF5\uACA9\uB825 +8, \uBC29\uC5B4\uB825 +3, \uD798 +5, \uC9C0\uB2A5 +3, \uBBFC\uCCA9 +2","\uCCB4\uB825\uACFC \uB9C8\uB098\uAC00 \uD68C\uBCF5\uB418\uACE0 \uB2A5\uB825\uCE58\uAC00 \uD06C\uAC8C \uC0C1\uC2B9\uD588\uC2B5\uB2C8\uB2E4!","\uC2A4\uD0AC \uD3EC\uC778\uD2B8 2\uB97C \uD68D\uB4DD\uD588\uC2B5\uB2C8\uB2E4."]),this.debugLogger.info("\uB808\uBCA8\uC5C5",`\u2728 \uB808\uBCA8 ${this.playerCharacter.level} \uB2EC\uC131 - \uC790\uB3D9 \uC800\uC7A5 \uC911...`),yield this.saveGame(`auto_levelup_${this.playerCharacter.level}`)})}toggleInventoryPanel(){this.showInventoryPanel=!this.showInventoryPanel,this.showCharacterPanel=!1,this.showShopPanel=!1,this.showInventoryPanel&&this.inventory.length>0}useItem(t){if(t.type==="consumable"){switch(t.id){case"potion_hp":this.playerCharacter.hp=Math.min(this.playerCharacter.hp+50,this.playerCharacter.maxHp),this.removeFromInventory(t.id,1),this.addStoryBlock(["\u{1F49A} \uCCB4\uB825 \uBB3C\uC57D\uC744 \uC0AC\uC6A9\uD558\uC5EC HP\uAC00 50 \uD68C\uBCF5\uB418\uC5C8\uC2B5\uB2C8\uB2E4."]);break;case"potion_mp":this.playerCharacter.mp=Math.min(this.playerCharacter.mp+30,this.playerCharacter.maxMp),this.removeFromInventory(t.id,1),this.addStoryBlock(["\u{1F499} \uB9C8\uB098 \uBB3C\uC57D\uC744 \uC0AC\uC6A9\uD558\uC5EC MP\uAC00 30 \uD68C\uBCF5\uB418\uC5C8\uC2B5\uB2C8\uB2E4."]);break}this.saveGame()}}addToInventory(t,e=1){let a=this.inventory.find(c=>c.id===t);if(a)a.quantity+=e;else{let c=this.shopItems.find(s=>s.id===t);c||(c={key_golden:{id:"key_golden",name:"\uD669\uAE08 \uC5F4\uC1E0",description:"\uC2E0\uBE44\uD55C \uBCF4\uBB3C\uC0C1\uC790\uB97C \uC5F4 \uC218 \uC788\uB294 \uD669\uAE08 \uC5F4\uC1E0",type:"quest",rarity:"rare",price:0},orb_peace:{id:"orb_peace",name:"\uD3C9\uD654\uC758 \uAD6C\uC2AC",description:"\uD3C9\uD654\uB85C\uC6B4 \uB9C8\uC74C\uC744 \uB2F4\uC740 \uC2E0\uC131\uD55C \uAD6C\uC2AC. \uC9C0\uB2A5 +5",type:"misc",rarity:"epic",price:0,stats:{intelligence:5}},crystal_magic:{id:"crystal_magic",name:"\uB9C8\uBC95 \uD06C\uB9AC\uC2A4\uD0C8",description:"\uB9C8\uBC95\uC758 \uD798\uC774 \uAE43\uB4E0 \uD06C\uB9AC\uC2A4\uD0C8. MP +20",type:"misc",rarity:"rare",price:0,stats:{maxMp:20}}}[t]),c&&this.inventory.push({id:c.id,name:c.name,description:c.description,type:c.type,quantity:e,buyPrice:c.price||0,sellPrice:Math.floor((c.price||0)*.7),rarity:c.rarity,stats:c.stats,isEquipped:!1})}}removeFromInventory(t,e=1){let a=this.inventory.find(c=>c.id===t);a&&(a.quantity-=e,a.quantity<=0&&(this.inventory=this.inventory.filter(c=>c.id!==t)))}toggleShopPanel(){this.showShopPanel=!this.showShopPanel,this.showCharacterPanel=!1,this.showInventoryPanel=!1}buyItem(t){this.gold>=t.price&&t.stock>0?(this.gold-=t.price,t.stock--,this.addToInventory(t.id),this.addStoryBlock([`\u{1F4B0} ${t.name}\uC744(\uB97C) \uAD6C\uB9E4\uD588\uC2B5\uB2C8\uB2E4. (${t.price} \uACE8\uB4DC)`])):this.gold<t.price?this.addStoryBlock([`\u274C \uACE8\uB4DC\uAC00 \uBD80\uC871\uD569\uB2C8\uB2E4. (${t.price} \uACE8\uB4DC \uD544\uC694)`]):this.addStoryBlock(["\u274C \uC0C1\uD488\uC774 \uD488\uC808\uB418\uC5C8\uC2B5\uB2C8\uB2E4."])}sellItem(t){t.quantity>0&&t.sellPrice?(this.gold+=t.sellPrice,this.removeFromInventory(t.id,1),this.addStoryBlock([`\u{1F4B0} ${t.name}\uC744(\uB97C) \uD310\uB9E4\uD588\uC2B5\uB2C8\uB2E4. (${t.sellPrice} \uACE8\uB4DC \uD68D\uB4DD)`])):this.addStoryBlock(["\u274C \uD574\uB2F9 \uC544\uC774\uD15C\uC740 \uD310\uB9E4\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."])}initializeOrganization(){this.playerOrganization={id:"player_org_001",name:"\uBB34\uBA85\uC758 \uBB38\uD30C",type:"sect",level:1,reputation:0,members:[],maxMembers:5,resources:{gold:0,materials:0,influence:0},facilities:[],createdDate:new Date},this.addInitialMembers()}addInitialMembers(){if(!this.playerOrganization)return;let t={id:"leader_player",name:this.playerCharacter.name,role:"leader",level:this.playerCharacter.level,stats:{hp:this.playerCharacter.hp,maxHp:this.playerCharacter.maxHp,mp:this.playerCharacter.mp,maxMp:this.playerCharacter.maxMp,attack:this.playerCharacter.attack,defense:this.playerCharacter.defense,agility:this.playerCharacter.agility,intelligence:this.playerCharacter.intelligence},specialty:"\uC804\uD22C",loyalty:100,experience:this.playerCharacter.exp,internalPower:{current:this.playerInternalPower.current,max:this.playerInternalPower.max,realm:this.playerInternalPower.realm},skills:this.playerCharacter.skills.map(a=>a.name),status:"active",joinDate:new Date,avatar:"\u{1F3AD}",description:"\uBB38\uD30C\uC758 \uCC3D\uB9BD\uC790\uC774\uC790 \uC7A5\uBB38\uC778"};this.playerOrganization.members.push(t);let e=[{id:"member_001",name:"\uAC15\uCCA0\uAC80",role:"elder",level:8,stats:{hp:120,maxHp:120,mp:60,maxMp:60,attack:25,defense:18,agility:15,intelligence:12},specialty:"\uC804\uD22C",loyalty:85,experience:2400,internalPower:{current:80,max:80,realm:"\uC77C\uB958"},skills:["\uAC80\uBC95","\uAC15\uCCA0\uCC38","\uBB34\uC601\uAC80"],status:"active",joinDate:new Date(Date.now()-30*24*60*60*1e3),avatar:"\u2694\uFE0F",description:"\uAC80\uC220\uC758 \uB2EC\uC778. \uC624\uB79C \uACBD\uD5D8\uC744 \uAC00\uC9C4 \uBB34\uC778."},{id:"member_002",name:"\uC740\uBC00\uD55C \uADF8\uB9BC\uC790",role:"captain",level:6,stats:{hp:90,maxHp:90,mp:70,maxMp:70,attack:20,defense:12,agility:30,intelligence:18},specialty:"\uC815\uCC30",loyalty:75,experience:1500,internalPower:{current:60,max:60,realm:"\uCD08\uB958"},skills:["\uC554\uC0B4\uC220","\uC740\uC2E0","\uB3C5\uCE68"],status:"on_mission",joinDate:new Date(Date.now()-15*24*60*60*1e3),avatar:"\u{1F977}",description:"\uC815\uBCF4 \uC218\uC9D1\uACFC \uC554\uC0B4\uC5D0 \uB2A5\uD55C \uC790\uAC1D."},{id:"member_003",name:"\uD604\uBA85\uD55C \uD559\uC790",role:"member",level:5,stats:{hp:70,maxHp:70,mp:100,maxMp:100,attack:12,defense:10,agility:10,intelligence:28},specialty:"\uC678\uAD50",loyalty:90,experience:1e3,skills:["\uC124\uB4DD","\uD611\uC0C1","\uBB38\uC11C \uC704\uC870"],status:"active",joinDate:new Date(Date.now()-20*24*60*60*1e3),avatar:"\u{1F4DA}",description:"\uB6F0\uC5B4\uB09C \uC9C0\uB7B5\uAC00. \uC678\uAD50\uC640 \uD611\uC0C1\uC758 \uC804\uBB38\uAC00."}];this.playerOrganization.members.push(...e)}selectMember(t){this.selectedMember=t}checkOrganizationLevelUp(){if(!this.playerOrganization)return;let t=this.playerOrganization.level*100;this.playerOrganization.reputation>=t&&(this.playerOrganization.level++,this.playerOrganization.maxMembers+=2,this.playerOrganization.reputation=0,this.notification.show(`\uC870\uC9C1\uC774 \uB808\uBCA8 ${this.playerOrganization.level}(\uC73C)\uB85C \uC131\uC7A5\uD588\uC2B5\uB2C8\uB2E4! \uCD5C\uB300 \uC778\uC6D0 +2`))}getRoleName(t){return{leader:"\uC7A5\uBB38\uC778",vice_leader:"\uBD80\uC7A5\uBB38",elder:"\uC7A5\uB85C",captain:"\uB300\uC7A5",member:"\uBB38\uB3C4",recruit:"\uC2E0\uC785"}[t]}getStatusName(t){return{active:"\uD65C\uB3D9\uC911",resting:"\uD734\uC2DD\uC911",injured:"\uBD80\uC0C1",on_mission:"\uC784\uBB34\uC911"}[t]}toggleLeftPanel(){this.isLeftPanelCollapsed=!this.isLeftPanelCollapsed}toggleRightPanel(){this.isRightPanelCollapsed=!this.isRightPanelCollapsed}toggleFlowPanel(){return y(this,null,function*(){this.showFlowPanel=!this.showFlowPanel,this.isFlowPanelOpen=this.showFlowPanel,this.showFlowPanel&&this.storyNodes.length===0&&(yield this.loadSampleStoryMap())})}switchFlowTab(t){this.flowPanelTab=t}closeLeftPanel(){this.isLeftPanelCollapsed=!0}closeRightPanel(){this.isRightPanelCollapsed=!0}expandLeftPanel(){this.isLeftPanelCollapsed=!1}expandRightPanel(){this.isRightPanelCollapsed=!1}closeAllPanels(){this.showCharacterPanel=!1,this.showInventoryPanel=!1,this.showShopPanel=!1,this.showCharacterCreatorPanel=!1,this.showScenarioCreatorPanel=!1,this.showItemCreatorPanel=!1}openCharacterCreator(){this.showCharacterCreatorPanel=!0,this.generatedCharacter=null,this.characterGenerationError=""}generateAiCharacter(t="\uC8FC\uC778\uACF5"){if(!this.geminiAiService.hasApiKey()){this.characterGenerationError="Gemini API \uD0A4\uAC00 \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uC124\uC815\uC5D0\uC11C API \uD0A4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.",this.debugLogger.warn("AI\uCE90\uB9AD\uD130","\u26A0\uFE0F API \uD0A4 \uBBF8\uC124\uC815");return}this.isGeneratingCharacter=!0,this.characterGenerationError="",this.generatedCharacter=null,this.debugLogger.info("AI\uCE90\uB9AD\uD130",`\u{1F3AD} AI \uCE90\uB9AD\uD130 \uC0DD\uC131 \uC2DC\uC791: ${t}`),this.geminiAiService.generateCharacter(t).subscribe({next:e=>{this.generatedCharacter=e,this.isGeneratingCharacter=!1,this.debugLogger.success("AI\uCE90\uB9AD\uD130",`\u2705 \uCE90\uB9AD\uD130 \uC0DD\uC131 \uC644\uB8CC: ${e.name}`)},error:e=>{this.characterGenerationError=e.message||"AI \uCE90\uB9AD\uD130 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",this.isGeneratingCharacter=!1,this.debugLogger.error("AI\uCE90\uB9AD\uD130",`\u274C \uCE90\uB9AD\uD130 \uC0DD\uC131 \uC2E4\uD328: ${e.message}`)}})}applyGeneratedCharacter(){if(!this.generatedCharacter)return;let t=this.generatedCharacter;this.debugLogger.info("\uCE90\uB9AD\uD130",`\u{1F4DD} \uCE90\uB9AD\uD130 \uC801\uC6A9: ${t.name}`),this.playerCharacter.name=t.name||"\uBB34\uBA85";let e=Math.floor((t.age||20)/10);this.playerCharacter.level=1+e,this.playerCharacter.attack=10+e*2,this.playerCharacter.defense=5+e,this.playerCharacter.agility=8+e,t.abilities&&t.abilities.length>0&&(this.playerCharacter.skills=t.abilities.slice(0,3).map((a,c)=>({id:`skill_${c+1}`,name:a,description:`${t.name}\uC758 \uD2B9\uAE30 \uBB34\uACF5`,level:1,maxLevel:5,type:"combat"})),this.debugLogger.info("\uCE90\uB9AD\uD130",`\u{1F3AF} \uC2A4\uD0AC \uCD94\uAC00: ${t.abilities.length}\uAC1C`)),this.addStoryBlock(["\u2728 \uC0C8\uB85C\uC6B4 \uCE90\uB9AD\uD130\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!","",`\uC774\uB984: ${t.name}`,`\uB098\uC774: ${t.age}\uC138`,`\uC5ED\uD560: ${this.getRoleKorean(t.role)}`,"",`\u{1F4D6} ${t.appearance||"\uC218\uB824\uD55C \uC678\uBAA8\uB97C \uC9C0\uB2C8\uACE0 \uC788\uC2B5\uB2C8\uB2E4."}`,"",`\u{1F4AD} ${t.personality||"\uB0C9\uCCA0\uD558\uACE0 \uCE68\uCC29\uD55C \uC131\uACA9\uC785\uB2C8\uB2E4."}`,"",`\u{1F3AF} \uBAA9\uD45C: ${t.goals||"\uBB34\uB9BC\uC758 \uC815\uC810\uC744 \uD5A5\uD574 \uB098\uC544\uAC11\uB2C8\uB2E4."}`,""]),t.background&&this.addStoryBlock(["\u{1F4DC} \uBC30\uACBD \uC2A4\uD1A0\uB9AC:",t.background]),t.traits&&t.traits.length>0&&this.addStoryBlock([`\u2B50 \uD2B9\uC131: ${t.traits.join(", ")}`]),this.showCharacterCreatorPanel=!1,this.scrollToBottom()}loadSavedCharacters(){return y(this,null,function*(){try{this.savedCharacters=yield this.characterDbService.getAllCharacters()}catch{this.savedCharacters=[]}})}saveGeneratedCharacter(){return y(this,null,function*(){if(!this.generatedCharacter)return;let t={name:this.generatedCharacter.name||"\uC774\uB984 \uC5C6\uC74C",gender:this.generatedCharacter.gender||"\uBBF8\uC815",age:this.generatedCharacter.age||20,occupation:this.generatedCharacter.occupation||"\uBAA8\uD5D8\uAC00",personality:this.generatedCharacter.personality||[],backstory:this.generatedCharacter.background||this.generatedCharacter.backstory||"",skills:this.generatedCharacter.skills||[],appearance:this.generatedCharacter.appearance||"",goal:this.generatedCharacter.goal||"",weakness:this.generatedCharacter.weakness||"",tags:this.generatedCharacter.traits||this.generatedCharacter.tags||[],createdAt:new Date};try{let e=yield this.characterDbService.saveCharacter(t);this.notification.show("\uCE90\uB9AD\uD130\uAC00 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),yield this.loadSavedCharacters(),this.showCharacterCreatorPanel=!1}catch{this.notification.show("\uCE90\uB9AD\uD130 \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}deleteCharacter(t,e){return y(this,null,function*(){if(e&&e.stopPropagation(),!!(yield this.showConfirmDialog("\uC774 \uCE90\uB9AD\uD130\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")))try{yield this.characterDbService.deleteCharacter(t),yield this.loadSavedCharacters()}catch{this.notification.show("\uCE90\uB9AD\uD130 \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}loadCharacter(t){return y(this,null,function*(){this.generatedCharacter=t,this.showCharacterCreatorPanel=!0})}getRoleKorean(t){return{protagonist:"\uC8FC\uC778\uACF5",antagonist:"\uC801\uB300\uC790",supporting:"\uC870\uC5F0",minor:"\uB2E8\uC5ED"}[t]||"\uC54C \uC218 \uC5C6\uC74C"}loadSavedScenarios(){return y(this,null,function*(){try{this.savedScenarios=yield this.scenarioDbService.getAllScenarios()}catch{this.savedScenarios=[]}})}openScenarioCreator(){this.showScenarioCreatorPanel=!0,this.generatedScenario=null,this.scenarioGenerationError=""}generateAiScenario(t="\uBB34\uD611",e="\uC804\uD1B5\uC801\uC778",a="\uAE34\uC7A5\uAC10 \uB118\uCE58\uB294",c=!1){if(!this.geminiAiService.hasApiKey()){this.scenarioGenerationError="Gemini API \uD0A4\uAC00 \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uC124\uC815\uC5D0\uC11C API \uD0A4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.";return}this.isGeneratingScenario=!0,this.scenarioGenerationError="",this.generatedScenario=null,this.geminiAiService.generateScenario({genre:t,style:e,mood:a,isAdult:c}).subscribe({next:s=>{this.generatedScenario=s,this.isGeneratingScenario=!1},error:s=>{this.scenarioGenerationError=s.message||"AI \uC2DC\uB098\uB9AC\uC624 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",this.isGeneratingScenario=!1}})}saveGeneratedScenario(){return y(this,null,function*(){if(!this.generatedScenario)return;let t={id:`scenario_${Date.now()}`,title:this.generatedScenario.title||"\uC81C\uBAA9 \uC5C6\uC74C",description:this.generatedScenario.description||"",characters:this.generatedScenario.characters||[],setting:this.generatedScenario.setting||"",conflict:this.generatedScenario.conflict||"",goal:this.generatedScenario.goal||"",mood:this.generatedScenario.mood||"",tags:this.generatedScenario.tags||[],genre:this.generatedScenario.genre||"\uBB34\uD611",style:this.generatedScenario.style||"\uC804\uD1B5\uC801\uC778",createdAt:new Date,isAdult:this.generatedScenario.isAdult||!1};try{yield this.scenarioDbService.saveScenario(t),yield this.loadSavedScenarios(),this.notification.show("\u2705 \uC2DC\uB098\uB9AC\uC624\uAC00 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}catch{this.notification.show("\uC2DC\uB098\uB9AC\uC624 \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}deleteScenario(t){return y(this,null,function*(){if(yield this.showConfirmDialog("\uC774 \uC2DC\uB098\uB9AC\uC624\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"))try{yield this.scenarioDbService.deleteScenario(t),yield this.loadSavedScenarios()}catch{this.notification.show("\uC2DC\uB098\uB9AC\uC624 \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}loadScenario(t){return y(this,null,function*(){this.generatedScenario=t,this.showScenarioCreatorPanel=!0})}startGameWithScenario(){if(!this.generatedScenario)return;let t=this.generatedScenario;this.addStoryBlock([`\u{1F3AC} ${t.title}`,"",`${t.description}`,"",`\u{1F4CD} \uBC30\uACBD: ${t.setting}`,"",`\u2694\uFE0F \uAC08\uB4F1: ${t.conflict}`,"",`\u{1F3AF} \uBAA9\uD45C: ${t.goal}`,"",`\u{1F4AD} \uBD84\uC704\uAE30: ${t.mood}`,""]),t.characters&&t.characters.length>0&&this.addStoryBlock(["\u{1F465} \uB4F1\uC7A5\uC778\uBB3C:",...t.characters.map(e=>`  \u2022 ${e}`)]),t.tags&&t.tags.length>0&&this.addStoryBlock([`\u{1F3F7}\uFE0F \uD0DC\uADF8: ${t.tags.join(", ")}`]),this.showScenarioCreatorPanel=!1,this.scrollToBottom()}startBattleFromChoice(){this.addStoryBlock(["\u2694\uFE0F \uC804\uD22C\uAC00 \uC2DC\uC791\uB429\uB2C8\uB2E4!","\uC801\uC774 \uB2F9\uC2E0\uC744 \uBC1C\uACAC\uD558\uACE0 \uACF5\uACA9 \uC790\uC138\uB97C \uCDE8\uD588\uC2B5\uB2C8\uB2E4."]),this.initializeBattle(),this.inBattle=!0,this.battleEnded=!1,this.battleVictory=!1,this.battleTurn="player",this.battleLog=["\u2694\uFE0F \uC804\uD22C \uC2DC\uC791!"],this.playerDefenseBonus=0,this.generateRandomEnemy(),this.scrollToBottom(),setTimeout(()=>this.autoBattle(),1e3)}generateRandomEnemy(){let t=[{name:"\uACE0\uBE14\uB9B0",hp:50,mp:20,internalPower:15,attack:8,defense:3},{name:"\uC624\uD06C",hp:80,mp:35,internalPower:30,attack:12,defense:5},{name:"\uB291\uB300",hp:60,mp:15,internalPower:10,attack:10,defense:2},{name:"\uD574\uACE8 \uC804\uC0AC",hp:70,mp:25,internalPower:20,attack:11,defense:4},{name:"\uB9C8\uBC95\uC0AC",hp:45,mp:50,internalPower:40,attack:15,defense:2},{name:"\uB4DC\uB798\uACE4",hp:150,mp:80,internalPower:100,attack:20,defense:10}],e=t[Math.floor(Math.random()*t.length)];this.battleEnemy={name:e.name,hp:e.hp,maxHp:e.hp,mp:e.mp,maxMp:e.mp,internalPower:e.internalPower,maxInternalPower:e.internalPower,attack:e.attack,defense:e.defense},this.battleLog.push(`${this.battleEnemy.name}\uC774(\uAC00) \uB098\uD0C0\uB0AC\uB2E4!`)}initializeBattle(){this.playerDefenseBonus=0,this.learnedMartialSkills.length>0&&(this.martialBattleState={turn:1,playerHp:this.playerCharacter.hp,playerMp:this.playerCharacter.mp,enemyHp:this.battleEnemy.hp,playerStatusEffects:[],enemyStatusEffects:[],playerDefending:!1,combatLog:[],isPlayerTurn:!0,playerInternalPower:this.playerInternalPower.current,playerMaxInternalPower:this.playerInternalPower.max,enemyInternalPower:100,enemyMaxInternalPower:100,skillCooldowns:{},lastSkillUsed:void 0,comboCounter:0,playerRealm:this.playerInternalPower.realm,enemyRealm:"\uCD08\uB958"})}autoBattle(){this.battleEnded||this.battleTurn==="player"&&this.playerAutoAction()}playerAutoAction(){if(this.battleEnded)return;if(this.playerCharacter.hp/this.playerCharacter.maxHp*100<=30&&this.hasPotion()){this.usePotion();return}if(this.playerCharacter.mp>=10&&Math.random()<.3){this.playerSkill();return}if(Math.random()<.2){this.playerDefend();return}this.playerAttack()}playerAttack(){if(this.battleTurn!=="player"||this.battleEnded)return;let t=Math.max(1,this.playerCharacter.attack-this.battleEnemy.defense);this.triggerEnemyDamage(),this.battleEnemy.hp=Math.max(0,this.battleEnemy.hp-t),this.battleLog.push(`\uB2F9\uC2E0\uC740 ${this.battleEnemy.name}\uC5D0\uAC8C ${t} \uD53C\uD574\uB97C \uC785\uD614\uB2E4!`),this.battleEnemy.hp<=0?this.winBattle():(this.battleTurn="enemy",setTimeout(()=>this.enemyTurn(),500)),this.scrollToBattleLog()}playerSkill(){if(this.battleTurn!=="player"||this.battleEnded||this.playerCharacter.mp<10)return;this.playerCharacter.mp-=10;let t=Math.max(1,Math.floor(this.playerCharacter.attack*1.5)-this.battleEnemy.defense);this.triggerEnemyDamage(),this.battleEnemy.hp=Math.max(0,this.battleEnemy.hp-t),this.battleLog.push(`\u2728 \uAC15\uB825\uD55C \uC2A4\uD0AC \uACF5\uACA9! ${this.battleEnemy.name}\uC5D0\uAC8C ${t} \uD53C\uD574\uB97C \uC785\uD614\uB2E4!`),this.battleEnemy.hp<=0?this.winBattle():(this.battleTurn="enemy",setTimeout(()=>this.enemyTurn(),500)),this.scrollToBattleLog()}useMartialSkillInBattle(t){if(this.battleTurn!=="player"||this.battleEnded)return;if(this.playerInternalPower.current<t.internalPowerCost){this.notification.show(`\uB0B4\uACF5\uC774 \uBD80\uC871\uD569\uB2C8\uB2E4! (\uD544\uC694: ${t.internalPowerCost}, \uD604\uC7AC: ${this.playerInternalPower.current})`);return}this.playerInternalPower.current-=t.internalPowerCost;let e=this.useMartialSkill(t.id);e.success?(this.triggerEnemyDamage(),this.battleEnemy.hp=Math.max(0,this.battleEnemy.hp-e.damage),this.battleLog.push(`\u2694\uFE0F ${t.name}(${t.chineseName}) \uC0AC\uC6A9!`),this.battleLog.push(`\u{1F4A5} ${this.battleEnemy.name}\uC5D0\uAC8C ${e.damage} \uD53C\uD574!`),e.specialEffect&&this.battleLog.push(`\u2728 ${e.specialEffect}`),this.battleEnemy.hp<=0?this.winBattle():(this.battleTurn="enemy",setTimeout(()=>this.enemyTurn(),800))):this.battleLog.push(`\u274C ${e.message}`),this.scrollToBattleLog()}playerDefend(){this.battleTurn!=="player"||this.battleEnded||(this.playerDefenseBonus=Math.floor(this.playerCharacter.defense*.5),this.battleLog.push(`\u{1F6E1}\uFE0F \uBC29\uC5B4 \uC790\uC138\uB97C \uCDE8\uD588\uB2E4! (\uBC29\uC5B4\uB825 +${this.playerDefenseBonus})`),this.battleTurn="enemy",setTimeout(()=>this.enemyTurn(),500),this.scrollToBattleLog())}usePotion(){if(this.battleTurn!=="player"||this.battleEnded||!this.hasPotion())return;let t=50;this.playerCharacter.hp=Math.min(this.playerCharacter.maxHp,this.playerCharacter.hp+t);let e=this.inventory.find(a=>a.type==="consumable"&&a.name.includes("\uBB3C\uC57D"));e&&e.quantity>0&&(e.quantity--,e.quantity===0&&(this.inventory=this.inventory.filter(a=>a.id!==e.id))),this.battleLog.push(`\u{1F9EA} \uD3EC\uC158\uC744 \uC0AC\uC6A9\uD588\uB2E4! HP ${t} \uD68C\uBCF5!`),this.battleTurn="enemy",setTimeout(()=>this.enemyTurn(),500),this.scrollToBattleLog()}hasPotion(){return this.inventory.some(t=>t.type==="consumable"&&t.name.includes("\uBB3C\uC57D")&&t.quantity>0)}enemyTurn(){if(this.battleEnded)return;let t=this.playerCharacter.defense+this.playerDefenseBonus,e=Math.max(1,this.battleEnemy.attack-t);this.triggerPlayerDamage(),this.playerCharacter.hp=Math.max(0,this.playerCharacter.hp-e),this.battleLog.push(`${this.battleEnemy.name}\uC758 \uACF5\uACA9! \uB2F9\uC2E0\uC740 ${e} \uD53C\uD574\uB97C \uBC1B\uC558\uB2E4!`),this.playerDefenseBonus>0&&(this.battleLog.push("\uBC29\uC5B4 \uC790\uC138\uAC00 \uD480\uB838\uB2E4."),this.playerDefenseBonus=0),this.playerCharacter.hp<=0?this.loseBattle():(this.battleTurn="player",setTimeout(()=>this.autoBattle(),500)),this.scrollToBattleLog()}winBattle(){this.battleEnded=!0,this.battleVictory=!0;let t=Math.floor(this.battleEnemy.maxHp*.8),e=Math.floor(this.battleEnemy.maxHp*.6);this.gainExp(t),this.gold+=e,this.battleLog.push(""),this.battleLog.push("\u{1F3C6} \uC2B9\uB9AC!"),this.battleLog.push(`\u{1F4AB} \uACBD\uD5D8\uCE58 ${t} \uD68D\uB4DD!`),this.battleLog.push(`\u{1F4B0} \uACE8\uB4DC ${e} \uD68D\uB4DD!`),this.updateBattleNodeResult("win"),this.addStoryBlock(["","\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","\u2694\uFE0F \uC804\uD22C\uC5D0\uC11C \uC2B9\uB9AC\uD588\uC2B5\uB2C8\uB2E4!",`\u{1F4AB} \uACBD\uD5D8\uCE58 ${t} \uD68D\uB4DD!`,`\u{1F4B0} \uACE8\uB4DC ${e} \uD68D\uB4DD!`,"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",""]),this.scrollToBattleLog(),setTimeout(()=>this.endBattle(),2e3)}loseBattle(){this.battleEnded=!0,this.battleVictory=!1,this.playerCharacter.hp=Math.floor(this.playerCharacter.maxHp/2),this.battleLog.push(""),this.battleLog.push("\u{1F480} \uD328\uBC30..."),this.battleLog.push("\uB9C8\uC744\uB85C \uB3CC\uC544\uAC00 \uC7AC\uC815\uBE44\uAC00 \uD544\uC694\uD558\uB2E4."),this.updateBattleNodeResult("lose"),this.addStoryBlock(["","\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","\u{1F480} \uC804\uD22C\uC5D0\uC11C \uD328\uBC30\uD588\uC2B5\uB2C8\uB2E4...","\uCCB4\uB825\uC774 \uC808\uBC18\uC73C\uB85C \uC904\uC5C8\uC2B5\uB2C8\uB2E4.","\uB9C8\uC744\uB85C \uB3CC\uC544\uAC00 \uC7AC\uC815\uBE44\uAC00 \uD544\uC694\uD569\uB2C8\uB2E4.","\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",""]),this.scrollToBattleLog(),setTimeout(()=>this.endBattle(),2e3)}endBattle(){this.inBattle=!1,this.battleVictory?this.setChoices(["\u{1F6B6} \uC5EC\uD589\uC744 \uACC4\uC18D\uD55C\uB2E4","\u{1F6D1} \uC7A0\uC2DC \uD734\uC2DD\uC744 \uCDE8\uD55C\uB2E4","\u{1F50D} \uC804\uB9AC\uD488\uC744 \uB354 \uCC3E\uC544\uBCF8\uB2E4"]):(this.addStoryBlock(["","\u{1F480} \uC804\uD22C\uC5D0\uC11C \uD328\uBC30\uD588\uC2B5\uB2C8\uB2E4...","\uB9C8\uC744\uB85C \uB3CC\uC544\uAC00 \uC7AC\uC815\uBE44\uAC00 \uD544\uC694\uD569\uB2C8\uB2E4.",""]),this.setChoices(["\u{1F3E0} \uB9C8\uC744\uB85C \uB3CC\uC544\uAC04\uB2E4","\u{1F48A} \uD68C\uBCF5 \uBB3C\uC57D\uC744 \uC0AC\uC6A9\uD55C\uB2E4","\u26FA \uADF8 \uC790\uB9AC\uC5D0\uC11C \uC57C\uC601\uD55C\uB2E4"])),this.scrollToBottom()}triggerPlayerDamage(){this.playerTakingDamage=!0,setTimeout(()=>{this.playerTakingDamage=!1},500)}triggerEnemyDamage(){this.enemyTakingDamage=!0,setTimeout(()=>{this.enemyTakingDamage=!1},500)}initializeBattleSkills(){this.battleSkills=[...this.defaultBattleSkills],this.playerCharacter.level>=5&&this.battleSkills.push({id:"lightning-strike",name:"\uBC88\uAC1C \uC77C\uACA9",description:"\uBC88\uAC1C\uB85C \uC801\uC744 \uACF5\uACA9\uD558\uACE0 \uC2A4\uD134\uC2DC\uD0B5\uB2C8\uB2E4",type:"attack",mpCost:30,cooldown:3,damageMultiplier:2.2,hitRate:.9,statusEffect:{type:"stun",duration:1,value:1,name:"\uC2A4\uD134",icon:"\u26A1"},icon:"\u26A1"})}initializeBattleItems(){this.battleItems=this.inventory.filter(t=>t.type==="consumable").map(t=>({id:t.id,name:t.name,description:t.description,type:this.getBattleItemType(t.id),effect:this.getBattleItemEffect(t.id),quantity:t.quantity,usableInBattle:!0,icon:this.getItemIcon(t.id)}))}getBattleItemType(t){return t.includes("potion")||t.includes("elixir")?"potion":t.includes("scroll")?"scroll":t.includes("bomb")||t.includes("grenade")?"throwable":"buff"}getBattleItemEffect(t){return t.includes("health-potion")?{heal:50}:t.includes("mana-potion")?{mpRestore:30}:t.includes("bomb")?{damage:40}:{heal:30}}getItemIcon(t){return t.includes("health-potion")?"\u2764\uFE0F":t.includes("mana-potion")?"\u{1F499}":t.includes("bomb")?"\u{1F4A3}":t.includes("scroll")?"\u{1F4DC}":"\u{1F381}"}useBattleSkill(t){let e=this.battleSkills.find(a=>a.id===t);if(!e)return!1;if(this.playerCharacter.mp<e.mpCost)return this.addBattleLog("player",`MP\uAC00 \uBD80\uC871\uD569\uB2C8\uB2E4! (\uD544\uC694: ${e.mpCost})`),!1;if(e.currentCooldown&&e.currentCooldown>0)return this.addBattleLog("player",`${e.name}\uC740(\uB294) \uC544\uC9C1 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. (${e.currentCooldown}\uD134 \uB0A8\uC74C)`),!1;switch(this.playerCharacter.mp-=e.mpCost,e.type){case"attack":this.executeAttackSkill(e);break;case"defense":this.executeDefenseSkill(e);break;case"heal":this.executeHealSkill(e);break;case"buff":this.executeBuffSkill(e);break;case"debuff":this.executeDebuffSkill(e);break}return e.cooldown>0&&(e.currentCooldown=e.cooldown),!0}executeAttackSkill(t){let e=this.playerCharacter.attack*(t.damageMultiplier||1);if(Math.random()>(t.hitRate||.9)){this.addBattleLog("player",`${t.name}\uC774(\uAC00) \uBE57\uB098\uAC14\uB2E4!`,{isMiss:!0}),this.triggerSkillEffect(t.icon||"\u{1F4A8}","miss");return}let s=Math.random()<(t.criticalRate||0),m=Math.floor(e*(s?1.5:1));this.battleEnemy.hp=Math.max(0,this.battleEnemy.hp-m),this.addBattleLog("player",`${t.name}! ${m} \uB370\uBBF8\uC9C0!`,{damage:m,isCritical:s}),this.triggerSkillEffect(t.icon||"\u{1F4A5}",s?"critical":"hit"),this.triggerEnemyDamage(),t.statusEffect&&this.applyStatusEffect("enemy",t.statusEffect)}executeDefenseSkill(t){this.playerDefenseBonus=t.defenseBoost||.5,this.addBattleLog("player",`${t.name}! \uBC29\uC5B4\uB825\uC774 ${t.defenseBoost*100}% \uC99D\uAC00\uD588\uB2E4!`),this.triggerSkillEffect(t.icon||"\u{1F6E1}\uFE0F","buff")}executeHealSkill(t){let e=Math.floor(this.playerCharacter.maxHp*(t.healAmount||.3)),a=Math.min(e,this.playerCharacter.maxHp-this.playerCharacter.hp);this.playerCharacter.hp+=a,this.addBattleLog("player",`${t.name}! HP ${a} \uD68C\uBCF5!`,{heal:a}),this.triggerSkillEffect(t.icon||"\u{1F49A}","heal")}executeBuffSkill(t){t.statusEffect&&(this.applyStatusEffect("player",t.statusEffect),this.addBattleLog("player",`${t.name}! ${t.statusEffect.name} \uD6A8\uACFC \uBC1C\uB3D9!`),this.triggerSkillEffect(t.icon||"\u2728","buff"))}executeDebuffSkill(t){t.statusEffect&&(this.applyStatusEffect("enemy",t.statusEffect),this.addBattleLog("player",`${t.name}! \uC801\uC5D0\uAC8C ${t.statusEffect.name} \uD6A8\uACFC!`),this.triggerSkillEffect(t.icon||"\u{1F53B}","debuff"))}useBattleItem(t){let e=this.battleItems.find(c=>c.id===t);if(!e||e.quantity<=0)return!1;if(e.effect.heal){let c=Math.min(e.effect.heal,this.playerCharacter.maxHp-this.playerCharacter.hp);this.playerCharacter.hp+=c,this.addBattleLog("player",`${e.name} \uC0AC\uC6A9! HP ${c} \uD68C\uBCF5!`,{heal:c}),this.triggerSkillEffect(e.icon||"\u2764\uFE0F","heal")}if(e.effect.mpRestore){let c=Math.min(e.effect.mpRestore,this.playerCharacter.maxMp-this.playerCharacter.mp);this.playerCharacter.mp+=c,this.addBattleLog("player",`${e.name} \uC0AC\uC6A9! MP ${c} \uD68C\uBCF5!`),this.triggerSkillEffect(e.icon||"\u{1F499}","heal")}e.effect.damage&&(this.battleEnemy.hp=Math.max(0,this.battleEnemy.hp-e.effect.damage),this.addBattleLog("player",`${e.name} \uC0AC\uC6A9! ${e.effect.damage} \uB370\uBBF8\uC9C0!`,{damage:e.effect.damage}),this.triggerSkillEffect(e.icon||"\u{1F4A3}","hit"),this.triggerEnemyDamage()),e.effect.buff&&(this.applyStatusEffect("player",e.effect.buff),this.addBattleLog("player",`${e.name} \uC0AC\uC6A9! ${e.effect.buff.name} \uD6A8\uACFC!`),this.triggerSkillEffect(e.icon||"\u2728","buff")),e.quantity--;let a=this.inventory.find(c=>c.id===t);return a&&(a.quantity--,a.quantity<=0&&(this.inventory=this.inventory.filter(c=>c.id!==t))),!0}applyStatusEffect(t,e){if(!this.currentBattleState)return;let a=t==="player"?this.currentBattleState.playerStatusEffects:this.currentBattleState.enemyStatusEffects,c=a.findIndex(s=>s.type===e.type);c>=0&&a.splice(c,1),a.push(ne({},e))}triggerSkillEffect(t,e){}addBattleLog(t,e,a){if(!this.currentBattleState)return;let c=ne({turn:this.currentBattleState.turn,actor:t,action:e,timestamp:new Date},a);this.currentBattleState.combatLog.push(c),this.battleLog.push(this.formatBattleLog(c))}formatBattleLog(t){let a=`${t.actor==="player"?"\u{1F464}":"\u{1F479}"} ${t.action}`;return t.isCritical&&(a+=" \u26A1\uD06C\uB9AC\uD2F0\uCEEC!\u26A1"),t.isMiss&&(a+=" \u{1F4A8}Miss!"),a}updateSkillCooldowns(){this.battleSkills.forEach(t=>{t.currentCooldown&&t.currentCooldown>0&&t.currentCooldown--})}initializeWuxiaSystem(){this.initializeMeridians(),this.initializeFactions(),this.initializeMartialSkills(),this.initializeElixirs(),this.initializeMartialManuals()}initializeMeridians(){let t=[{id:"lung",name:"\uC218\uD0DC\uC74C\uD3D0\uACBD",chinese:"\u624B\u592A\u9670\u80BA\u7D93",bonus:{hp:10,defense:2}},{id:"large_intestine",name:"\uC218\uC591\uBA85\uB300\uC7A5\uACBD",chinese:"\u624B\u967D\u660E\u5927\u8178\u7D93",bonus:{strength:2}},{id:"stomach",name:"\uC871\uC591\uBA85\uC704\uACBD",chinese:"\u8DB3\u967D\u660E\u80C3\u7D93",bonus:{maxHp:20}},{id:"spleen",name:"\uC871\uD0DC\uC74C\uBE44\uACBD",chinese:"\u8DB3\u592A\u9670\u813E\u7D93",bonus:{hp:15}},{id:"heart",name:"\uC218\uC18C\uC74C\uC2EC\uACBD",chinese:"\u624B\u5C11\u9670\u5FC3\u7D93",bonus:{mp:10,intelligence:2}},{id:"small_intestine",name:"\uC218\uD0DC\uC591\uC18C\uC7A5\uACBD",chinese:"\u624B\u592A\u967D\u5C0F\u8178\u7D93",bonus:{agility:2}},{id:"bladder",name:"\uC871\uD0DC\uC591\uBC29\uAD11\uACBD",chinese:"\u8DB3\u592A\u967D\u8180\u80F1\u7D93",bonus:{maxMp:20}},{id:"kidney",name:"\uC871\uC18C\uC74C\uC2E0\uACBD",chinese:"\u8DB3\u5C11\u9670\u814E\u7D93",bonus:{maxHp:25,maxMp:25}},{id:"pericardium",name:"\uC218\uAD90\uC74C\uC2EC\uD3EC\uACBD",chinese:"\u624B\u53A5\u9670\u5FC3\u5305\u7D93",bonus:{defense:3}},{id:"triple_burner",name:"\uC218\uC18C\uC591\uC0BC\uCD08\uACBD",chinese:"\u624B\u5C11\u967D\u4E09\u7126\u7D93",bonus:{mp:15}},{id:"gallbladder",name:"\uC871\uC18C\uC591\uB2F4\uACBD",chinese:"\u8DB3\u5C11\u967D\u81BD\u7D93",bonus:{attack:3}},{id:"liver",name:"\uC871\uAD90\uC74C\uAC04\uACBD",chinese:"\u8DB3\u53A5\u9670\u809D\u7D93",bonus:{attack:5,strength:3}}];this.playerInternalPower.meridians.meridians=t.map(e=>({id:e.id,name:e.name,chineseName:e.chinese,isOpened:!1,openProgress:0,bonus:e.bonus}))}initializeFactions(){this.availableFactions=[{id:"shaolin",name:"\uC18C\uB9BC\uD30C",chineseName:"\u5C11\u6797\u6D3E",type:"righteous",description:"\uCC9C\uD558\uBB34\uB9BC\uC758 \uD0DC\uC0B0\uBD81\uB450. \uBD88\uAC00\uC758 \uC790\uBE44\uC640 \uAC15\uB825\uD55C \uAD8C\uBC95\uC73C\uB85C \uC720\uBA85\uD558\uB2E4.",headquarters:"\uC22D\uC0B0 \uC18C\uB9BC\uC0AC",founder:"\uB2EC\uB9C8\uC870\uC0AC",reputation:0,relationship:"neutral",basicSkills:["luohan_quan","vajra_palm"],advancedSkills:["prajna_palm","dragon_claw_hand"],secretSkills:["yijin_jing","marrow_washing_classic"],specialties:["\uAD8C\uBC95","\uC7A5\uBC95","\uB0B4\uACF5"],philosophy:"\uBD88\uAC00\uC758 \uC790\uBE44\uC640 \uBB34\uD559\uC758 \uC870\uD654"},{id:"wudang",name:"\uBB34\uB2F9\uD30C",chineseName:"\u6B66\u7576\u6D3E",type:"righteous",description:"\uB3C4\uAC00\uC758 \uBB34\uD559\uC744 \uC9D1\uB300\uC131\uD55C \uBA85\uBB38\uC815\uD30C. \uD0DC\uADF9\uAD8C\uACFC \uAC80\uC220\uC758 \uB300\uAC00\uB4E4\uC774 \uBAA8\uC5EC\uC788\uB2E4.",headquarters:"\uBB34\uB2F9\uC0B0",founder:"\uC7A5\uC0BC\uBD09",reputation:0,relationship:"neutral",basicSkills:["taiji_quan","wudang_sword"],advancedSkills:["taiji_sword","pure_yang_palm"],secretSkills:["taiji_mystical_skill","tai_chi_divine_technique"],specialties:["\uAC80\uC220","\uAD8C\uBC95","\uB3C4\uBC95"],philosophy:"\uBB34\uC704\uC790\uC5F0, \uC774\uC720\uC81C\uAC15"},{id:"demon_sect",name:"\uB9C8\uAD50",chineseName:"\u9B54\u654E",type:"evil",description:"\uBB34\uB9BC\uC758 \uACF5\uC801. \uAC15\uB825\uD558\uACE0 \uC0AC\uC545\uD55C \uBB34\uACF5\uC744 \uC0AC\uC6A9\uD55C\uB2E4.",headquarters:"\uAD11\uBA85\uC815",founder:"\uCC9C\uB9C8",reputation:0,relationship:"neutral",basicSkills:["demon_palm","blood_claw"],advancedSkills:["soul_absorbing_palm","ten_directions_annihilation"],secretSkills:["absorb_power","heaven_demon_technique"],specialties:["\uD761\uACF5","\uB3C5\uACF5","\uC554\uAE30"],philosophy:"\uD798\uC774 \uACE7 \uC815\uC758"},{id:"huashan",name:"\uD654\uC0B0\uD30C",chineseName:"\u83EF\u5C71\u6D3E",type:"righteous",description:"\uAC80\uC220\uC758 \uBA85\uAC00. \uD654\uC0B0\uAC80\uBC95\uC740 \uBB34\uB9BC\uC5D0\uC11C \uAC00\uC7A5 \uBE60\uB974\uACE0 \uB0A0\uCE74\uB86D\uAE30\uB85C \uC720\uBA85\uD558\uB2E4.",headquarters:"\uD654\uC0B0",founder:"\uD654\uC0B0\uAC80\uC131",reputation:0,relationship:"neutral",basicSkills:["huashan_sword","yangwu_sword"],advancedSkills:["dugu_nine_swords","swift_sword"],secretSkills:["purple_mist_divine_art","lone_sword_technique"],specialties:["\uAC80\uC220","\uACBD\uACF5"],philosophy:"\uAC80\uC73C\uB85C \uB3C4\uB97C \uD1B5\uD55C\uB2E4"},{id:"emei",name:"\uC544\uBBF8\uD30C",chineseName:"\u5CE8\u5D4B\u6D3E",type:"righteous",description:"\uC5EC\uD611\uB4E4\uC758 \uC131\uC9C0. \uC6B0\uC544\uD558\uBA74\uC11C\uB3C4 \uCE58\uBA85\uC801\uC778 \uBB34\uACF5\uC744 \uC0AC\uC6A9\uD55C\uB2E4.",headquarters:"\uC544\uBBF8\uC0B0",founder:"\uACFD\uC591",reputation:0,relationship:"neutral",basicSkills:["emei_sword","jade_maiden_skill"],advancedSkills:["buddha_palm","nine_yin_divine_claw"],secretSkills:["emei_ultimate_skill","jade_maiden_heart_sutra"],specialties:["\uAC80\uC220","\uC7A5\uBC95","\uC554\uAE30"],philosophy:"\uAC15\uC720\uBCD1\uC81C, \uC720\uC911\uB300\uAC15"}]}initializeMartialSkills(){this.martialArtsSkills=[{id:"luohan_quan",name:"\uB098\uD55C\uAD8C",chineseName:"\u7F85\u6F22\u62F3",type:"choShik",grade:"\uC911\uC2B9",requiredInternalPower:50,internalPowerCost:15,requiredLevel:1,damageMultiplier:1.2,hitRate:.85,criticalRate:.1,description:"\uC18C\uB9BC\uC0AC\uC758 \uAE30\uBCF8 \uAD8C\uBC95. \uAC15\uC9C1\uD558\uACE0 \uC815\uD655\uD55C \uACF5\uACA9\uC774 \uD2B9\uC9D5\uC774\uB2E4.",skillEffect:"\uACF5\uACA9\uB825 120%, \uBC29\uC5B4\uB825 \uC77C\uC2DC 10% \uC99D\uAC00",learningDifficulty:3,factionId:"shaolin",isSecret:!1},{id:"vajra_palm",name:"\uAE08\uAC15\uC7A5",chineseName:"\u91D1\u525B\u638C",type:"choShik",grade:"\uC911\uC2B9",requiredInternalPower:80,internalPowerCost:25,requiredLevel:3,damageMultiplier:1.5,hitRate:.8,criticalRate:.15,element:"fire",description:"\uAC15\uB825\uD55C \uC7A5\uB825\uC744 \uB2F4\uC740 \uC18C\uB9BC \uC7A5\uBC95",skillEffect:"\uAC15\uB825\uD55C \uC77C\uACA9, 15% \uD655\uB960\uB85C \uAE30\uC808",learningDifficulty:5,factionId:"shaolin",isSecret:!1,statusEffect:{type:"stun",duration:1,damagePerTurn:0,name:"\uAE30\uC808",icon:"\u{1F4AB}",description:"1\uD134 \uB3D9\uC548 \uD589\uB3D9 \uBD88\uAC00",statModifier:{}}},{id:"yijin_jing",name:"\uC5ED\uADFC\uACBD",chineseName:"\u6613\u7B4B\u7D93",type:"shimBeop",grade:"\uC808\uD559",requiredInternalPower:200,internalPowerCost:0,requiredLevel:10,damageMultiplier:0,hitRate:1,criticalRate:0,description:"\uC18C\uB9BC \uCD5C\uACE0\uC758 \uB0B4\uACF5\uC2EC\uBC95. \uC218\uB828 \uC2DC \uB0B4\uB825 \uD68C\uBCF5 \uC18D\uB3C4\uC640 \uCD5C\uB300\uCE58\uAC00 \uD06C\uAC8C \uC99D\uAC00\uD55C\uB2E4.",skillEffect:"\uB0B4\uB825 \uD68C\uBCF5 \uC18D\uB3C4 +50%, \uCD5C\uB300 \uB0B4\uB825 +100, \uC804\uD22C \uC911 \uD134\uB9C8\uB2E4 HP 5% \uD68C\uBCF5",learningDifficulty:10,factionId:"shaolin",isSecret:!0},{id:"taiji_quan",name:"\uD0DC\uADF9\uAD8C",chineseName:"\u592A\u6975\u62F3",type:"choShik",grade:"\uC0C1\uC2B9",requiredInternalPower:100,internalPowerCost:30,requiredLevel:5,damageMultiplier:1.3,hitRate:.9,criticalRate:.2,description:"\uC720\uC5F0\uD568 \uC18D\uC758 \uAC15\uD568. \uC0C1\uB300\uC758 \uACF5\uACA9\uC744 \uD758\uB824\uBCF4\uB0B4\uBA70 \uBC18\uACA9\uD55C\uB2E4.",skillEffect:"\uACF5\uACA9\uB825 130%, \uC0C1\uB300 \uACF5\uACA9\uC758 30%\uB97C \uBC18\uC0AC",learningDifficulty:7,factionId:"wudang",isSecret:!1,specialEffect:"counter"},{id:"taiji_sword",name:"\uD0DC\uADF9\uAC80",chineseName:"\u592A\u6975\u528D",type:"choShik",grade:"\uC808\uD559",requiredInternalPower:150,internalPowerCost:50,requiredLevel:8,damageMultiplier:2,hitRate:.95,criticalRate:.25,description:"\uBB34\uB2F9\uD30C \uCD5C\uACE0\uC758 \uAC80\uBC95. \uAC80\uAE30\uB97C \uBC1C\uB3D9\uD558\uC5EC \uC6D0\uAC70\uB9AC \uACF5\uACA9\uC774 \uAC00\uB2A5\uD558\uB2E4.",skillEffect:"\uAC80\uAE30 \uBC1C\uB3D9, \uAC15\uB825\uD55C \uC77C\uACA9, \uD0DC\uADF9\uAD8C\uACFC \uC5F0\uACC4 \uC2DC \uCD94\uAC00 \uD53C\uD574",learningDifficulty:9,factionId:"wudang",isSecret:!0,comboSkills:["taiji_quan"]},{id:"absorb_power",name:"\uD761\uC131\uB300\uBC95",chineseName:"\u5438\u661F\u5927\u6CD5",type:"shimBeop",grade:"\uC808\uD559",requiredInternalPower:180,internalPowerCost:100,requiredLevel:12,damageMultiplier:.8,hitRate:.75,criticalRate:.1,description:"\uC0C1\uB300\uC758 \uB0B4\uB825\uC744 \uD761\uC218\uD558\uB294 \uB9C8\uAD50\uC758 \uC0AC\uC545\uD55C \uBB34\uACF5",skillEffect:"\uD53C\uD574\uC758 50%\uB9CC\uD07C \uB0B4\uB825 \uD68C\uBCF5, 10% \uD655\uB960\uB85C \uC8FC\uD654\uC785\uB9C8",learningDifficulty:10,factionId:"demon_sect",isSecret:!0,specialEffect:"absorb"},{id:"demon_palm",name:"\uCC9C\uB9C8\uC7A5",chineseName:"\u5929\u9B54\u638C",type:"choShik",grade:"\uC0C1\uC2B9",requiredInternalPower:120,internalPowerCost:40,requiredLevel:6,damageMultiplier:1.8,hitRate:.85,criticalRate:.2,element:"poison",description:"\uB3C5\uAE30\uB97C \uD488\uC740 \uB9C8\uAD50\uC758 \uC7A5\uBC95",skillEffect:"\uAC15\uB825\uD55C \uD53C\uD574, \uC911\uB3C5 \uD6A8\uACFC",learningDifficulty:7,factionId:"demon_sect",isSecret:!1,statusEffect:{type:"poison",duration:3,damagePerTurn:10,name:"\uC911\uB3C5",chineseName:"\u4E2D\u6BD2",icon:"\u2620\uFE0F",description:"3\uD134 \uB3D9\uC548 \uD134\uB9C8\uB2E4 10 \uD53C\uD574",statModifier:{}}},{id:"huashan_sword",name:"\uD654\uC0B0\uAC80\uBC95",chineseName:"\u83EF\u5C71\u528D\u6CD5",type:"choShik",grade:"\uC911\uC2B9",requiredInternalPower:70,internalPowerCost:20,requiredLevel:2,damageMultiplier:1.4,hitRate:.9,criticalRate:.2,description:"\uBE60\uB974\uACE0 \uC815\uD655\uD55C \uD654\uC0B0\uD30C\uC758 \uAC80\uBC95",skillEffect:"\uC2E0\uC18D\uD55C \uAC80\uACA9, \uB192\uC740 \uBA85\uC911\uB960",learningDifficulty:4,factionId:"huashan",isSecret:!1},{id:"dugu_nine_swords",name:"\uB3C5\uACE0\uAD6C\uAC80",chineseName:"\u7368\u5B64\u4E5D\u528D",type:"choShik",grade:"\uC808\uD559",requiredInternalPower:0,internalPowerCost:60,requiredLevel:15,damageMultiplier:2.5,hitRate:.99,criticalRate:.4,description:"\uAC80\uB9C8 \uB3C5\uACE0\uAD6C\uD328\uAC00 \uCC3D\uC548\uD55C \uC808\uC138\uAC80\uBC95. \uB0B4\uB825\uC774 \uC544\uB2CC \uAC80\uB9AC\uB85C \uC2B9\uBD80\uD55C\uB2E4.",skillEffect:"\uBAA8\uB4E0 \uBB34\uACF5\uC744 \uD30C\uD6FC, \uCD08\uACE0 \uCE58\uBA85\uD0C0\uC728, \uB0B4\uB825 \uBD88\uD544\uC694",learningDifficulty:10,factionId:"huashan",isSecret:!0,specialEffect:"pierce"},{id:"emei_sword",name:"\uC544\uBBF8\uAC80\uBC95",chineseName:"\u5CE8\u5D4B\u528D\u6CD5",type:"choShik",grade:"\uC911\uC2B9",requiredInternalPower:60,internalPowerCost:18,requiredLevel:2,damageMultiplier:1.3,hitRate:.88,criticalRate:.15,description:"\uC6B0\uC544\uD558\uBA74\uC11C\uB3C4 \uCE58\uBA85\uC801\uC778 \uC544\uBBF8\uD30C\uC758 \uAC80\uBC95",skillEffect:"\uBE60\uB978 \uC5F0\uACA9, \uBBFC\uCCA9\uC131 \uBCF4\uB108\uC2A4",learningDifficulty:4,factionId:"emei",isSecret:!1},{id:"basic_punch",name:"\uAE30\uBCF8\uAD8C\uBC95",chineseName:"\u57FA\u672C\u62F3\u6CD5",type:"choShik",grade:"\uD558\uC2B9",requiredInternalPower:10,internalPowerCost:5,requiredLevel:1,damageMultiplier:1,hitRate:.85,criticalRate:.05,description:"\uAC00\uC7A5 \uAE30\uBCF8\uC801\uC778 \uAD8C\uBC95",skillEffect:"\uAE30\uBCF8 \uACF5\uACA9",learningDifficulty:1,isSecret:!1},{id:"basic_palm",name:"\uAE30\uBCF8\uC7A5\uBC95",chineseName:"\u57FA\u672C\u638C\u6CD5",type:"choShik",grade:"\uD558\uC2B9",requiredInternalPower:15,internalPowerCost:8,requiredLevel:1,damageMultiplier:1.1,hitRate:.82,criticalRate:.08,description:"\uAE30\uBCF8\uC801\uC778 \uC7A5\uBC95",skillEffect:"\uC7A5\uB825\uC744 \uB2F4\uC740 \uACF5\uACA9",learningDifficulty:2,isSecret:!1},{id:"lightness_skill",name:"\uACBD\uC2E0\uC220",chineseName:"\u8F15\u8EAB\u8853",type:"gyeongGong",grade:"\uD558\uC2B9",requiredInternalPower:20,internalPowerCost:10,requiredLevel:1,damageMultiplier:0,hitRate:1,criticalRate:0,description:"\uAE30\uBCF8 \uACBD\uACF5. \uD68C\uD53C\uC728\uC744 \uB192\uC778\uB2E4.",skillEffect:"3\uD134 \uB3D9\uC548 \uD68C\uD53C\uC728 +30%",learningDifficulty:3,isSecret:!1}],this.learnedMartialSkills=this.martialArtsSkills.filter(t=>t.id==="basic_punch"||t.id==="basic_palm"||t.id==="lightness_skill")}initializeElixirs(){this.elixirs=[{id:"small_return_pill",name:"\uC18C\uD658\uB2E8",chineseName:"\u5C0F\u9084\u4E39",type:"healing",grade:"\uC911\uD488",effects:[{type:"hp_recovery",value:50,description:"HP 50 \uD68C\uBCF5"},{type:"cure_injury",value:1,description:"\uACBD\uBBF8\uD55C \uB0B4\uC0C1 \uCE58\uB8CC"}],description:"\uACBD\uBBF8\uD55C \uB0B4\uC0C1\uC744 \uCE58\uB8CC\uD558\uB294 \uB2E8\uC57D",rarity:3,price:100},{id:"great_return_pill",name:"\uB300\uD658\uB2E8",chineseName:"\u5927\u9084\u4E39",type:"healing",grade:"\uC0C1\uD488",effects:[{type:"hp_recovery",value:150,description:"HP 150 \uD68C\uBCF5"},{type:"mp_recovery",value:50,description:"MP 50 \uD68C\uBCF5"},{type:"cure_injury",value:3,description:"\uC911\uC0C1 \uCE58\uB8CC"}],description:"\uC911\uC0C1\uC744 \uCE58\uB8CC\uD558\uB294 \uADC0\uC911\uD55C \uB2E8\uC57D",rarity:7,price:500},{id:"thousand_year_ginseng",name:"\uCC9C\uB144\uD558\uC218\uC624",chineseName:"\u5343\u5E74\u4F55\u9996\u70CF",type:"cultivation",grade:"\uADF9\uD488",effects:[{type:"internal_power_boost",value:10,description:"\uCD5C\uB300 \uB0B4\uB825 +10\uB144 \uACF5\uB825"}],description:"\uCC9C\uB144 \uBB35\uC740 \uC601\uC57D. 10\uB144 \uACF5\uB825\uC744 \uC99D\uC9C4\uC2DC\uD0A8\uB2E4.",rarity:9,price:2e3},{id:"snow_lotus",name:"\uCC9C\uC0B0\uC124\uB828",chineseName:"\u5929\u5C71\u96EA\u84EE",type:"cultivation",grade:"\uADF9\uD488",effects:[{type:"internal_power_boost",value:20,description:"\uCD5C\uB300 \uB0B4\uB825 +20\uB144 \uACF5\uB825"},{type:"cure_poison",value:100,description:"\uBAA8\uB4E0 \uB3C5 \uC81C\uAC70"}],description:"\uCC9C\uC0B0\uC5D0\uC11C\uB9CC \uC790\uB77C\uB294 \uC2E0\uBE44\uC758 \uC601\uC57D",rarity:10,price:5e3},{id:"demon_blood_ginseng",name:"\uCC9C\uB9C8\uD608\uC0BC",chineseName:"\u5929\u9B54\u8840\u8518",type:"cultivation",grade:"\uADF9\uD488",effects:[{type:"internal_power_boost",value:50,description:"\uCD5C\uB300 \uB0B4\uB825 +50\uB144 \uACF5\uB825"},{type:"stat_boost",value:10,duration:0,description:"\uACF5\uACA9\uB825 +10"}],description:"\uB9C8\uAD50\uC758 \uBE44\uC804 \uC601\uC57D. \uAC15\uB825\uD558\uC9C0\uB9CC \uC8FC\uD654\uC785\uB9C8\uC758 \uC704\uD5D8\uC774 \uC788\uB2E4.",rarity:10,price:1e4,sideEffect:"30% \uD655\uB960\uB85C \uC8FC\uD654\uC785\uB9C8",sideEffectChance:.3},{id:"fasting_pill",name:"\uBCBD\uACE1\uB2E8",chineseName:"\u8F9F\u7A40\u4E39",type:"special",grade:"\uD558\uD488",effects:[{type:"hp_recovery",value:20,description:"HP 20 \uD68C\uBCF5"}],description:"\uACF5\uBCF5\uC744 \uBA74\uD558\uAC8C \uD574\uC8FC\uB294 \uB2E8\uC57D",rarity:1,price:10},{id:"antidote_pill",name:"\uD574\uB3C5\uB2E8",chineseName:"\u89E3\u6BD2\u4E39",type:"detox",grade:"\uC911\uD488",effects:[{type:"cure_poison",value:50,description:"\uC911\uB3C5 \uC0C1\uD0DC \uCE58\uB8CC"}],description:"\uC77C\uBC18\uC801\uC778 \uB3C5\uC744 \uD574\uB3C5\uD558\uB294 \uB2E8\uC57D",rarity:4,price:150}]}initializeMartialManuals(){this.martialManuals=[{id:"manual_luohan_quan",name:"\uB098\uD55C\uAD8C\uBCF4",chineseName:"\u7F85\u6F22\u62F3\u8B5C",skillId:"luohan_quan",requiredLevel:1,requiredInternalPower:30,learningTime:7,learningDifficulty:3,deviationRisk:5,description:"\uC18C\uB9BC\uC0AC \uB098\uD55C\uAD8C\uC744 \uAE30\uB85D\uD55C \uBB34\uACF5 \uBE44\uAE09",isObtained:!1,isLearned:!1},{id:"manual_taiji_sword",name:"\uD0DC\uADF9\uAC80\uBCF4",chineseName:"\u592A\u6975\u528D\u8B5C",skillId:"taiji_sword",requiredLevel:8,requiredInternalPower:150,requiredFaction:"wudang",learningTime:30,learningDifficulty:9,deviationRisk:20,description:"\uBB34\uB2F9\uD30C\uC758 \uC808\uD559 \uD0DC\uADF9\uAC80\uC744 \uAE30\uB85D\uD55C \uBE44\uAE09",isObtained:!1,isLearned:!1},{id:"manual_dugu_nine_swords",name:"\uB3C5\uACE0\uAD6C\uAC80\uBCF4",chineseName:"\u7368\u5B64\u4E5D\u528D\u8B5C",skillId:"dugu_nine_swords",requiredLevel:15,requiredInternalPower:0,learningTime:90,learningDifficulty:10,deviationRisk:0,description:"\uAC80\uB9C8 \uB3C5\uACE0\uAD6C\uD328\uC758 \uC808\uC138\uAC80\uBC95. \uB0B4\uB825\uC774 \uD544\uC694\uC5C6\uB294 \uAC80\uB9AC\uC758 \uADF9\uCE58",location:"\uD654\uC0B0 \uC0AC\uACE0",isObtained:!1,isLearned:!1},{id:"manual_absorb_power",name:"\uD761\uC131\uB300\uBC95\uBE44\uAE09",chineseName:"\u5438\u661F\u5927\u6CD5\u79D8\u7B08",skillId:"absorb_power",requiredLevel:12,requiredInternalPower:180,learningTime:60,learningDifficulty:10,deviationRisk:50,description:"\uB9C8\uAD50\uC758 \uAE08\uB2E8\uC758 \uBB34\uACF5. \uC2B5\uB4DD \uC2DC \uC8FC\uD654\uC785\uB9C8\uC758 \uC704\uD5D8\uC774 \uB9E4\uC6B0 \uB192\uB2E4",isObtained:!1,isLearned:!1}]}joinFaction(t){let e=this.availableFactions.find(s=>s.id===t);if(!e)return;this.playerFaction=e,this.playerFaction.relationship="ally",this.playerFaction.reputation=100;let a={playerId:"player",factionId:t,rank:"\uC18D\uAC00\uC81C\uC790",contribution:0,trustLevel:50,joinDate:new Date};this.wulinRelationships.push(a),this.martialArtsSkills.filter(s=>e.basicSkills.includes(s.id)).forEach(s=>{this.learnedMartialSkills.find(m=>m.id===s.id)||this.learnedMartialSkills.push(s)}),this.notification.show(`${e.name}\uC5D0 \uC785\uBB38\uD558\uC600\uC2B5\uB2C8\uB2E4!`)}learnMartialSkill(t){let e=this.martialArtsSkills.find(a=>a.id===t);return e?this.learnedMartialSkills.find(a=>a.id===t)?(this.notification.show("\uC774\uBBF8 \uC2B5\uB4DD\uD55C \uBB34\uACF5\uC785\uB2C8\uB2E4."),!1):this.playerCharacter.level<e.requiredLevel?(this.notification.show(`\uB808\uBCA8 ${e.requiredLevel} \uC774\uC0C1 \uD544\uC694\uD569\uB2C8\uB2E4.`),!1):this.playerInternalPower.max<e.requiredInternalPower?(this.notification.show(`\uB0B4\uB825 ${e.requiredInternalPower} \uC774\uC0C1 \uD544\uC694\uD569\uB2C8\uB2E4.`),!1):e.factionId&&(!this.playerFaction||this.playerFaction.id!==e.factionId)?(this.notification.show(`${e.factionId} \uBB38\uD30C \uC18C\uC18D\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4.`),!1):(this.learnedMartialSkills.push(e),this.notification.show(`${e.name}(${e.chineseName})\uC744(\uB97C) \uC2B5\uB4DD\uD558\uC600\uC2B5\uB2C8\uB2E4!`),!0):!1}openMeridian(t){let e=this.playerInternalPower.meridians.meridians.find(c=>c.id===t);if(!e)return!1;if(e.isOpened)return this.notification.show("\uC774\uBBF8 \uAC1C\uD1B5\uB41C \uD608\uB3C4\uC785\uB2C8\uB2E4."),!1;let a=(this.playerInternalPower.meridians.opened+1)*50;return this.playerInternalPower.max<a?(this.notification.show(`\uB0B4\uB825 ${a} \uC774\uC0C1 \uD544\uC694\uD569\uB2C8\uB2E4.`),!1):(e.isOpened=!0,e.openProgress=100,this.playerInternalPower.meridians.opened++,Object.keys(e.bonus).forEach(c=>{let s=e.bonus[c];switch(c){case"hp":this.playerCharacter.hp+=s;break;case"maxHp":this.playerCharacter.maxHp+=s,this.playerCharacter.hp+=s;break;case"mp":this.playerCharacter.mp+=s;break;case"maxMp":this.playerCharacter.maxMp+=s,this.playerCharacter.mp+=s;break;case"attack":this.playerCharacter.attack+=s;break;case"defense":this.playerCharacter.defense+=s;break;case"strength":this.playerCharacter.strength+=s;break;case"agility":this.playerCharacter.agility+=s;break;case"intelligence":this.playerCharacter.intelligence+=s;break}}),this.notification.show(`${e.name}(${e.chineseName}) \uAC1C\uD1B5 \uC131\uACF5!`),!0)}cultivateInternalPower(t){let e=t*(1+this.playerInternalPower.trainingLevel/100),a=this.playerInternalPower.purity/100,c=Math.floor(e*(1+a));this.playerInternalPower.current=Math.min(this.playerInternalPower.max,this.playerInternalPower.current+c),this.playerInternalPower.trainingLevel=Math.min(100,this.playerInternalPower.trainingLevel+t*.5),this.playerInternalPower.realmProgress+=t*.2,this.checkRealmBreakthrough();let s=Math.floor(t*10*(1+this.playerInternalPower.trainingLevel/200));this.gainExp(s),this.notification.show(`${t}\uC2DC\uAC04 \uC218\uB828 \uC644\uB8CC. \uB0B4\uB825 +${c}, \uACBD\uD5D8\uCE58 +${s}`),this.saveGame("autosave")}checkRealmBreakthrough(){if(this.playerInternalPower.realmProgress<100)return;let t=["\uCD08\uB958","\uC77C\uB958","\uC808\uC815","\uD654\uACBD","\uCC9C\uC778\uD569\uC77C"],e=t.indexOf(this.playerInternalPower.realm);if(e>=t.length-1){this.notification.show("\uC774\uBBF8 \uCD5C\uACE0 \uACBD\uC9C0\uC5D0 \uB3C4\uB2EC\uD558\uC600\uC2B5\uB2C8\uB2E4.");return}let a=t[e+1],c=(e+2)*200;if(this.playerInternalPower.max<c){this.notification.show(`\uACBD\uC9C0 \uB3CC\uD30C\uC5D0\uB294 \uB0B4\uB825 ${c} \uC774\uC0C1\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.`);return}this.playerInternalPower.realm=a,this.playerInternalPower.realmProgress=0,this.playerInternalPower.max+=100,this.playerInternalPower.recoveryRate+=2,this.notification.show(`\u2B50 \uACBD\uC9C0 \uB3CC\uD30C! ${a} \uACBD\uC9C0\uC5D0 \uB3C4\uB2EC\uD558\uC600\uC2B5\uB2C8\uB2E4!`)}useElixir(t){let e=this.elixirs.find(c=>c.id===t);if(!e)return;let a=this.inventory.find(c=>c.id===t);if(!a||a.quantity<=0){this.notification.show("\uB2E8\uC57D\uC774 \uBD80\uC871\uD569\uB2C8\uB2E4.");return}if(a.quantity--,a.quantity===0&&(this.inventory=this.inventory.filter(c=>c.id!==t)),e.sideEffect&&e.sideEffectChance&&Math.random()<e.sideEffectChance){this.notification.show(`\u26A0\uFE0F ${e.sideEffect}!`),this.playerInternalPower.stability-=30,this.playerCharacter.hp=Math.floor(this.playerCharacter.hp*.5);return}e.effects.forEach(c=>{switch(c.type){case"hp_recovery":this.playerCharacter.hp=Math.min(this.playerCharacter.maxHp,this.playerCharacter.hp+c.value);break;case"mp_recovery":this.playerCharacter.mp=Math.min(this.playerCharacter.maxMp,this.playerCharacter.mp+c.value);break;case"internal_power_boost":this.playerInternalPower.max+=c.value,this.playerInternalPower.current+=c.value;break;case"cure_poison":break;case"stat_boost":this.playerCharacter.attack+=c.value;break}}),this.notification.show(`${e.name}(${e.chineseName})\uC744(\uB97C) \uC0AC\uC6A9\uD558\uC600\uC2B5\uB2C8\uB2E4.`)}getRealmBonus(t){switch(t){case"\uCD08\uB958":return 0;case"\uC77C\uB958":return .05;case"\uC808\uC815":return .1;case"\uD654\uACBD":return .2;case"\uCC9C\uC778\uD569\uC77C":return .3;default:return 0}}startMartialBattle(t){this.startBattle(),this.martialBattleState=be(ne({},this.currentBattleState),{playerInternalPower:this.playerInternalPower.current,playerMaxInternalPower:this.playerInternalPower.max,enemyInternalPower:100,enemyMaxInternalPower:100,skillCooldowns:{},comboCounter:0,playerRealm:this.playerInternalPower.realm,enemyRealm:"\uCD08\uB958"})}useMartialSkill(t){if(!this.martialBattleState)return{success:!1,damage:0,message:"\uC804\uD22C \uC911\uC774 \uC544\uB2D9\uB2C8\uB2E4!"};let e=this.learnedMartialSkills.find(E=>E.id===t);if(!e)return{success:!1,damage:0,message:"\uD574\uB2F9 \uBB34\uACF5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4!"};if(this.martialBattleState.playerInternalPower<e.internalPowerCost)return{success:!1,damage:0,message:"\uB0B4\uB825\uC774 \uBD80\uC871\uD569\uB2C8\uB2E4!"};if(this.martialBattleState.skillCooldowns[t]&&this.martialBattleState.skillCooldowns[t]>0)return{success:!1,damage:0,message:"\uC544\uC9C1 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4!"};this.martialBattleState.playerInternalPower-=e.internalPowerCost;let a=this.getRealmBonus(this.martialBattleState.playerRealm),c=e.hitRate+a;if(Math.random()>c)return{success:!1,damage:0,message:`${e.name}(${e.chineseName})\uC774(\uAC00) \uBE57\uB098\uAC14\uB2E4! \u{1F4A8}`};let s=this.playerCharacter.attack*e.damageMultiplier,m=Math.floor(this.martialBattleState.playerInternalPower/50),P=Math.floor(s+m),h=e.criticalRate+a,x=Math.random()<h,w=x?Math.floor(P*1.5):P,p="";if(e.comboSkills&&this.martialBattleState.lastSkillUsed&&e.comboSkills.includes(this.martialBattleState.lastSkillUsed)){this.martialBattleState.comboCounter++;let E=Math.floor(w*.3),B=w+E;return p=`\u{1F525} \uC5F0\uACC4 \uC131\uACF5! \uCF64\uBCF4 ${this.martialBattleState.comboCounter}`,this.martialBattleState.lastSkillUsed=t,{success:!0,damage:B,message:x?"\u26A1\uD68C\uC2EC\uC758 \uC77C\uACA9!\u26A1":"",specialEffect:p}}else{this.martialBattleState.comboCounter=0;let E=x?"\u26A1\uD68C\uC2EC\uC758 \uC77C\uACA9!\u26A1":"";if(e.specialEffect==="absorb"){let B=Math.floor(w*.5);this.martialBattleState.playerInternalPower=Math.min(this.martialBattleState.playerMaxInternalPower,this.martialBattleState.playerInternalPower+B),p=`${B}\uC758 \uB0B4\uB825\uC744 \uD761\uC218\uD588\uB2E4!`}return e.statusEffect&&(p=`${e.statusEffect.name} \uD6A8\uACFC \uBC1C\uB3D9!`),this.martialBattleState.lastSkillUsed=t,{success:!0,damage:w,message:E,specialEffect:p||void 0}}}toggleWuxiaPanel(){this.showWuxiaPanel=!this.showWuxiaPanel}closeWuxiaPanel(){this.showWuxiaPanel=!1}getFactionName(t){let e=this.availableFactions.find(a=>a.id===t);return e?e.name:"\uC54C \uC218 \uC5C6\uC74C"}getMeridianPosition(t){let a=t/12*2*Math.PI-Math.PI/2,c=40,s=50,m=50,P=s+c*Math.cos(a);return{top:`${m+c*Math.sin(a)}%`,left:`${P}%`}}getObjectKeys(t){return Object.keys(t||{})}startBattle(){this.inBattle=!0,this.battleEnded=!1,this.battleVictory=!1,this.battleTurn="player",this.battleLog=[],this.battleEnemy={name:"\uC0B0\uC801",maxHp:80,hp:80,mp:40,maxMp:40,internalPower:30,maxInternalPower:30,attack:15,defense:8},this.battleLog.push("\u2694\uFE0F \uC804\uD22C\uAC00 \uC2DC\uC791\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),this.battleLog.push(`\uC801: ${this.battleEnemy.name} (HP: ${this.battleEnemy.hp}/${this.battleEnemy.maxHp})`)}loadSavedItems(){return y(this,null,function*(){try{this.savedItems=yield this.itemDbService.getAllItems()}catch{this.savedItems=[]}})}openItemCreator(){this.showItemCreatorPanel=!0,this.generatedItem=null,this.itemGenerationError="",this.geminiAiService.hasApiKey()||(this.itemGenerationError="Gemini API \uD0A4\uAC00 \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uC124\uC815\uC5D0\uC11C API \uD0A4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.")}generateAiItem(t,e){this.itemGenerationError="",this.generatedItems=[],this.isGeneratingItem=!0;let a=t?[t]:["\uBB34\uAE30","\uBC29\uC5B4\uAD6C","\uC18C\uBE44\uD488","\uC7A5\uC2E0\uAD6C"],c=e?[e]:["\uC77C\uBC18","\uACE0\uAE09","\uD76C\uADC0","\uC601\uC6C5","\uC804\uC124"],s=0,m=10;for(let P=0;P<m;P++){let h=a[Math.floor(Math.random()*a.length)],x=c[Math.floor(Math.random()*c.length)];this.geminiAiService.generateItem(h,x).subscribe({next:w=>{this.generatedItems.push(w),s++,s===m&&(this.isGeneratingItem=!1,this.notification.show(`${m}\uAC1C\uC758 \uC544\uC774\uD15C \uC0DD\uC131 \uC644\uB8CC!`))},error:w=>{s++,console.error("\uC544\uC774\uD15C \uC0DD\uC131 \uC2E4\uD328:",w),s===m&&(this.isGeneratingItem=!1,this.generatedItems.length===0?this.itemGenerationError=w.message||"AI \uC544\uC774\uD15C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.":this.notification.show(`${this.generatedItems.length}\uAC1C\uC758 \uC544\uC774\uD15C \uC0DD\uC131 \uC644\uB8CC (\uC77C\uBD80 \uC2E4\uD328)`))}})}}saveGeneratedItem(){return y(this,null,function*(){if(!this.generatedItem)return;let t=this.calculateItemPriceByGrade(this.generatedItem.grade||"\uC77C\uBC18"),e={name:this.generatedItem.name||"\uC774\uB984 \uC5C6\uC74C",description:this.generatedItem.description||"",type:this.generatedItem.type||"\uAE30\uD0C0",grade:this.generatedItem.grade||"\uC77C\uBC18",effects:this.generatedItem.effects||[],stats:this.generatedItem.stats||{},requirements:this.generatedItem.requirements||"",lore:this.generatedItem.lore||"",tags:this.generatedItem.tags||[],price:t,createdAt:new Date};try{let a=yield this.itemDbService.saveItem(e);this.notification.show("\uC544\uC774\uD15C\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),yield this.loadSavedItems(),this.showItemCreatorPanel=!1}catch{this.notification.show("\uC544\uC774\uD15C \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}saveGeneratedItemByIndex(t){return y(this,null,function*(){let e=this.generatedItems[t];if(!e)return;let a=this.calculateItemPriceByGrade(e.grade||"\uC77C\uBC18"),c={name:e.name||"\uC774\uB984 \uC5C6\uC74C",description:e.description||"",type:e.type||"\uAE30\uD0C0",grade:e.grade||"\uC77C\uBC18",effects:e.effects||[],stats:e.stats||{},requirements:e.requirements||"",lore:e.lore||"",tags:e.tags||[],price:a,createdAt:new Date};try{yield this.itemDbService.saveItem(c),this.notification.show(`${e.name}\uC774(\uAC00) \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4!`),yield this.loadSavedItems()}catch{this.notification.show("\uC544\uC774\uD15C \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}saveAllGeneratedItems(){return y(this,null,function*(){if(this.generatedItems.length===0)return;let t=0;for(let e of this.generatedItems){let a=this.calculateItemPriceByGrade(e.grade||"\uC77C\uBC18"),c={name:e.name||"\uC774\uB984 \uC5C6\uC74C",description:e.description||"",type:e.type||"\uAE30\uD0C0",grade:e.grade||"\uC77C\uBC18",effects:e.effects||[],stats:e.stats||{},requirements:e.requirements||"",lore:e.lore||"",tags:e.tags||[],price:a,createdAt:new Date};try{yield this.itemDbService.saveItem(c),t++}catch(s){console.error("\uC544\uC774\uD15C \uC800\uC7A5 \uC2E4\uD328:",s)}}this.notification.show(`${t}\uAC1C\uC758 \uC544\uC774\uD15C\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4!`),yield this.loadSavedItems(),this.generatedItems=[]})}calculateItemPriceByGrade(t){return{\uC77C\uBC18:50,\uACE0\uAE09:150,\uD76C\uADC0:500,\uC804\uC124:2e3,\uC2E0\uD654:1e4}[t]||50}addGeneratedItemToInventory(){if(!this.generatedItem)return;let t={id:`ai_item_${Date.now()}`,name:this.generatedItem.name||"\uC544\uC774\uD15C",description:this.generatedItem.description||"",type:this.mapItemType(this.generatedItem.type),quantity:1,buyPrice:this.calculateItemPrice(this.generatedItem.grade),sellPrice:Math.floor(this.calculateItemPrice(this.generatedItem.grade)*.6),rarity:this.mapItemGrade(this.generatedItem.grade),stats:this.generatedItem.stats||{}};this.addToInventory(t.id,1),this.addStoryBlock([`\u{1F48E} ${t.name}\uC744(\uB97C) \uC778\uBCA4\uD1A0\uB9AC\uC5D0 \uCD94\uAC00\uD588\uC2B5\uB2C8\uB2E4!`,`${t.description}`]),this.showItemCreatorPanel=!1,this.scrollToBottom()}buyItemFromShop(t,e){return y(this,null,function*(){e&&e.stopPropagation();let a=t.price||this.calculateItemPriceByGrade(t.grade);if(this.gold<a){this.notification.show(`\uACE8\uB4DC\uAC00 \uBD80\uC871\uD569\uB2C8\uB2E4! (\uD544\uC694: ${a}G, \uBCF4\uC720: ${this.gold}G)`);return}if(yield this.showConfirmDialog(`${t.name}\uC744(\uB97C) ${a} \uACE8\uB4DC\uC5D0 \uAD6C\uB9E4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?

\uB4F1\uAE09: ${t.grade}
\uC124\uBA85: ${t.description}

\uD604\uC7AC \uACE8\uB4DC: ${this.gold}G \u2192 ${this.gold-a}G`))try{this.gold-=a;let s={id:`shop_item_${t.id}_${Date.now()}`,name:t.name,description:t.description,type:this.mapItemType(t.type),quantity:1,buyPrice:a,sellPrice:Math.floor(a*.6),rarity:this.mapItemGrade(t.grade),stats:t.stats||{}};this.playerCharacter.inventory||(this.playerCharacter.inventory=[]);let m=this.playerCharacter.inventory.find(P=>P.name===s.name&&P.type===s.type);m?m.quantity=(m.quantity||0)+1:this.playerCharacter.inventory.push(s),this.addStoryBlock([`\u{1F6D2} \uC0C1\uC810\uC5D0\uC11C ${t.name}\uC744(\uB97C) ${a} \uACE8\uB4DC\uC5D0 \uAD6C\uB9E4\uD588\uC2B5\uB2C8\uB2E4!`,`\u{1F4B0} \uB0A8\uC740 \uACE8\uB4DC: ${this.gold}G`]),this.notification.show(`${t.name}\uC744(\uB97C) \uAD6C\uB9E4\uD588\uC2B5\uB2C8\uB2E4!`),yield this.saveGame("autosave"),this.scrollToBottom()}catch{this.notification.show("\uC544\uC774\uD15C \uAD6C\uB9E4\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),this.gold+=a}})}deleteItem(t,e){return y(this,null,function*(){if(e&&e.stopPropagation(),!!(yield this.showConfirmDialog("\uC774 \uC544\uC774\uD15C\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")))try{yield this.itemDbService.deleteItem(t),yield this.loadSavedItems()}catch{this.notification.show("\uC544\uC774\uD15C \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}loadItem(t){return y(this,null,function*(){this.generatedItem=t,this.showItemCreatorPanel=!0})}mapItemType(t){return t==="\uBB34\uAE30"?"weapon":t==="\uBC29\uC5B4\uAD6C"?"armor":t==="\uC18C\uBE44\uD488"?"consumable":"misc"}mapItemGrade(t){return t==="\uC77C\uBC18"?"common":t==="\uACE0\uAE09"?"uncommon":t==="\uD76C\uADC0"?"rare":t==="\uC804\uC124"?"epic":t==="\uC2E0\uD654"?"legendary":"common"}calculateItemPrice(t,e=!0){let c={\uC77C\uBC18:100,\uACE0\uAE09:500,\uD76C\uADC0:2e3,\uC804\uC124:1e4,\uC2E0\uD654:5e4,common:100,uncommon:500,rare:2e3,epic:1e4,legendary:5e4,unique:1e5,mythic:5e5}[t]||100;return e?c:Math.floor(c*.5)}toggleStoryCreatorPanel(){this.showStoryCreatorPanel=!this.showStoryCreatorPanel,this.showStoryCreatorPanel&&(this.showCharacterCreatorPanel=!1,this.showScenarioCreatorPanel=!1,this.showItemCreatorPanel=!1,this.storyTitle="",this.selectedCharactersForStory=[],this.selectedItemsForStory=[],this.selectedScenariosForStory=[],this.generatedStory=null,this.storyGenerationError="")}selectCharacterForStory(t){let e=this.selectedCharactersForStory.findIndex(a=>a.id===t.id);e>-1?this.selectedCharactersForStory.splice(e,1):this.selectedCharactersForStory.push(t)}isCharacterSelected(t){return this.selectedCharactersForStory.some(e=>e.id===t.id)}selectItemForStory(t){let e=this.selectedItemsForStory.findIndex(a=>a.id===t.id);e>-1?this.selectedItemsForStory.splice(e,1):this.selectedItemsForStory.push(t)}isItemSelected(t){return this.selectedItemsForStory.some(e=>e.id===t.id)}selectScenarioForStory(t){let e=this.selectedScenariosForStory.findIndex(a=>a.id===t.id);e>-1?this.selectedScenariosForStory.splice(e,1):this.selectedScenariosForStory.push(t)}isScenarioSelected(t){return this.selectedScenariosForStory.some(e=>e.id===t.id)}generateStoryFromSavedContent(){return y(this,null,function*(){if(!this.storyTitle||this.storyTitle.trim()===""){this.storyGenerationError="\uC2A4\uD1A0\uB9AC \uC81C\uBAA9\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694.";return}if(this.selectedCharactersForStory.length===0||this.selectedItemsForStory.length===0||this.selectedScenariosForStory.length===0){this.storyGenerationError="\uCE90\uB9AD\uD130, \uC544\uC774\uD15C, \uC2DC\uB098\uB9AC\uC624\uB97C \uAC01\uAC01 \uCD5C\uC18C 1\uAC1C \uC774\uC0C1 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.";return}this.isGeneratingStory=!0,this.storyGenerationError="",this.generatedStory=null;let t=this.selectedCharactersForStory[0],e=this.selectedItemsForStory[0],a=this.selectedScenariosForStory[0],c=this.selectedCharactersForStory.map((h,x)=>`
${x+1}. ${h.name} (${h.age}\uC138, ${h.gender}, ${h.occupation})
   - \uBC30\uACBD: ${h.backstory}
   - \uC131\uACA9: ${Array.isArray(h.personality)?h.personality.join(", "):h.personality}
   - \uC678\uBAA8: ${h.appearance}
   - \uBAA9\uD45C: ${h.goal}`).join(""),s=this.selectedItemsForStory.map((h,x)=>`
${x+1}. ${h.name} (${h.type}, ${h.grade})
   - \uC124\uBA85: ${h.description}
   - \uD2B9\uC218 \uD6A8\uACFC: ${h.effects}`).join(""),m=this.selectedScenariosForStory.map((h,x)=>`
${x+1}. ${h.title} (${h.genre})
   - \uBC30\uACBD: ${h.setting}
   - \uC8FC\uC694 \uAC08\uB4F1: ${h.conflict}
   - \uBAA9\uD45C: ${h.goal}
   - \uBD84\uC704\uAE30: ${h.mood}`).join(""),P=`\uB2E4\uC74C \uC694\uC18C\uB4E4\uC744 \uBC14\uD0D5\uC73C\uB85C \uD765\uBBF8\uC9C4\uC9C4\uD55C \uC778\uD130\uB799\uD2F0\uBE0C \uC18C\uC124 \uC2A4\uD1A0\uB9AC\uB97C \uB9CC\uB4E4\uC5B4\uC8FC\uC138\uC694:

**\uC2A4\uD1A0\uB9AC \uC81C\uBAA9:** ${this.storyTitle}

**\uB4F1\uC7A5\uC778\uBB3C\uB4E4:**${c}

\uC8FC\uC778\uACF5: ${t.name}

**\uD575\uC2EC \uC544\uC774\uD15C\uB4E4:**${s}

\uC2DC\uC791 \uC544\uC774\uD15C: ${e.name}

**\uC2DC\uB098\uB9AC\uC624 \uC694\uC18C\uB4E4:**${m}

\uBA54\uC778 \uC2DC\uB098\uB9AC\uC624: ${a.title}

\uB2E4\uC74C \uD615\uC2DD\uC758 JSON\uC73C\uB85C \uC751\uB2F5\uD574\uC8FC\uC138\uC694:
{
  "title": "\uC18C\uC124 \uC81C\uBAA9 (\uC774\uBAA8\uC9C0 \uD3EC\uD568)",
  "genre": "\uC7A5\uB974 (\uC601\uBB38)",
  "description": "\uC18C\uC124 \uC124\uBA85 (\uD55C \uC904 \uC694\uC57D)",
  "icon": "\uB300\uD45C \uC774\uBAA8\uC9C0 (\uD558\uB098\uB9CC)",
  "difficulty": "easy, normal, hard \uC911 \uD558\uB098",
  "startingGold": \uC2DC\uC791 \uACE8\uB4DC (\uC22B\uC790),
  "startingItemName": "\uC2DC\uC791 \uC544\uC774\uD15C \uC774\uB984",
  "startingItemDescription": "\uC2DC\uC791 \uC544\uC774\uD15C \uC124\uBA85",
  "firstStory": [
    "\uCCAB \uBC88\uC9F8 \uC2A4\uD1A0\uB9AC \uBB38\uC7A5",
    "\uB450 \uBC88\uC9F8 \uC2A4\uD1A0\uB9AC \uBB38\uC7A5",
    "\uC138 \uBC88\uC9F8 \uC2A4\uD1A0\uB9AC \uBB38\uC7A5"
  ],
  "firstChoices": [
    "\uCCAB \uBC88\uC9F8 \uC120\uD0DD\uC9C0",
    "\uB450 \uBC88\uC9F8 \uC120\uD0DD\uC9C0",
    "\uC138 \uBC88\uC9F8 \uC120\uD0DD\uC9C0"
  ]
}

\uC8FC\uC758\uC0AC\uD56D:
- \uC8FC\uC778\uACF5\uC758 \uC131\uACA9\uACFC \uBC30\uACBD\uC744 \uC798 \uC0B4\uB824\uC8FC\uC138\uC694
- \uD575\uC2EC \uC544\uC774\uD15C\uC774 \uC2A4\uD1A0\uB9AC\uC5D0\uC11C \uC911\uC694\uD55C \uC5ED\uD560\uC744 \uD558\uB3C4\uB85D \uD574\uC8FC\uC138\uC694
- \uC2DC\uB098\uB9AC\uC624\uC758 \uAC08\uB4F1\uACFC \uC0AC\uAC74\uC744 \uC2A4\uD1A0\uB9AC\uC5D0 \uC790\uC5F0\uC2A4\uB7FD\uAC8C \uB179\uC5EC\uC8FC\uC138\uC694
- \uC120\uD0DD\uC9C0\uB294 \uD50C\uB808\uC774\uC5B4\uAC00 \uD765\uBBF8\uB97C \uB290\uB084 \uC218 \uC788\uB3C4\uB85D \uB2E4\uC591\uD558\uAC8C \uAD6C\uC131\uD574\uC8FC\uC138\uC694
- \uC21C\uC218 JSON\uB9CC \uC751\uB2F5\uD558\uACE0 \uB2E4\uB978 \uD14D\uC2A4\uD2B8\uB294 \uD3EC\uD568\uD558\uC9C0 \uB9C8\uC138\uC694`;try{let h=this.geminiAiService.getApiKey(),x="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent",w={contents:[{parts:[{text:P}]}],generationConfig:{temperature:.9,topK:40,topP:.95,maxOutputTokens:2048}},E=(yield fetch(`${x}?key=${h}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(re=>re.json()))?.candidates?.[0]?.content?.parts?.[0]?.text;if(!E)throw new Error("AI \uC751\uB2F5\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4.");let B=E.match(/\{[\s\S]*\}/);if(!B)throw new Error("JSON \uD615\uC2DD\uC758 \uC751\uB2F5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let I=JSON.parse(B[0]),K=`story_${Date.now()}`,z=`item_${Date.now()}`;this.generatedStory={id:K,title:this.storyTitle,genre:I.genre,description:I.description,icon:I.icon,difficulty:I.difficulty||"normal",startingGold:I.startingGold||100,startingItems:[{id:z,name:I.startingItemName,description:I.startingItemDescription,type:this.mapItemType(e.type),quantity:1,buyPrice:this.calculateItemPrice(e.grade),sellPrice:Math.floor(this.calculateItemPrice(e.grade)/2),rarity:this.mapItemGrade(e.grade),stats:e.type==="\uBB34\uAE30"?{attack:5}:e.type==="\uBC29\uC5B4\uAD6C"?{defense:5}:void 0}],firstStory:I.firstStory,firstChoices:I.firstChoices}}catch(h){this.storyGenerationError=h instanceof Error?h.message:"\uC2A4\uD1A0\uB9AC \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."}finally{this.isGeneratingStory=!1}})}addGeneratedStoryToList(){this.generatedStory&&(this.novelTemplates.push(this.generatedStory),this.selectNovel(this.generatedStory),this.showStoryCreatorPanel=!1,this.storyTitle="",this.selectedCharactersForStory=[],this.selectedItemsForStory=[],this.selectedScenariosForStory=[],this.generatedStory=null,this.storyGenerationError="")}clearGeneratedStory(){this.generatedStory=null,this.storyGenerationError=""}loadSavedStories(){return y(this,null,function*(){try{this.savedStories=yield this.storyDbService.getAllStories(),this.novelTemplates=this.savedStories.map(t=>({id:t.id,title:t.title,genre:t.genre,description:t.description,icon:t.icon,difficulty:t.difficulty,startingGold:t.startingGold,startingItems:t.startingItems,firstStory:t.firstStory,firstChoices:t.firstChoices}))}catch{}})}saveGeneratedStory(){return y(this,null,function*(){if(this.generatedStory)try{let t={id:this.generatedStory.id,title:this.generatedStory.title,genre:this.generatedStory.genre,description:this.generatedStory.description,icon:this.generatedStory.icon,difficulty:this.generatedStory.difficulty,startingGold:this.generatedStory.startingGold,startingItems:this.generatedStory.startingItems,firstStory:this.generatedStory.firstStory,firstChoices:this.generatedStory.firstChoices,createdAt:new Date,createdBy:"AI"};yield this.storyDbService.saveStory(t),yield this.loadSavedStories(),this.notification.show("\u2705 \uC2A4\uD1A0\uB9AC\uAC00 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}catch{this.notification.show("\uC2A4\uD1A0\uB9AC \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}deleteSavedStory(t,e){return y(this,null,function*(){if(e&&e.stopPropagation(),!!(yield this.showConfirmDialog("\uC774 \uC2A4\uD1A0\uB9AC\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")))try{yield this.storyDbService.deleteStory(t),yield this.loadSavedStories()}catch{this.notification.show("\uC2A4\uD1A0\uB9AC \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}loadSavedStoryForGame(t){let e={id:t.id,title:t.title,genre:t.genre,description:t.description,icon:t.icon,difficulty:t.difficulty,startingGold:t.startingGold,startingItems:t.startingItems,firstStory:t.firstStory,firstChoices:t.firstChoices};this.selectNovel(e)}toggleStoryFlowPanel(){this.showStoryFlowPanel=!this.showStoryFlowPanel,this.showStoryFlowPanel&&this.showFeatureMap&&(this.showFeatureMap=!1),this.showStoryFlowPanel&&this.generateStoryFlow()}generateStoryFlow(){this.storyFlowNodes=[];let t=0,e=0;this.storyFlowNodes.push({id:`node-${t++}`,label:"\uC2DC\uC791",type:"start",level:e++});for(let a=0;a<this.storyBlocks.length;a++){let c=this.storyBlocks[a];if(c.type==="story"&&c.lines&&c.lines.length>0){let s=c.lines[0].substring(0,30)+(c.lines[0].length>30?"...":"");this.storyFlowNodes.push({id:`node-${t++}`,label:s,type:"story",level:e})}else c.type==="choice"&&c.choiceText&&this.storyFlowNodes.push({id:`node-${t++}`,label:`\uC120\uD0DD: ${c.choiceText.substring(0,25)}...`,type:"choice",level:e++})}if(this.choices.length>0){let a={id:`node-${t++}`,label:"\uD604\uC7AC \uC704\uCE58",type:"current",choices:this.choices,level:e};this.storyFlowNodes.push(a),this.choices.forEach((c,s)=>{this.storyFlowNodes.push({id:`node-${t++}`,label:`? ${c.substring(0,25)}${c.length>25?"...":""}`,type:"story",level:e+1})})}}getLinkedScenario(t){let e=`scenario_link_${this.selectedNovel?.id}_${t}`,a=localStorage.getItem(e);return a&&this.savedScenarios.find(c=>c.id===a)||null}applyLinkedScenario(t){let e=[`
=== ${t.title} ===`,`${t.description}`,""];t.setting&&(e.push(`\u{1F4CD} \uBC30\uACBD: ${t.setting}`),e.push("")),t.conflict&&(e.push(`\u26A1 \uAC08\uB4F1: ${t.conflict}`),e.push("")),t.goal&&(e.push(`\u{1F3AF} \uBAA9\uD45C: ${t.goal}`),e.push("")),t.characters&&t.characters.length>0&&(e.push("\u{1F465} \uB4F1\uC7A5 \uC778\uBB3C:"),t.characters.forEach(c=>{e.push(`\u2022 ${c}`)}),e.push("")),t.mood&&(e.push(`\u{1F31F} \uBD84\uC704\uAE30: ${t.mood}`),e.push("")),this.addStoryBlock(e);let a=[`\u{1F6B6} ${t.goal||"\uC55E\uC73C\uB85C \uB098\uC544\uAC04\uB2E4"}`,"\u{1F50D} \uC8FC\uBCC0\uC744 \uC790\uC138\uD788 \uC0B4\uD540\uB2E4","\u{1F4AD} \uC0C1\uD669\uC744 \uBD84\uC11D\uD574\uBCF8\uB2E4","\u2694\uFE0F \uC804\uD22C\uD558\uAE30"];this.setChoices(a)}loadSampleStoryMap(){return y(this,null,function*(){try{let t=yield import("./chunk-JLKRLPQ2.js");this.storyNodes=JSON.parse(JSON.stringify(t.SAMPLE_STORY_MAP));let e=this.storyNodes.find(a=>a.id==="start");e&&(e.isCurrent=!0,e.isAvailable=!0,this.currentStoryNodeId="start",this.storyProgress.currentNodeId="start"),this.generateConnections(),this.calculateLayout(),this.notification.show("\uC0D8\uD50C \uC2A4\uD1A0\uB9AC \uB9F5\uC774 \uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}catch{this.notification.show("\uC2A4\uD1A0\uB9AC \uB9F5 \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}generateConnections(){this.storyConnections=[],this.storyNodes.forEach(t=>{t.childIds.forEach(e=>{let a=this.storyNodes.find(c=>c.id===e);if(a){let c={id:`${t.id}-${e}`,from:t.id,to:e,path:this.calculatePath(t.position,a.position),isVisited:t.isVisited&&a.isVisited,isCurrent:t.isCurrent||a.isCurrent,color:this.getConnectionColor(t,a),width:2};this.storyConnections.push(c)}})})}calculatePath(t,e){let a=(t.x+e.x)/2,c=(t.y+e.y)/2;return`M ${t.x} ${t.y} Q ${a} ${t.y+50} ${e.x} ${e.y}`}getConnectionColor(t,e){return t.isVisited&&e.isVisited?"#48bb78":t.isCurrent?"#4299e1":e.type==="battle"?"#fc8181":e.type==="ending"?"#9f7aea":"#cbd5e0"}calculateLayout(){this.flowLayoutType==="hierarchical"?this.calculateHierarchicalLayout():this.flowLayoutType==="radial"?this.calculateRadialLayout():this.calculateForceLayout()}calculateHierarchicalLayout(){let t=new Map,e=new Set,a=[],c=this.storyNodes.find(P=>P.id==="start");for(c&&a.push({node:c,level:0});a.length>0;){let{node:P,level:h}=a.shift();e.has(P.id)||(e.add(P.id),t.has(h)||t.set(h,[]),t.get(h).push(P),P.childIds.forEach(x=>{let w=this.storyNodes.find(p=>p.id===x);w&&!e.has(x)&&a.push({node:w,level:h+1})}))}let s=200,m=150;t.forEach((P,h)=>{let w=-(P.length*s)/2;P.forEach((p,E)=>{p.position.x=w+E*s+s/2,p.position.y=h*m})}),this.generateConnections(),this.updateViewBox()}calculateRadialLayout(){this.storyNodes.forEach((c,s)=>{let m=s/this.storyNodes.length*2*Math.PI;c.position.x=0+300*Math.cos(m),c.position.y=0+300*Math.sin(m)}),this.generateConnections(),this.updateViewBox()}calculateForceLayout(){for(let c=0;c<50;c++){for(let s=0;s<this.storyNodes.length;s++)for(let m=s+1;m<this.storyNodes.length;m++){let P=this.storyNodes[s],h=this.storyNodes[m],x=h.position.x-P.position.x,w=h.position.y-P.position.y,p=Math.sqrt(x*x+w*w)||1,E=5e3/(p*p),B=x/p*E,I=w/p*E;P.position.x-=B,P.position.y-=I,h.position.x+=B,h.position.y+=I}this.storyNodes.forEach(s=>{s.childIds.forEach(m=>{let P=this.storyNodes.find(h=>h.id===m);if(P){let h=P.position.x-s.position.x,x=P.position.y-s.position.y;s.position.x+=h*.1,s.position.y+=x*.1,P.position.x-=h*.1,P.position.y-=x*.1}})})}this.generateConnections(),this.updateViewBox()}updateViewBox(){let t=1/0,e=1/0,a=-1/0,c=-1/0;this.storyNodes.forEach(h=>{t=Math.min(t,h.position.x),e=Math.min(e,h.position.y),a=Math.max(a,h.position.x),c=Math.max(c,h.position.y)});let s=100,m=a-t+s*2,P=c-e+s*2;this.flowViewBox=`${t-s} ${e-s} ${m} ${P}`}toggleAdvancedFlowPanel(){this.showAdvancedFlowPanel=!this.showAdvancedFlowPanel,this.showAdvancedFlowPanel&&this.storyNodes.length===0&&this.loadSampleStoryMap()}toggleFeatureMap(){this.showFeatureMap=!this.showFeatureMap,this.showFeatureMap&&(this.showStoryFlowPanel=!1,this.showWuxiaPanel=!1,this.showAdvancedFlowPanel=!1)}changeFeatureMapTab(t){this.featureMapTab=t,t==="minimap"&&this.updateStoryFlow()}updateStoryFlow(){(this.showFeatureMap||this.showStoryFlowPanel)&&this.generateStoryFlow()}onNodeClick(t){this.selectedNode=t}getNodeIcon(t){switch(t.type){case"start":return"\u{1F3AC}";case"story":return"\u{1F4D6}";case"battle":return"\u2694\uFE0F";case"event":return"\u2728";case"ending":return"\u{1F3C1}";default:return"\u{1F4CD}"}}getNodeColor(t){if(t.isCurrent)return"#4299e1";if(t.isVisited)return"#48bb78";if(!t.isAvailable)return"#a0aec0";switch(t.type){case"battle":return"#fc8181";case"ending":return"#9f7aea";case"event":return"#f6ad55";default:return"#edf2f7"}}getNodeBorderColor(t){if(t.isCurrent)return"#2b6cb0";if(t.isVisited)return"#2f855a";if(!t.isAvailable)return"#718096";switch(t.type){case"battle":return"#c53030";case"ending":return"#6b46c1";case"event":return"#dd6b20";default:return"#a0aec0"}}zoomIn(){this.flowZoomLevel=Math.min(this.flowZoomLevel*1.2,3)}zoomOut(){this.flowZoomLevel=Math.max(this.flowZoomLevel/1.2,.3)}centerView(){this.flowPanX=0,this.flowPanY=0,this.flowZoomLevel=1,this.updateViewBox()}fitToScreen(){this.flowZoomLevel=1,this.updateViewBox()}changeLayout(t){this.flowLayoutType=t,this.calculateLayout()}toggleFilter(t){switch(t){case"visited":this.showVisitedOnly=!this.showVisitedOnly;break;case"battles":this.showBattlesOnly=!this.showBattlesOnly;break;case"endings":this.showEndingsOnly=!this.showEndingsOnly;break}}get visibleNodes(){return this.storyNodes.filter(t=>!(this.showVisitedOnly&&!t.isVisited||this.showBattlesOnly&&t.type!=="battle"||this.showEndingsOnly&&t.type!=="ending"))}toggleStats(){this.showStats=!this.showStats}calculateExplorationRate(){let t=this.storyNodes.length,e=this.storyNodes.filter(a=>a.isVisited).length;return Math.round(e/t*100)}linkScenarioToChoice(t,e){let a=[...this.currentPath,t.toString()].join("-"),c=`scenario_link_${this.selectedNovel?.id}_${a}`;localStorage.setItem(c,e),this.notification.show("\uC2DC\uB098\uB9AC\uC624\uAC00 \uC120\uD0DD\uC9C0\uC5D0 \uC5F0\uACB0\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),this.showScenarioLinkPanel=!1}openScenarioLinkPanel(t){this.currentLinkingChoiceIndex=t,this.showScenarioLinkPanel=!0}closeScenarioLinkPanel(){this.showScenarioLinkPanel=!1,this.currentLinkingChoiceIndex=-1}openFlowScenarioLinkPanel(t,e){this.currentLinkingNodeId=t,this.currentLinkingChoiceId=e,this.showFlowScenarioLinkPanel=!0}closeFlowScenarioLinkPanel(){this.showFlowScenarioLinkPanel=!1,this.currentLinkingNodeId="",this.currentLinkingChoiceId=""}linkScenarioToFlowNode(t){if(!this.currentLinkingNodeId||!this.currentLinkingChoiceId)return;let e=`${this.currentLinkingNodeId}:${this.currentLinkingChoiceId}`;this.nodeScenarioLinks.set(e,t);let a=Object.fromEntries(this.nodeScenarioLinks);localStorage.setItem("nodeScenarioLinks",JSON.stringify(a)),this.notification.show("\uC2DC\uB098\uB9AC\uC624\uAC00 \uD50C\uB85C\uC6B0 \uB178\uB4DC\uC5D0 \uC5F0\uACB0\uB418\uC5C8\uC2B5\uB2C8\uB2E4! \u{1F3AC}"),this.closeFlowScenarioLinkPanel(),this.updateFlowVisualization()}getLinkedScenarioId(t,e){let a=`${t}:${e}`;return this.nodeScenarioLinks.get(a)}hasLinkedScenario(t,e){return this.nodeScenarioLinks.has(`${t}:${e}`)}updateFlowVisualization(){this.storyNodes.forEach(t=>{t.choices&&t.choices.forEach(e=>{let a=this.hasLinkedScenario(t.id,e.id);e.hasScenarioLink=a})})}loadNodeScenarioLinks(){let t=localStorage.getItem("nodeScenarioLinks");if(t)try{let e=JSON.parse(t);this.nodeScenarioLinks=new Map(Object.entries(e))}catch{}}transitionToStoryNode(t){if(!this.currentStoryNodeId||this.storyNodes.length===0)return;let e=this.storyNodes.find(m=>m.id===this.currentStoryNodeId);if(!e||!e.choices||t>=e.choices.length)return;let a=e.choices[t],c=a.targetNodeId,s=this.storyNodes.find(m=>m.id===c);s&&(e.isCurrent=!1,e.isVisited=!0,s.isCurrent=!0,s.isVisited=!0,s.isAvailable=!0,s.childIds.forEach(m=>{let P=this.storyNodes.find(h=>h.id===m);P&&(P.isAvailable=!0)}),this.currentStoryNodeId=c,this.storyProgress.currentNodeId=c,this.storyProgress.visitedNodes.includes(c)||this.storyProgress.visitedNodes.push(c),this.storyProgress.pathHistory.push({nodeId:c,choiceIndex:t,choiceText:a.text,timestamp:new Date}),this.storyProgress.totalChoices++,this.generateConnections())}mapPathToNodeId(t){return{start:"start",0:"light-path",1:"dark-path","0-0":"garden-walk","0-1":"pond-approach","0-2":"quick-pass","1-0":"brave-advance","1-1":"careful-advance","1-2":"torch-light","0-0-0":"rabbit-talk","0-0-1":"dream-check","0-0-2":"deeper-garden","1-0-0":"forest-guardian-battle","1-1-0":"old-woman-hut"}[t]||null}initializeNonlinearStory(){return y(this,null,function*(){this.storyNodes.length===0&&(yield this.loadSampleStoryMap())})}syncChoicesWithNode(){if(!this.currentStoryNodeId||this.storyNodes.length===0)return;let t=this.storyNodes.find(e=>e.id===this.currentStoryNodeId);!t||!t.choices||(this.choices=t.choices.map(e=>`${e.icon||"\u{1F539}"} ${e.text}`))}getCurrentNode(){return!this.currentStoryNodeId||this.storyNodes.length===0?null:this.storyNodes.find(t=>t.id===this.currentStoryNodeId)||null}getNodeById(t){return this.storyNodes.find(e=>e.id===t)||null}getCurrentTime(){let t=new Date,e=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0");return`${e}:${a}`}updateBattleNodeResult(t){if(!this.currentStoryNodeId||this.storyNodes.length===0)return;let e=this.storyNodes.find(a=>a.id===this.currentStoryNodeId);if(e&&e.type==="battle"&&(t==="win"?this.storyProgress.battlesWon++:this.storyProgress.battlesLost++,e.battleConfig)){let a=t==="win"?e.battleConfig.winNodeId:e.battleConfig.loseNodeId;if(a){let c=this.storyNodes.find(s=>s.id===a);if(c){e.isCurrent=!1,e.isVisited=!0,c.isCurrent=!0,c.isVisited=!0,c.isAvailable=!0,c.childIds.forEach(m=>{let P=this.storyNodes.find(h=>h.id===m);P&&(P.isAvailable=!0)}),this.currentStoryNodeId=a,this.storyProgress.currentNodeId=a,this.storyProgress.visitedNodes.includes(a)||this.storyProgress.visitedNodes.push(a),this.storyProgress.pathHistory.push({nodeId:a,battleResult:t,timestamp:new Date});let s=this.storyConnections.find(m=>m.from===e.id&&m.to===a);s&&(s.battleResult=t,s.isVisited=!0,s.isCurrent=!0),this.generateConnections()}}}}getRarityText(t){return{normal:"\uC77C\uBC18",magic:"\uB9C8\uBC95",rare:"\uD76C\uADC0",unique:"\uACE0\uC720",set:"\uC138\uD2B8",legendary:"\uC804\uC124"}[t]||"\uC77C\uBC18"}getRaritySymbol(t){return{normal:"\u26AA",magic:"\uFFFD",rare:"\uFFFD",unique:"\uFFFD",set:"\u{1F7E2}",legendary:"\u{1F7E0}"}[t]||"\u26AA"}getItemTypeText(t){return{weapon:"\uBB34\uAE30",armor:"\uAC11\uC637",helmet:"\uD22C\uAD6C",gloves:"\uC7A5\uAC11",boots:"\uC2E0\uBC1C",belt:"\uBCA8\uD2B8",amulet:"\uBAA9\uAC78\uC774",ring:"\uBC18\uC9C0",accessory:"\uC7A5\uC2E0\uAD6C",consumable:"\uC18C\uBAA8\uD488",material:"\uC7AC\uB8CC",quest:"\uD018\uC2A4\uD2B8",misc:"\uAE30\uD0C0"}[t]||"\uAE30\uD0C0"}getInventoryItemIcon(t){if(t.icon)return t.icon;let e=t.type.toLowerCase();if(e==="weapon"){let a=t.name?.toLowerCase()||"";return a.includes("\uB3C4\uB07C")||a.includes("\uCCA0\uC6D4")?"\u{1FA93}":a.includes("\uB2E8\uAC80")?"\u{1F5E1}\uFE0F":a.includes("\uAC80")?"\u2694\uFE0F":a.includes("\uD65C")||a.includes("\uC11D\uAD81")||a.includes("\uC1E0\uB1CC")?"\u{1F3F9}":a.includes("\uC9C0\uD321\uC774")||a.includes("\uC644\uB4DC")||a.includes("\uB9C8\uBC95\uBD09")?"\u{1FA84}":a.includes("\uCC3D")||a.includes("\uD3F4\uC554")||a.includes("\uC721\uCC99\uBD09")?"\u{1F531}":a.includes("\uB9DD\uCE58")||a.includes("\uCCA0\uD1F4")||a.includes("\uB454\uAE30")?"\u{1F528}":a.includes("\uB0AB")?"\u2694\uFE0F":a.includes("\uBC29\uD328")?"\u{1F6E1}\uFE0F":"\u2694\uFE0F"}if(e==="armor"||e==="helmet"||e==="gloves"||e==="boots"||e==="belt"){if(e==="helmet")return"\u26D1\uFE0F";if(e==="armor")return"\u{1F9BA}";if(e==="gloves")return"\u{1F9E4}";if(e==="boots")return"\u{1F462}";if(e==="belt")return"\u{1F397}\uFE0F";let a=t.name?.toLowerCase()||"";return a.includes("\uD22C\uAD6C")||a.includes("\uB450\uAC1C\uACE8")?"\u26D1\uFE0F":a.includes("\uAC11\uC637")||a.includes("\uAC00\uC2B4")?"\u{1F9BA}":a.includes("\uC7A5\uAC11")?"\u{1F9E4}":a.includes("\uC2E0\uBC1C")||a.includes("\uC7A5\uD654")?"\u{1F462}":a.includes("\uBC14\uC9C0")?"\u{1F456}":a.includes("\uBCA8\uD2B8")?"\u{1F397}\uFE0F":"\u{1F9BA}"}if(e==="accessory"||e==="amulet"||e==="ring"){if(e==="amulet")return"\u{1F4FF}";if(e==="ring")return"\u{1F48D}";let a=t.name?.toLowerCase()||"";return a.includes("\uBAA9\uAC78\uC774")||a.includes("\uC2EC\uC7A5")?"\u{1F4FF}":a.includes("\uBC18\uC9C0")?"\u{1F48D}":"\u{1F48E}"}return"\u{1F5E1}\uFE0F"}getDiabloItemIcon(t){let e=String(t.type).toLowerCase(),a=String(t.category||"");return e==="weapon"?a.includes("\uB3C4\uB07C")||a.includes("axe")?"\u{1FA93}":a.includes("\uB2E8\uAC80")||a.includes("dagger")?"\u{1F5E1}\uFE0F":a.includes("\uAC80")||a.includes("sword")?"\u2694\uFE0F":a.includes("\uD65C")||a.includes("bow")||a.includes("\uC11D\uAD81")||a.includes("\uC1E0\uB1CC")||a.includes("crossbow")?"\u{1F3F9}":a.includes("\uC9C0\uD321\uC774")||a.includes("staff")||a.includes("\uC644\uB4DC")||a.includes("\uB9C8\uBC95\uBD09")||a.includes("wand")?"\u{1FA84}":a.includes("\uCC3D")||a.includes("spear")||a.includes("\uD3F4\uC554")||a.includes("\uC721\uCC99\uBD09")||a.includes("polearm")?"\u{1F531}":a.includes("\uB9DD\uCE58")||a.includes("\uCCA0\uD1F4")||a.includes("hammer")||a.includes("\uB454\uAE30")||a.includes("mace")?"\u{1F528}":a.includes("\uB0AB")||a.includes("scythe")?"\u2694\uFE0F":a.includes("\uBC29\uD328")||a.includes("shield")?"\u{1F6E1}\uFE0F":"\u2694\uFE0F":e==="armor"?a.includes("\uD22C\uAD6C")||a.includes("helmet")||a.includes("helm")?"\u26D1\uFE0F":a.includes("\uAC11\uC637")||a.includes("\uAC00\uC2B4")||a.includes("armor")||a.includes("chest")?"\u{1F9BA}":a.includes("\uC7A5\uAC11")||a.includes("glove")?"\u{1F9E4}":a.includes("\uC2E0\uBC1C")||a.includes("\uC7A5\uD654")||a.includes("boot")?"\u{1F462}":a.includes("\uBC14\uC9C0")||a.includes("leg")||a.includes("pant")?"\u{1F456}":a.includes("\uBCA8\uD2B8")||a.includes("belt")?"\u{1F397}\uFE0F":"\u{1F9BA}":e==="accessory"?a.includes("\uBAA9\uAC78\uC774")||a.includes("amulet")?"\u{1F4FF}":a.includes("\uBC18\uC9C0")||a.includes("ring")?"\u{1F48D}":"\u{1F48E}":"\u{1F5E1}\uFE0F"}getEquipmentSlotName(t){return{weapon:"\uBB34\uAE30 \uC2AC\uB86F",armor:"\uAC11\uC637 \uC2AC\uB86F",helmet:"\uD22C\uAD6C \uC2AC\uB86F",gloves:"\uC7A5\uAC11 \uC2AC\uB86F",boots:"\uC2E0\uBC1C \uC2AC\uB86F",belt:"\uBCA8\uD2B8 \uC2AC\uB86F",amulet:"\uBAA9\uAC78\uC774 \uC2AC\uB86F",ring:"\uBC18\uC9C0 \uC2AC\uB86F",ring1:"\uBC18\uC9C0 \uC2AC\uB86F 1",ring2:"\uBC18\uC9C0 \uC2AC\uB86F 2",accessory:"\uC7A5\uC2E0\uAD6C \uC2AC\uB86F"}[t]||""}setInventoryFilter(t){this.inventoryFilter=t}getFilteredInventory(){return this.playerCharacter?.inventory?this.inventoryFilter==="all"?this.playerCharacter.inventory:this.playerCharacter.inventory.filter(t=>{switch(this.inventoryFilter){case"weapon":return t.type==="weapon";case"armor":return["armor","helmet","gloves","boots","belt"].includes(t.type);case"accessory":return["amulet","ring","accessory"].includes(t.type);case"consumable":return t.type==="consumable";case"material":return["material","quest","misc"].includes(t.type);default:return!0}}):[]}getFilteredAndSortedInventory(){let t=[...this.inventory];return this.inventoryFilter!=="all"&&(t=t.filter(e=>{switch(this.inventoryFilter){case"weapon":return e.type==="weapon";case"armor":return["armor","helmet","gloves","boots","belt"].includes(e.type);case"accessory":return["amulet","ring","accessory"].includes(e.type);case"consumable":return e.type==="consumable";case"material":return e.type==="material";default:return!0}})),t.sort((e,a)=>{switch(this.inventorySortBy){case"rarity":return this.getRarityWeight(a.rarity)-this.getRarityWeight(e.rarity);case"type":return e.type.localeCompare(a.type);case"name":return(e.nameKo||e.name).localeCompare(a.nameKo||a.name);case"recent":let c=e.obtainedTimestamp||0;return(a.obtainedTimestamp||0)-c;default:return 0}}),t}getRarityWeight(t){return{mythic:7,legendary:6,unique:5,epic:4,rare:3,uncommon:2,common:1}[t]||0}getEmptyInventorySlots(){let t=this.getFilteredAndSortedInventory().length,e=Math.max(0,this.maxInventorySize-t);return Array(e).fill(0)}sortInventory(){this.snackBar.open(`\u2705 ${this.getSortMethodName()} \uC815\uB82C\uB418\uC5C8\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"})}autoSortInventory(){this.inventorySortBy="rarity",this.inventoryFilter="all",this.snackBar.open("\u2705 \uC778\uBCA4\uD1A0\uB9AC\uAC00 \uC790\uB3D9 \uC815\uB82C\uB418\uC5C8\uC2B5\uB2C8\uB2E4 (\uD76C\uADC0\uB3C4\uC21C)","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"})}getSortMethodName(){return{rarity:"\uD76C\uADC0\uB3C4\uC21C\uC73C\uB85C",type:"\uD0C0\uC785\uC21C\uC73C\uB85C",name:"\uC774\uB984\uC21C\uC73C\uB85C",recent:"\uCD5C\uADFC \uD68D\uB4DD\uC21C\uC73C\uB85C"}[this.inventorySortBy]||""}getTruncatedName(t){let e=t.nameKo||t.name,a=8;return e.length>a?e.slice(0,a)+"...":e}onInventoryCellClick(t,e,a){t.preventDefault(),t.stopPropagation(),this.selectedContextItem=e,this.selectedContextItemIndex=a;let c=t.currentTarget.getBoundingClientRect();this.contextMenuPosition={x:c.left+c.width/2,y:c.bottom+5},this.showItemContextMenu=!0,setTimeout(()=>{document.addEventListener("click",this.closeContextMenu.bind(this),{once:!0})},0)}onInventoryCellDoubleClick(t,e){if(t.type==="consumable")this.useItem(t);else if(!["material","quest","misc"].includes(t.type)){let a=this.inventory.findIndex(c=>c.id===t.id);a!==-1&&this.equipItem(a)}}calculateTotalWeight(){return this.inventory.reduce((t,e)=>{let a=e.weight||1;return t+a*e.quantity},0)}onInventoryDrop(t){let{previousIndex:e,currentIndex:a,item:c,previousContainer:s,container:m}=t;if(s===m){this.snackBar.open("\u2139\uFE0F \uC815\uB82C \uBAA8\uB4DC\uC5D0\uC11C\uB294 \uC218\uB3D9 \uC815\uB9AC\uAC00 \uBE44\uD65C\uC131\uD654\uB429\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}c&&c.item&&c.slot&&this.snackBar.open(`\u2705 ${c.item.name||c.item.baseType} \uD574\uC81C\uB428`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"})}onEquipmentSlotDrop(t,e){let a=t.item.data,c=t.previousContainer,s=t.container;if(c!==s&&a&&a.item){let m=a.item;if(a.slot){if(a.slot===e){this.snackBar.open("\u2139\uFE0F \uC774\uBBF8 \uAC19\uC740 \uC2AC\uB86F\uC5D0 \uC7A5\uCC29\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}this.unequipItem(a.slot),this.equipItemToSlot(m,e);return}this.equipItemToSlot(m,e)}}equipItemToSlot(t,e){if(!["weapon","armor","helmet","gloves","boots","amulet","belt","ring1","ring2"].includes(e)){this.snackBar.open("\u274C \uC798\uBABB\uB41C \uC7A5\uBE44 \uC2AC\uB86F\uC785\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}let c=t.type?.toLowerCase()||"";if(!({weapon:["weapon","sword","bow","staff","dagger","axe","mace","spear"],armor:["armor","chest","bodyarmor"],helmet:["helmet","helm","hat"],gloves:["gloves","gauntlets"],boots:["boots","shoes"],amulet:["amulet","necklace"],belt:["belt"],ring1:["ring"],ring2:["ring"]}[e]||[]).some(x=>c.includes(x))){this.snackBar.open(`\u274C ${t.nameKo||t.name}\uC740(\uB294) ${e} \uC2AC\uB86F\uC5D0 \uC7A5\uCC29\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"});return}this.playerCharacter.equipment[e]&&this.unequipItem(e),this.playerCharacter.equipment[e]=ne({},t);let h=this.inventory.findIndex(x=>x.id===t.id||x.name===t.name&&x.nameKo===t.nameKo);h!==-1&&this.inventory.splice(h,1),this.updatePlayerStats(),this.snackBar.open(`\u2705 ${t.nameKo||t.name} \uC7A5\uCC29 \uC644\uB8CC!`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.saveGame("equipment_change").catch(x=>{console.error("\uC7A5\uBE44 \uC800\uC7A5 \uC2E4\uD328:",x)})}getItemTypeColorClass(t){return{weapon:"item-type-weapon",armor:"item-type-armor",helmet:"item-type-armor",gloves:"item-type-armor",boots:"item-type-armor",belt:"item-type-armor",amulet:"item-type-accessory",ring:"item-type-accessory",accessory:"item-type-accessory",consumable:"item-type-consumable",material:"item-type-material"}[t]||"item-type-default"}getOriginalInventoryIndex(t){return this.playerCharacter?.inventory?this.playerCharacter.inventory.indexOf(t):-1}getTotalAttack(){if(!this.playerCharacter?.equipment)return 0;let t=0,e=this.playerCharacter.equipment.weapon;return e?.baseStats?.minDamage&&e?.baseStats?.maxDamage&&(t=(e.baseStats.minDamage+e.baseStats.maxDamage)/2,e.prefixes?.forEach(a=>{a.type==="damage"&&(t+=a.value)}),e.suffixes?.forEach(a=>{a.type==="damage"&&(t+=a.value)})),Math.round(t)}getTotalDefense(){if(!this.playerCharacter?.equipment)return 0;let t=0,e=this.playerCharacter.equipment;return[e.armor,e.helmet,e.gloves,e.boots,e.belt].forEach(a=>{a?.baseStats?.armor&&(t+=a.baseStats.armor,a.prefixes?.forEach(c=>{c.type==="defense"&&(t+=c.value)}),a.suffixes?.forEach(c=>{c.type==="defense"&&(t+=c.value)}))}),Math.round(t)}getSpecialEffectsCount(){if(!this.playerCharacter?.equipment)return 0;let t=0,e=this.playerCharacter.equipment;return[e.weapon,e.armor,e.helmet,e.gloves,e.boots,e.belt,e.amulet,e.ring1,e.ring2].forEach(a=>{a&&(t+=a.prefixes?.length||0,t+=a.suffixes?.length||0,t+=a.uniqueProperties?.length||0,Array.isArray(a.sockets)&&(t+=a.sockets.filter(c=>c.type!=="empty").length||0))}),t}getSlotName(t){return{weapon:"\uBB34\uAE30",armor:"\uAC11\uC637",helmet:"\uD22C\uAD6C",gloves:"\uC7A5\uAC11",boots:"\uC2E0\uBC1C",belt:"\uBCA8\uD2B8",amulet:"\uBAA9\uAC78\uC774",ring1:"\uBC18\uC9C0 1",ring2:"\uBC18\uC9C0 2"}[t]||t}getFullItemName(t){if(t.rarity==="unique"||t.rarity==="set"||t.rarity==="legendary")return t.name||t.baseType;let e="";return t.prefixes&&t.prefixes.length>0&&(e+=t.prefixes[0].name+" "),e+=t.baseType,t.suffixes&&t.suffixes.length>0&&(e+=" "+t.suffixes[0].name),e}generateRandomItems(){this.playerCharacter||(this.playerCharacter=this.createDefaultCharacter()),this.playerCharacter.inventory||(this.playerCharacter.inventory=[]);let t=Math.floor(Math.random()*6)+5;for(let e=0;e<t;e++){let a=this.createRandomItem();this.playerCharacter.inventory.push(a)}this.saveInventoryToLocalStorage(),this.gameStarted&&this.currentGameId&&this.saveGame("autosave"),this.snackBar.open(`\u2728 ${t}\uAC1C\uC758 \uC544\uC774\uD15C\uC774 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!`,"\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]})}resetGameData(){this.dialog.open(Z,{width:"400px",data:{title:"\u26A0\uFE0F \uAC8C\uC784 \uB370\uC774\uD130 \uCD08\uAE30\uD654",message:`\uBAA8\uB4E0 \uC800\uC7A5 \uB370\uC774\uD130\uAC00 \uC0AD\uC81C\uB429\uB2C8\uB2E4.

\u2022 \uC800\uC7A5\uB41C \uAC8C\uC784
\u2022 \uC778\uBCA4\uD1A0\uB9AC
\u2022 \uCE90\uB9AD\uD130 \uC815\uBCF4
\u2022 \uC2A4\uD1A0\uB9AC \uC9C4\uD589 \uC0C1\uD669

\uC815\uB9D0 \uCD08\uAE30\uD654\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,confirmText:"\uCD08\uAE30\uD654",cancelText:"\uCDE8\uC18C"}}).afterClosed().subscribe(e=>{e&&this.performResetGameData()})}debugInventory(){let t=`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`;t+=`\u{1F50D} \uC778\uBCA4\uD1A0\uB9AC \uB514\uBC84\uADF8 \uC815\uBCF4
`,t+=`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

`,t+=`\u{1F4E6} \uCD1D \uC544\uC774\uD15C \uC218: ${this.inventory.length}\uAC1C

`;let e=[],a=[];this.inventory.forEach((s,m)=>{let P={index:m+1,name:s.name,type:s.type,rarity:s.rarity,hasStats:!!s.stats,stats:s.stats};s.stats?e.push(P):a.push(P),s.stats}),e.length>0&&(t+=`\u2705 Stats \uC788\uB294 \uC544\uC774\uD15C (${e.length}\uAC1C):
`,t+=`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`,e.forEach(s=>{t+=`
[${s.index}] ${s.name}
`,t+=`   \uD0C0\uC785: ${s.type} | \uD76C\uADC0\uB3C4: ${s.rarity}
`,t+=`   Stats: \u2705 \uC788\uC74C
`;let m=s.stats,P=[];m.minDamage&&P.push(`\uB370\uBBF8\uC9C0 ${m.minDamage}-${m.maxDamage}`),m.attack&&P.push(`\uACF5\uACA9\uB825 +${m.attack}`),m.defense&&P.push(`\uBC29\uC5B4\uB825 +${m.defense}`),m.armor&&P.push(`\uBC29\uC5B4\uB3C4 +${m.armor}`),m.hp&&P.push(`\uC0DD\uBA85\uB825 +${m.hp}`),m.mp&&P.push(`\uB9C8\uB098 +${m.mp}`),m.critChance&&P.push(`\uD06C\uB9AC\uD2F0\uCEEC +${m.critChance}%`),m.lifeSteal&&P.push(`\uC0DD\uBA85\uD761\uC218 ${m.lifeSteal}%`),m.fireResist&&P.push(`\uD654\uC5FC\uC800\uD56D +${m.fireResist}%`),m.coldResist&&P.push(`\uB0C9\uAE30\uC800\uD56D +${m.coldResist}%`),m.lightningResist&&P.push(`\uBC88\uAC1C\uC800\uD56D +${m.lightningResist}%`),m.allResist&&P.push(`\uBAA8\uB4E0\uC800\uD56D +${m.allResist}%`),P.length>0&&(t+=`   \uC8FC\uC694 \uC18D\uC131: ${P.slice(0,5).join(", ")}
`,P.length>5&&(t+=`   + ${P.length-5}\uAC1C \uB354...
`))})),a.length>0&&(t+=`

\u274C Stats \uC5C6\uB294 \uC544\uC774\uD15C (${a.length}\uAC1C):
`,t+=`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`,a.forEach(s=>{t+=`[${s.index}] ${s.name} (${s.type}) - \u26A0\uFE0F Stats \uC5C6\uC74C!
`})),t+=`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`,t+=`\u{1F4CA} \uC694\uC57D:
`,t+=`   \uCD1D \uC544\uC774\uD15C: ${this.inventory.length}\uAC1C
`,t+=`   Stats \uC788\uC74C: ${e.length}\uAC1C \u2705
`,t+=`   Stats \uC5C6\uC74C: ${a.length}\uAC1C \u274C
`,a.length>0?(t+=`
\u26A0\uFE0F \uACBD\uACE0: ${a.length}\uAC1C \uC544\uC774\uD15C\uC5D0 \uB514\uC544\uBE14\uB85C \uC18D\uC131\uC774 \uC5C6\uC2B5\uB2C8\uB2E4!
`,t+=`
\uD574\uACB0 \uBC29\uBC95:
`,t+=`1. "\u{1F504} \uC778\uBCA4\uD1A0\uB9AC \uCD08\uAE30\uD654" \uBC84\uD2BC \uD074\uB9AD
`,t+=`2. "\u{1F5D1}\uFE0F \uAC8C\uC784 \uB370\uC774\uD130 \uCD08\uAE30\uD654" \uBC84\uD2BC \uD074\uB9AD
`):t+=`
\u2705 \uBAA8\uB4E0 \uC544\uC774\uD15C\uC5D0 \uB514\uC544\uBE14\uB85C \uC18D\uC131\uC774 \uC788\uC2B5\uB2C8\uB2E4!
`,t+="\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",this.dialog.open(Z,{width:"800px",maxHeight:"80vh",data:{title:"\u{1F50D} \uC778\uBCA4\uD1A0\uB9AC \uB514\uBC84\uADF8 \uC815\uBCF4",message:t,confirmText:a.length>0?"\uC778\uBCA4\uD1A0\uB9AC \uCD08\uAE30\uD654":"\uD655\uC778",cancelText:"\uB2EB\uAE30"}}).afterClosed().subscribe(s=>{s&&a.length>0&&this.resetInventory()})}performResetGameData(){try{["novel_game_autosave","novel_game_manual_save","novel_inventory","novel_character","novel_current_story"].forEach(e=>{localStorage.removeItem(e)}),this.gameStarted=!1,this.currentGameId="",this.playerCharacter=this.createDefaultCharacter(),this.inventory=this.playerCharacter.inventory?[...this.playerCharacter.inventory]:[],this.gold=0,this.snackBar.open(`\u2705 \uAC8C\uC784 \uB370\uC774\uD130\uAC00 \uC644\uC804\uD788 \uCD08\uAE30\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4

\uC774\uC81C \uC0C8 \uAC8C\uC784\uC744 \uC2DC\uC791\uD558\uBA74 \uB514\uC544\uBE14\uB85C \uC544\uC774\uD15C 10\uAC1C\uAC00 \uC790\uB3D9\uC73C\uB85C \uC0DD\uC131\uB429\uB2C8\uB2E4!`,"\uB2EB\uAE30",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}),this.inventory.length>0,setTimeout(()=>{this.backToNovelSelection()},1500)}catch{this.snackBar.open("\u26A0\uFE0F \uB370\uC774\uD130 \uCD08\uAE30\uD654\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}}resetInventory(){this.dialog.open(Z,{width:"400px",data:{title:"\u{1F392} \uC778\uBCA4\uD1A0\uB9AC \uCD08\uAE30\uD654",message:`\uD604\uC7AC \uC778\uBCA4\uD1A0\uB9AC\uC758 \uBAA8\uB4E0 \uC544\uC774\uD15C\uC774 \uC0AD\uC81C\uB418\uACE0
\uAE30\uBCF8 \uB514\uC544\uBE14\uB85C \uC2A4\uD0C0\uC77C \uC544\uC774\uD15C 10\uAC1C\uB85C \uCD08\uAE30\uD654\uB429\uB2C8\uB2E4.

\uC815\uB9D0 \uCD08\uAE30\uD654\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,confirmText:"\uCD08\uAE30\uD654",cancelText:"\uCDE8\uC18C"}}).afterClosed().subscribe(e=>{e&&this.performResetInventory()})}performResetInventory(){try{this.playerCharacter||(this.playerCharacter=this.createDefaultCharacter()),this.playerCharacter.inventory=this.createStartingInventory(),this.inventory=[...this.playerCharacter.inventory],this.saveInventoryToLocalStorage(),this.gameStarted&&this.currentGameId&&this.saveGame("autosave"),this.snackBar.open("\u2705 \uC778\uBCA4\uD1A0\uB9AC\uAC00 \uAE30\uBCF8 \uC544\uC774\uD15C\uC73C\uB85C \uCD08\uAE30\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]})}catch{this.snackBar.open("\u26A0\uFE0F \uC778\uBCA4\uD1A0\uB9AC \uCD08\uAE30\uD654\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}}createRandomItem(){let t=["weapon","armor","helmet","gloves","boots","belt","amulet","ring","consumable","material"],e=["common","common","common","uncommon","uncommon","rare","rare","epic","legendary"],a=t[Math.floor(Math.random()*t.length)],c=e[Math.floor(Math.random()*e.length)];return{id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:this.generateItemName(a,c),type:a,rarity:c,quantity:a==="consumable"||a==="material"?Math.floor(Math.random()*10)+1:1,buyPrice:this.calculateItemPrice(c),sellPrice:this.calculateItemPrice(c)/2,stats:this.generateItemStats(a,c)}}generateItemName(t,e){let a=["\uBD88\uD0C0\uB294","\uC5BC\uC5B4\uBD99\uC740","\uBC88\uAC1C\uC758","\uB3C5\uC131\uC758","\uC2E0\uC131\uD55C","\uC545\uB9C8\uC758","\uCC9C\uC0C1\uC758","\uC9C0\uC625\uC758","\uACE0\uB300\uC758","\uC804\uC124\uC801\uC778","\uC601\uC6D0\uD55C","\uBB34\uD55C\uC758","\uC6A9\uC758","\uBD88\uC0AC\uC870\uC758","\uD0C0\uC774\uD0C4\uC758","\uC2E0\uC758","\uC554\uD751\uC758","\uBE5B\uB098\uB294"],c=["\uC6A9\uB9F9\uD55C","\uBB34\uC801\uC758","\uD30C\uAD34\uC801\uC778","\uCD95\uBCF5\uBC1B\uC740","\uC800\uC8FC\uBC1B\uC740","\uAC15\uB825\uD55C","\uC704\uB300\uD55C","\uC601\uAD11\uC2A4\uB7EC\uC6B4","\uC794\uD639\uD55C","\uAD11\uD3ED\uD55C"],s=["\uBD88\uBA78\uC758","\uCD08\uC6D4\uC801\uC778","\uC808\uB300\uC801\uC778","\uAD81\uADF9\uC758","\uC9C0\uACE0\uC9C0\uC21C\uD55C","\uC644\uBCBD\uD55C","\uBB34\uD55C\uD55C","\uC601\uC6D0\uBD88\uBA78\uC758","\uC2E0\uD654\uC758","\uD0DC\uCD08\uC758"],m=["\uAC80","\uB300\uAC80","\uB3C4\uB07C","\uC804\uD22C\uB3C4\uB07C","\uD65C","\uC11D\uAD81","\uCC3D","\uBBF8\uB298\uCC3D","\uB2E8\uAC80","\uC30D\uAC80","\uB454\uAE30","\uC804\uC7C1\uB9DD\uCE58","\uC9C0\uD321\uC774","\uB9C8\uBC95\uBD09"],P=["\uAC11\uC637","\uC0AC\uC2AC \uAC11\uC637","\uD310\uAE08 \uAC11\uC637","\uAC00\uC8FD \uAC11\uC637","\uB85C\uBE0C","\uC804\uD22C\uBCF5","\uB4DC\uB798\uACE4 \uC2A4\uCF00\uC77C","\uBBF8\uC2A4\uB9B4 \uAC11\uC637"],h=["\uD22C\uAD6C","\uC655\uAD00","\uB450\uAC74","\uB9C8\uBC95 \uBAA8\uC790","\uC804\uD22C \uD22C\uAD6C","\uC6A9 \uD22C\uAD6C","\uC545\uB9C8\uC758 \uBFD4","\uCC9C\uC0AC\uC758 \uD6C4\uAD11"],x=["\uC7A5\uAC11","\uAC74\uD2C0\uB9BF","\uC190\uBAA9 \uBCF4\uD638\uB300","\uB9C8\uBC95 \uC7A5\uAC11","\uC6A9 \uBC1C\uD1B1 \uC7A5\uAC11","\uC554\uC0B4\uC790\uC758 \uC7A5\uAC11"],w=["\uC2E0\uBC1C","\uBD80\uCE20","\uACBD\uAC11\uD654","\uB9C8\uBC95 \uC2E0\uBC1C","\uC9C8\uC8FC\uC758 \uBD80\uCE20","\uADF8\uB9BC\uC790 \uC2E0\uBC1C","\uB0A0\uAC1C \uBD80\uCE20"],p=["\uBCA8\uD2B8","\uD5C8\uB9AC\uB760","\uB9C8\uBC95 \uBCA8\uD2B8","\uC0AC\uC2AC \uBCA8\uD2B8","\uC6A9\uC758 \uD5C8\uB9AC\uB760","\uC545\uB9C8\uC758 \uB760"],E=["\uBAA9\uAC78\uC774","\uBD80\uC801","\uD39C\uB358\uD2B8","\uC131\uC720\uBB3C","\uACE0\uB300\uC758 \uBD80\uC801","\uC6A9\uC758 \uB208","\uC545\uB9C8\uC758 \uC2EC\uC7A5","\uCC9C\uC0AC\uC758 \uB208\uBB3C"],B=["\uBC18\uC9C0","\uB9C8\uBC95 \uBC18\uC9C0","\uC778\uC7A5 \uBC18\uC9C0","\uB8EC \uBC18\uC9C0","\uC6A9\uC758 \uBC18\uC9C0","\uBD88\uC0AC\uC758 \uBC18\uC9C0","\uAD8C\uB2A5\uC758 \uBC18\uC9C0"],I=["\uCCB4\uB825 \uBB3C\uC57D","\uB9C8\uB098 \uBB3C\uC57D","\uBD80\uD65C \uBB3C\uC57D","\uD574\uB3C5\uC81C","\uAC15\uD654 \uBB3C\uC57D"],K=["\uCCA0\uAD11\uC11D","\uAC00\uC8FD","\uCC9C","\uB9C8\uBC95 \uAC00\uB8E8","\uB8EC\uC11D","\uBCF4\uC11D"],z="";switch(t){case"weapon":z=m[Math.floor(Math.random()*m.length)];break;case"armor":z=P[Math.floor(Math.random()*P.length)];break;case"helmet":z=h[Math.floor(Math.random()*h.length)];break;case"gloves":z=x[Math.floor(Math.random()*x.length)];break;case"boots":z=w[Math.floor(Math.random()*w.length)];break;case"belt":z=p[Math.floor(Math.random()*p.length)];break;case"amulet":z=E[Math.floor(Math.random()*E.length)];break;case"ring":z=B[Math.floor(Math.random()*B.length)];break;case"consumable":z=I[Math.floor(Math.random()*I.length)];break;case"material":z=K[Math.floor(Math.random()*K.length)];break}if(t==="consumable"||t==="material")return z;let re="";return e==="legendary"?re=s[Math.floor(Math.random()*s.length)]+" ":e==="epic"||e==="rare"?re=c[Math.floor(Math.random()*c.length)]+" ":e==="uncommon"&&(re=a[Math.floor(Math.random()*a.length)]+" "),re+z}generateItemStats(t,e){let c={common:1,uncommon:1.5,rare:2.5,epic:4,legendary:6}[e]||1,s={};Math.random()>.7&&(s.hp=Math.floor((Math.random()*50+20)*c)),Math.random()>.8&&(s.mp=Math.floor((Math.random()*30+10)*c));let m=e==="legendary"?.9:e==="epic"?.7:e==="rare"?.5:.3;if(Math.random()<m){let P=["fireResist","coldResist","lightningResist","poisonResist"],h=P[Math.floor(Math.random()*P.length)];s[h]=Math.floor((Math.random()*20+10)*c)}if((e==="legendary"||e==="epic")&&Math.random()>.7&&(s.allResist=Math.floor((Math.random()*10+5)*c)),t==="weapon"){let P=Math.floor((Math.random()*15+10)*c),h=Math.floor(P*(1.5+Math.random()*.5));s.attack=Math.floor((P+h)/2),s.minDamage=P,s.maxDamage=h,Math.random()>.6&&(s.attackSpeed=Math.floor((Math.random()*15+5)*(c/2))),e!=="common"&&Math.random()>.5&&(s.critChance=Math.floor((Math.random()*8+2)*(c/2))),(e==="epic"||e==="legendary")&&Math.random()>.6&&(s.critDamage=Math.floor((Math.random()*40+20)*(c/2))),(e==="rare"||e==="epic"||e==="legendary")&&Math.random()>.6&&(s.lifeSteal=Math.floor((Math.random()*5+2)*(c/3))),Math.random()>.7&&(s.lifePerHit=Math.floor((Math.random()*10+5)*c)),Math.random()>.8&&(s.manaPerHit=Math.floor((Math.random()*5+2)*c))}else t==="armor"||t==="helmet"||t==="gloves"||t==="boots"||t==="belt"?(s.defense=Math.floor((Math.random()*20+10)*c),s.armor=Math.floor((Math.random()*30+15)*c),(t==="armor"||t==="gloves")&&Math.random()>.7&&(s.blockChance=Math.floor((Math.random()*10+5)*(c/2))),Math.random()>.75&&(s.evasion=Math.floor((Math.random()*8+3)*(c/2))),Math.random()>.6&&(s.lifeRegen=Math.floor((Math.random()*5+2)*c)),Math.random()>.7&&(s.manaRegen=Math.floor((Math.random()*3+1)*c))):(t==="amulet"||t==="ring")&&(s.attack=Math.floor((Math.random()*15+5)*c),s.defense=Math.floor((Math.random()*15+5)*c),Math.random()>.5&&(s.critChance=Math.floor((Math.random()*10+3)*(c/2))),Math.random()>.6&&(s.lifeSteal=Math.floor((Math.random()*4+1)*(c/3))),Math.random()>.7&&(s.manaSteal=Math.floor((Math.random()*3+1)*(c/3))),(e==="legendary"||e==="epic")&&(Math.random()>.5&&(s.magicFind=Math.floor((Math.random()*20+10)*c)),Math.random()>.6&&(s.goldFind=Math.floor((Math.random()*30+15)*c))),(e==="rare"||e==="epic"||e==="legendary")&&Math.random()>.7&&(s.expBonus=Math.floor((Math.random()*15+5)*(c/2))));return t==="boots"?Math.random()>.4&&(s.movementSpeed=Math.floor((Math.random()*15+5)*(c/2))):Math.random()>.9&&(s.movementSpeed=Math.floor((Math.random()*8+2)*(c/3))),Object.keys(s).length>0?s:void 0}showItemDetails(t){let e=`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`;e+=`\u{1F4DC} ${t.name}
`,e+=`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

`,e+=`\u{1F3F7}\uFE0F \uD76C\uADC0\uB3C4: ${this.getRarityText(t.rarity)}
`,e+=`\u{1F4E6} \uD0C0\uC785: ${this.getItemTypeText(t.type)}
`;let a=this.getEquipmentSlotName(t.type);a&&(e+=`\u{1F3AF} \uC7A5\uCC29 \uC2AC\uB86F: ${a}
`),t.stats&&(e+=`
\u2501\u2501\u2501 \u26A1 \uB2A5\uB825\uCE58 \u2501\u2501\u2501
`,t.stats.minDamage&&t.stats.maxDamage?e+=`\u2694\uFE0F \uB370\uBBF8\uC9C0: ${t.stats.minDamage}-${t.stats.maxDamage}
`:t.stats.attack&&(e+=`\u2694\uFE0F \uACF5\uACA9\uB825: +${t.stats.attack}
`),t.stats.attackSpeed&&(e+=`\u26A1 \uACF5\uACA9 \uC18D\uB3C4: +${t.stats.attackSpeed}%
`),t.stats.armor&&(e+=`\u{1F6E1}\uFE0F \uBC29\uC5B4\uB3C4: +${t.stats.armor}
`),t.stats.defense&&(e+=`\u{1F6E1}\uFE0F \uBC29\uC5B4\uB825: +${t.stats.defense}
`),t.stats.blockChance&&(e+=`\u{1F6E1}\uFE0F \uBC29\uC5B4 \uD655\uB960: +${t.stats.blockChance}%
`),t.stats.evasion&&(e+=`\u{1F4A8} \uD68C\uD53C\uC728: +${t.stats.evasion}%
`),t.stats.hp&&(e+=`\u2764\uFE0F \uC0DD\uBA85\uB825: +${t.stats.hp}
`),t.stats.mp&&(e+=`\u{1F499} \uB9C8\uB098: +${t.stats.mp}
`),t.stats.critChance&&(e+=`\u{1F4A5} \uD06C\uB9AC\uD2F0\uCEEC \uD655\uB960: +${t.stats.critChance}%
`),t.stats.critDamage&&(e+=`\u{1F4A2} \uD06C\uB9AC\uD2F0\uCEEC \uB370\uBBF8\uC9C0: +${t.stats.critDamage}%
`),t.stats.lifeSteal&&(e+=`\u{1FA78} \uC0DD\uBA85\uB825 \uD761\uC218: ${t.stats.lifeSteal}%
`),t.stats.lifePerHit&&(e+=`\u2764\uFE0F\u200D\u{1FA79} \uD0C0\uACA9\uB2F9 \uC0DD\uBA85\uB825 \uD68C\uBCF5: +${t.stats.lifePerHit}
`),t.stats.lifeRegen&&(e+=`\u{1F49A} \uCD08\uB2F9 \uC0DD\uBA85\uB825 \uC7AC\uC0DD: +${t.stats.lifeRegen}
`),t.stats.manaSteal&&(e+=`\u{1F4A7} \uB9C8\uB098 \uD761\uC218: ${t.stats.manaSteal}%
`),t.stats.manaPerHit&&(e+=`\u{1F499} \uD0C0\uACA9\uB2F9 \uB9C8\uB098 \uD68C\uBCF5: +${t.stats.manaPerHit}
`),t.stats.manaRegen&&(e+=`\u{1F535} \uCD08\uB2F9 \uB9C8\uB098 \uC7AC\uC0DD: +${t.stats.manaRegen}
`),(t.stats.fireResist||t.stats.coldResist||t.stats.lightningResist||t.stats.poisonResist||t.stats.allResist)&&(e+=`
\u2501\u2501\u2501 \u{1F6E1}\uFE0F \uC800\uD56D \u2501\u2501\u2501
`,t.stats.fireResist&&(e+=`\u{1F525} \uD654\uC5FC \uC800\uD56D: +${t.stats.fireResist}%
`),t.stats.coldResist&&(e+=`\u2744\uFE0F \uB0C9\uAE30 \uC800\uD56D: +${t.stats.coldResist}%
`),t.stats.lightningResist&&(e+=`\u26A1 \uBC88\uAC1C \uC800\uD56D: +${t.stats.lightningResist}%
`),t.stats.poisonResist&&(e+=`\u2620\uFE0F \uB3C5 \uC800\uD56D: +${t.stats.poisonResist}%
`),t.stats.allResist&&(e+=`\u2728 \uBAA8\uB4E0 \uC800\uD56D: +${t.stats.allResist}%
`)),(t.stats.magicFind||t.stats.goldFind||t.stats.expBonus||t.stats.movementSpeed)&&(e+=`
\u2501\u2501\u2501 \u2728 \uD2B9\uC218 \uD6A8\uACFC \u2501\u2501\u2501
`,t.stats.magicFind&&(e+=`\u{1F3B2} \uB9C8\uBC95 \uC544\uC774\uD15C \uBC1C\uACAC: +${t.stats.magicFind}%
`),t.stats.goldFind&&(e+=`\u{1F4B0} \uACE8\uB4DC \uD68D\uB4DD\uB7C9: +${t.stats.goldFind}%
`),t.stats.expBonus&&(e+=`\u2B50 \uACBD\uD5D8\uCE58 \uBCF4\uB108\uC2A4: +${t.stats.expBonus}%
`),t.stats.movementSpeed&&(e+=`\u{1F3C3} \uC774\uB3D9 \uC18D\uB3C4: +${t.stats.movementSpeed}%
`))),t.quantity&&t.quantity>1&&(e+=`
\u{1F4CA} \uC218\uB7C9: ${t.quantity}\uAC1C
`),(t.buyPrice||t.sellPrice)&&(e+=`
\u2501\u2501\u2501 \uFFFD \uAC00\uACA9 \u2501\u2501\u2501
`,t.buyPrice&&(e+=`\uFFFD\u{1F4B0} \uAD6C\uB9E4: ${t.buyPrice.toLocaleString()}G
`),t.sellPrice&&(e+=`\u{1F4B5} \uD310\uB9E4: ${t.sellPrice.toLocaleString()}G
`)),e+=`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`,this.snackBar.open(e,"\uB2EB\uAE30",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["item-details-snackbar",`rarity-${t.rarity}`]})}equipItem(t){if(!this.playerCharacter?.inventory||!this.playerCharacter.equipment)return;let e=this.playerCharacter.inventory[t];if(e.type==="consumable"||e.type==="material"||e.type==="quest"||e.type==="misc"){this.snackBar.open("\u26A0\uFE0F \uC774 \uC544\uC774\uD15C\uC740 \uC7A5\uCC29\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}let a=null;switch(e.type){case"weapon":a="weapon";break;case"armor":a="armor";break;case"helmet":a="helmet";break;case"gloves":a="gloves";break;case"boots":a="boots";break;case"belt":a="belt";break;case"amulet":case"accessory":a="amulet";break;case"ring":this.playerCharacter.equipment.ring1?this.playerCharacter.equipment.ring2?a="ring1":a="ring2":a="ring1";break;default:this.snackBar.open("\u26A0\uFE0F \uC54C \uC218 \uC5C6\uB294 \uC544\uC774\uD15C \uD0C0\uC785\uC785\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}if(!a)return;let c=this.playerCharacter.equipment[a];if(c){let P="common";switch(c.rarity){case"legendary":P="legendary";break;case"epic":P="epic";break;case"rare":P="rare";break;case"uncommon":P="uncommon";break;case"magic":P="uncommon";break;case"unique":P="epic";break;case"set":P="rare";break;case"normal":case"common":default:P="common";break}let h={id:`item_${Date.now()}_${Math.random()}`,name:c.baseType,type:e.type,rarity:P,quantity:1,stats:{attack:c.baseStats.attack||c.baseStats.minDamage||0,defense:c.baseStats.defense||c.baseStats.armor||0,hp:c.baseStats.hp||0,mp:c.baseStats.mp||0}};this.playerCharacter.inventory.push(h),this.snackBar.open(`\u26A0\uFE0F ${c.baseType}\uC744(\uB97C) \uC778\uBCA4\uD1A0\uB9AC\uB85C \uB418\uB3CC\uB838\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"})}let s="normal";switch(e.rarity){case"legendary":s="legendary";break;case"epic":s="unique";break;case"rare":s="rare";break;case"uncommon":s="magic";break;case"common":default:s="normal";break}let m={baseType:e.name,itemLevel:1,rarity:s,baseStats:{attack:e.stats?.attack||0,defense:e.stats?.defense||0,hp:e.stats?.hp||0,mp:e.stats?.mp||0,minDamage:e.stats?.attack||0,maxDamage:(e.stats?.attack||0)*1.5,armor:e.stats?.defense||0},prefixes:[],suffixes:[],sockets:[],maxSockets:0,durability:{current:100,max:100}};this.playerCharacter.equipment[a]=m,this.playerCharacter.inventory.splice(t,1),this.updatePlayerStats(),this.saveGame("autosave"),this.saveInventoryToLocalStorage(),this.snackBar.open(`\u2705 ${e.name}\uC744(\uB97C) \uC7A5\uCC29\uD588\uC2B5\uB2C8\uB2E4!`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"})}unequipItem(t){if(console.log("\u{1F527} [UNEQUIP BUTTON CLICKED]",t),this.debugLogger.info("UNEQUIP",`\u{1F527} unequipItem \uD638\uCD9C\uB428 - slotKey: ${t}`),!this.playerCharacter?.equipment||!this.playerCharacter.inventory){console.error("\u274C [UNEQUIP] No playerCharacter or equipment/inventory"),this.debugLogger.error("UNEQUIP",`\u274C playerCharacter \uB610\uB294 equipment/inventory \uC5C6\uC74C - hasPC: ${!!this.playerCharacter}, hasEquip: ${!!this.playerCharacter?.equipment}, hasInv: ${!!this.playerCharacter?.inventory}`);return}let e=this.playerCharacter.equipment[t];if(console.log("\u{1F50D} [UNEQUIP] Equipment in slot:",t,e),console.log("\u{1F50D} [UNEQUIP] Equipment type:",typeof e,"value:",JSON.stringify(e)),this.debugLogger.info("UNEQUIP",`\u{1F50D} \uC2AC\uB86F \uC7A5\uBE44 \uD655\uC778 - slotKey: ${t}, equipment: ${e?e.baseType:"undefined"}, typeof: ${typeof e}`),!e||e===void 0||e===null){console.warn("\u26A0\uFE0F [UNEQUIP] No equipment in slot:",t),this.debugLogger.warn("UNEQUIP",`\u26A0\uFE0F \uC2AC\uB86F\uC5D0 \uC7A5\uBE44 \uC5C6\uC74C - slotKey: ${t}`),this.snackBar.open("\u26A0\uFE0F \uD574\uB2F9 \uC2AC\uB86F\uC5D0 \uC7A5\uBE44\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}if(!e.baseType&&e.name){console.warn("\u26A0\uFE0F [UNEQUIP] InventoryItem\uC774 \uC7A5\uBE44 \uC2AC\uB86F\uC5D0 \uC788\uC74C. \uBC14\uB85C \uC778\uBCA4\uD1A0\uB9AC\uB85C \uC774\uB3D9:",e),this.debugLogger.warn("UNEQUIP","\u26A0\uFE0F InventoryItem\uC774 \uC7A5\uBE44 \uC2AC\uB86F\uC5D0 \uC788\uC74C - \uBC14\uB85C \uCC98\uB9AC");let a=e;this.playerCharacter.inventory.push({id:a.id||`item_${Date.now()}_${Math.random()}`,name:a.name,type:a.type||"weapon",rarity:a.rarity||"common",quantity:1,stats:a.stats||{}}),this.playerCharacter.equipment[t]=void 0,this.updatePlayerStats(),this.saveGame("autosave"),this.saveInventoryToLocalStorage(),this.snackBar.open(`\u2705 ${a.name}\uC744(\uB97C) \uD574\uC81C\uD588\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.debugLogger.info("UNEQUIP",`\u2705 InventoryItem \uD574\uC81C \uC644\uB8CC - ${a.name}`);return}if(!e.baseType){console.error("\u274C [UNEQUIP] Equipment has no baseType:",e),this.debugLogger.error("UNEQUIP",`\u274C \uC7A5\uBE44\uC5D0 baseType \uC5C6\uC74C - equipment: ${JSON.stringify(e)}`),this.snackBar.open("\u26A0\uFE0F \uC798\uBABB\uB41C \uC7A5\uBE44 \uB370\uC774\uD130\uC785\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}console.log("\u2705 [UNEQUIP] Calling performUnequipItem:",t,e.baseType),this.debugLogger.info("UNEQUIP",`\u2705 performUnequipItem \uD638\uCD9C \uC2DC\uC791 - slotKey: ${t}, equipmentName: ${e.baseType}`),this.performUnequipItem(t,e)}performUnequipItem(t,e){if(this.debugLogger.info("UNEQUIP",`\u{1F504} performUnequipItem \uC2DC\uC791 - slotKey: ${t}, equipment: ${e.baseType}`),!this.playerCharacter?.equipment||!this.playerCharacter.inventory){this.debugLogger.error("UNEQUIP","\u274C performUnequipItem\uC5D0\uC11C playerCharacter \uCCB4\uD06C \uC2E4\uD328");return}let a="weapon";switch(t){case"weapon":a="weapon";break;case"armor":a="armor";break;case"helmet":a="helmet";break;case"gloves":a="gloves";break;case"boots":a="boots";break;case"belt":a="belt";break;case"amulet":a="amulet";break;case"ring1":case"ring2":a="ring";break}this.debugLogger.info("UNEQUIP",`\u{1F4E6} \uC544\uC774\uD15C \uD0C0\uC785 \uBCC0\uD658 - slotKey: ${t} \u2192 itemType: ${a}`);let c="common";e.rarity==="legendary"?c="legendary":e.rarity==="epic"?c="epic":e.rarity==="rare"?c="rare":e.rarity==="uncommon"||e.rarity==="magic"?c="uncommon":e.rarity==="unique"?c="epic":e.rarity==="set"&&(c="rare"),this.debugLogger.info("UNEQUIP",`\u2728 \uD76C\uADC0\uB3C4 \uBCC0\uD658 - ${e.rarity} \u2192 ${c}`);let s={id:`item_${Date.now()}_${Math.random()}`,name:e.baseType,type:a,rarity:c,quantity:1,stats:{attack:e.baseStats.attack,defense:e.baseStats.defense||e.baseStats.armor,hp:e.baseStats.hp,mp:e.baseStats.mp}};this.debugLogger.info("UNEQUIP",`\u{1F392} \uC778\uBCA4\uD1A0\uB9AC\uC5D0 \uCD94\uAC00 \uC900\uBE44 - itemId: ${s.id}, name: ${s.name}`),this.playerCharacter.inventory.push(s),this.debugLogger.info("UNEQUIP",`\u2705 \uC778\uBCA4\uD1A0\uB9AC\uC5D0 \uCD94\uAC00 \uC644\uB8CC - \uD604\uC7AC \uC778\uBCA4\uD1A0\uB9AC \uAC1C\uC218: ${this.playerCharacter.inventory.length}`),this.playerCharacter.equipment[t]=void 0,this.debugLogger.info("UNEQUIP",`\u{1F5D1}\uFE0F \uC7A5\uBE44 \uC2AC\uB86F\uC5D0\uC11C \uC81C\uAC70 \uC644\uB8CC - slotKey: ${t}`),this.updatePlayerStats(),this.debugLogger.info("UNEQUIP","\u{1F4CA} \uB2A5\uB825\uCE58 \uC7AC\uACC4\uC0B0 \uC644\uB8CC"),this.saveGame("autosave"),this.debugLogger.info("UNEQUIP","\u{1F4BE} \uAC8C\uC784 \uC800\uC7A5 \uC644\uB8CC"),this.saveInventoryToLocalStorage(),this.debugLogger.info("UNEQUIP","\u{1F4BF} \uB85C\uCEEC \uC2A4\uD1A0\uB9AC\uC9C0 \uC800\uC7A5 \uC644\uB8CC"),this.snackBar.open(`\u2705 ${e.baseType}\uC744(\uB97C) \uD574\uC81C\uD588\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.debugLogger.info("UNEQUIP",`\u{1F389} \uC7A5\uBE44 \uD574\uC81C \uC644\uB8CC - ${e.baseType}`)}updatePlayerStats(){if(!this.playerCharacter?.equipment)return;let t=10,e=5,a=100,c=50,s=t,m=e,P=a,h=c,x=this.playerCharacter.equipment;["weapon","armor","helmet","gloves","boots","belt","amulet","ring1","ring2"].forEach(p=>{let E=x[p];E?.baseStats&&(s+=E.baseStats.attack||0,m+=E.baseStats.defense||0,P+=E.baseStats.hp||0,h+=E.baseStats.mp||0)}),this.playerCharacter.attack=s,this.playerCharacter.defense=m,this.playerCharacter.maxHp=P,this.playerCharacter.maxMp=h,this.playerCharacter.hp>this.playerCharacter.maxHp&&(this.playerCharacter.hp=this.playerCharacter.maxHp),this.playerCharacter.mp>this.playerCharacter.maxMp&&(this.playerCharacter.mp=this.playerCharacter.maxMp)}selectedContextItem=null;selectedContextItemIndex=-1;showItemContextMenu=!1;contextMenuPosition={x:0,y:0};showItemInfo=!1;itemInfoPosition={x:300,y:150};isDraggingModal=!1;modalDragOffset={x:0,y:0};selectInventoryItem(t,e){this.selectedContextItem=t,this.selectedContextItemIndex=e}onContextMenuAction(t){if(!(!this.selectedContextItem||this.selectedContextItemIndex===-1))switch(t){case"equip":this.equipItem(this.selectedContextItemIndex);break;case"info":this.showItemDetails(this.selectedContextItem);break;case"compare":this.compareItemWithEquipped(this.selectedContextItem);break}}compareItemWithEquipped(t){if(!this.playerCharacter?.equipment)return;if(t.type==="consumable"||t.type==="material"||t.type==="quest"||t.type==="misc"){this.snackBar.open("\u26A0\uFE0F \uC774 \uC544\uC774\uD15C\uC740 \uC7A5\uBE44\uAC00 \uC544\uB2D9\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"});return}let e=null;switch(t.type){case"weapon":e="weapon";break;case"armor":e="armor";break;case"helmet":e="helmet";break;case"gloves":e="gloves";break;case"boots":e="boots";break;case"belt":e="belt";break;case"amulet":case"accessory":e="amulet";break;case"ring":e=this.playerCharacter.equipment.ring1?"ring1":"ring2";break}if(!e)return;let a=this.playerCharacter.equipment[e],c=t.stats?.attack||0,s=t.stats?.defense||0,m=t.stats?.hp||0,P=t.stats?.mp||0,h=0,x=0,w=0,p=0,E="(\uC5C6\uC74C)";a&&(h=a.baseStats?.attack||a.baseStats?.minDamage||0,x=a.baseStats?.defense||a.baseStats?.armor||0,w=a.baseStats?.hp||0,p=a.baseStats?.mp||0,E=a.baseType);let B=c-h,I=s-x,K=m-w,z=P-p,re={newItem:{name:t.name,rarity:t.rarity,attack:c,defense:s,hp:m,mp:P,type:t.type},equippedItem:a?{name:E,rarity:a.rarity,attack:h,defense:x,hp:w,mp:p,type:t.type}:null,differences:{attack:B,defense:I,hp:K,mp:z}},Ce=B+I+K/10+z/10,ae="";a?Ce>5?ae="\u2728 \uC0C8 \uC7A5\uBE44\uAC00 \uD6E8\uC52C \uC88B\uC2B5\uB2C8\uB2E4! \uAD50\uCCB4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":Ce>0?ae="\u{1F44D} \uC0C8 \uC7A5\uBE44\uAC00 \uB354 \uC88B\uC2B5\uB2C8\uB2E4. \uAD50\uCCB4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":Ce===0?ae="\u{1F91D} \uB2A5\uB825\uCE58\uAC00 \uB3D9\uC77C\uD569\uB2C8\uB2E4. \uAD50\uCCB4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":Ce>-5?ae="\u{1F44E} \uD604\uC7AC \uC7A5\uBE44\uAC00 \uB354 \uC88B\uC2B5\uB2C8\uB2E4. \uAD50\uCCB4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":ae="\u26A0\uFE0F \uD604\uC7AC \uC7A5\uBE44\uAC00 \uD6E8\uC52C \uC88B\uC2B5\uB2C8\uB2E4! \uAD50\uCCB4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":ae="\uC0C8 \uC7A5\uBE44\uB97C \uC7A5\uCC29\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?";let te=X=>X>0?`+${X}`:`${X}`,fe=X=>X>0?`<span style="color: #10b981; font-weight: 700;">+${X} \u2B06</span>`:X<0?`<span style="color: #ef4444; font-weight: 700;">${X} \u2B07</span>`:'<span style="color: #94a3b8;">0 \u27A1</span>',Xt=`
      <div style="display: flex; gap: 20px; margin: 20px 0; font-family: 'Noto Sans KR', sans-serif;">
        <!-- \uC0C8 \uC544\uC774\uD15C -->
        <div style="flex: 1; padding: 16px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(99, 102, 241, 0.1)); border: 2px solid #3b82f6; border-radius: 12px;">
          <div style="font-weight: 700; font-size: 16px; color: #3b82f6; margin-bottom: 12px; text-align: center;">
            \u{1F4E6} \uC0C8 \uC544\uC774\uD15C
          </div>
          <div style="font-weight: 600; font-size: 14px; margin-bottom: 8px; text-align: center; color: var(--text-primary);">
            ${t.name}
          </div>
          <div style="font-size: 13px; line-height: 1.8; color: var(--text-secondary);">
            <div>\u2694\uFE0F \uACF5\uACA9\uB825: <strong style="color: var(--text-primary);">${te(c)}</strong></div>
            <div>\u{1F6E1}\uFE0F \uBC29\uC5B4\uB825: <strong style="color: var(--text-primary);">${te(s)}</strong></div>
            <div>\u2764\uFE0F HP: <strong style="color: var(--text-primary);">${te(m)}</strong></div>
            <div>\u{1F499} MP: <strong style="color: var(--text-primary);">${te(P)}</strong></div>
          </div>
        </div>
        
        <!-- \uCC28\uC774 -->
        <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 16px; min-width: 100px;">
          <div style="font-weight: 700; font-size: 14px; color: var(--text-secondary); margin-bottom: 12px;">\uCC28\uC774</div>
          <div style="font-size: 13px; line-height: 1.8;">
            <div>${fe(B)}</div>
            <div>${fe(I)}</div>
            <div>${fe(K)}</div>
            <div>${fe(z)}</div>
          </div>
        </div>
        
        <!-- \uD604\uC7AC \uC7A5\uBE44 -->
        <div style="flex: 1; padding: 16px; background: linear-gradient(135deg, rgba(148, 163, 184, 0.1), rgba(100, 116, 139, 0.1)); border: 2px solid #64748b; border-radius: 12px;">
          <div style="font-weight: 700; font-size: 16px; color: #64748b; margin-bottom: 12px; text-align: center;">
            \u{1F392} \uD604\uC7AC \uC7A5\uBE44
          </div>
          <div style="font-weight: 600; font-size: 14px; margin-bottom: 8px; text-align: center; color: var(--text-primary);">
            ${E}
          </div>
          <div style="font-size: 13px; line-height: 1.8; color: var(--text-secondary);">
            <div>\u2694\uFE0F \uACF5\uACA9\uB825: <strong style="color: var(--text-primary);">${te(h)}</strong></div>
            <div>\u{1F6E1}\uFE0F \uBC29\uC5B4\uB825: <strong style="color: var(--text-primary);">${te(x)}</strong></div>
            <div>\u2764\uFE0F HP: <strong style="color: var(--text-primary);">${te(w)}</strong></div>
            <div>\u{1F499} MP: <strong style="color: var(--text-primary);">${te(p)}</strong></div>
          </div>
        </div>
      </div>
    `;this.dialog.open(Z,{width:"700px",data:{title:"\u2696\uFE0F \uC7A5\uBE44 \uBE44\uAD50",message:Xt,confirmText:"\uC7A5\uCC29\uD558\uAE30",cancelText:"\uCDE8\uC18C",verdict:ae}}).afterClosed().subscribe(X=>{X&&this.equipItem(this.selectedContextItemIndex)})}deleteInventoryItem(t){if(!this.playerCharacter?.inventory)return;let e=this.playerCharacter.inventory[t];this.dialog.open(Z,{width:"400px",data:{title:"\uC544\uC774\uD15C \uC0AD\uC81C",message:`"${e.name}"\uC744(\uB97C) \uC815\uB9D0 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,confirmText:"\uC0AD\uC81C",cancelText:"\uCDE8\uC18C"}}).afterClosed().subscribe(c=>{c&&this.playerCharacter?.inventory&&(this.playerCharacter.inventory.splice(t,1),this.saveInventoryToLocalStorage(),this.gameStarted&&this.currentGameId&&this.saveGame("autosave"),this.snackBar.open(`\u{1F5D1}\uFE0F ${e.name}\uC774(\uAC00) \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"}))})}saveInventoryToLocalStorage(){if(this.playerCharacter?.inventory)try{localStorage.setItem("novel_inventory",JSON.stringify(this.playerCharacter.inventory))}catch{}}loadInventoryFromLocalStorage(){try{let t=localStorage.getItem("novel_inventory");if(t)return JSON.parse(t)}catch{}return null}loadSavedInventory(){let t=this.loadInventoryFromLocalStorage();t&&t.length>0&&(this.playerCharacter||(this.playerCharacter=this.createDefaultCharacter()),this.playerCharacter.inventory=t)}createDefaultCharacter(){return{name:"\uBAA8\uD5D8\uAC00",level:1,exp:0,maxExp:100,hp:100,maxHp:100,mp:50,maxMp:50,attack:10,defense:10,agility:10,strength:10,intelligence:10,gold:1e4,gem:500,crystal:200,ticket:50,skillPoints:0,skills:[],inventory:this.createStartingInventory(),equipment:{weapon:void 0,armor:void 0,helmet:void 0,gloves:void 0,boots:void 0,belt:void 0,amulet:void 0,ring1:void 0,ring2:void 0}}}createStartingInventory(){return[{id:"start_weapon_1",name:"\uBD88\uBA78\uC758 \uC804\uC7C1\uB9DD\uCE58",type:"weapon",rarity:"legendary",quantity:1,buyPrice:15e3,sellPrice:7500,stats:{minDamage:85,maxDamage:127,attack:106,attackSpeed:18,critChance:12,critDamage:85,lifeSteal:6,lifePerHit:45,fireResist:23,lightningResist:18,allResist:8,goldFind:45,expBonus:20}},{id:"start_armor_1",name:"\uC6A9\uB9F9\uD55C \uB4DC\uB798\uACE4 \uC2A4\uCF00\uC77C",type:"armor",rarity:"epic",quantity:1,buyPrice:8e3,sellPrice:4e3,stats:{defense:80,armor:120,hp:200,blockChance:15,lifeRegen:8,fireResist:35,coldResist:25,allResist:10}},{id:"start_helmet_1",name:"\uAC15\uB825\uD55C \uC804\uD22C \uD22C\uAD6C",type:"helmet",rarity:"rare",quantity:1,buyPrice:3500,sellPrice:1750,stats:{defense:50,armor:75,hp:120,mp:50,evasion:8,poisonResist:20,lightningResist:15}},{id:"start_gloves_1",name:"\uCD95\uBCF5\uBC1B\uC740 \uAC74\uD2C0\uB9BF",type:"gloves",rarity:"rare",quantity:1,buyPrice:3e3,sellPrice:1500,stats:{defense:40,armor:60,attackSpeed:12,critChance:8,lifePerHit:25,coldResist:18}},{id:"start_boots_1",name:"\uBC88\uAC1C\uC758 \uC9C8\uC8FC\uC758 \uBD80\uCE20",type:"boots",rarity:"uncommon",quantity:1,buyPrice:1500,sellPrice:750,stats:{defense:30,armor:45,movementSpeed:25,evasion:12,lightningResist:22}},{id:"start_amulet_1",name:"\uCC9C\uC0C1\uC758 \uCC9C\uC0AC\uC758 \uB208\uBB3C",type:"amulet",rarity:"epic",quantity:1,buyPrice:1e4,sellPrice:5e3,stats:{attack:60,defense:60,hp:180,mp:80,critChance:15,lifeSteal:4,manaSteal:3,magicFind:35,goldFind:50,expBonus:25,allResist:12}},{id:"start_ring_1",name:"\uD30C\uAD34\uC801\uC778 \uC6A9\uC758 \uBC18\uC9C0",type:"ring",rarity:"rare",quantity:1,buyPrice:4e3,sellPrice:2e3,stats:{attack:45,defense:35,critChance:10,critDamage:35,fireResist:25,hp:80}},{id:"start_ring_2",name:"\uBB34\uC801\uC758 \uAD8C\uB2A5\uC758 \uBC18\uC9C0",type:"ring",rarity:"rare",quantity:1,buyPrice:4e3,sellPrice:2e3,stats:{attack:40,defense:50,hp:100,lifeRegen:5,manaRegen:3,coldResist:20,poisonResist:18}},{id:"start_potion_1",name:"\uCCB4\uB825 \uBB3C\uC57D",type:"consumable",rarity:"common",quantity:10,buyPrice:50,sellPrice:25},{id:"start_potion_2",name:"\uB9C8\uB098 \uBB3C\uC57D",type:"consumable",rarity:"common",quantity:10,buyPrice:50,sellPrice:25}]}initializeDungeonSystem(){this.dungeonTypes=[{id:"catacombs",name:"Catacombs",koreanName:"\uBC84\uB824\uC9C4 \uC9C0\uD558\uBB18\uC9C0",theme:"undead",icon:"\u26B0\uFE0F",description:"\uC5B8\uB370\uB4DC\uAC00 \uBC30\uD68C\uD558\uB294 \uC624\uB798\uB41C \uBB34\uB364",backgroundColor:"#1a1a2e",minLevel:1,recommendedLevel:3,baseFloors:4,monsterTypes:["zombie","skeleton","ghost"],bossType:"lich",baseGoldReward:200,baseExpReward:150,uniqueItems:["bone_wand","death_amulet"],storyDescription:"\uC232 \uC18D\uC5D0\uC11C \uBC1C\uACAC\uD55C \uC5B4\uB450\uC6B4 \uB3D9\uAD74 \uC785\uAD6C. \uC5B8\uB370\uB4DC\uC758 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C4\uB2E4."},{id:"demon_cave",name:"Demon Cave",koreanName:"\uB9C8\uC871\uC758 \uB3D9\uAD74",theme:"demon",icon:"\u{1F479}",description:"\uB9C8\uC871\uC774 \uC228\uC5B4\uC788\uB2E4\uB294 \uC18C\uBB38\uC758 \uB3D9\uAD74",backgroundColor:"#8B0000",minLevel:10,recommendedLevel:15,baseFloors:6,monsterTypes:["imp","hellhound","demon_warrior"],bossType:"demon_lord",baseGoldReward:500,baseExpReward:400,uniqueItems:["demonic_blade","hellfire_ring"],storyDescription:"\uC0B0 \uC18D \uAE4A\uC740 \uACF3\uC5D0\uC11C \uBC1C\uACAC\uD55C \uBD89\uAC8C \uBE5B\uB098\uB294 \uB3D9\uAD74. \uC720\uD669 \uB0C4\uC0C8\uAC00 \uC9C4\uB3D9\uD55C\uB2E4."},{id:"ancient_ruins",name:"Ancient Ruins",koreanName:"\uACE0\uB300 \uC720\uC801",theme:"ancient",icon:"\u{1F3DB}\uFE0F",description:"\uACE0\uB300 \uBB38\uBA85\uC758 \uD754\uC801\uC774 \uB0A8\uC544\uC788\uB294 \uC720\uC801",backgroundColor:"#2F4F4F",minLevel:20,recommendedLevel:25,baseFloors:8,monsterTypes:["golem","animated_armor","ancient_guardian"],bossType:"titan",baseGoldReward:1e3,baseExpReward:800,uniqueItems:["ancient_artifact","rune_stone"],storyDescription:"\uC0AC\uB9C9\uC5D0\uC11C \uBC1C\uACAC\uD55C \uAC70\uB300\uD55C \uC720\uC801. \uAC15\uB825\uD55C \uB9C8\uBC95\uC774 \uBD09\uC778\uB418\uC5B4 \uC788\uB2E4."}],this.debugLogger.success("\uB358\uC804",`\u2705 \uB358\uC804 \uC2DC\uC2A4\uD15C \uCD08\uAE30\uD654 \uC644\uB8CC: ${this.dungeonTypes.length}\uAC1C \uB358\uC804 \uD0C0\uC785`)}openDungeonEntryDialog(t){this.selectedDungeonType=t,this.showDungeonEntryDialog=!0,this.debugLogger.info("\uB358\uC804",`\u{1F6AA} \uB358\uC804 \uC785\uC7A5 \uB2E4\uC774\uC5BC\uB85C\uADF8 \uC5F4\uB9BC: ${t.koreanName}`)}closeDungeonEntryDialog(){this.showDungeonEntryDialog=!1,this.selectedDungeonType=null}enterDungeon(t,e){if(console.log("\u{1F3F0} enterDungeon \uD638\uCD9C\uB428:",t.koreanName,e),this.playerCharacter.level<t.minLevel){console.log("\u274C \uB808\uBCA8 \uBD80\uC871:",this.playerCharacter.level,"<",t.minLevel),this.notification.show(`\u26A0\uFE0F \uB808\uBCA8 ${t.minLevel} \uC774\uC0C1 \uD544\uC694\uD569\uB2C8\uB2E4!`);return}this.debugLogger.info("\uB358\uC804",`\u{1F6AA} \uB358\uC804 \uC785\uC7A5: ${t.koreanName} (${e})`),console.log("\u{1F528} \uB358\uC804 \uC0DD\uC131 \uC2DC\uC791...");let a=this.generateDungeon(t,e);console.log("\u2705 \uB358\uC804 \uC0DD\uC131 \uC644\uB8CC:",a),this.currentDungeon=a,this.dungeonProgress.inDungeon=!0,this.dungeonProgress.currentDungeonId=a.id,console.log("\u{1F4CA} currentDungeon \uC124\uC815:",this.currentDungeon?"\uC788\uC74C":"\uC5C6\uC74C"),this.closeDungeonEntryDialog(),this.showDungeonPanel=!0,console.log("\u{1F3AE} showDungeonPanel:",this.showDungeonPanel),this.addStoryBlock(["\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",`      ${t.icon} ${t.koreanName}`,`      \uB09C\uC774\uB3C4: ${this.getDifficultyKorean(e)}`,"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550","",t.storyDescription,"","\uB2F9\uC2E0\uC740 \uB358\uC804\uC5D0 \uBC1C\uC744 \uB4E4\uC5EC\uB193\uC558\uC2B5\uB2C8\uB2E4..."]),console.log("\u{1F6AA} enterFloor(1) \uD638\uCD9C..."),this.enterFloor(1),console.log("\u{1F4CD} enterFloor \uD6C4 currentDungeonRoom:",this.currentDungeonRoom?"\uC788\uC74C":"\uC5C6\uC74C"),this.saveGame("autosave")}generateDungeon(t,e){let a=this.dungeonGenerator.generateDungeon(t,e,this.playerCharacter.level);return a.playerSnapshot={hp:this.playerCharacter.hp,mp:this.playerCharacter.mp,level:this.playerCharacter.level},this.debugLogger.success("\uB358\uC804",`\u2705 \uB358\uC804 \uC0DD\uC131 \uC644\uB8CC: ${a.totalFloors}\uCE35, ${a.floors.reduce((c,s)=>c+s.rooms.length,0)}\uAC1C \uBC29`),a}generateFloor(t,e,a,c,s){let m=t===e,P=5+Math.floor(Math.random()*3),h=[],x=this.createRoom("entrance",t,a,c);h.push(x);for(let p=0;p<P-2;p++){let E=this.selectRandomRoomType(m),B=this.createRoom(E,t,a,c);h.push(B)}if(m){let p=this.createRoom("boss",t,a,c);h.push(p)}else{let p=this.createRoom("exit",t,a,c);h.push(p)}for(let p=0;p<h.length-1;p++)h[p].connectedRoomIds.push(h[p+1].id),h[p+1].connectedRoomIds.push(h[p].id);return{floorNumber:t,rooms:h,entranceRoomId:h[0].id,exitRoomId:m?void 0:h[h.length-1].id,bossRoomId:m?h[h.length-1].id:void 0,isCleared:!1,generatedAt:new Date}}createRoom(t,e,a,c){let m={id:`room_${Date.now()}_${Math.random()}`,type:t,size:"medium",description:this.getRoomDescription(t,a),monsters:[],isCleared:t==="entrance"||t==="exit"||t==="treasure"||t==="shrine"||t==="shop"||t==="safe",interactables:[],connectedRoomIds:[],isExplored:t==="entrance",isCurrentRoom:!1};return(t==="normal"||t==="elite"||t==="boss")&&(m.monsters=this.spawnMonsters(t,e,a,c)),t==="treasure"?m.interactables.push(this.createTreasureChest(e,c)):t==="shrine"&&m.interactables.push(this.createShrine()),m}selectRandomRoomType(t){if(t){let a=["normal","elite","treasure","shrine"];return a[Math.floor(Math.random()*a.length)]}let e=Math.random();return e<.5?"normal":e<.7?"elite":e<.85?"treasure":e<.95?"shrine":"shop"}getRoomDescription(t,e){let c={entrance:{undead:["\uC881\uC740 \uD1B5\uB85C. \uBCBD\uC5D0 \uC624\uB798\uB41C \uD683\uBD88\uC774 \uCF1C\uC838\uC788\uB2E4.","\uC785\uAD6C\uC5D0\uC11C \uCC28\uAC00\uC6B4 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C4\uB2E4."],demon:["\uBD89\uAC8C \uD0C0\uC624\uB974\uB294 \uC785\uAD6C. \uC720\uD669 \uB0C4\uC0C8\uAC00 \uC9C4\uB3D9\uD55C\uB2E4.","\uB9C8\uC871\uC758 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C0\uB294 \uB3D9\uAD74 \uC785\uAD6C."],ancient:["\uAC70\uB300\uD55C \uC11D\uC870 \uBB38. \uACE0\uB300 \uBB38\uC790\uAC00 \uC0C8\uACA8\uC838 \uC788\uB2E4.","\uC6C5\uC7A5\uD55C \uC785\uAD6C. \uC138\uC6D4\uC758 \uD754\uC801\uC774 \uC5ED\uB825\uD558\uB2E4."]},normal:{undead:["\uAD00\uC774 \uB298\uC5B4\uC120 \uBC29. \uBB34\uC5B8\uAC00 \uC6C0\uC9C1\uC774\uB294 \uC18C\uB9AC\uAC00 \uB4E4\uB9B0\uB2E4.","\uC5B4\uB450\uC6B4 \uBC29. \uBF08\uB2E4\uADC0\uAC00 \uBC14\uB2E5\uC5D0 \uD769\uC5B4\uC838 \uC788\uB2E4."],demon:["\uBD89\uC740 \uBE5B\uC774 \uAC10\uB3C4\uB294 \uBC29. \uC5F4\uAE30\uAC00 \uB290\uAEF4\uC9C4\uB2E4.","\uC6A9\uC554\uC774 \uD750\uB974\uB294 \uBC29. \uB9C8\uC871\uC758 \uC6B8\uC74C\uC18C\uB9AC\uAC00 \uB4E4\uB9B0\uB2E4."],ancient:["\uBA3C\uC9C0\uAC00 \uC313\uC778 \uBC29. \uACE0\uB300 \uC720\uBB3C\uB4E4\uC774 \uB193\uC5EC\uC788\uB2E4.","\uB113\uC740 \uD640. \uC11D\uC0C1\uB4E4\uC774 \uB3C4\uC5F4\uD574 \uC788\uB2E4."]},elite:{undead:["\uAC15\uB825\uD55C \uC5B8\uB370\uB4DC\uC758 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C0\uB294 \uBC29.","\uC5D8\uB9AC\uD2B8 \uBAAC\uC2A4\uD130\uC758 \uC601\uC5ED. \uC704\uD5D8\uD55C \uBD84\uC704\uAE30\uAC00 \uAC10\uB3C8\uB2E4."],demon:["\uAC15\uB825\uD55C \uB9C8\uC871\uC774 \uC9C0\uD0A4\uB294 \uBC29. \uC555\uB3C4\uC801\uC778 \uD798\uC774 \uB290\uAEF4\uC9C4\uB2E4.","\uC5D8\uB9AC\uD2B8 \uC545\uB9C8\uC758 \uAC70\uCC98. \uBD89\uC740 \uBD88\uAF43\uC774 \uD0C0\uC624\uB978\uB2E4."],ancient:["\uACE0\uB300\uC758 \uC815\uC608 \uC218\uD638\uC790\uB4E4\uC774 \uC9C0\uD0A4\uB294 \uBC29.","\uAC15\uB825\uD55C \uB9C8\uBC95\uC758 \uAE30\uC6B4\uC774 \uAC10\uB3C4\uB294 \uBC29."]},boss:{undead:["\uAC70\uB300\uD55C \uD574\uACE8 \uC655\uC88C\uAC00 \uB193\uC778 \uBC29. \uCD5C\uC885 \uBCF4\uC2A4\uC758 \uC601\uC5ED.","\uC5B8\uB370\uB4DC \uAD70\uC8FC\uC758 \uBC29. \uC555\uB3C4\uC801\uC778 \uC0AC\uC545\uD568\uC774 \uB290\uAEF4\uC9C4\uB2E4."],demon:["\uC9C0\uC625\uC758 \uAD70\uC8FC\uAC00 \uC9C0\uBC30\uD558\uB294 \uBC29. \uBD88\uC9C0\uC625\uC774 \uD3BC\uCCD0\uC9C4\uB2E4.","\uB9C8\uC655\uC758 \uAC70\uCC98. \uCC28\uC6D0\uC774 \uB4A4\uD2C0\uB9AC\uB294 \uB290\uB08C\uC774 \uB4E0\uB2E4."],ancient:["\uACE0\uB300 \uC2E0\uC758 \uC131\uC18C. \uC2E0\uC131\uD55C \uD798\uACFC \uB3D9\uC2DC\uC5D0 \uD30C\uAD34\uC758 \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C4\uB2E4.","\uCD5C\uC885 \uC218\uD638\uC790\uC758 \uBC29. \uAC70\uB300\uD55C \uB9C8\uBC95\uC9C4\uC774 \uADF8\uB824\uC838 \uC788\uB2E4."]},treasure:{undead:["\uBA3C\uC9C0 \uC313\uC778 \uC0C1\uC790\uAC00 \uB193\uC5EC\uC788\uB2E4.","\uBE44\uBC00\uC2A4\uB7EC\uC6B4 \uBCF4\uBB3C \uBC29. \uBE5B\uB098\uB294 \uC0C1\uC790\uAC00 \uBCF4\uC778\uB2E4."],demon:["\uD654\uC5FC\uC5D0 \uB458\uB7EC\uC2F8\uC778 \uBCF4\uBB3C \uC0C1\uC790.","\uB9C8\uC871\uC774 \uC9C0\uD0A4\uB358 \uBCF4\uBB3C \uBC29."],ancient:["\uBD09\uC778\uB41C \uBCF4\uBB3C \uC0C1\uC790. \uB8EC \uBB38\uC790\uAC00 \uC0C8\uACA8\uC838 \uC788\uB2E4.","\uACE0\uB300\uC758 \uBCF4\uBB3C \uCC3D\uACE0."]},shrine:{undead:["\uC2E0\uC131\uD55C \uBE5B\uC774 \uAC10\uB3C4\uB294 \uC81C\uB2E8. \uBD88\uAE38\uD55C \uBD84\uC704\uAE30\uC640 \uB300\uBE44\uB41C\uB2E4.","\uCD95\uBCF5\uC758 \uC131\uC18C. \uC5B8\uB370\uB4DC\uC758 \uC800\uC8FC\uB97C \uC815\uD654\uD560 \uC218 \uC788\uC744 \uAC83 \uAC19\uB2E4."],demon:["\uBD89\uC740 \uC81C\uB2E8. \uC545\uB9C8\uC758 \uD798\uC744 \uBE4C\uB9B4 \uC218 \uC788\uC744 \uAC83 \uAC19\uB2E4.","\uB9C8\uB825\uC758 \uC131\uC18C. \uAC15\uB825\uD55C \uBC84\uD504\uB97C \uBC1B\uC744 \uC218 \uC788\uB2E4."],ancient:["\uACE0\uB300\uC758 \uC81C\uB2E8. \uC2E0\uBE44\uD55C \uD798\uC774 \uAE43\uB4E4\uC5B4 \uC788\uB2E4.","\uCD95\uBCF5\uC758 \uC131\uC18C. \uACE0\uB300 \uC2E0\uC758 \uC740\uCD1D\uC774 \uB290\uAEF4\uC9C4\uB2E4."]},shop:{undead:["\uB5A0\uB3CC\uC774 \uC0C1\uC778\uC774 \uC788\uB294 \uBC29. \uC5B4\uB460 \uC18D\uC5D0\uC11C \uBE5B\uB098\uB294 \uBB3C\uAC74\uB4E4.","\uBE44\uBC00 \uC0C1\uC810. \uADC0\uD55C \uBB3C\uD488\uB4E4\uC774 \uC9C4\uC5F4\uB418\uC5B4 \uC788\uB2E4."],demon:["\uD654\uC5FC\uC758 \uB300\uC7A5\uC7A5\uC774\uAC00 \uC788\uB294 \uBC29. \uB9C8\uBC95 \uBB34\uAE30\uB4E4\uC774 \uC9C4\uC5F4\uB418\uC5B4 \uC788\uB2E4.","\uC545\uB9C8\uC758 \uC0C1\uC778. \uC704\uD5D8\uD558\uC9C0\uB9CC \uAC15\uB825\uD55C \uBB3C\uAC74\uB4E4\uC744 \uD310\uB2E4."],ancient:["\uACE0\uB300 \uC720\uBB3C \uC0C1\uC810. \uC804\uC124\uC801\uC778 \uBB3C\uAC74\uB4E4\uC774 \uB193\uC5EC\uC788\uB2E4.","\uC218\uC9D1\uAC00\uC758 \uBC29. \uD76C\uADC0\uD55C \uC544\uC774\uD15C\uB4E4\uC774 \uAC00\uB4DD\uD558\uB2E4."]},safe:{undead:["\uACE0\uC694\uD55C \uBC29. \uC7A0\uC2DC \uC274 \uC218 \uC788\uC744 \uAC83 \uAC19\uB2E4.","\uC548\uC804\uD55C \uD53C\uB09C\uCC98. \uC5B8\uB370\uB4DC\uB4E4\uC774 \uB4E4\uC5B4\uC62C \uC218 \uC5C6\uB2E4."],demon:["\uB9C8\uBC95\uC73C\uB85C \uBCF4\uD638\uB41C \uBC29. \uC548\uC804\uD558\uAC8C \uC274 \uC218 \uC788\uB2E4.","\uACB0\uACC4\uAC00 \uCCD0\uC9C4 \uC548\uC804 \uC9C0\uB300."],ancient:["\uC131\uC2A4\uB7EC\uC6B4 \uBCF4\uD638\uB9C9\uC774 \uC788\uB294 \uBC29. \uC644\uC804\uD788 \uC548\uC804\uD558\uB2E4.","\uACE0\uB300\uC758 \uC548\uC2DD\uCC98. \uB9C8\uBC95\uC758 \uBCF4\uD638\uB97C \uBC1B\uB294\uB2E4."]},exit:{undead:["\uB2E4\uC74C \uCE35\uC73C\uB85C \uC774\uC5B4\uC9C0\uB294 \uACC4\uB2E8.","\uB354 \uAE4A\uC740 \uC5B4\uB460\uC73C\uB85C \uD5A5\uD558\uB294 \uAE38."],demon:["\uB354 \uB728\uAC70\uC6B4 \uC9C0\uC625\uC73C\uB85C \uB0B4\uB824\uAC00\uB294 \uAE38.","\uB2E4\uC74C \uCE35\uC758 \uC785\uAD6C. \uC5F4\uAE30\uAC00 \uB354 \uAC15\uD574\uC9C4\uB2E4."],ancient:["\uB2E4\uC74C \uCE35\uC73C\uB85C \uD5A5\uD558\uB294 \uAD00\uBB38.","\uB354 \uAE4A\uC740 \uC720\uC801\uC73C\uB85C \uC774\uC5B4\uC9C0\uB294 \uD1B5\uB85C."]}}[t]?.[e.theme]||["\uD3C9\uBC94\uD55C \uBC29."];return c[Math.floor(Math.random()*c.length)]}spawnMonsters(t,e,a,c){let s=[],m=this.playerCharacter.level+e-1,P={easy:.7,normal:1,hard:1.3,hell:1.6}[c];if(t==="normal"){let h=2+Math.floor(Math.random()*2);for(let x=0;x<h;x++)s.push(this.createMonster("normal",m,a,P))}else if(t==="elite"){let h=1+Math.floor(Math.random()*2);for(let x=0;x<h;x++)s.push(this.createMonster("elite",m+2,a,P))}else t==="boss"&&s.push(this.createMonster("boss",m+5,a,P));return s}createMonster(t,e,a,c){let s=`monster_${Date.now()}_${Math.random()}`,m=50+e*20,P=10+e*3,h=5+e*2,x={normal:1,elite:2,boss:5}[t],w={id:s,name:this.getMonsterName(t,a),type:t,level:e,hp:Math.floor(m*x*c),maxHp:Math.floor(m*x*c),attack:Math.floor(P*x*c),defense:Math.floor(h*x*c),dropTable:{goldMin:Math.floor(10*e*x),goldMax:Math.floor(20*e*x),itemDropChance:t==="boss"?1:t==="elite"?.5:.2,itemRarity:t==="boss"?"legendary":t==="elite"?"rare":"common"},isDead:!1};return(t==="elite"||t==="boss")&&(w.eliteAffixes=this.generateEliteAffixes(t==="boss"?3:2)),w}getMonsterName(t,e){let c={normal:{undead:["\uC880\uBE44","\uC2A4\uCF08\uB808\uD1A4","\uC720\uB839"],demon:["\uC784\uD504","\uD5EC\uD558\uC6B4\uB4DC","\uB9C8\uC871 \uC804\uC0AC"],ancient:["\uACE8\uB818","\uC6C0\uC9C1\uC774\uB294 \uAC11\uC637","\uACE0\uB300 \uC218\uD638\uC790"]},elite:{undead:["\uAC15\uD654\uB41C \uC880\uBE44","\uACE0\uC704 \uC2A4\uCF08\uB808\uD1A4","\uC6D0\uD55C\uC758 \uC720\uB839"],demon:["\uC0C1\uAE09 \uC784\uD504","\uC9C0\uC625\uC758 \uC0AC\uB0E5\uAC1C","\uB9C8\uC871 \uB300\uC7A5"],ancient:["\uACE0\uB300 \uACE8\uB818","\uB9C8\uBC95 \uAC11\uC637","\uC218\uD638\uC790 \uB300\uC7A5"]},boss:{undead:["\uB9AC\uCE58","\uD574\uACE8 \uC655","\uB9DD\uB839\uC758 \uAD70\uC8FC"],demon:["\uB9C8\uC655","\uC9C0\uC625\uC758 \uAD70\uC8FC","\uB370\uBAAC \uB85C\uB4DC"],ancient:["\uD0C0\uC774\uD0C4","\uACE0\uB300 \uC655","\uC720\uC801\uC758 \uC218\uD638\uC2E0"]}}[t][e.theme]||["\uC54C \uC218 \uC5C6\uB294 \uBAAC\uC2A4\uD130"];return c[Math.floor(Math.random()*c.length)]}generateEliteAffixes(t){let e=["\uAC15\uD654","\uC7AC\uC0DD","\uD654\uC5FC","\uB0C9\uAE30","\uB3C5","\uBC88\uAC1C","\uD761\uD608","\uBC18\uC0AC"],a=[];for(let c=0;c<t&&e.length>0;c++){let s=Math.floor(Math.random()*e.length);a.push(e[s]),e.splice(s,1)}return a}createTreasureChest(t,e){return{id:`chest_${Date.now()}`,type:"chest",name:"\uBCF4\uBB3C \uC0C1\uC790",description:"\uBC18\uC9DD\uC774\uB294 \uBCF4\uBB3C \uC0C1\uC790. \uADC0\uC911\uD55C \uC544\uC774\uD15C\uC774 \uB4E4\uC5B4\uC788\uC744 \uAC83 \uAC19\uB2E4.",isLocked:!1,lootItems:[],isUsed:!1}}createShrine(){let t=[{type:"health",value:50,duration:30},{type:"mana",value:30,duration:30},{type:"damage",value:20,duration:10},{type:"defense",value:15,duration:10},{type:"experience",value:50,duration:5}],e=t[Math.floor(Math.random()*t.length)];return{id:`shrine_${Date.now()}`,type:"shrine",name:"\uC2E0\uBE44\uB85C\uC6B4 \uC131\uC18C",description:"\uC131\uC18C\uC5D0\uC11C \uC2E0\uC131\uD55C \uAE30\uC6B4\uC774 \uB290\uAEF4\uC9C4\uB2E4.",shrineEffect:e,isUsed:!1}}enterFloor(t){if(console.log("\u{1F6AA} enterFloor \uD638\uCD9C:",t),!this.currentDungeon){console.error("\u274C currentDungeon\uC774 null\uC785\uB2C8\uB2E4!");return}let e=this.currentDungeon.floors[t-1];if(!e){console.error("\u274C floor\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4:",t);return}console.log("\u{1F4E6} floor \uAC1D\uCCB4:",e),console.log("\uFFFD floor.rooms \uAC1C\uC218:",e.rooms?.length||0),console.log("\uFFFD\u{1F6AA} entranceRoomId:",e.entranceRoomId),this.currentDungeon.currentFloor=t;let a=e.rooms.find(c=>c.id===e.entranceRoomId);if(console.log("\u{1F6AA} entranceRoom:",a?"\uCC3E\uC74C":"\uBABB \uCC3E\uC74C"),!a){console.error("\u274C entranceRoom\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4!"),console.error("\u{1F50D} floor.rooms:",e.rooms.map(c=>({id:c.id,type:c.type}))),console.error("\u{1F50D} \uCC3E\uC73C\uB824\uB294 ID:",e.entranceRoomId);return}console.log("\u{1F6AA} enterRoom \uD638\uCD9C..."),this.enterRoom(a),this.addStoryBlock(["",`\u2500\u2500\u2500 ${t}\uCE35 \u2500\u2500\u2500`,a?.description||"\uC0C8\uB85C\uC6B4 \uCE35\uC5D0 \uB3C4\uCC29\uD588\uC2B5\uB2C8\uB2E4.",""]),this.debugLogger.info("\uB358\uC804",`\u{1F6AA} ${t}\uCE35 \uC9C4\uC785`)}enterRoom(t){if(console.log("\u{1F6AA} enterRoom \uD638\uCD9C:",t.type,t.id),console.log("\u{1F6AA} \uBC29 \uBAAC\uC2A4\uD130 \uC218:",t.monsters?.length||0),console.log("\u{1F6AA} \uBC29 \uBAAC\uC2A4\uD130 \uC0C1\uC138:",t.monsters),!this.currentDungeon){console.error("\u274C enterRoom: currentDungeon\uC774 null!");return}this.currentDungeonRoom&&(this.currentDungeonRoom.isCurrentRoom=!1),this.currentDungeonRoom=ne({},t),console.log("\u2705 currentDungeonRoom \uC124\uC815 \uC644\uB8CC:",this.currentDungeonRoom.type),console.log("\u2705 currentDungeonRoom.monsters:",this.currentDungeonRoom.monsters),t.isCurrentRoom=!0,t.isExplored=!0,this.currentDungeon.stats.roomsExplored++,this.addStoryBlock(["",`\u{1F4CD} ${this.getRoomTypeKorean(t.type)}`,t.description,""]),t.monsters.length>0&&!t.isCleared?(console.log("\u2694\uFE0F \uC804\uD22C \uC2DC\uC791:",t.monsters.length,"\uB9C8\uB9AC"),console.log("\u2694\uFE0F \uBAAC\uC2A4\uD130 \uBAA9\uB85D:",t.monsters),this.startDungeonCombat(t)):console.log("\u2705 \uC804\uD22C \uC5C6\uC74C (\uBAAC\uC2A4\uD130:",t.monsters.length,", \uD074\uB9AC\uC5B4:",t.isCleared,")"),this.debugLogger.info("\uB358\uC804",`\u{1F6AA} \uBC29 \uC9C4\uC785: ${t.type}`)}startDungeonCombat(t){if(console.log("\u2694\uFE0F \uC804\uD22C \uC2DC\uC791:",t.monsters.length,"\uB9C8\uB9AC"),console.log("\uC804\uD22C \uC2A4\uD0B5 \uC635\uC158:",this.dungeonTestOptions.skipCombat),this.dungeonTestOptions.skipCombat){console.log("\u23ED\uFE0F \uC804\uD22C \uC2A4\uD0B5 - \uC790\uB3D9 \uC2B9\uB9AC"),this.debugLogger.info("\uB358\uC804","\u23ED\uFE0F \uC804\uD22C \uC2A4\uD0B5 \uD65C\uC131\uD654 - \uC790\uB3D9 \uC2B9\uB9AC"),t.monsters.forEach(a=>{a.hp=0,a.isDead=!0;let c=Math.floor(Math.random()*(a.dropTable.goldMax-a.dropTable.goldMin+1))+a.dropTable.goldMin,s=Math.floor(a.maxHp*.8);this.playerCharacter.gold+=c,this.gainExp(s),this.currentDungeon&&(this.currentDungeon.accumulatedRewards.gold+=c,this.currentDungeon.accumulatedRewards.experience+=s,this.currentDungeon.stats.monstersKilled++,a.type==="elite"?this.currentDungeon.stats.elitesKilled++:a.type==="boss"&&(this.currentDungeon.stats.bossKilled=!0,this.currentDungeon.stats.elitesKilled++))}),t.isCleared=!0,this.addStoryBlock(["\u23ED\uFE0F \uC804\uD22C \uC790\uB3D9 \uC2B9\uB9AC!",`\u{1F480} ${t.monsters.length}\uB9C8\uB9AC \uCC98\uCE58`,"\uBC29\uC774 \uD074\uB9AC\uC5B4\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",""]),this.debugLogger.info("\uB358\uC804",`\u{1F4BE} \uC804\uD22C \uC2A4\uD0B5 \uD6C4 \uC790\uB3D9 \uC800\uC7A5 (\uACBD\uD5D8\uCE58: ${this.playerCharacter.exp}/${this.playerCharacter.maxExp}, \uB808\uBCA8: ${this.playerCharacter.level})`),this.saveGame("auto_dungeon_skip_combat").then(()=>{console.log("\u2705 \uBC29 \uD074\uB9AC\uC5B4 \uC644\uB8CC \uBC0F \uC800\uC7A5\uB428")});return}let e=t.monsters[0];this.addStoryBlock([`\u2694\uFE0F ${e.name}\uC774(\uAC00) \uB098\uD0C0\uB0AC\uB2E4!`,`\uB808\uBCA8: ${e.level} | HP: ${e.hp}`,e.eliteAffixes?`\uD2B9\uC131: ${e.eliteAffixes.join(", ")}`:"",""]),console.log("\u2694\uFE0F \uC218\uB3D9 \uC804\uD22C \uB300\uAE30 \uC911...")}winDungeonCombat(t,e){return y(this,null,function*(){if(!this.currentDungeon)return;e.isDead=!0;let a=Math.floor(Math.random()*(e.dropTable.goldMax-e.dropTable.goldMin+1))+e.dropTable.goldMin,c=Math.floor(e.maxHp*.8);this.playerCharacter.gold+=a,this.gainExp(c),this.currentDungeon.accumulatedRewards.gold+=a,this.currentDungeon.accumulatedRewards.experience+=c,this.currentDungeon.stats.monstersKilled++,e.type==="elite"?this.currentDungeon.stats.elitesKilled++:e.type==="boss"&&(this.currentDungeon.stats.bossKilled=!0,this.currentDungeon.stats.elitesKilled++),this.addStoryBlock([`\u2705 ${e.name}\uC744(\uB97C) \uBB3C\uB9AC\uCCE4\uB2E4!`,`\u{1F4B0} \uACE8\uB4DC +${a}`,`\u{1F4AB} \uACBD\uD5D8\uCE58 +${c}`,""]),console.log("\u2705 \uBAAC\uC2A4\uD130 \uCC98\uCE58:",e.name),this.debugLogger.info("\uB358\uC804",`\u{1F4BE} \uBAAC\uC2A4\uD130 \uCC98\uCE58 \uD6C4 \uC790\uB3D9 \uC800\uC7A5 (\uACBD\uD5D8\uCE58: ${this.playerCharacter.exp}/${this.playerCharacter.maxExp})`),yield this.saveGame(`auto_dungeon_${this.currentDungeon.dungeonTypeId}`),t.monsters.every(s=>s.isDead)?(t.isCleared=!0,console.log("\u2705 \uBC29 \uD074\uB9AC\uC5B4\uB428!"),this.addStoryBlock(["\u2705 \uBC29\uC744 \uD074\uB9AC\uC5B4\uD588\uC2B5\uB2C8\uB2E4!","\uB2E4\uC74C \uBC29\uC73C\uB85C \uC774\uB3D9\uD558\uC138\uC694.",""]),this.debugLogger.info("\uB358\uC804","\u{1F4BE} \uBC29 \uD074\uB9AC\uC5B4 \uD6C4 \uC790\uB3D9 \uC800\uC7A5"),yield this.saveGame("auto_dungeon_room_clear"),e.type==="boss"&&(console.log("\u{1F451} \uBCF4\uC2A4 \uCC98\uCE58 - \uB358\uC804 \uD074\uB9AC\uC5B4!"),this.completeDungeon())):console.log("\u2694\uFE0F \uB0A8\uC740 \uBAAC\uC2A4\uD130:",t.monsters.filter(s=>!s.isDead).length,"\uB9C8\uB9AC"),this.debugLogger.success("\uB358\uC804",`\u2705 \uC804\uD22C \uC2B9\uB9AC: ${e.name}`)})}completeDungeon(){return y(this,null,function*(){if(!this.currentDungeon)return;this.currentDungeon.status="completed",this.dungeonProgress.inDungeon=!1;let t=this.dungeonTypes.find(a=>a.id===this.currentDungeon.dungeonTypeId);this.dungeonProgress.clearedDungeons[t.id]||(this.dungeonProgress.clearedDungeons[t.id]={count:0,bestTime:1/0,highestDifficulty:"easy",lastClearDate:new Date});let e=this.dungeonProgress.clearedDungeons[t.id];e.count++,e.bestTime=Math.min(e.bestTime,this.currentDungeon.elapsedTime),e.lastClearDate=new Date,this.dungeonProgress.totalStats.dungeonsCleared++,this.dungeonProgress.totalStats.monstersKilled+=this.currentDungeon.stats.monstersKilled,this.dungeonProgress.totalStats.elitesKilled+=this.currentDungeon.stats.elitesKilled,this.dungeonProgress.totalStats.bossesKilled+=this.currentDungeon.stats.bossKilled?1:0,this.dungeonProgress.totalStats.totalGoldEarned+=this.currentDungeon.accumulatedRewards.gold,this.dungeonProgress.totalStats.totalExpEarned+=this.currentDungeon.accumulatedRewards.experience,this.addStoryBlock(["","\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557","\u2551      \u{1F3C6} \uB358\uC804 \uD074\uB9AC\uC5B4! \u{1F3C6}          \u2551",`\u2551   ${t.koreanName} \uC815\uBCF5 \uC644\uB8CC   \u2551`,"\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D","","\u{1F4CA} \uD1B5\uACC4:",`  \u2022 \uCC98\uCE58\uD55C \uBAAC\uC2A4\uD130: ${this.currentDungeon.stats.monstersKilled}\uB9C8\uB9AC`,`  \u2022 \uCC98\uCE58\uD55C \uC5D8\uB9AC\uD2B8: ${this.currentDungeon.stats.elitesKilled}\uB9C8\uB9AC`,`  \u2022 \uD0D0\uD5D8\uD55C \uBC29: ${this.currentDungeon.stats.roomsExplored}\uAC1C`,"","\u{1F4B0} \uD68D\uB4DD \uBCF4\uC0C1:",`  \u2022 \uACE8\uB4DC: ${this.currentDungeon.accumulatedRewards.gold}G`,`  \u2022 \uACBD\uD5D8\uCE58: ${this.currentDungeon.accumulatedRewards.experience} EXP`,"","\uB2F9\uC2E0\uC740 \uB358\uC804\uC744 \uBB34\uC0AC\uD788 \uBE60\uC838\uB098\uC654\uC2B5\uB2C8\uB2E4."]),this.setChoices(["\u{1F3E0} \uB9C8\uC744\uB85C \uB3CC\uC544\uAC04\uB2E4","\u{1F504} \uB358\uC804\uC744 \uB2E4\uC2DC \uD0D0\uD5D8\uD55C\uB2E4","\u{1F5FA}\uFE0F \uB2E4\uB978 \uB358\uC804\uC744 \uCC3E\uC544\uBCF8\uB2E4"]),this.showDungeonPanel=!1,this.currentDungeon=null,this.currentDungeonRoom=null,this.debugLogger.success("\uB358\uC804",`\u{1F3C6} \uB358\uC804 \uD074\uB9AC\uC5B4: ${t.koreanName} - \uC790\uB3D9 \uC800\uC7A5 \uC911...`),this.debugLogger.info("\uB358\uC804",`\u{1F4BE} \uCD5C\uC885 \uB808\uBCA8: ${this.playerCharacter.level}, \uACBD\uD5D8\uCE58: ${this.playerCharacter.exp}/${this.playerCharacter.maxExp}`),yield this.saveGame(`dungeon_clear_${t.id}`)})}moveToNextRoom(){if(!this.currentDungeon||!this.currentDungeonRoom)return;let t=this.currentDungeonRoom.connectedRoomIds;if(t.length===0)return;let e=this.currentDungeon.floors[this.currentDungeon.currentFloor-1],a=e.rooms.find(c=>t.includes(c.id)&&!c.isExplored)||e.rooms.find(c=>t.includes(c.id));a&&this.enterRoom(a)}escapeDungeon(){this.currentDungeon&&(this.currentDungeon.status="failed",this.dungeonProgress.inDungeon=!1,this.addStoryBlock(["","\u{1F6AA} \uB2F9\uC2E0\uC740 \uB358\uC804\uC5D0\uC11C \uD0C8\uCD9C\uD588\uC2B5\uB2C8\uB2E4.","\u{1F4B0} \uD68D\uB4DD\uD55C \uBCF4\uC0C1\uC740 \uC720\uC9C0\uB429\uB2C8\uB2E4.",""]),this.showDungeonPanel=!1,this.currentDungeon=null,this.currentDungeonRoom=null,this.closeDungeonDialog(),this.saveGame("autosave"),this.debugLogger.warn("\uB358\uC804","\u26A0\uFE0F \uB358\uC804 \uD0C8\uCD9C"))}getDifficultyKorean(t){return{easy:"\uC26C\uC6C0",normal:"\uBCF4\uD1B5",hard:"\uC5B4\uB824\uC6C0",hell:"\uC9C0\uC625"}[t]}getRoomTypeKorean(t){return{entrance:"\uC785\uAD6C",normal:"\uC77C\uBC18 \uBC29",elite:"\uC5D8\uB9AC\uD2B8 \uBC29",boss:"\uBCF4\uC2A4 \uBC29",treasure:"\uBCF4\uBB3C \uBC29",shrine:"\uC131\uC18C",shop:"\uC0C1\uC810",safe:"\uC548\uC804 \uC9C0\uB300",event:"\uC774\uBCA4\uD2B8 \uBC29",exit:"\uCD9C\uAD6C"}[t]||"\uC54C \uC218 \uC5C6\uB294 \uBC29"}openDungeonDialog(){this.showDungeonTestDialog=!0,this.debugLogger.info("\uB358\uC804","\u{1F3F0} \uB358\uC804 \uBA54\uB274 \uC5F4\uB9BC")}closeDungeonDialog(){this.showDungeonTestDialog=!1,this.selectedDungeonType=null,this.selectedDifficulty=null}selectDungeonType(t){this.selectedDungeonType=t,this.debugLogger.info("\uB358\uC804",`\uB358\uC804 \uC120\uD0DD: ${t.koreanName}`)}selectDifficulty(t){this.selectedDifficulty=t,this.debugLogger.info("\uB358\uC804",`\uB09C\uC774\uB3C4 \uC120\uD0DD: ${this.getDifficultyKorean(t)}`)}startDungeon(){if(!this.selectedDungeonType||!this.selectedDifficulty){this.notification.show("\u26A0\uFE0F \uB358\uC804\uACFC \uB09C\uC774\uB3C4\uB97C \uC120\uD0DD\uD558\uC138\uC694!");return}this.debugLogger.info("\uB358\uC804","\u{1F3F0} \uB358\uC804 \uC2DC\uC791"),this.debugLogger.info("\uB358\uC804",`\uC120\uD0DD: ${this.selectedDungeonType.koreanName} - ${this.selectedDifficulty}`),this.debugLogger.info("\uB358\uC804",`\uD14C\uC2A4\uD2B8 \uC635\uC158: ${JSON.stringify(this.dungeonTestOptions)}`),this.dungeonTestOptions.godMode&&(this.playerCharacter.hp=this.playerCharacter.maxHp,this.playerCharacter.mp=this.playerCharacter.maxMp,this.debugLogger.success("\uB358\uC804","\u{1F6E1}\uFE0F \uBB34\uC801 \uBAA8\uB4DC \uD65C\uC131\uD654")),this.enterDungeon(this.selectedDungeonType,this.selectedDifficulty),console.log("=== \uB358\uC804 \uC0C1\uD0DC \uCCB4\uD06C ==="),console.log("showDungeonPanel:",this.showDungeonPanel),console.log("currentDungeon:",this.currentDungeon?"\uC0DD\uC131\uB428":"NULL"),console.log("currentDungeonRoom:",this.currentDungeonRoom?"\uC124\uC815\uB428":"NULL"),this.currentDungeon&&(console.log("\uB358\uC804 \uC774\uB984:",this.currentDungeon.dungeonTypeId),console.log("\uD604\uC7AC \uCE35:",this.currentDungeon.currentFloor),console.log("\uCD1D \uCE35\uC218:",this.currentDungeon.totalFloors)),this.currentDungeonRoom&&(console.log("\uD604\uC7AC \uBC29 \uD0C0\uC785:",this.currentDungeonRoom.type),console.log("\uBAAC\uC2A4\uD130 \uC218:",this.currentDungeonRoom.monsters.length)),this.currentDungeon?(this.dungeonTestOptions.showAllRooms&&this.revealAllRooms(),this.dungeonTestOptions.unlockAllRooms&&this.unlockAllRooms()):console.error("\u274C currentDungeon\uC774 null\uC785\uB2C8\uB2E4!"),this.currentDungeonRoom||console.error("\u274C currentDungeonRoom\uC774 null\uC785\uB2C8\uB2E4!")}revealAllRooms(){this.currentDungeon&&(this.currentDungeon.floors.forEach(t=>{t.rooms.forEach(e=>{e.isExplored=!0})}),this.debugLogger.success("\uB358\uC804","\u{1F5FA}\uFE0F \uBAA8\uB4E0 \uBC29 \uACF5\uAC1C \uC644\uB8CC"))}unlockAllRooms(){this.currentDungeon&&(this.currentDungeon.floors.forEach(t=>{t.rooms.forEach(e=>{e.interactables.forEach(a=>{a.isLocked&&(a.isLocked=!1)})})}),this.debugLogger.success("\uB358\uC804","\u{1F513} \uBAA8\uB4E0 \uBC29 \uC7A0\uAE08 \uD574\uC81C \uC644\uB8CC"))}onDungeonRoomMove(t){if(!this.currentDungeon)return;let e=this.currentDungeon.floors[this.currentDungeon.currentFloor-1];if(!e)return;let a=e.rooms.find(c=>c.id===t);a&&this.enterRoom(a)}onDungeonMonsterAttack(t){if(!(!this.currentDungeon||!this.currentDungeonRoom)){if(this.debugLogger.info("\uB358\uC804",`\u2694\uFE0F ${t.name} \uACF5\uACA9!`),this.dungeonTestOptions.oneHitKill)t.hp=0,t.isDead=!0,this.debugLogger.success("\uB358\uC804",`\u{1F480} ${t.name} \uC989\uC0AC!`);else{let e=this.playerCharacter.attack,a=this.playerCharacter.strength*.5,c=.9+Math.random()*.4,s=Math.random()<.3,m=s?3:1,P=Math.floor((e+a)*c*m*1.8);t.hp=Math.max(0,t.hp-P),t.hp===0&&(t.isDead=!0),s?(this.debugLogger.success("\uB358\uC804",`\u{1F4A5} \uD06C\uB9AC\uD2F0\uCEEC! \uD53C\uD574: ${P}, \uB0A8\uC740 HP: ${t.hp}`),this.addStoryBlock([`\u{1F4A5} \uD06C\uB9AC\uD2F0\uCEEC \uD788\uD2B8! ${P}\uC758 \uAC15\uB825\uD55C \uD53C\uD574!`])):this.debugLogger.info("\uB358\uC804",`\uD53C\uD574: ${P}, \uB0A8\uC740 HP: ${t.hp}`)}t.isDead&&this.winDungeonCombat(this.currentDungeonRoom,t),this.dungeonTestOptions.godMode&&(this.playerCharacter.hp=this.playerCharacter.maxHp)}}onDungeonInteractableUse(t){if(this.currentDungeon){if(this.debugLogger.info("\uB358\uC804",`\u2728 ${t.name} \uC0AC\uC6A9`),t.type==="chest"){let e=Math.floor(100+Math.random()*200);this.playerCharacter.gold+=e,this.addStoryBlock([`\u{1F48E} ${t.name}\uC744(\uB97C) \uC5F4\uC5C8\uC2B5\uB2C8\uB2E4!`,`\u{1F4B0} \uACE8\uB4DC +${e}`,""]),this.currentDungeon.stats.treasuresFound++,t.isUsed=!0}else if(t.type==="shrine"&&t.shrineEffect){let e=t.shrineEffect;this.addStoryBlock([`\u2728 ${t.name}\uC758 \uCD95\uBCF5\uC744 \uBC1B\uC558\uC2B5\uB2C8\uB2E4!`,`\uD6A8\uACFC: ${e.type} +${e.value}% (${e.duration}\uD134)`,""]),t.isUsed=!0}this.debugLogger.success("\uB358\uC804",`\u2705 ${t.name} \uC0AC\uC6A9 \uC644\uB8CC`)}}onDungeonEscape(){this.escapeDungeon()}onDungeonFloorMove(t){this.enterFloor(t)}onDungeonRewardsClaimed(t){if(console.log("\u{1F381} \uC804\uD22C \uBCF4\uC0C1 \uC218\uB839:",t),t.exp>0){this.playerCharacter.exp+=t.exp;let e=this.playerCharacter.level*100;this.playerCharacter.exp>=e&&this.levelUp(),this.notification.show(`\u2B50 ${t.exp} \uACBD\uD5D8\uCE58 \uD68D\uB4DD!`)}t.gold>0&&(this.playerCharacter.gold+=t.gold,this.notification.show(`\u{1F4B0} ${t.gold} \uACE8\uB4DC \uD68D\uB4DD!`)),t.items&&t.items.length>0&&t.items.forEach(e=>{let a=this.createDungeonRewardItem(e);this.inventory.push(a),this.notification.show(`\u{1F381} ${a.name} \uD68D\uB4DD!`),this.debugLogger.success("\uC544\uC774\uD15C",`\uD68D\uB4DD: ${a.name} (${a.rarity})`)}),this.saveGame("autosave"),this.debugLogger.success("\uB358\uC804",`\u{1F381} \uBCF4\uC0C1 \uD68D\uB4DD: EXP ${t.exp}, \uACE8\uB4DC ${t.gold}, \uC544\uC774\uD15C ${t.items.length}\uAC1C`)}createDungeonRewardItem(t){let e=["weapon","armor","accessory","consumable"],a=e[Math.floor(Math.random()*e.length)],s={common:1,uncommon:1.3,rare:1.7,epic:2.2,legendary:3}[t.rarity]||1,m=t.level||1,P={id:`dungeon_${Date.now()}_${Math.random()}`,name:t.name,type:a,rarity:t.rarity,level:m,requiredLevel:Math.max(1,m-2),description:`\uB358\uC804\uC5D0\uC11C \uD68D\uB4DD\uD55C ${t.rarity} \uB4F1\uAE09 \uC544\uC774\uD15C`,stats:{},price:Math.floor(m*50*s),sellPrice:Math.floor(m*25*s),obtainedFrom:"dungeon",obtainedAt:new Date().toISOString()};if(a==="weapon")P.stats={attack:Math.floor((5+m*3)*s),criticalChance:Math.floor(Math.random()*10*s)},P.slot="weapon";else if(a==="armor"){let x=["helmet","chest","legs","boots","gloves"];P.slot=x[Math.floor(Math.random()*x.length)],P.stats={defense:Math.floor((3+m*2)*s),hp:Math.floor((10+m*5)*s)}}else if(a==="accessory"){let x=["ring","necklace","belt"];P.slot=x[Math.floor(Math.random()*x.length)],P.stats={attack:Math.floor((2+m)*s),defense:Math.floor((2+m)*s),hp:Math.floor((5+m*2)*s)}}else a==="consumable"&&(P.consumable=!0,P.stackable=!0,P.maxStack=99,P.quantity=1,P.effect={type:Math.random()>.5?"heal":"buff",value:Math.floor(50*s)});let h={common:"\uD3C9\uBC94\uD55C",uncommon:"\uACE0\uAE09",rare:"\uD76C\uADC0\uD55C",epic:"\uC601\uC6C5\uC758",legendary:"\uC804\uC124\uC758"};return P.name=`${h[t.rarity]||""} ${P.name}`,P}toggleDungeonTestOption(t){this.dungeonTestOptions[t]=!this.dungeonTestOptions[t],this.debugLogger.info("\uB358\uC804",`\uD14C\uC2A4\uD2B8 \uC635\uC158 \uBCC0\uACBD: ${t} = ${this.dungeonTestOptions[t]}`)}getPlayerEquipment(){let t=this.playerCharacter.equipment;return{weapon:t?.weapon||null,armor:t?.armor||null,accessory:t?.amulet||t?.ring1||t?.ring2||null}}onInventoryCellRightClick(t,e,a){t.preventDefault(),t.stopPropagation(),this.selectedContextItem=e,this.selectedContextItemIndex=a,this.contextMenuPosition={x:t.clientX,y:t.clientY},this.showItemContextMenu=!0,setTimeout(()=>{document.addEventListener("click",this.closeContextMenu.bind(this),{once:!0})},0)}closeContextMenu(){this.showItemContextMenu=!1}equipItemFromMenu(){if(!this.selectedContextItem||this.selectedContextItemIndex===-1)return;let t=this.selectedContextItem,e=t.type?.toLowerCase()||"",a="";e.includes("weapon")||e.includes("sword")||e.includes("bow")||e.includes("staff")?a="weapon":e.includes("armor")||e.includes("chest")?a="armor":e.includes("helmet")||e.includes("helm")?a="helmet":e.includes("gloves")?a="gloves":e.includes("boots")||e.includes("shoes")?a="boots":e.includes("amulet")||e.includes("necklace")?a="amulet":e.includes("belt")?a="belt":e.includes("ring")&&(a=this.playerCharacter.equipment?.ring1?"ring2":"ring1"),a?this.equipItemToSlot(t,a):this.snackBar.open("\u274C \uC7A5\uCC29\uD560 \uC218 \uC5C6\uB294 \uC544\uC774\uD15C\uC785\uB2C8\uB2E4","\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.closeContextMenu()}showItemInfoModal(){this.selectedContextItem&&(this.showItemInfo=!0,this.closeContextMenu())}discardItemFromMenu(){if(!this.selectedContextItem||this.selectedContextItemIndex===-1)return;let t=this.selectedContextItem.nameKo||this.selectedContextItem.name;confirm(`\uC815\uB9D0\uB85C "${t}"\uC744(\uB97C) \uBC84\uB9AC\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`)&&(this.inventory.splice(this.selectedContextItemIndex,1),this.snackBar.open(`\u{1F5D1}\uFE0F ${t}\uC744(\uB97C) \uBC84\uB838\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:2e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.saveGame("inventory_change").catch(e=>{console.error("\uC778\uBCA4\uD1A0\uB9AC \uC800\uC7A5 \uC2E4\uD328:",e)})),this.closeContextMenu()}closeItemInfoModal(){this.showItemInfo=!1}onItemInfoDragStart(t){if(t.target.classList.contains("modal-close-btn")||t.target.closest(".item-info-actions"))return;this.isDraggingModal=!0,this.modalDragOffset={x:t.clientX-this.itemInfoPosition.x,y:t.clientY-this.itemInfoPosition.y},t.preventDefault();let e=c=>{this.isDraggingModal&&(this.itemInfoPosition={x:c.clientX-this.modalDragOffset.x,y:c.clientY-this.modalDragOffset.y})},a=()=>{this.isDraggingModal=!1,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",a)}equipItemFromModal(){this.equipItemFromMenu(),this.closeItemInfoModal()}discardItemFromModal(){let t=this.selectedContextItem?.nameKo||this.selectedContextItem?.name;confirm(`\uC815\uB9D0\uB85C "${t}"\uC744(\uB97C) \uBC84\uB9AC\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`)&&(this.discardItemFromMenu(),this.closeItemInfoModal())}getRarityName(t){return{common:"\uC77C\uBC18",uncommon:"\uACE0\uAE09",rare:"\uD76C\uADC0",epic:"\uC601\uC6C5",legendary:"\uC804\uC124",unique:"\uC720\uB2C8\uD06C",mythic:"\uC2E0\uD654"}[t]||t}getTypeName(t){return{weapon:"\uBB34\uAE30",armor:"\uBC29\uC5B4\uAD6C",helmet:"\uD22C\uAD6C",gloves:"\uC7A5\uAC11",boots:"\uC2E0\uBC1C",belt:"\uD5C8\uB9AC\uB760",amulet:"\uBAA9\uAC78\uC774",ring:"\uBC18\uC9C0",consumable:"\uC18C\uBE44\uD488",material:"\uC7AC\uB8CC",quest:"\uD018\uC2A4\uD2B8",misc:"\uAE30\uD0C0"}[t]||t}getPlayerSkills(){return this.playerCharacter.skills||[]}static \u0275fac=function(e){return new(e||r)(A(lt),A(xt),A(Be),A(ge),A(bt),A(jt),A(Te),A(Ae),A(Ne),A(ie),A(ze),A(Ut),A(Fe),A(qe))};static \u0275cmp=Q({type:r,selectors:[["app-novel-generator"]],viewQuery:function(e,a){if(e&1&&$e(An,5),e&2){let c;je(c=Ue())&&(a.battleLogContainer=c.first)}},standalone:!1,decls:33,vars:24,consts:[["battleLogContainer",""],["emptyWeapon",""],["emptyArmor",""],["emptyHelmet",""],["emptyAmulet",""],["emptyBelt",""],["emptyGloves",""],["emptyBoots",""],["emptyRing1",""],["emptyRing2",""],["itemMenu","matMenu"],[1,"novel-book-container"],["class","novel-home-screen",4,"ngIf"],["class","book-cover",4,"ngIf"],["class","game-layout",4,"ngIf"],["class","panel-backdrop",3,"click",4,"ngIf"],["class","game-panel character-panel",4,"ngIf"],["class","game-panel inventory-panel",4,"ngIf"],["class","item-context-menu",3,"left","top","click",4,"ngIf"],["class","item-info-modal",3,"left","top","mousedown",4,"ngIf"],["class","game-panel shop-panel",4,"ngIf"],["class","game-panel character-creator-panel",4,"ngIf"],["class","game-panel scenario-creator-panel",4,"ngIf"],["class","game-panel item-creator-panel",4,"ngIf"],["class","story-flow-overlay",4,"ngIf"],["class","scenario-link-overlay",4,"ngIf"],["class","flow-side-panel",4,"ngIf"],["class","flow-panel-toggle-btn","title","\uC2A4\uD1A0\uB9AC \uB9F5 \uC5F4\uAE30",3,"click",4,"ngIf"],["class","advanced-story-flow-overlay",4,"ngIf"],["class","flow-scenario-link-overlay",4,"ngIf"],["class","wuxia-overlay",3,"click",4,"ngIf"],[1,"feature-map-floating-btn"],["title","\uAE30\uB2A5\uB9F5",1,"feature-map-toggle",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3 3h7v7H3V3zm11 0h7v7h-7V3zM3 14h7v7H3v-7zm11 0h7v7h-7v-7z","stroke","currentColor","stroke-width","2","fill","none"],["cx","6.5","cy","6.5","r","1","fill","currentColor"],["cx","17.5","cy","6.5","r","1","fill","currentColor"],["cx","6.5","cy","17.5","r","1","fill","currentColor"],["cx","17.5","cy","17.5","r","1","fill","currentColor"],[1,"btn-label"],["class","feature-map-panel",4,"ngIf"],["class","dungeon-test-dialog",4,"ngIf"],["class","dungeon-overlay",4,"ngIf"],[1,"novel-home-screen"],[1,"home-container"],[1,"welcome-section"],[1,"welcome-header"],[1,"header-content"],[1,"subtitle"],[1,"header-actions"],["class","user-info",4,"ngIf"],["title","\uB85C\uADF8\uC544\uC6C3",1,"logout-btn",3,"click"],[1,"quick-actions"],[1,"action-card","featured",3,"click"],[1,"card-icon"],[1,"card-badge"],[1,"action-card","ai-special",3,"click"],[1,"card-badge","ai-badge"],[1,"action-card","premium",3,"click"],[1,"card-badge","premium-badge"],["class","story-creator-panel",4,"ngIf"],["class","saved-stories-section",4,"ngIf"],["class","saved-characters-section",4,"ngIf"],["class","saved-scenarios-section",4,"ngIf"],["class","saved-items-section",4,"ngIf"],["class","shop-section",4,"ngIf"],["id","novelsSection",1,"novels-section"],[1,"section-header"],[1,"section-desc"],[1,"novel-grid"],["class","novel-card",3,"click",4,"ngFor","ngForOf"],[1,"user-info"],[1,"user-name"],[1,"story-creator-panel"],[1,"creator-container"],[1,"creator-header"],[1,"close-btn",3,"click"],[1,"creator-intro"],["class","error-message",4,"ngIf"],[1,"title-input-section"],["for","storyTitle"],[1,"label-icon"],[1,"label-text"],[1,"required"],["type","text","id","storyTitle","placeholder","\uC608: \uAC80\uC740 \uC6A9\uC758 \uC804\uC124, \uB9C8\uBC95\uC0AC\uC758 \uC5EC\uC815, \uBE44\uBC00\uC758 \uC232...","maxlength","50",1,"title-input",3,"ngModelChange","ngModel"],[1,"char-count"],[1,"selection-section"],[1,"select-group"],[1,"selection-count"],[1,"select-grid"],["class","select-item",3,"selected","click",4,"ngFor","ngForOf"],["class","no-content",4,"ngIf"],[1,"creator-actions"],[1,"generate-story-btn",3,"click","disabled"],[4,"ngIf"],["class","generated-story-result",4,"ngIf"],[1,"error-message"],[1,"select-item",3,"click"],[1,"item-name"],[1,"item-desc"],[1,"no-content"],[1,"generated-story-result"],[1,"story-preview"],[1,"story-title"],[1,"story-icon"],[1,"story-desc"],[1,"story-meta"],[1,"meta-item"],[1,"story-intro"],[4,"ngFor","ngForOf"],[1,"story-actions"],[1,"save-btn",3,"click"],[1,"start-btn",3,"click"],[1,"regenerate-btn",3,"click"],[1,"saved-stories-section"],[1,"stories-grid"],["class","story-card",3,"click",4,"ngFor","ngForOf"],[1,"story-card",3,"click"],[1,"story-header"],[1,"story-icon-title"],[1,"delete-btn",3,"click"],[1,"story-description"],[1,"story-footer"],[1,"date"],[1,"created-by"],[1,"saved-characters-section"],[1,"characters-grid"],["class","character-card",3,"click",4,"ngFor","ngForOf"],[1,"character-card",3,"click"],[1,"character-header"],[1,"character-meta"],[1,"character-desc"],["class","character-traits",4,"ngIf"],[1,"character-footer"],[1,"character-traits"],["class","trait",4,"ngFor","ngForOf"],[1,"trait"],[1,"saved-scenarios-section"],[1,"scenarios-grid"],["class","scenario-card",3,"click",4,"ngFor","ngForOf"],[1,"scenario-card",3,"click"],[1,"scenario-header"],[1,"scenario-desc"],[1,"scenario-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"scenario-meta"],[1,"genre"],[1,"tag"],[1,"saved-items-section"],[1,"items-grid"],["class","item-card",3,"grade-legendary","grade-rare","grade-uncommon","click",4,"ngFor","ngForOf"],[1,"item-card",3,"click"],[1,"item-header"],["class","item-stats",4,"ngIf"],[1,"item-tags"],[1,"tag","type-tag"],[1,"tag","grade-tag"],[1,"item-meta"],[1,"item-stats"],["class","stat",4,"ngIf"],[1,"stat"],[1,"shop-section"],[1,"gold-amount"],[1,"shop-items-grid"],["class","shop-item-card",3,"grade-legendary","grade-rare","grade-uncommon",4,"ngFor","ngForOf"],[1,"shop-item-card"],[1,"item-price"],[1,"item-footer"],[1,"buy-btn",3,"click"],[1,"novel-card",3,"click"],[1,"novel-card-header"],[1,"novel-icon"],[1,"novel-difficulty"],[1,"novel-info"],[1,"novel-genre"],[1,"novel-description"],[1,"novel-stats"],[1,"stat-item"],[1,"stat-icon"],[1,"stat-value"],[1,"book-cover"],[1,"cover-content","novel-start-screen"],[1,"selected-novel-icon"],[1,"book-title"],[1,"book-subtitle"],[1,"novel-intro"],[1,"start-info"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"action-buttons"],[1,"back-btn",3,"click"],[1,"start-reading-btn",3,"click"],[1,"game-layout"],[1,"left-panel-container"],[1,"side-panel","left-panel"],["class","collapsed-view",3,"click",4,"ngIf"],["class","expanded-view",4,"ngIf"],[1,"main-content-area"],[1,"game-status-bar"],["title","\uBA54\uB274",1,"toggle-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","18","x2","21","y2","18"],["title","\uD648\uC73C\uB85C \uB3CC\uC544\uAC00\uAE30",1,"back-home-btn",3,"click"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],[1,"status-bar-actions"],["title","\uCE90\uB9AD\uD130 & \uC7A5\uBE44",1,"equipment-btn",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["title","\uC778\uBCA4\uD1A0\uB9AC",1,"inventory-btn",3,"click"],["d","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"],["points","3.27 6.96 12 12.01 20.73 6.96"],["x1","12","y1","22.08","x2","12","y2","12"],["title","\uB358\uC804 \uD0D0\uD5D8",1,"dungeon-btn",3,"click"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["x1","9","y1","3","x2","9","y2","21"],["x1","15","y1","3","x2","15","y2","21"],["x1","3","y1","9","x2","21","y2","9"],["x1","3","y1","15","x2","21","y2","15"],["title","\uC218\uB828 \uBAA8\uB4DC",1,"training-btn",3,"click"],["cx","12","cy","12","r","3"],["d","M12 1v6m0 6v6m11-7h-6m-6 0H1"],["title","\uACE0\uAE09 \uC2A4\uD1A0\uB9AC \uD50C\uB85C\uC6B0",1,"flow-btn",3,"click"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","y1","13.51","x2","15.42","y2","17.49"],["x1","15.41","y1","6.51","x2","8.59","y2","10.49"],["title","\uC0C1\uD0DC",1,"toggle-btn",3,"click"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],["title","\uB85C\uADF8\uC544\uC6C3",1,"logout-btn-game",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[1,"novel-scroll-area"],[1,"novel-header"],[1,"story-blocks"],["class","story-block",4,"ngFor","ngForOf"],["class","battle-section flat-battle",4,"ngIf"],[1,"right-panel-container"],[1,"side-panel","right-panel"],[1,"collapsed-view",3,"click"],[1,"collapse-icon"],[1,"collapse-text"],[1,"expanded-view"],[1,"panel-header"],[1,"panel-content"],[1,"menu-item",3,"click"],[1,"menu-divider"],[1,"menu-section-title"],[1,"menu-item","success",3,"click"],[1,"menu-item","warning",3,"click"],[1,"menu-item","danger",3,"click"],[1,"story-block"],[1,"battle-section","flat-battle"],[1,"battle-container"],[1,"battle-title"],["class","turn-text",4,"ngIf"],[1,"battle-board"],[1,"combatant","player-side"],[1,"combatant-header"],[1,"level-tag"],[1,"stats-list"],[1,"stat-row"],[1,"stat-label"],[1,"stat-bar-wrapper"],[1,"stat-bar"],[1,"stat-bar-fill","hp"],[1,"stat-bar-fill","mp"],["class","stat-row",4,"ngIf"],[1,"stat-row","compact"],[1,"stat-value-inline"],[1,"stat-separator"],[1,"vs-divider"],[1,"combatant","enemy-side"],[1,"stat-bar-fill","enemy-hp"],[1,"battle-log","text-only-log"],[1,"log-lines"],["class","log-line",3,"damage","heal","critical","combo","animation-delay",4,"ngFor","ngForOf"],[1,"turn-text"],[1,"stat-bar-fill","internal"],[1,"log-line"],[1,"choice-container"],["class","choice-item",4,"ngFor","ngForOf"],[1,"choice-item"],[1,"choice-button",3,"click"],[1,"choice-number"],[1,"choice-text"],["title","\uC2DC\uB098\uB9AC\uC624 \uC5F0\uACB0",1,"link-scenario-btn",3,"click"],[1,"choice-container","battle-choices"],[1,"choice-button",3,"click","disabled"],[1,"choice-cost"],["class","choice-item martial-skill-choice",4,"ngFor","ngForOf"],[1,"choice-item","martial-skill-choice"],[1,"choice-grade"],[1,"panel-backdrop",3,"click"],[1,"game-panel","character-panel"],[1,"character-basic-info"],[1,"character-avatar"],[1,"avatar-circle"],[1,"avatar-icon"],[1,"character-name-badge"],[1,"level-badge"],[1,"exp-section"],[1,"exp-label"],[1,"exp-values"],[1,"progress-bar","exp-bar"],[1,"progress-fill"],[1,"exp-percentage"],[1,"status-bars"],[1,"status-item","hp"],[1,"status-label"],[1,"icon"],[1,"text"],[1,"values"],[1,"progress-bar","hp-bar"],[1,"status-item","mp"],[1,"progress-bar","mp-bar"],[1,"stats-section"],[1,"section-title"],[1,"stats-grid"],[1,"stat-info"],[1,"stat-name"],[1,"currency-section"],[1,"currency-mini-grid"],[1,"currency-mini-item","gold"],[1,"currency-mini-icon"],[1,"currency-mini-value"],[1,"currency-mini-item","gem"],[1,"currency-mini-item","crystal"],[1,"currency-mini-item","ticket"],["class","skills-section",4,"ngIf"],[1,"skills-section"],[1,"skills-list"],["class","skill-item",4,"ngFor","ngForOf"],[1,"skill-item"],[1,"skill-name"],[1,"skill-level"],[1,"game-panel","inventory-panel"],[1,"inventory-tabs"],[1,"tab-btn",3,"click"],[1,"tab-btn","currency-tab",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[1,"equipment-slots-section"],[1,"diablo-equipment-layout"],[1,"equipment-column","left-column"],["id","weapon-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","weapon-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[1,"slot-icon"],["class","slot-content","cdkDrag","",3,"cdkDragData",4,"ngIf","ngIfElse"],["id","armor-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","armor-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[1,"equipment-column","center-column"],["id","helmet-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","helmet-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["id","amulet-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","amulet-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["id","belt-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","belt-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[1,"equipment-column","right-column"],["id","gloves-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","gloves-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["id","boots-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","boots-slot",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[1,"equipment-rings-row"],["id","ring1-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","ring-slot","ring-left",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["id","ring2-slot","cdkDropList","","cdkDropListSortingDisabled","",1,"equipment-slot-diablo","ring-slot","ring-right",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[1,"inventory-tab-grid"],[1,"inventory-controls"],[1,"filter-buttons"],[3,"active","click",4,"ngFor","ngForOf"],[1,"sort-controls"],[3,"ngModelChange","change","ngModel"],["value","rarity"],["value","type"],["value","name"],["value","recent"],[1,"btn-auto-sort",3,"click"],[1,"inventory-grid-container"],["id","inventory-grid","cdkDropList","",1,"inventory-grid-cells",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["class","inventory-cell","cdkDrag","",3,"class","cdkDragData","click","contextmenu","dblclick",4,"ngFor","ngForOf"],["class","inventory-cell empty",4,"ngFor","ngForOf"],[1,"inventory-footer"],[1,"inventory-count"],["cdkDrag","",1,"slot-content",3,"cdkDragData"],[1,"item-tooltip"],[1,"tooltip-name"],[1,"btn-unequip-small",3,"mousedown","click"],[1,"slot-empty-text"],[3,"click"],["cdkDrag","",1,"inventory-cell",3,"click","contextmenu","dblclick","cdkDragData"],[1,"cell-content"],[1,"cell-icon"],[1,"cell-name",3,"title"],["class","cell-quantity",4,"ngIf"],["class","drag-preview",4,"cdkDragPreview"],[1,"cell-quantity"],[1,"drag-preview"],[1,"preview-icon"],[1,"preview-name"],[1,"inventory-cell","empty"],[1,"empty-icon"],[1,"currency-tab-content"],[1,"currency-list"],[1,"currency-card","gold"],[1,"currency-card-header"],[1,"currency-icon-large"],[1,"currency-info"],[1,"currency-name"],[1,"currency-desc"],[1,"currency-card-amount"],[1,"amount"],[1,"unit"],[1,"currency-card","gem"],[1,"currency-card","crystal"],[1,"currency-card","ticket"],[1,"shop-content-wrapper"],[1,"shop-header-info"],[1,"gold-display"],[1,"gold-icon"],[1,"shop-desc"],["class","shop-items-grid",4,"ngIf"],["class","empty-shop-message",4,"ngIf"],[1,"empty-shop-message"],[1,"sub-message"],[1,"item-context-menu",3,"click"],[1,"context-menu-item",3,"click"],[1,"menu-icon"],[1,"menu-text"],[1,"context-menu-item","danger",3,"click"],[1,"item-info-modal",3,"mousedown"],[1,"modal-header"],[1,"modal-title"],[1,"modal-close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"item-info-header"],[1,"item-info-icon"],[1,"item-info-title"],[1,"item-rarity-badge"],[1,"item-info-meta"],[1,"meta-badge","type-badge"],["class","meta-badge quantity-badge",4,"ngIf"],["class","item-info-stats",4,"ngIf"],["class","item-info-description",4,"ngIf"],[1,"item-info-actions"],[1,"action-btn","equip-btn",3,"click"],[1,"action-btn","discard-btn",3,"click"],[1,"meta-badge","quantity-badge"],[1,"item-info-stats"],[1,"stats-title"],["class","stat-item",4,"ngIf"],[1,"item-info-description"],[1,"desc-title"],[1,"game-panel","shop-panel"],[3,"click","disabled"],[1,"game-panel","character-creator-panel"],[1,"character-creator-container"],[1,"character-type-buttons"],[1,"generate-btn","primary",3,"click","disabled"],[1,"generate-btn",3,"click","disabled"],["class","generated-character-info",4,"ngIf"],[1,"generated-character-info"],[1,"character-details"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"character-description"],["class","character-abilities",4,"ngIf"],[1,"apply-btn",3,"click"],[1,"character-abilities"],[1,"abilities-list"],["class","ability-tag",4,"ngFor","ngForOf"],[1,"ability-tag"],[1,"traits-list"],["class","trait-tag",4,"ngFor","ngForOf"],[1,"trait-tag"],[1,"game-panel","scenario-creator-panel"],[1,"scenario-creator-container"],[1,"scenario-type-buttons"],["class","generated-scenario-info",4,"ngIf"],[1,"generated-scenario-info"],[1,"scenario-title"],[1,"scenario-description"],["class","scenario-characters",4,"ngIf"],["class","scenario-tags",4,"ngIf"],[1,"scenario-characters"],[1,"tags-list"],["class","tag-item",4,"ngFor","ngForOf"],[1,"tag-item"],[1,"game-panel","item-creator-panel"],[1,"item-creator-container"],[1,"item-type-buttons"],[1,"generate-btn","random",3,"click","disabled"],[1,"generate-btn","weapon",3,"click","disabled"],[1,"generate-btn","armor",3,"click","disabled"],[1,"generate-btn","consumable",3,"click","disabled"],["class","generated-items-list",4,"ngIf"],["class","generated-item-info",4,"ngIf"],[1,"generated-items-list"],["class","item-card",3,"grade-common","grade-uncommon","grade-rare","grade-epic","grade-legendary",4,"ngFor","ngForOf"],[1,"bulk-actions"],[1,"save-all-btn",3,"click"],[1,"item-card"],[1,"item-card-header"],[1,"item-grade-badge"],[1,"item-card-type"],[1,"item-card-description"],["class","item-card-stats",4,"ngIf"],[1,"item-card-actions"],[1,"save-mini-btn",3,"click"],[1,"item-card-stats"],["class","stat-mini",4,"ngIf"],[1,"stat-mini"],[1,"generated-item-info"],[1,"item-title"],[1,"item-type-info"],[1,"type-badge"],[1,"item-description"],["class","item-effects",4,"ngIf"],["class","item-requirements",4,"ngIf"],["class","item-lore",4,"ngIf"],["class","item-tags",4,"ngIf"],[1,"add-btn",3,"click"],[1,"item-effects"],[1,"item-requirements"],[1,"item-lore"],[1,"lore-text"],[1,"story-flow-overlay"],[1,"story-flow-panel"],[1,"flow-header"],[1,"header-left"],[1,"flow-info"],[1,"flow-stats"],[1,"flow-canvas"],[1,"flow-nodes"],["class","flow-node",3,"ngClass","margin-left",4,"ngFor","ngForOf"],[1,"flow-legend"],[1,"legend-items"],[1,"legend-item"],[1,"legend-icon","start"],[1,"legend-icon","story"],[1,"legend-icon","choice"],[1,"legend-icon","current"],[1,"flow-node",3,"ngClass"],[1,"node-icon"],[1,"node-content"],[1,"node-label"],[1,"node-level"],["class","node-choices",4,"ngIf"],["class","flow-connector",4,"ngIf"],[1,"node-choices"],["class","choice-preview",4,"ngFor","ngForOf"],[1,"choice-preview"],[1,"flow-connector"],[1,"scenario-link-overlay"],["cdkDrag","","cdkDragBoundary",".scenario-link-overlay",1,"scenario-link-panel"],["cdkDragHandle","",1,"link-header"],[1,"drag-indicator"],[1,"link-info"],[1,"hint"],[1,"scenario-list"],[1,"scenario-grid"],["class","no-scenarios",4,"ngIf"],[1,"scenario-genre"],[1,"scenario-body"],[1,"no-scenarios"],[1,"create-scenario-btn",3,"click"],[1,"flow-side-panel"],[1,"panel-container"],[1,"status-bar"],[1,"time"],[1,"progress"],[1,"title-bar"],["class","expand-btn","title","\uC804\uCCB4\uD654\uBA74",3,"click",4,"ngIf"],["title","\uB2EB\uAE30",1,"close-btn",3,"click"],[1,"panel-content-slider"],[1,"tab-content","character-tab"],[1,"character-info-card"],[1,"character-basic"],[1,"character-name"],[1,"character-level"],[1,"character-stats"],[1,"stat-icon","hp"],[1,"stat-bar-container"],[1,"stat-bar","hp"],[1,"stat-bar-fill"],[1,"stat-icon","mp"],[1,"stat-bar","mp"],[1,"stat-row","inline"],[1,"inline-stat"],[1,"stat-row","special"],[1,"cultivation-badge"],[1,"tab-content","map-tab"],["class","current-status",4,"ngIf"],[1,"mini-flow-map"],["width","100%","height","100%","preserveAspectRatio","xMidYMid meet"],[1,"mini-connections"],["fill","none","opacity","0.6",4,"ngFor","ngForOf"],[1,"mini-nodes"],[1,"quick-stats"],[1,"stat-text"],["class","recent-path",4,"ngIf"],[1,"tab-content","organization-tab"],["class","organization-container",4,"ngIf"],["class","no-organization",4,"ngIf"],[1,"tab-navigation","bottom"],[1,"tab-icon"],[1,"tab-label"],["title","\uC804\uCCB4\uD654\uBA74",1,"expand-btn",3,"click"],[1,"current-status"],[1,"status-icon"],[1,"status-info"],[1,"status-title"],[1,"status-path"],["fill","none","opacity","0.6"],["r","20"],["text-anchor","middle","dy","7","font-size","16"],[1,"recent-path"],[1,"recent-title"],[1,"path-dots"],["class","path-dot",3,"current","title",4,"ngFor","ngForOf"],[1,"path-dot",3,"title"],[1,"organization-container"],[1,"organization-header"],[1,"org-name-section"],[1,"org-name"],[1,"org-level"],[1,"org-stats"],[1,"org-stat"],[1,"members-list"],["class","member-card",3,"selected","click",4,"ngFor","ngForOf"],["class","no-members",4,"ngIf"],[1,"member-card",3,"click"],[1,"member-header"],[1,"member-avatar"],[1,"member-basic"],[1,"member-name-row"],[1,"member-name"],[1,"member-role"],[1,"member-level"],[1,"member-status"],[1,"member-stats-bars"],[1,"stat-bar-row"],[1,"bar-label"],[1,"mini-stat-bar","hp"],[1,"mini-bar-fill"],[1,"bar-value"],["class","stat-bar-row",4,"ngIf"],[1,"member-details"],[1,"detail-icon"],[1,"detail-text"],[1,"loyalty-bar"],[1,"loyalty-fill"],["class","detail-row",4,"ngIf"],["class","member-skills",4,"ngIf"],["class","member-description",4,"ngIf"],[1,"mini-stat-bar","mp"],[1,"member-skills"],["class","skill-tag",4,"ngFor","ngForOf"],[1,"skill-tag"],[1,"member-description"],[1,"no-members"],[1,"no-organization"],["title","\uC2A4\uD1A0\uB9AC \uB9F5 \uC5F4\uAE30",1,"flow-panel-toggle-btn",3,"click"],[1,"toggle-icon"],[1,"toggle-text"],[1,"advanced-story-flow-overlay"],[1,"advanced-flow-panel"],[1,"advanced-flow-header"],["class","flow-toolbar",4,"ngIf"],["class","flow-canvas-container",4,"ngIf"],["class","node-detail-panel",4,"ngIf"],["class","stats-overlay",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"flow-toolbar"],[1,"toolbar-section"],["title","\uD655\uB300",1,"tool-btn",3,"click"],["title","\uCD95\uC18C",1,"tool-btn",3,"click"],["title","\uC911\uC559\uC73C\uB85C",1,"tool-btn",3,"click"],["title","\uD654\uBA74\uC5D0 \uB9DE\uCD94\uAE30",1,"tool-btn",3,"click"],["title","\uBC29\uBB38\uD55C \uACBD\uB85C\uB9CC \uD45C\uC2DC",1,"filter-btn",3,"click"],["title","\uC804\uD22C \uB178\uB4DC\uB9CC \uD45C\uC2DC",1,"filter-btn",3,"click"],["title","\uC5D4\uB529 \uB178\uB4DC\uB9CC \uD45C\uC2DC",1,"filter-btn",3,"click"],[1,"layout-selector",3,"ngModelChange","change","ngModel"],["value","hierarchical"],["value","radial"],["value","force"],["title","\uD1B5\uACC4 \uD45C\uC2DC/\uC228\uAE30\uAE30",1,"tool-btn",3,"click"],[1,"flow-canvas-container"],["preserveAspectRatio","xMidYMid meet",1,"flow-svg-canvas"],["id","arrowhead","markerWidth","10","markerHeight","10","refX","9","refY","3","orient","auto"],["points","0 0, 10 3, 0 6","fill","#cbd5e0"],["id","arrowhead-visited","markerWidth","10","markerHeight","10","refX","9","refY","3","orient","auto"],["points","0 0, 10 3, 0 6","fill","#48bb78"],["id","arrowhead-current","markerWidth","10","markerHeight","10","refX","9","refY","3","orient","auto"],["points","0 0, 10 3, 0 6","fill","#4299e1"],["id","arrowhead-battle","markerWidth","10","markerHeight","10","refX","9","refY","3","orient","auto"],["points","0 0, 10 3, 0 6","fill","#fc8181"],[1,"connections-layer"],["class","connection-path",3,"visited","current",4,"ngFor","ngForOf"],[1,"nodes-layer"],["class","story-node",3,"current","visited","available","battle","ending","event","click",4,"ngFor","ngForOf"],[1,"minimap"],[1,"minimap-title"],[1,"minimap-content"],["width","100%","height","100%"],["opacity","0.5"],["r","5",4,"ngFor","ngForOf"],[1,"legend"],[1,"legend-title"],[1,"legend-icon",2,"background","#4299e1"],[1,"legend-icon",2,"background","#48bb78"],[1,"legend-icon",2,"background","#edf2f7"],[1,"legend-icon",2,"background","#fc8181"],[1,"legend-icon",2,"background","#f6ad55"],[1,"legend-icon",2,"background","#9f7aea"],[1,"connection-path"],[1,"story-node",3,"click"],["r","40","stroke-width","3",1,"node-circle"],["r","50","stroke-width","2","fill","none","opacity","0.5","class","node-glow",4,"ngIf"],["text-anchor","middle","dy","10","font-size","28",1,"node-icon"],["y","60","text-anchor","middle","font-size","14","font-weight","600",1,"node-title"],["transform","translate(25, -25)",4,"ngIf"],["transform","translate(-25, -25)",4,"ngIf"],["r","50","stroke-width","2","fill","none","opacity","0.5",1,"node-glow"],["transform","translate(25, -25)"],["r","15","fill","#e53e3e"],["text-anchor","middle","dy","5","font-size","16",1,"badge-text"],["transform","translate(-25, -25)"],["r","12","fill","#4299e1"],["text-anchor","middle","dy","4","font-size","10","fill","white",1,"visit-count"],["r","5"],[1,"node-detail-panel"],[1,"detail-header"],[1,"detail-close-btn",3,"click"],[1,"detail-body"],[1,"detail-type"],[1,"detail-content"],["class","more-indicator",4,"ngIf"],["class","detail-stats",4,"ngIf"],["class","detail-conditions",4,"ngIf"],["class","detail-choices",4,"ngIf"],["class","detail-battle",4,"ngIf"],[1,"more-indicator"],[1,"detail-stats"],[1,"detail-conditions"],[1,"detail-choices"],[1,"choice-icon"],[1,"detail-battle"],[1,"stats-overlay"],["class","current-location",4,"ngIf"],[1,"stat-card"],["class","path-history",4,"ngIf"],[1,"current-location"],[1,"location-card"],[1,"location-icon"],[1,"location-info"],[1,"location-title"],[1,"location-path"],[1,"path-history"],[1,"history-list"],["class","history-item",4,"ngFor","ngForOf"],[1,"history-item"],[1,"history-icon"],[1,"history-node"],["class","history-choice",4,"ngIf"],[1,"history-choice"],[1,"empty-state"],[1,"empty-actions"],[1,"primary-btn",3,"click"],[1,"secondary-btn",3,"click"],[1,"flow-scenario-link-overlay"],["cdkDrag","","cdkDragBoundary",".flow-scenario-link-overlay",1,"flow-scenario-link-panel"],["class","node-info-card",4,"ngIf"],["class","choice-info",4,"ngIf"],["class","scenario-card",3,"linked","click",4,"ngFor","ngForOf"],[1,"node-info-card"],[1,"node-icon-large"],[1,"node-details"],[1,"node-type-badge"],[1,"choice-info"],[1,"choice-label"],[1,"choice-value"],["class","linked-badge",4,"ngIf"],[1,"linked-badge"],[1,"wuxia-overlay",3,"click"],["cdkDrag","","cdkDragBoundary",".wuxia-overlay",1,"wuxia-panel",3,"click"],["cdkDragHandle","",1,"wuxia-header"],[1,"wuxia-tabs"],[1,"cultivation-section"],[1,"internal-power-gauge"],[1,"gauge-header"],[1,"gauge-label"],[1,"gauge-value"],[1,"gauge-bar"],[1,"gauge-fill"],[1,"gauge-info"],[1,"realm-display"],[1,"realm-badge"],[1,"realm-icon"],[1,"realm-info"],[1,"realm-name"],[1,"realm-subtitle"],[1,"realm-progress"],[1,"progress-label"],[1,"progress-bar"],[1,"progress-value"],[1,"cultivation-actions"],[1,"cultivation-btn",3,"click"],[1,"btn-icon"],[1,"btn-text"],[1,"training-level"],[1,"training-label"],[1,"training-bar"],[1,"training-fill"],[1,"training-value"],[1,"learned-skills-count"],[1,"skills-grid"],["class","skill-card",3,"class",4,"ngFor","ngForOf"],["class","no-skills",4,"ngIf"],[1,"skill-card"],[1,"skill-header"],[1,"skill-names"],[1,"skill-name-chinese"],[1,"skill-name-korean"],[1,"skill-grade-badge"],[1,"skill-type"],["class","type-icon",4,"ngIf"],[1,"type-label"],[1,"skill-stats"],[1,"skill-description"],[1,"skill-effect"],["class","skill-element",4,"ngIf"],["class","skill-faction",4,"ngIf"],[1,"type-icon"],[1,"skill-element"],[1,"element-icon"],[1,"element-name"],[1,"skill-faction"],[1,"faction-label"],[1,"faction-name"],[1,"no-skills"],[1,"faction-section"],["class","current-faction",4,"ngIf"],["class","no-faction",4,"ngIf"],[1,"current-faction"],[1,"faction-card","current"],[1,"faction-header"],[1,"faction-name-korean"],[1,"faction-type"],[1,"faction-info"],[1,"faction-reputation"],[1,"reputation-bar"],[1,"reputation-fill"],[1,"no-faction"],[1,"factions-grid"],["class","faction-card",3,"class",4,"ngFor","ngForOf"],[1,"faction-card"],[1,"faction-specialties"],["class","specialty-badge",4,"ngFor","ngForOf"],[1,"join-faction-btn",3,"click"],[1,"specialty-badge"],[1,"elixir-section"],[1,"elixir-inventory"],["class","elixir-card",3,"class",4,"ngFor","ngForOf"],["class","no-elixir",4,"ngIf"],[1,"elixir-card"],[1,"elixir-header"],[1,"elixir-names"],[1,"elixir-chinese"],[1,"elixir-korean"],[1,"elixir-grade"],[1,"elixir-type"],[1,"rarity-stars"],["class","star",4,"ngFor","ngForOf"],[1,"elixir-description"],[1,"elixir-effects"],["class","effect-item",4,"ngFor","ngForOf"],["class","elixir-warning",4,"ngIf"],[1,"elixir-footer"],[1,"elixir-price"],[1,"use-elixir-btn",3,"click"],[1,"star"],[1,"effect-item"],[1,"effect-icon"],[1,"effect-text"],[1,"elixir-warning"],[1,"warning-icon"],[1,"warning-text"],[1,"no-elixir"],[1,"meridians-section"],[1,"meridian-info"],[1,"meridian-diagram"],["class","meridian-point",3,"opened","top","left","title",4,"ngFor","ngForOf"],[1,"meridian-list"],["class","meridian-item",3,"opened",4,"ngFor","ngForOf"],[1,"meridian-point",3,"title"],[1,"point-circle"],[1,"point-number"],["class","point-info",4,"ngIf"],[1,"point-info"],[1,"open-meridian-btn",3,"click"],[1,"meridian-item"],[1,"meridian-number"],[1,"meridian-details"],["class","meridian-progress",4,"ngIf"],[1,"meridian-bonus"],["class","bonus-item",4,"ngFor","ngForOf"],[1,"meridian-status"],["class","status-opened",4,"ngIf"],["class","open-btn",3,"click",4,"ngIf"],[1,"meridian-progress"],[1,"bonus-item"],[1,"status-opened"],[1,"open-btn",3,"click"],[1,"feature-map-panel"],[1,"feature-map-header"],["animationDuration","300ms",1,"feature-map-tabs"],["mat-tab-label",""],[1,"equipment-content"],["class","equipped-items diablo-style",4,"ngIf"],[1,"inventory-section"],[1,"inventory-header"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"inventory-filter-buttons"],["mat-button","",3,"click"],[1,"filter-icon"],["class","inventory-grid",4,"ngIf"],["xPosition","after","yPosition","below",1,"item-context-menu-mat",3,"overlapTrigger"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["color","warn"],["class","empty-inventory",4,"ngIf"],["class","empty-equipment-state",4,"ngIf"],[1,"feature-map-content"],[1,"feature-section"],[1,"feature-grid"],[1,"feature-item"],[1,"feature-icon"],[1,"feature-name"],[1,"feature-item",3,"click"],[1,"minimap-info"],[1,"minimap-stats"],[1,"stat-badge"],[1,"minimap-canvas"],[1,"flow-nodes-mini"],["class","flow-node-mini",3,"ngClass","margin-left",4,"ngFor","ngForOf"],[1,"minimap-legend"],[1,"legend-item-mini"],[1,"legend-icon-mini","start"],[1,"legend-icon-mini","story"],[1,"legend-icon-mini","choice"],[1,"legend-icon-mini","current"],[1,"character-info-content"],["class","character-detail",4,"ngIf"],["class","empty-character-state",4,"ngIf"],[1,"organization-info-content"],["class","organization-detail",4,"ngIf"],["class","empty-organization-state",4,"ngIf"],[1,"equipped-items","diablo-style"],[1,"equipment-grid-diablo"],[1,"equipment-slot-diablo","helmet-slot",3,"click"],[1,"slot-label"],["class","slot-content",4,"ngIf","ngIfElse"],[1,"equipment-slot-diablo","armor-slot",3,"click"],[1,"equipment-slot-diablo","gloves-slot",3,"click"],[1,"equipment-slot-diablo","boots-slot",3,"click"],[1,"equipment-slot-diablo","weapon-slot","large",3,"click"],[1,"equipment-slot-diablo","amulet-slot",3,"click"],[1,"equipment-slot-diablo","belt-slot",3,"click"],[1,"equipment-slot-diablo","ring-slot",3,"click"],[1,"equipment-summary-diablo"],[1,"summary-item"],[1,"summary-icon"],[1,"summary-label"],[1,"summary-value"],[1,"slot-content"],[1,"item-icon-diablo"],[1,"item-name-short"],[1,"slot-content","empty"],[1,"empty-icon-diablo"],[1,"item-icon-diablo","large"],["class","item-damage",4,"ngIf"],[1,"item-damage"],[1,"empty-icon-diablo","large"],["mat-raised-button","","color","accent",3,"click"],[1,"inventory-grid"],["class","inventory-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"inventory-item",3,"ngClass"],[1,"item-card-trigger",3,"menuOpened","matMenuTriggerFor"],[1,"item-card-content"],[1,"item-card-icon"],[1,"item-card-info"],[1,"item-card-name"],[1,"item-card-rarity-badge"],["class","item-card-slot",4,"ngIf"],["class","item-card-quantity",4,"ngIf"],[1,"item-card-rarity"],["mat-icon-button","",1,"delete-item-btn",3,"click"],[1,"item-card-slot"],["class","mini-stat damage",4,"ngIf"],["class","mini-stat defense",4,"ngIf"],["class","mini-stat vital",4,"ngIf"],["class","mini-stat critical",4,"ngIf"],["class","mini-stat lifesteal",4,"ngIf"],["class","mini-stat resist",4,"ngIf"],["class","mini-stat special",4,"ngIf"],[1,"mini-stat","damage"],[1,"mini-stat","defense"],[1,"mini-stat","vital"],[1,"mini-stat","critical"],[1,"mini-stat","lifesteal"],[1,"mini-stat","resist"],[1,"mini-stat","special"],[1,"item-card-quantity"],[1,"quantity-badge"],[1,"empty-inventory"],["class","hint",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"empty-equipment-state"],[1,"flow-node-mini",3,"ngClass"],[1,"node-icon-mini"],[1,"node-content-mini"],[1,"node-label-mini"],["class","node-choices-mini",4,"ngIf"],["class","flow-connector-mini",4,"ngIf"],[1,"node-choices-mini"],["class","choice-preview-mini",4,"ngFor","ngForOf"],["class","more-choices",4,"ngIf"],[1,"choice-preview-mini"],[1,"more-choices"],[1,"flow-connector-mini"],[1,"character-detail"],[1,"avatar-initial"],[1,"exp-bar-container"],[1,"exp-bar"],[1,"exp-bar-fill"],[1,"exp-text"],[1,"character-status-bars"],[1,"status-bar-item"],[1,"status-bar-label"],[1,"status-name"],[1,"status-value"],[1,"status-bar","hp-bar"],[1,"status-bar-fill"],[1,"status-bar","mp-bar"],[1,"stat-value","highlight"],["class","character-skills",4,"ngIf"],[1,"character-skills"],[1,"skill-type-badge",3,"ngClass"],[1,"empty-character-state"],[1,"organization-detail"],[1,"org-icon-wrapper"],[1,"org-icon"],[1,"org-level-badge"],[1,"org-basic-info"],[1,"org-type-badge",3,"ngClass"],[1,"reputation-bar-container"],[1,"reputation-label"],[1,"rep-value"],[1,"reputation-bar-fill"],[1,"organization-resources"],[1,"resources-grid"],[1,"resource-item"],[1,"resource-icon"],[1,"resource-info"],[1,"resource-name"],[1,"resource-value"],[1,"organization-members"],[1,"members-header"],[1,"member-count"],["class","organization-facilities",4,"ngIf"],["class","organization-territory",4,"ngIf"],[1,"member-header-row"],[1,"avatar-emoji"],[1,"member-level-badge"],[1,"member-role",3,"ngClass"],[1,"member-status-indicator",3,"ngClass"],[1,"member-stats-mini"],[1,"stat-bar-mini"],[1,"stat-bar-fill-mini","hp"],[1,"stat-bar-fill-mini","mp"],[1,"member-specialty"],[1,"specialty-icon"],[1,"specialty-text"],[1,"loyalty-badge"],["class","member-internal-power",4,"ngIf"],[1,"member-internal-power"],[1,"power-icon"],[1,"power-realm"],[1,"power-bar-mini"],[1,"power-bar-fill"],[1,"organization-facilities"],[1,"facilities-grid"],["class","facility-item",4,"ngFor","ngForOf"],[1,"facility-item"],[1,"facility-icon"],[1,"facility-name"],[1,"organization-territory"],[1,"territory-info"],[1,"territory-icon"],[1,"territory-name"],[1,"empty-organization-state"],[1,"dungeon-test-dialog"],[1,"dialog-overlay",3,"click"],[1,"dialog-content"],[1,"dialog-header"],["class","dialog-body",4,"ngIf"],["class","dungeon-container",4,"ngIf"],["class","dialog-footer",4,"ngIf"],[1,"dialog-body"],[1,"test-section"],[1,"dungeon-type-grid"],["class","dungeon-type-card",3,"selected","click",4,"ngFor","ngForOf"],["class","test-section",4,"ngIf"],[1,"dungeon-type-card",3,"click"],[1,"dungeon-icon"],[1,"dungeon-name"],[1,"dungeon-level"],[1,"dungeon-floors"],[1,"difficulty-grid"],[1,"difficulty-btn","easy",3,"click"],[1,"difficulty-mult"],[1,"difficulty-btn","normal",3,"click"],[1,"difficulty-btn","hard",3,"click"],[1,"difficulty-btn","hell",3,"click"],[1,"test-options"],[1,"option-item"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"player-stats"],[1,"dungeon-container"],[3,"roomMove","monsterAttack","interactableUse","dungeonEscape","floorMove","rewardsClaimed","dungeon","currentRoom","playerHp","playerMaxHp","playerMp","playerMaxMp","playerName","playerLevel","playerAttackPower","playerDefensePower","playerEquipment","playerSkills"],[1,"dialog-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],[1,"dungeon-overlay"],[3,"roomMove","monsterAttack","interactableUse","dungeonEscape","floorMove","rewardsClaimed","dungeon","currentRoom","playerHp","playerMaxHp","playerMp","playerMaxMp"]],template:function(e,a){e&1&&(n(0,"div",11),f(1,jo,73,9,"div",12)(2,Uo,31,9,"div",13)(3,si,79,19,"div",14)(4,di,1,0,"div",15)(5,mi,129,38,"div",16)(6,Xi,16,9,"div",17)(7,Qi,16,4,"div",18)(8,ar,7,5,"div",19)(9,lr,10,2,"div",20)(10,Or,28,14,"div",21)(11,qr,28,14,"div",22)(12,ma,29,15,"div",23),o(),f(13,xa,41,4,"div",24)(14,ka,22,3,"div",25)(15,$a,113,37,"div",26)(16,ja,5,0,"button",27)(17,uc,15,5,"div",28)(18,Oc,19,4,"div",29)(19,Zc,23,15,"div",30),n(20,"div",31)(21,"button",32),b("click",function(){return a.toggleFeatureMap()}),N(),n(22,"svg",33),k(23,"path",34)(24,"circle",35)(25,"circle",36)(26,"circle",37)(27,"circle",38),o(),L(),n(28,"span",39),i(29,"\uAE30\uB2A5\uB9F5"),o()()(),f(30,Vs,211,29,"div",40)(31,Ks,11,6,"div",41)(32,Xs,2,6,"div",42)),e&2&&(l(),g("ngIf",!a.novelSelected&&!a.gameStarted),l(),g("ngIf",a.novelSelected&&!a.gameStarted),l(),g("ngIf",a.gameStarted),l(),g("ngIf",a.showCharacterPanel||a.showInventoryPanel||a.showShopPanel||a.showCharacterCreatorPanel||a.showScenarioCreatorPanel||a.showItemCreatorPanel),l(),g("ngIf",a.showCharacterPanel),l(),g("ngIf",a.showInventoryPanel),l(),g("ngIf",a.showItemContextMenu),l(),g("ngIf",a.showItemInfo),l(),g("ngIf",a.showShopPanel),l(),g("ngIf",a.showCharacterCreatorPanel),l(),g("ngIf",a.showScenarioCreatorPanel),l(),g("ngIf",a.showItemCreatorPanel),l(),g("ngIf",a.showStoryFlowPanel),l(),g("ngIf",a.showScenarioLinkPanel),l(),g("ngIf",a.gameStarted&&a.storyNodes.length>0&&a.isFlowPanelOpen),l(),g("ngIf",a.gameStarted&&a.storyNodes.length>0&&!a.isFlowPanelOpen),l(),g("ngIf",a.showAdvancedFlowPanel),l(),g("ngIf",a.showFlowScenarioLinkPanel),l(),g("ngIf",a.showWuxiaPanel),l(2),v("active",a.showFeatureMap),l(9),g("ngIf",a.showFeatureMap),l(),g("ngIf",a.showDungeonTestDialog),l(),g("ngIf",a.showDungeonPanel&&a.currentDungeon&&a.currentDungeonRoom))},dependencies:[st,Me,oe,ut,Ct,xe,mt,_t,Oe,ft,ve,De,ke,Ee,It,Et,Bt,Nt,zt,Ft,Vt,Rt,Gt,Lt,Ge,dt],styles:['@charset "UTF-8";.dialogue[_ngcontent-%COMP%]{color:#2196f3;cursor:default;padding:2px 4px;border-radius:4px;display:inline-block}.dialogue-choice[_ngcontent-%COMP%]{display:block!important;margin:16px 0!important;padding:16px 20px;border-radius:12px;cursor:pointer;transition:all .3s ease;position:relative;border:2px solid transparent;background:linear-gradient(135deg,#ffffff1a,#ffffff0d);box-shadow:0 2px 8px #0000001a;clear:both;width:100%;box-sizing:border-box}p[_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%]{display:block!important;margin:16px -20px!important;max-width:calc(100% + 40px)}.dialogue-choice[_ngcontent-%COMP%]:hover{transform:translate(8px) scale(1.02);box-shadow:0 4px 16px #00000026}.dialogue-choice.selected[_ngcontent-%COMP%]{transform:translate(12px) scale(1.03);box-shadow:0 6px 20px #0003;font-weight:500}.dialogue-choice[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;vertical-align:middle}.dialogue-choice[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;vertical-align:middle}.dialogue-choice[_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{display:inline-block;margin-left:12px;padding:4px 10px;border-radius:6px;font-size:11px;font-weight:600;text-transform:uppercase;vertical-align:middle;letter-spacing:.5px}.dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]{border-color:#4caf50;background:linear-gradient(135deg,#4caf501a,#4caf500d)}.dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]:hover{border-color:#45a049;background:linear-gradient(135deg,#4caf5026,#4caf5014)}.dialogue-choice[data-choice-type=positive].selected[_ngcontent-%COMP%]{border-color:#45a049;background:linear-gradient(135deg,#4caf5040,#4caf5026);box-shadow:0 0 0 3px #4caf5033}.dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]{border-color:#f44336;background:linear-gradient(135deg,#f443361a,#f443360d)}.dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]:hover{border-color:#da190b;background:linear-gradient(135deg,#f4433626,#f4433614)}.dialogue-choice[data-choice-type=negative].selected[_ngcontent-%COMP%]{border-color:#da190b;background:linear-gradient(135deg,#f4433640,#f4433626);box-shadow:0 0 0 3px #f4433633}.dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{background:#f44336;color:#fff}.dialogue-choice[data-choice-type=neutral][_ngcontent-%COMP%]{border-color:#9e9e9e;background:linear-gradient(135deg,#9e9e9e1a,#9e9e9e0d)}.dialogue-choice[data-choice-type=neutral][_ngcontent-%COMP%]:hover{border-color:#757575;background:linear-gradient(135deg,#9e9e9e26,#9e9e9e14)}.dialogue-choice[data-choice-type=neutral].selected[_ngcontent-%COMP%]{border-color:#757575;background:linear-gradient(135deg,#9e9e9e40,#9e9e9e26);box-shadow:0 0 0 3px #9e9e9e33}.dialogue-choice[data-choice-type=neutral][_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{background:#9e9e9e;color:#fff}.dialogue-choice[data-choice-type=aggressive][_ngcontent-%COMP%]{border-color:#ff5722;background:linear-gradient(135deg,#ff57221a,#ff57220d)}.dialogue-choice[data-choice-type=aggressive][_ngcontent-%COMP%]:hover{border-color:#e64a19;background:linear-gradient(135deg,#ff572226,#ff572214)}.dialogue-choice[data-choice-type=aggressive].selected[_ngcontent-%COMP%]{border-color:#e64a19;background:linear-gradient(135deg,#ff572240,#ff572226);box-shadow:0 0 0 3px #ff572233}.dialogue-choice[data-choice-type=aggressive][_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{background:#ff5722;color:#fff}.dialogue-choice[data-choice-type=passive][_ngcontent-%COMP%]{border-color:#2196f3;background:linear-gradient(135deg,#2196f31a,#2196f30d)}.dialogue-choice[data-choice-type=passive][_ngcontent-%COMP%]:hover{border-color:#1976d2;background:linear-gradient(135deg,#2196f326,#2196f314)}.dialogue-choice[data-choice-type=passive].selected[_ngcontent-%COMP%]{border-color:#1976d2;background:linear-gradient(135deg,#2196f340,#2196f326);box-shadow:0 0 0 3px #2196f333}.dialogue-choice[data-choice-type=passive][_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.selectable[_ngcontent-%COMP%]{position:relative}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff0d,#ffffff05);box-shadow:0 2px 8px #0000004d}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0006}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf5026,#4caf5014)}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4caf5033,#4caf501f)}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive].selected[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive].selected[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=positive].selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf504d,#4caf5033)}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]{background:linear-gradient(135deg,#f4433626,#f4433614)}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f4433633,#f443361f)}body.dark-theme[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative].selected[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative].selected[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .dialogue-choice[data-choice-type=negative].selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f443364d,#f4433633)}body.dark-theme[_ngcontent-%COMP%]   .dialogue[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .dialogue[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .dialogue[_ngcontent-%COMP%]{color:#64b5f6}.battle-trigger-button[_ngcontent-%COMP%]{display:block!important;margin:20px 0!important;padding:20px 24px;border-radius:16px;cursor:pointer;transition:all .3s ease;position:relative;border:3px solid #FF5722;background:linear-gradient(135deg,#ff572226,#ff572214);box-shadow:0 4px 12px #ff57224d;text-align:center;font-weight:600;color:#ff5722;width:100%;box-sizing:border-box}.battle-trigger-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 20px #ff572266;border-color:#e64a19;background:linear-gradient(135deg,#ff572240,#ff572226)}.battle-trigger-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.battle-trigger-button[_ngcontent-%COMP%]   .battle-icon[_ngcontent-%COMP%]{font-size:28px;margin-right:12px;vertical-align:middle;animation:_ngcontent-%COMP%_battlePulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_battlePulse{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.battle-trigger-button[_ngcontent-%COMP%]   .battle-text[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle;letter-spacing:1px}body.dark-theme[_ngcontent-%COMP%]   .battle-trigger-button[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .battle-trigger-button[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .battle-trigger-button[_ngcontent-%COMP%]{border-color:#ff7043;background:linear-gradient(135deg,#ff704333,#ff70431a);color:#ff7043}body.dark-theme[_ngcontent-%COMP%]   .battle-trigger-button[_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .battle-trigger-button[_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .battle-trigger-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff70434d,#ff70432e);box-shadow:0 6px 20px #ff704380}.dialogue-selection-hint[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background:#2196f3e6;color:#fff;padding:12px 16px;border-radius:8px;font-size:13px;box-shadow:0 4px 12px #0003;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.text-battle-display[_ngcontent-%COMP%]{margin:30px 0;padding:20px;background:var(--bg-secondary);border:2px solid #FF5722;border-radius:12px;box-shadow:0 4px 16px #ff572233}.battle-text-divider[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:700;color:#ff5722;margin:20px 0;padding:10px 0;border-top:2px solid #FF5722;border-bottom:2px solid #FF5722;letter-spacing:2px}.battle-text-participants[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background:var(--bg-tertiary);border-radius:8px;font-size:16px;line-height:1.8}.battle-text-participants[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.battle-character-info[_ngcontent-%COMP%]{padding:15px;background:var(--bg-primary);border-radius:8px;margin:10px 0;border:2px solid var(--border-color)}.battle-character-info[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:18px;margin-bottom:12px;color:var(--text-primary)}.stat-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:8px 0}.stat-label[_ngcontent-%COMP%]{min-width:35px;font-weight:700;font-size:14px;color:var(--text-secondary)}.stat-bar-container[_ngcontent-%COMP%]{flex:1;height:24px;background:var(--bg-tertiary);border-radius:12px;overflow:hidden;border:2px solid var(--border-color);position:relative}.stat-bar[_ngcontent-%COMP%]{height:100%;transition:width .5s ease-out;border-radius:10px;position:relative;box-shadow:inset 0 2px 4px #0003}.stat-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(to bottom,rgba(255,255,255,.3),transparent);border-radius:10px 10px 0 0}.hp-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef5350,#f44336,#e53935)}.mp-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#42a5f5,#2196f3,#1e88e5)}.stat-value[_ngcontent-%COMP%]{min-width:80px;text-align:right;font-size:14px;font-weight:700;color:var(--text-primary)}.stat-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--accent-primary)}.battle-text-log[_ngcontent-%COMP%]{margin:20px 0;padding:20px;background:var(--bg-primary);border-radius:8px;max-height:400px;overflow-y:auto;border:1px solid var(--border-color)}.battle-text-entry[_ngcontent-%COMP%]{padding:8px 12px;margin:6px 0;background:var(--bg-secondary);border-left:3px solid #2196F3;border-radius:4px;font-size:15px;line-height:1.6}.battle-text-result[_ngcontent-%COMP%]{margin:20px 0}.battle-text-actions[_ngcontent-%COMP%]{margin:20px 0;text-align:center}.battle-text-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:15px;color:var(--accent-primary)}.battle-text-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}.battle-text-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}body.dark-theme[_ngcontent-%COMP%]   .text-battle-display[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .text-battle-display[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .text-battle-display[_ngcontent-%COMP%]{background:#ff57220d;border-color:#ff7043;box-shadow:0 4px 16px #ff70434d}body.dark-theme[_ngcontent-%COMP%]   .battle-text-divider[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .battle-text-divider[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .battle-text-divider[_ngcontent-%COMP%]{color:#ff7043;border-color:#ff7043}body.dark-theme[_ngcontent-%COMP%]   .battle-text-entry[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .battle-text-entry[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .battle-text-entry[_ngcontent-%COMP%]{border-left-color:#4fc3f7}body.dark-theme[_ngcontent-%COMP%]   .battle-character-info[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .battle-character-info[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .battle-character-info[_ngcontent-%COMP%]{background:#2d2d2dcc;border-color:#555}body.dark-theme[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]{background:#404040cc;border-color:#666}body.dark-theme[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#d32f2f,#f44336,#ef5350)}body.dark-theme[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1565c0,#2196f3,#42a5f5)}.novel-book-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--bg-secondary);font-family:Inter,Segoe UI,system-ui,-apple-system,sans-serif;color:var(--text-primary);transition:background-color .3s ease}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background:var(--bg-primary)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]{text-align:center;max-width:800px;padding:60px 50px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:16px;box-shadow:0 8px 24px var(--shadow);position:relative;overflow:hidden}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;margin-bottom:20px;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-1px}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .book-subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:16px;color:var(--text-secondary);font-weight:400}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:50px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:2px}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .select-guide[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-bottom:30px;font-weight:500}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .start-reading-btn[_ngcontent-%COMP%]{padding:16px 48px;font-size:1.1rem;background:var(--accent-primary);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease;box-shadow:0 4px 12px #0000001a}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .start-reading-btn[_ngcontent-%COMP%]:hover{background:var(--accent-secondary);transform:translateY(-2px);box-shadow:0 6px 16px #00000026}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .start-reading-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{padding:12px 32px;font-size:1rem;background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease;margin-right:16px}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:var(--bg-primary);border-color:var(--accent-primary);transform:translateY(-2px)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]{max-width:700px}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .selected-novel-icon[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:20px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .novel-intro[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin:24px 0;line-height:1.6}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:12px;padding:24px;margin:32px 0;border:1px solid var(--border-color)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border-color)}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);font-size:1rem}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);font-size:1.1rem}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.difficulty-badge-easy[_ngcontent-%COMP%]{color:#10b981}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.difficulty-badge-normal[_ngcontent-%COMP%]{color:#f59e0b}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .start-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.difficulty-badge-hard[_ngcontent-%COMP%]{color:#ef4444}.novel-book-container[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]   .cover-content.novel-start-screen[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:32px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]{min-height:100vh;height:100vh;overflow-y:auto;overflow-x:hidden;background:var(--bg-secondary);padding:40px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b5cf64d;border-radius:5px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#8b5cf680}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]{margin-bottom:60px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:40px;display:flex;justify-content:center;align-items:center;gap:20px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1;text-align:center}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin-bottom:16px;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-1px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--text-secondary);font-weight:400}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;gap:12px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:10px 18px;background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);border:2px solid var(--accent-primary);border-radius:12px;display:flex;align-items:center;gap:6px;box-shadow:0 2px 8px var(--shadow);transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow);border-color:var(--accent-secondary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;background:var(--gradient-primary);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:1rem;font-weight:600;background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);color:var(--text-primary);border:2px solid var(--accent-primary);border-radius:12px;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px var(--shadow);display:flex;align-items:center;gap:6px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:var(--accent-primary);color:#fff;border-color:var(--accent-secondary);transform:translateY(-2px);box-shadow:0 4px 16px var(--shadow)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px}@media (min-width: 1400px){.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}@media (min-width: 1000px) and (max-width: 1399px){.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{grid-template-columns:1fr}}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:16px;padding:32px 28px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary);transform:scaleX(0);transition:transform .3s ease}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card.featured[_ngcontent-%COMP%]{border-color:var(--accent-primary);background:linear-gradient(135deg,#3b82f60d,#8b5cf60d)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card.ai-special[_ngcontent-%COMP%]{border-color:#8b5cf6;background:linear-gradient(135deg,#8b5cf614,#ec489914)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card.ai-special[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#ec4899)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card.ai-special[_ngcontent-%COMP%]:hover{border-color:#8b5cf6;box-shadow:0 8px 32px #8b5cf64d}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card.ai-special[_ngcontent-%COMP%]:hover   .card-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_aiGlow 2s ease-in-out infinite}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card.ai-special[_ngcontent-%COMP%]   .card-badge.ai-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#ec4899);animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px var(--shadow);border-color:var(--accent-primary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover   .card-icon[_ngcontent-%COMP%]{transform:scale(1.15)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;margin-bottom:8px;color:var(--text-primary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);margin-bottom:16px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .card-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:var(--accent-primary);color:#fff;border-radius:20px;font-size:.85rem;font-weight:700}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:32px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:8px;color:var(--text-primary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:16px;padding:24px;cursor:pointer;transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px var(--shadow);border-color:var(--accent-primary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]:hover   .novel-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-card-header[_ngcontent-%COMP%]   .novel-icon[_ngcontent-%COMP%]{font-size:3rem;transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-card-header[_ngcontent-%COMP%]   .novel-difficulty[_ngcontent-%COMP%]{padding:6px 12px;border-radius:16px;font-size:.8rem;font-weight:700;text-transform:uppercase}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-card-header[_ngcontent-%COMP%]   .novel-difficulty.difficulty-easy[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-card-header[_ngcontent-%COMP%]   .novel-difficulty.difficulty-normal[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-card-header[_ngcontent-%COMP%]   .novel-difficulty.difficulty-hard[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;margin-bottom:8px;color:var(--text-primary)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-genre[_ngcontent-%COMP%]{font-size:.85rem;color:var(--accent-primary);font-weight:600;text-transform:uppercase;margin-bottom:12px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-description[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);line-height:1.5;margin-bottom:16px;min-height:44px}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-stats[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:12px;border-top:1px solid var(--border-color)}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.9rem;color:var(--text-secondary);font-weight:600}.novel-book-container[_ngcontent-%COMP%]   .novel-home-screen[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .novels-section[_ngcontent-%COMP%]   .novel-grid[_ngcontent-%COMP%]   .novel-card[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.1rem}.novel-book-container[_ngcontent-%COMP%]   .game-layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:100vh;position:relative;background:var(--bg-secondary)}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]{position:fixed;top:70px;height:calc(100vh - 70px);background:var(--bg-primary);border:1px solid var(--border-color);z-index:999;transition:transform .3s ease,box-shadow .3s ease;box-shadow:0 2px 8px var(--shadow)}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container.collapsed[_ngcontent-%COMP%]:hover, .novel-book-container[_ngcontent-%COMP%]   .right-panel-container.collapsed[_ngcontent-%COMP%]:hover{transform:translate(0)!important;box-shadow:0 4px 16px var(--shadow)}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar, .novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar-track, .novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container[_ngcontent-%COMP%]{left:0;width:280px}.novel-book-container[_ngcontent-%COMP%]   .left-panel-container.collapsed[_ngcontent-%COMP%]{transform:translate(-100%)}.novel-book-container[_ngcontent-%COMP%]   .right-panel-container[_ngcontent-%COMP%]{right:0;width:280px}.novel-book-container[_ngcontent-%COMP%]   .right-panel-container.collapsed[_ngcontent-%COMP%]{transform:translate(100%)}.novel-book-container[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]{padding:30px 15px;cursor:pointer;text-align:center;height:100%;display:flex;flex-direction:column;align-items:center;transition:background .2s ease}.novel-book-container[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:var(--accent-primary);transition:transform .2s ease}.novel-book-container[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .collapse-text[_ngcontent-%COMP%]{font-size:.9rem;writing-mode:vertical-rl;letter-spacing:2px;color:var(--text-secondary);font-weight:600;text-transform:uppercase}.novel-book-container[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.novel-book-container[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]:hover   .collapse-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:20px 24px;background:var(--bg-secondary);color:var(--text-primary);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:700;text-transform:uppercase;letter-spacing:1px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color);color:var(--text-primary);font-size:1.3rem;cursor:pointer;padding:0;width:32px;height:32px;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);border-color:var(--accent-primary)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:20px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{width:100%;padding:14px 16px;margin-bottom:10px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;text-align:left;font-size:1rem;font-weight:500;color:var(--text-primary);transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-primary);border-color:var(--accent-primary);transform:translate(4px)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]{margin-top:14px;padding:14px;background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(148,163,184,.05)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:last-child, .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:last-child, .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:last-child, .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:last-child, .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:last-child, .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;font-size:.9rem}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value.gold[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .stat-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.gold[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value.gold[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.gold[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value.gold[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .gold-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.gold[_ngcontent-%COMP%]{color:var(--accent-primary)}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1rem;font-weight:700;margin:24px 0 12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);text-transform:uppercase;letter-spacing:1px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:20px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 14px;margin-bottom:8px;background:var(--bg-secondary);border-radius:6px;border-left:2px solid var(--accent-primary);transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:hover{background:var(--bg-primary);border-left-width:3px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:var(--text-secondary);margin-bottom:8px;font-weight:500;font-size:.9rem}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:20px;background:var(--bg-secondary);border-radius:10px;overflow:hidden;border:1px solid var(--border-color);margin-bottom:6px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-primary);transition:width .3s ease}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{text-align:right;color:var(--text-secondary);font-size:.85rem;font-weight:600}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-quick-list[_ngcontent-%COMP%]   .quick-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 14px;margin-bottom:8px;background:var(--bg-secondary);border-radius:6px;border-left:2px solid var(--accent-primary);transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-quick-list[_ngcontent-%COMP%]   .quick-item[_ngcontent-%COMP%]:hover{background:var(--bg-primary);border-left-width:3px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-quick-list[_ngcontent-%COMP%]   .quick-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:10px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-quick-list[_ngcontent-%COMP%]   .quick-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{flex:1;color:var(--text-primary);font-weight:500}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-quick-list[_ngcontent-%COMP%]   .quick-item[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%]{color:var(--accent-primary);font-weight:600}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .inventory-quick-list[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);padding:24px;font-style:italic;font-size:.9rem}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .quick-action-btn[_ngcontent-%COMP%]{width:100%;padding:12px 18px;margin-bottom:10px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;color:var(--text-primary);font-weight:500;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .quick-action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.novel-book-container[_ngcontent-%COMP%]   .expanded-view[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .quick-action-btn[_ngcontent-%COMP%]:hover{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow)}.novel-book-container[_ngcontent-%COMP%]   .main-content-area[_ngcontent-%COMP%]{flex:1;position:relative;transition:all .3s ease;margin-left:0;margin-right:0;margin-top:70px;overflow-y:auto;height:calc(100vh - 70px);background:var(--bg-primary)}.novel-book-container[_ngcontent-%COMP%]   .main-content-area[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.novel-book-container[_ngcontent-%COMP%]   .main-content-area[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}.novel-book-container[_ngcontent-%COMP%]   .main-content-area[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.novel-book-container[_ngcontent-%COMP%]   .main-content-area[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;width:100%;height:70px;z-index:1001;background:linear-gradient(135deg,#667eea,#764ba2);padding:12px 32px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 20px #667eea4d,0 0 0 1px #ffffff1a;gap:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_headerGlow 8s ease-in-out infinite;pointer-events:none}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.5) 50%,transparent 100%)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{padding:12px 16px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:10px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);color:#fff;position:relative;z-index:1;display:flex;align-items:center;justify-content:center;min-width:50px;height:50px}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;border-color:#fff6;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .back-home-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:10px;cursor:pointer;font-size:1rem;font-weight:700;transition:all .3s cubic-bezier(.4,0,.2,1);color:#fff;white-space:nowrap;position:relative;z-index:1;display:flex;align-items:center;gap:8px;height:50px}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .back-home-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .back-home-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;border-color:#fff6;transform:translate(-3px);box-shadow:0 4px 12px #0003}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .back-home-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .back-home-btn[_ngcontent-%COMP%]:active{transform:translate(0) scale(.95)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .status-bar-actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;position:relative;z-index:1;flex:1;justify-content:center}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn[_ngcontent-%COMP%]{padding:10px 16px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:12px;cursor:pointer;font-size:.95rem;font-weight:700;transition:all .3s cubic-bezier(.4,0,.2,1);color:#fff;height:50px;display:flex;align-items:center;gap:8px;white-space:nowrap;box-shadow:0 2px 8px #0000001a}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn[_ngcontent-%COMP%]:hover, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn[_ngcontent-%COMP%]:hover, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn[_ngcontent-%COMP%]:hover, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn[_ngcontent-%COMP%]:hover, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;border-color:#fff6;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn[_ngcontent-%COMP%]:active, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn[_ngcontent-%COMP%]:active, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn[_ngcontent-%COMP%]:active, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn[_ngcontent-%COMP%]:active, .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn.active[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn.active[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn.active[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn.active[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;box-shadow:0 4px 16px #667eea66}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .training-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .flow-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffd7004d,#daa5204d);border-color:#ffd70080;box-shadow:0 6px 20px #ffd7004d}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .equipment-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#daa520);box-shadow:0 4px 16px #ffd70080}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4caf504d,#2e7d324d);border-color:#4caf5080;box-shadow:0 6px 20px #4caf504d}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .inventory-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#2e7d32);box-shadow:0 4px 16px #4caf5080}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b000066,#b2222266);border-color:#8b000099;box-shadow:0 6px 20px #8b000066}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .dungeon-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b0000,#b22222);box-shadow:0 4px 16px #8b000099}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .logout-btn-game[_ngcontent-%COMP%]{padding:12px 16px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:12px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);color:#fff;min-width:50px;height:50px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .logout-btn-game[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .logout-btn-game[_ngcontent-%COMP%]:hover{background:#ef444440;border-color:#ef444466;transform:translateY(-2px);box-shadow:0 6px 16px #ef44444d}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .logout-btn-game[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(3px) scale(1.1)}.novel-book-container[_ngcontent-%COMP%]   .game-status-bar[_ngcontent-%COMP%]   .logout-btn-game[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95)}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:40px 40px 100px;min-height:calc(100vh - 62px)}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .novel-header[_ngcontent-%COMP%]{text-align:center;padding:48px 0;margin-bottom:48px;position:relative;overflow:hidden}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .novel-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%);width:120%;height:100%;background:linear-gradient(135deg,#667eea14,#764ba214);border-radius:24px;z-index:0}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .novel-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:3px;background:linear-gradient(90deg,transparent 0%,#667eea 20%,#764ba2 50%,#667eea 80%,transparent 100%);border-radius:3px;box-shadow:0 0 20px #667eea80;animation:_ngcontent-%COMP%_lineGlow 3s ease-in-out infinite}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .novel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.8rem;font-weight:800;margin:0;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-1px;text-shadow:0 2px 20px rgba(102,126,234,.3);position:relative;z-index:1;padding:0 24px}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .novel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"\\1f4d6";position:absolute;left:-20px;top:50%;transform:translateY(-50%);font-size:2rem;opacity:.7;animation:_ngcontent-%COMP%_bookFloat 3s ease-in-out infinite}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .novel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"\\2728";position:absolute;right:-20px;top:50%;transform:translateY(-50%);font-size:1.5rem;opacity:.7;animation:_ngcontent-%COMP%_sparkle 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_lineGlow{0%,to{opacity:.6;box-shadow:0 0 20px #667eea80}50%{opacity:1;box-shadow:0 0 30px #667eeacc}}@keyframes _ngcontent-%COMP%_bookFloat{0%,to{transform:translateY(-50%) translate(0)}50%{transform:translateY(-50%) translate(-5px)}}@keyframes _ngcontent-%COMP%_sparkle{0%,to{opacity:.7;transform:translateY(-50%) rotate(0)}50%{opacity:1;transform:translateY(-50%) rotate(180deg)}}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block[_ngcontent-%COMP%]{margin-bottom:28px;padding:28px;background:#fff;border-radius:12px;border:1px solid #e0e0e0;transition:all .3s ease;box-shadow:0 2px 8px #0000000d}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block[_ngcontent-%COMP%]:hover{border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:0 4px 16px #00000014}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#1a1a1a;margin:14px 0;text-align:justify}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block.choice-result[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid var(--accent-primary);border-left-width:4px}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block.choice-result[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600;font-size:1.05rem;display:flex;align-items:center;gap:10px}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block.choice-result[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--accent-primary)}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);font-size:1.6rem;font-weight:700;margin:40px 0 28px;text-transform:uppercase;letter-spacing:1.5px}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:20px 28px;margin:14px 0;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:10px;color:var(--text-primary);font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-align:left;position:relative;overflow:hidden}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:var(--accent-primary);transform:scaleY(0);transition:transform .3s ease}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);border-color:var(--accent-primary);transform:translate(8px);box-shadow:0 4px 12px var(--shadow)}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.novel-book-container[_ngcontent-%COMP%]   .novel-scroll-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translate(8px) scale(.98)}.novel-book-container[_ngcontent-%COMP%]   .panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000bf;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1999;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;cursor:pointer}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;transform:none!important;background:var(--bg-primary);border:none;border-radius:0!important;z-index:2000;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;display:flex;flex-direction:column}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:20px 48px;background:var(--bg-secondary);color:var(--text-primary);display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid var(--border-color);flex-shrink:0}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color);color:var(--text-primary);font-size:1.8rem;cursor:pointer;width:42px;height:42px;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary);transform:rotate(90deg)}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:40px 60px;flex:1;overflow-y:auto}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:16px 20px;margin:12px 0;background:var(--bg-secondary);border-radius:8px;border-left:3px solid var(--accent-primary);color:var(--text-primary);font-size:1rem;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background:var(--bg-primary);border-left-width:4px;transform:translate(4px);box-shadow:0 2px 8px var(--shadow)}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background:var(--accent-primary);border:none;border-radius:6px;color:#fff;font-weight:600;cursor:pointer;transition:all .3s ease;margin-left:10px}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--accent-secondary);transform:translateY(-2px);box-shadow:0 4px 8px #0003}.novel-book-container[_ngcontent-%COMP%]   .game-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;transform:none}.character-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:0}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]{padding:24px;background:linear-gradient(135deg,var(--bg-secondary),var(--bg-primary));border-bottom:2px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),var(--primary-dark));display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0003}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]   .avatar-icon[_ngcontent-%COMP%]{font-size:40px}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .character-name-badge[_ngcontent-%COMP%]{flex:1}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .character-name-badge[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:700;color:var(--text-primary)}.character-panel[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .character-name-badge[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;background:var(--primary-color);color:#fff;border-radius:6px;font-size:14px;font-weight:700}.character-panel[_ngcontent-%COMP%]   .exp-section[_ngcontent-%COMP%]{padding:20px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .exp-section[_ngcontent-%COMP%]   .exp-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px;font-size:13px;font-weight:600;color:var(--text-secondary)}.character-panel[_ngcontent-%COMP%]   .exp-section[_ngcontent-%COMP%]   .exp-label[_ngcontent-%COMP%]   .exp-values[_ngcontent-%COMP%]{color:var(--primary-color)}.character-panel[_ngcontent-%COMP%]   .exp-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:20px;background:var(--bg-primary);border-radius:10px;overflow:hidden;border:1px solid var(--border-color);margin-bottom:4px}.character-panel[_ngcontent-%COMP%]   .exp-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,gold,orange);transition:width .3s ease;box-shadow:inset 0 2px 4px #ffffff4d}.character-panel[_ngcontent-%COMP%]   .exp-section[_ngcontent-%COMP%]   .exp-percentage[_ngcontent-%COMP%]{text-align:right;font-size:11px;color:var(--text-secondary)}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]{padding:20px 24px;background:var(--bg-primary);border-bottom:1px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{margin-bottom:16px}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:6px;font-size:14px;font-weight:600}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--text-primary)}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]{margin-left:auto;color:var(--text-secondary);font-size:13px}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:16px;background:var(--bg-secondary);border-radius:8px;overflow:hidden;border:1px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease,background .3s ease;box-shadow:inset 0 1px 3px #fff3}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill.low[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626);animation:_ngcontent-%COMP%_pulse 1s infinite}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill.medium[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#d97706)}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item.hp[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)}.character-panel[_ngcontent-%COMP%]   .status-bars[_ngcontent-%COMP%]   .status-item.mp[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{padding:20px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-primary);border-radius:8px;border:1px solid var(--border-color);transition:all .2s ease}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);transform:translate(2px)}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:24px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-secondary);border-radius:6px}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);margin-bottom:2px}.character-panel[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary)}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{padding:20px 24px;background:var(--bg-primary);border-bottom:1px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:12px;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item.gold[_ngcontent-%COMP%]{border-color:#ffd70080}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item.gem[_ngcontent-%COMP%]{border-color:#8a2be280}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item.crystal[_ngcontent-%COMP%]{border-color:#00bfff80}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item.ticket[_ngcontent-%COMP%]{border-color:#ff69b480}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item[_ngcontent-%COMP%]   .currency-mini-icon[_ngcontent-%COMP%]{font-size:24px}.character-panel[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-mini-grid[_ngcontent-%COMP%]   .currency-mini-item[_ngcontent-%COMP%]   .currency-mini-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary)}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]{padding:20px 24px;background:var(--bg-secondary)}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid var(--border-color)}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;background:var(--bg-primary);border-radius:6px;border:1px solid var(--border-color);transition:all .2s ease}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);transform:translate(2px)}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary)}.character-panel[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-level[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--primary-color);padding:2px 8px;background:var(--bg-secondary);border-radius:4px}.battle-section[_ngcontent-%COMP%]{width:100%;padding:32px 24px;margin:24px 0;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color);box-shadow:0 2px 8px #0000000d}.battle-section[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.battle-section[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:50px;gap:50px;flex-wrap:wrap;position:relative;z-index:1}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]{flex:1;min-width:280px;max-width:340px;padding:24px 20px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 2px 8px #00000014;transition:all .3s ease;position:relative;overflow:visible}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.taking-damage[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_damageShakeStrong .5s ease-in-out}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.taking-damage[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#ff00004d;border-radius:12px;animation:_ngcontent-%COMP%_damageFlash .5s ease-out;pointer-events:none;z-index:10}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.player.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 4px 20px #3b82f64d,inset 0 0 0 1px #3b82f633}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.enemy.active[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 4px 20px #ef44444d,inset 0 0 0 1px #ef444433}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]{display:none}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;margin-bottom:20px;text-align:center;color:var(--text-primary);letter-spacing:.5px}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]{margin-bottom:16px}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-size:.95rem;color:var(--text-secondary)}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-weight:600}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]{margin-bottom:12px;position:relative;background:transparent}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;background:transparent}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-name[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-name[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;padding:2px 8px;border-radius:4px;background:transparent;color:var(--accent-primary)}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-text[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-text[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-primary);font-weight:700;font-family:Courier New,monospace}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{height:20px;background:transparent;border-radius:10px;overflow:hidden;border:2px solid rgba(255,255,255,.1);box-shadow:inset 0 2px 4px #0000004d,0 2px 8px #0000001a;position:relative}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]:before, .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(to bottom,rgba(255,255,255,.2),transparent);border-radius:10px 10px 0 0;pointer-events:none;z-index:2}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .6s cubic-bezier(.34,1.56,.64,1);border-radius:8px;position:relative;overflow:hidden;box-shadow:inset 0 -2px 4px #0000004d}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]:before, .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(to bottom,rgba(255,255,255,.4),transparent);border-radius:8px 8px 0 0;z-index:1}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626,#ef4444);box-shadow:inset 0 1px #fff3,inset 0 -1px #0000001a}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.low[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.low[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b91c1c,#dc2626);animation:_ngcontent-%COMP%_hpPulseLow .8s ease-in-out infinite}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.mp[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.mp[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb,#3b82f6);box-shadow:inset 0 1px #fff3,inset 0 -1px #0000001a}.battle-section[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .vs-indicator[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-secondary);opacity:.6}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]{max-height:280px;overflow-y:auto;padding:16px;background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);margin-bottom:24px;font-family:Inter,-apple-system,sans-serif;scroll-behavior:smooth;box-shadow:inset 0 1px 2px #0000000d}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:3px}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]{padding:6px 10px;color:var(--text-secondary);font-size:.9rem;line-height:1.5;border-radius:4px;margin-bottom:2px;animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]:last-child{border-bottom:none}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]   .log-entry.damage[_ngcontent-%COMP%]{color:#ef4444;font-weight:600;background:#ef444414}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]   .log-entry.heal[_ngcontent-%COMP%]{color:#10b981;font-weight:600;background:#10b98114}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]   .log-entry.victory[_ngcontent-%COMP%]{color:#fbbf24;font-weight:700;font-size:1rem;background:#fbbf241a;padding:8px;text-align:center;border-radius:6px}.battle-section[_ngcontent-%COMP%]   .battle-log[_ngcontent-%COMP%]   .log-entry.defeat[_ngcontent-%COMP%]{color:#6b7280;font-weight:700;font-size:1rem;background:#6b72801a;padding:8px;text-align:center;border-radius:6px;opacity:.8}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:.95rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .2s ease;color:#fff}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.attack[_ngcontent-%COMP%]{background:#ef4444}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.attack[_ngcontent-%COMP%]:hover:not(:disabled){background:#dc2626}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.skill[_ngcontent-%COMP%]{background:#3b82f6}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.skill[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.defend[_ngcontent-%COMP%]{background:#10b981}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.defend[_ngcontent-%COMP%]:hover:not(:disabled){background:#059669}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.potion[_ngcontent-%COMP%]{background:#8b5cf6}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn.potion[_ngcontent-%COMP%]:hover:not(:disabled){background:#7c3aed}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.battle-section[_ngcontent-%COMP%]   .battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]{text-align:center;padding:32px 24px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color);margin-top:16px}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:16px}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h2.victory[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h3.victory[_ngcontent-%COMP%]{color:#fbbf24}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h2.defeat[_ngcontent-%COMP%], .battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h3.defeat[_ngcontent-%COMP%]{color:#6b7280}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-bottom:12px;line-height:1.6}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   .auto-continue[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);opacity:.7;margin-top:16px}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   .end-battle-btn[_ngcontent-%COMP%]{margin-top:20px;padding:10px 24px;font-size:1rem;font-weight:600;background:var(--accent-primary);color:#fff;border:none;border-radius:8px;cursor:pointer;transition:all .2s ease}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   .end-battle-btn[_ngcontent-%COMP%]:hover{background:var(--accent-secondary)}.battle-section[_ngcontent-%COMP%]   .battle-result[_ngcontent-%COMP%]   .end-battle-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_battlePulse{0%,to{transform:translate(-50%,-50%) scale(1);opacity:.5}50%{transform:translate(-50%,-50%) scale(1.2);opacity:.3}}@keyframes _ngcontent-%COMP%_playerGlow{0%,to{box-shadow:0 15px 40px #3b82f699,0 0 30px #3b82f666}50%{box-shadow:0 15px 40px #3b82f6cc,0 0 40px #3b82f699}}@keyframes _ngcontent-%COMP%_enemyGlow{0%,to{box-shadow:0 15px 40px #ef444499,0 0 30px #ef444466}50%{box-shadow:0 15px 40px #ef4444cc,0 0 40px #ef444499}}@keyframes _ngcontent-%COMP%_hpPulseLow{0%,to{opacity:1}50%{opacity:.7}}@keyframes _ngcontent-%COMP%_shimmerFlow{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_damageShakeStrong{0%,to{transform:translate(0) rotate(0)}10%{transform:translate(-10px) rotate(-2deg)}20%{transform:translate(10px) rotate(2deg)}30%{transform:translate(-10px) rotate(-2deg)}40%{transform:translate(10px) rotate(2deg)}50%{transform:translate(-8px) rotate(-1deg)}60%{transform:translate(8px) rotate(1deg)}70%{transform:translate(-5px) rotate(-.5deg)}80%{transform:translate(5px) rotate(.5deg)}90%{transform:translate(-2px) rotate(0)}}@keyframes _ngcontent-%COMP%_damageFlash{0%{opacity:0}10%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_damageNumber{0%{transform:translateY(0) scale(.5);opacity:0}20%{transform:translateY(-20px) scale(1.2);opacity:1}80%{transform:translateY(-60px) scale(1);opacity:1}to{transform:translateY(-80px) scale(.8);opacity:0}}@keyframes _ngcontent-%COMP%_vsGlow{0%,to{filter:drop-shadow(0 0 20px rgba(59,130,246,.6));transform:scale(1)}50%{filter:drop-shadow(0 0 30px rgba(59,130,246,.9));transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_sparkle{0%,to{opacity:.5;transform:rotate(0) scale(1)}50%{opacity:1;transform:rotate(180deg) scale(1.2)}}@keyframes _ngcontent-%COMP%_damageShake{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}@keyframes _ngcontent-%COMP%_healPulse{0%,to{transform:scale(1);box-shadow:0 0 #10b98100}50%{transform:scale(1.05);box-shadow:0 0 10px #10b98180}}@keyframes _ngcontent-%COMP%_victoryFlash{0%,to{opacity:1;box-shadow:0 0 10px #fbbf2480}50%{opacity:.8;box-shadow:0 0 20px #fbbf24cc}}@keyframes _ngcontent-%COMP%_resultGlow{0%,to{opacity:.3}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_victoryBounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-10px) scale(1.05)}}@keyframes _ngcontent-%COMP%_celebrate{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(360deg)}}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:.4}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}  .battle-modal-backdrop{background-color:#000000bf!important;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}  .cdk-overlay-dark-backdrop{background-color:#000000bf!important;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100%}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding:20px;background:var(--bg-secondary);border-radius:12px}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:12px;color:var(--accent-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .character-type-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:40px;width:100%}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .character-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{padding:16px 24px;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;color:var(--text-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .character-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--accent-primary);color:#fff;border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:0 4px 12px #0003}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .character-type-buttons[_ngcontent-%COMP%]   .generate-btn.primary[_ngcontent-%COMP%]{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .character-type-buttons[_ngcontent-%COMP%]   .generate-btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--accent-secondary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .character-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{padding:16px;background:var(--danger);color:#fff;border-radius:8px;margin-bottom:20px;text-align:center;font-weight:600}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]{margin-top:30px;background:var(--bg-secondary);padding:28px;border-radius:12px;border:2px solid var(--accent-primary);animation:_ngcontent-%COMP%_slideInUp .4s ease-out;width:100%;box-sizing:border-box}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:24px;color:var(--accent-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px;width:100%}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;background:var(--bg-primary);border-radius:8px}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);margin-right:12px;min-width:60px}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-primary);font-weight:500}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-description[_ngcontent-%COMP%]{margin-bottom:20px}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:12px;color:var(--accent-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:16px;background:var(--bg-primary);border-radius:8px;line-height:1.6;color:var(--text-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-abilities[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]{margin-bottom:20px}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-abilities[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:12px;color:var(--accent-primary)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-abilities[_ngcontent-%COMP%]   .abilities-list[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-abilities[_ngcontent-%COMP%]   .traits-list[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]   .abilities-list[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]   .traits-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-abilities[_ngcontent-%COMP%]   .ability-tag[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-abilities[_ngcontent-%COMP%]   .trait-tag[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]   .ability-tag[_ngcontent-%COMP%], .character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]   .trait-tag[_ngcontent-%COMP%]{padding:8px 16px;background:var(--bg-primary);border:2px solid var(--accent-primary);border-radius:20px;font-weight:600;color:var(--accent-primary);font-size:.95rem}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:30px;width:100%}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:16px 24px;font-size:1.1rem;font-weight:600;border-radius:12px;cursor:pointer;transition:all .3s ease}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #10b98166}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:var(--accent-primary);color:#fff;border:none}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover{background:var(--accent-secondary);transform:translateY(-2px);box-shadow:0 4px 12px #0003}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]{background:var(--bg-primary);color:var(--text-primary);border:2px solid var(--border-color)}.character-creator-panel[_ngcontent-%COMP%]   .character-creator-container[_ngcontent-%COMP%]   .generated-character-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-primary);color:var(--accent-primary);transform:translateY(-2px);box-shadow:0 4px 12px #00000026}@keyframes _ngcontent-%COMP%_aiGlow{0%,to{filter:drop-shadow(0 0 8px rgba(139,92,246,.4))}50%{filter:drop-shadow(0 0 16px rgba(236,72,153,.6))}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.85;transform:scale(1.05)}}.saved-characters-section[_ngcontent-%COMP%]{margin-top:40px;padding:30px;background:linear-gradient(135deg,#8b5cf60d,#3b82f60d);border-radius:20px;border:1px solid rgba(139,92,246,.1)}.saved-characters-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:24px}.saved-characters-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;color:var(--text-primary);margin-bottom:8px;font-weight:700;background:linear-gradient(135deg,#8b5cf6,#3b82f6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.saved-characters-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:16px;padding:24px;box-shadow:0 4px 12px var(--shadow);transition:all .3s ease;cursor:pointer;border:2px solid var(--border-color);position:relative}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #8b5cf64d;border-color:#8b5cf680}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0;flex:1}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ef4444;font-size:24px;cursor:pointer;padding:4px 8px;transition:all .2s ease}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#dc2626}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-meta[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{background:#8b5cf626;color:#a78bfa;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;line-height:1.6;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-traits[_ngcontent-%COMP%]   .trait[_ngcontent-%COMP%]{background:#3b82f626;color:#60a5fa;padding:4px 12px;border-radius:10px;font-size:11px;font-weight:500}.saved-characters-section[_ngcontent-%COMP%]   .characters-grid[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]   .character-footer[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary);padding-top:8px;border-top:1px solid var(--border-color)}.saved-scenarios-section[_ngcontent-%COMP%]{margin-top:40px;padding:30px;background:linear-gradient(135deg,#8b5cf60d,#ec48990d);border-radius:20px;border:1px solid rgba(139,92,246,.1)}.saved-scenarios-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:var(--text-primary);margin-bottom:24px;font-weight:700;background:linear-gradient(135deg,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:16px;padding:24px;box-shadow:0 4px 12px var(--shadow);transition:all .3s ease;cursor:pointer;border:2px solid var(--border-color);position:relative}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #8b5cf64d;border-color:#8b5cf680}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0;flex:1}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ef4444;font-size:24px;cursor:pointer;padding:4px 8px;transition:all .2s ease}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#dc2626}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;line-height:1.6;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#8b5cf626;color:#a78bfa;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:var(--text-secondary);padding-top:12px;border-top:1px solid var(--border-color)}.saved-scenarios-section[_ngcontent-%COMP%]   .scenarios-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{font-weight:600;color:#a78bfa}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100%}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px;background:linear-gradient(135deg,#8b5cf60d,#ec48990d);border-radius:16px;border:2px solid rgba(139,92,246,.1)}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;color:var(--text-primary);margin-bottom:12px;background:linear-gradient(135deg,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .scenario-type-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:40px;width:100%}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .scenario-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{padding:16px 24px;border:2px solid var(--border-color);background:var(--bg-secondary);border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;color:var(--text-primary)}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .scenario-type-buttons[_ngcontent-%COMP%]   .generate-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#ec4899);border-color:transparent;color:#fff}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .scenario-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf64d;border-color:#8b5cf6}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .scenario-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:16px;border-radius:12px;margin-bottom:24px;border:2px solid #fcc;text-align:center;font-weight:500}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]{margin-top:30px;background:var(--bg-secondary);border-radius:20px;padding:32px;box-shadow:0 8px 32px var(--shadow);border:2px solid var(--border-color);width:100%;box-sizing:border-box}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;color:var(--text-primary);margin-bottom:24px;text-align:center;background:linear-gradient(135deg,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;padding:24px;background:linear-gradient(135deg,#8b5cf60d,#ec48990d);border-radius:16px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--text-primary);margin:0}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]{margin-bottom:20px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#8b5cf6;margin-bottom:8px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;font-size:15px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-characters[_ngcontent-%COMP%]{margin-bottom:20px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-characters[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#8b5cf6;margin-bottom:8px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-characters[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-characters[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 16px;background:#8b5cf60d;border-left:3px solid #8b5cf6;margin-bottom:8px;border-radius:8px;color:var(--text-secondary)}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]{margin-bottom:24px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#8b5cf6;margin-bottom:12px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf61a,#ec48991a);color:#8b5cf6;padding:6px 16px;border-radius:20px;font-size:13px;font-weight:500}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:32px;padding-top:24px;border-top:2px solid rgba(139,92,246,.1)}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:16px 24px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #10b98166}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#ec4899);color:#fff}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf666}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.scenario-creator-panel[_ngcontent-%COMP%]   .scenario-creator-container[_ngcontent-%COMP%]   .generated-scenario-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #f59e0b66}.saved-items-section[_ngcontent-%COMP%]{margin-top:40px;padding:30px;background:linear-gradient(135deg,#ffd7000d,#ec48990d);border-radius:20px;border:1px solid rgba(255,215,0,.2)}.saved-items-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:24px}.saved-items-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;color:var(--text-primary);margin-bottom:8px;font-weight:700;background:linear-gradient(135deg,gold,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.saved-items-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:16px;padding:20px;box-shadow:0 4px 12px var(--shadow);transition:all .3s ease;cursor:pointer;border:2px solid var(--border-color);position:relative}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card.grade-legendary[_ngcontent-%COMP%]{border-color:gold;background:linear-gradient(135deg,#ffd7001a,#ffa5001a)}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card.grade-rare[_ngcontent-%COMP%]{border-color:#a855f7;background:linear-gradient(135deg,#a855f71a,#8b5cf61a)}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card.grade-uncommon[_ngcontent-%COMP%]{border-color:#3b82f6;background:linear-gradient(135deg,#3b82f61a,#2563eb1a)}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #ffd7004d}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0;flex:1}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ef4444;font-size:20px;cursor:pointer;padding:4px;transition:all .2s ease}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#dc2626}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:13px;line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981;padding:4px 10px;border-radius:8px;font-size:12px;font-weight:600}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;padding:3px 10px;border-radius:10px;font-size:11px;font-weight:500}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tag.type-tag[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tag.grade-tag[_ngcontent-%COMP%]{background:#ffd70033;color:#d97706;font-weight:600}.saved-items-section[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary);padding-top:8px;border-top:1px solid rgba(0,0,0,.05)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px;background:linear-gradient(135deg,#ffd7000d,#ec48990d);border-radius:16px;border:2px solid rgba(255,215,0,.2)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;color:var(--text-primary);margin-bottom:12px;background:linear-gradient(135deg,gold,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:40px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{padding:16px 24px;border:2px solid rgba(255,215,0,.3);background:var(--bg-secondary);border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;color:var(--text-primary)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.weapon[_ngcontent-%COMP%]{border-color:#ef4444}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.weapon[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#ef44441a,#dc26261a);border-color:#dc2626}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.armor[_ngcontent-%COMP%]{border-color:#3b82f6}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.armor[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#3b82f61a,#2563eb1a);border-color:#2563eb}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.rare[_ngcontent-%COMP%]{border-color:#a855f7}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.rare[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#a855f71a,#8b5cf61a);border-color:#8b5cf6}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.legendary[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ff8c00);border-color:transparent;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.legendary[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #ffd70080}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.consumable[_ngcontent-%COMP%]{border-color:#10b981}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.consumable[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#10b9811a,#0596691a);border-color:#059669}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.special[_ngcontent-%COMP%]{border-color:#ec4899}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn.special[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#ec48991a,#db27771a);border-color:#db2777}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .item-type-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:16px;border-radius:12px;margin-bottom:24px;border:2px solid #fcc;text-align:center;font-weight:500}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]{margin-top:30px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:var(--text-primary);margin-bottom:20px;text-align:center}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:12px;padding:16px;border:2px solid var(--border-color);transition:all .2s ease}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card.grade-common[_ngcontent-%COMP%]{border-color:#9e9e9e}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card.grade-uncommon[_ngcontent-%COMP%]{border-color:#4caf50}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card.grade-rare[_ngcontent-%COMP%]{border-color:#2196f3}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card.grade-epic[_ngcontent-%COMP%]{border-color:#9c27b0}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card.grade-legendary[_ngcontent-%COMP%]{border-color:#ff9800;box-shadow:0 0 15px #ff98004d}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0;flex:1}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:4px;font-size:11px;font-weight:600;white-space:nowrap}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c77c\\bc18[_ngcontent-%COMP%] {background:#9e9e9e;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge.grade-\\ace0\\ae09[_ngcontent-%COMP%] {background:#4caf50;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge.grade-\\d76c\\adc0[_ngcontent-%COMP%] {background:#2196f3;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c601\\c6c5[_ngcontent-%COMP%] {background:#9c27b0;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c804\\c124[_ngcontent-%COMP%], .item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-header[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c2e0\\d654[_ngcontent-%COMP%] {background:linear-gradient(135deg,#ff9800,#f44336);color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);margin-bottom:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-description[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);line-height:1.5;margin-bottom:12px;min-height:60px;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]{padding:4px 8px;background:var(--bg-primary);border-radius:4px;font-size:11px;font-weight:600;color:var(--text-primary)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-actions[_ngcontent-%COMP%]   .save-mini-btn[_ngcontent-%COMP%]{flex:1;padding:8px;background:var(--primary-color);color:#fff;border:none;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-actions[_ngcontent-%COMP%]   .save-mini-btn[_ngcontent-%COMP%]:hover{background:var(--primary-dark);transform:scale(1.02)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%]{padding:14px 32px;background:linear-gradient(135deg,var(--primary-color),var(--primary-dark));color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px #0003;transition:all .3s ease}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000004d}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-items-list[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]{margin-top:30px;background:var(--bg-secondary);border-radius:20px;padding:32px;box-shadow:var(--shadow);border:2px solid var(--border-color);width:100%}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;color:var(--text-primary);margin-bottom:24px;text-align:center;background:linear-gradient(135deg,gold,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;padding:24px;background:linear-gradient(135deg,#ffd7001a,#ec48991a);border-radius:16px;position:relative}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title.grade-legendary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffa50026);border:2px solid rgba(255,215,0,.5);animation:_ngcontent-%COMP%_legendaryGlow 2s ease-in-out infinite}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 12px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .item-grade-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 16px;border-radius:20px;font-size:13px;font-weight:600}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c77c\\bc18[_ngcontent-%COMP%] {background:#9ca3af;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .item-grade-badge.grade-\\ace0\\ae09[_ngcontent-%COMP%] {background:#3b82f6;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .item-grade-badge.grade-\\d76c\\adc0[_ngcontent-%COMP%] {background:#a855f7;color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c804\\c124[_ngcontent-%COMP%] {background:linear-gradient(135deg,gold,#ff8c00);color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .item-grade-badge.grade-\\c2e0\\d654[_ngcontent-%COMP%] {background:linear-gradient(135deg,#ff0080,#7928ca);color:#fff;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-type-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-type-info[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{display:inline-block;padding:8px 20px;background:#3b82f61a;color:#3b82f6;border-radius:20px;font-size:14px;font-weight:600}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:gold;margin-bottom:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;font-size:15px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:gold;margin-bottom:12px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#10b9810d;border-left:3px solid #10b981;border-radius:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;font-weight:500}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#10b981;font-size:16px;font-weight:700}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]{margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:gold;margin-bottom:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 16px;background:#8b5cf60d;border-left:3px solid #8b5cf6;margin-bottom:8px;border-radius:8px;color:var(--text-secondary)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-requirements[_ngcontent-%COMP%]{margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-requirements[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:gold;margin-bottom:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ef4444;font-weight:500;padding:12px;background:#ef44440d;border-left:3px solid #ef4444;border-radius:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-lore[_ngcontent-%COMP%]{margin-bottom:20px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-lore[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:gold;margin-bottom:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-lore[_ngcontent-%COMP%]   .lore-text[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic;padding:16px;background:#8b5cf60d;border-radius:12px;border:2px dashed rgba(139,92,246,.3);line-height:1.8}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]{margin-bottom:24px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:gold;margin-bottom:12px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd7001a,#ec48991a);color:#d97706;padding:6px 16px;border-radius:20px;font-size:13px;font-weight:500}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:32px;padding-top:24px;border-top:2px solid rgba(255,215,0,.2)}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:16px 24px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #10b98166}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ff8c00);color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ffd70066}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.item-creator-panel[_ngcontent-%COMP%]   .item-creator-container[_ngcontent-%COMP%]   .generated-item-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #f59e0b66}.story-creator-panel[_ngcontent-%COMP%]{margin-top:40px;padding:32px;background:var(--bg-secondary);border-radius:24px;border:2px solid var(--border-color);box-shadow:var(--shadow)}.story-creator-panel[_ngcontent-%COMP%]   .creator-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.story-creator-panel[_ngcontent-%COMP%]   .creator-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.story-creator-panel[_ngcontent-%COMP%]   .creator-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.story-creator-panel[_ngcontent-%COMP%]   .creator-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;background:var(--bg-primary);border-radius:12px;font-size:24px;cursor:pointer;transition:all .3s ease;color:var(--text-primary)}.story-creator-panel[_ngcontent-%COMP%]   .creator-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{transform:rotate(90deg);background:#ef4444;color:#fff}.story-creator-panel[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px;background:linear-gradient(135deg,#667eea0d,#764ba20d);border-radius:16px;border:2px solid rgba(102,126,234,.2)}.story-creator-panel[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;color:var(--text-primary);margin-bottom:12px}.story-creator-panel[_ngcontent-%COMP%]   .creator-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:15px;line-height:1.6}.story-creator-panel[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444;padding:16px;border-radius:12px;margin-bottom:24px;border:2px solid rgba(239,68,68,.3);text-align:center;font-weight:500}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:linear-gradient(135deg,#667eea0d,#764ba20d);border-radius:16px;border:2px solid rgba(102,126,234,.2)}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px;font-size:16px;font-weight:600;color:var(--text-primary)}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:20px}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;font-size:18px}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:100%;padding:14px 18px;font-size:16px;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-secondary);color:var(--text-primary);transition:all .3s ease;font-family:inherit}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);opacity:.6}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.story-creator-panel[_ngcontent-%COMP%]   .title-input-section[_ngcontent-%COMP%]   .char-count[_ngcontent-%COMP%]{text-align:right;margin-top:8px;font-size:13px;color:var(--text-secondary)}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]{display:grid;gap:24px;margin-bottom:32px}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;color:var(--text-primary);margin-bottom:16px;font-weight:600;display:flex;align-items:center;gap:8px}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .selection-count[_ngcontent-%COMP%]{font-size:14px;color:#667eea;font-weight:500;padding:4px 12px;background:#667eea1a;border-radius:12px}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .select-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{padding:16px;background:var(--bg-primary);border:2px solid var(--border-color);border-radius:12px;cursor:pointer;transition:all .3s ease}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .select-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea26,#764ba226);border-color:#667eea;box-shadow:0 4px 16px #667eea4d}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary)}.story-creator-panel[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .no-content[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);padding:24px;background:var(--bg-primary);border-radius:12px;font-size:14px}.story-creator-panel[_ngcontent-%COMP%]   .creator-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:32px}.story-creator-panel[_ngcontent-%COMP%]   .creator-actions[_ngcontent-%COMP%]   .generate-story-btn[_ngcontent-%COMP%]{padding:18px 48px;font-size:18px;font-weight:600;border:none;border-radius:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #667eea4d}.story-creator-panel[_ngcontent-%COMP%]   .creator-actions[_ngcontent-%COMP%]   .generate-story-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #667eea80}.story-creator-panel[_ngcontent-%COMP%]   .creator-actions[_ngcontent-%COMP%]   .generate-story-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]{margin-top:32px;padding:32px;background:linear-gradient(135deg,#667eea14,#764ba214);border-radius:20px;border:2px solid rgba(102,126,234,.3)}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#667eea;margin-bottom:24px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:24px;border-radius:16px;margin-bottom:24px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-title[_ngcontent-%COMP%]   .story-icon[_ngcontent-%COMP%]{font-size:36px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;color:var(--text-primary);margin:0}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px;line-height:1.6;margin-bottom:16px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-meta[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;margin-bottom:20px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{padding:8px 16px;background:#667eea1a;border-radius:20px;font-size:14px;color:#667eea;font-weight:500}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-intro[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;color:var(--text-primary);margin-bottom:12px;font-weight:600}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-preview[_ngcontent-%COMP%]   .story-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;margin-bottom:8px;font-size:15px}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 32px;font-size:16px;font-weight:600;border:none;border-radius:12px;cursor:pointer;transition:all .3s ease}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 16px #667eea4d}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 16px #10b9814d}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #10b98180}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:2px solid var(--border-color)}.story-creator-panel[_ngcontent-%COMP%]   .generated-story-result[_ngcontent-%COMP%]   .story-actions[_ngcontent-%COMP%]   .regenerate-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.saved-stories-section[_ngcontent-%COMP%]{margin-top:48px;padding:32px;background:var(--bg-secondary);border-radius:24px;border:2px solid var(--border-color);box-shadow:var(--shadow)}.saved-stories-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.saved-stories-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;color:var(--text-primary);margin-bottom:8px}.saved-stories-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:15px}.saved-stories-section[_ngcontent-%COMP%]   .stories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:16px;padding:24px;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow)}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026;border-color:#667eea}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-header[_ngcontent-%COMP%]   .story-icon-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-header[_ngcontent-%COMP%]   .story-icon-title[_ngcontent-%COMP%]   .story-icon[_ngcontent-%COMP%]{font-size:32px}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-header[_ngcontent-%COMP%]   .story-icon-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:var(--text-primary);margin:0;font-weight:700}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;opacity:.6;transition:all .3s ease;padding:4px 8px}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-header[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.2)}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-meta[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{padding:6px 12px;background:#667eea1a;border-radius:12px;font-size:13px;color:#667eea;font-weight:500}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-description[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;line-height:1.6;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid var(--border-color)}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-footer[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.saved-stories-section[_ngcontent-%COMP%]   .story-card[_ngcontent-%COMP%]   .story-footer[_ngcontent-%COMP%]   .created-by[_ngcontent-%COMP%]{font-size:12px;color:#667eea;font-weight:500}.action-card.premium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd7001a,#ffa5001a);border:2px solid rgba(255,215,0,.3)}.action-card.premium[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:48px;animation:_ngcontent-%COMP%_sparkle 2s ease-in-out infinite}.action-card.premium[_ngcontent-%COMP%]:hover{border-color:gold;box-shadow:0 8px 32px #ffd7004d}.action-card.premium[_ngcontent-%COMP%]   .premium-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ff8c00);color:#fff;font-weight:700;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sparkle{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.1) rotate(5deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_legendaryGlow{0%,to{box-shadow:0 0 20px #ffd7004d}50%{box-shadow:0 0 30px #ffd70099}}.story-flow-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;width:100vw;height:100vh;background:#000000bf;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:block;z-index:99999!important;animation:_ngcontent-%COMP%_fadeIn .3s ease;pointer-events:all}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]{width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;background:var(--bg-primary);border:none;border-radius:0!important;box-shadow:none;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .3s ease;position:relative}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-header[_ngcontent-%COMP%]{padding:20px 48px;background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%);display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid var(--border-color);cursor:default;-webkit-user-select:none;user-select:none;flex-shrink:0}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.7rem;font-weight:700;color:#fff}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;padding:10px 18px;border-radius:8px;font-size:1.3rem;cursor:pointer;transition:all .3s ease}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1) rotate(90deg)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-info[_ngcontent-%COMP%]{padding:24px 48px;background:var(--bg-secondary);border-bottom:2px solid var(--border-color);flex-shrink:0}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--text-secondary);font-size:1.1rem}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-primary);font-weight:600}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-info[_ngcontent-%COMP%]   .flow-stats[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-info[_ngcontent-%COMP%]   .flow-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:12px 20px;background:var(--bg-primary);border:2px solid var(--accent-primary);border-radius:8px;font-size:1.1rem;font-weight:600;color:var(--text-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]{flex:1;padding:48px 60px;overflow-y:auto;background:var(--bg-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d;border-radius:6px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:6px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]{min-height:100%;position:relative}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px;padding:24px;margin-bottom:32px;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;transition:all .3s ease;position:relative}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:0 4px 16px var(--shadow);border-color:var(--accent-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-start[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,var(--bg-secondary) 0%,rgba(16,185,129,.1) 100%)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-start[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-story[_ngcontent-%COMP%]{border-color:#3b82f6;background:linear-gradient(135deg,var(--bg-secondary) 0%,rgba(59,130,246,.1) 100%)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-story[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-choice[_ngcontent-%COMP%]{border-color:#f59e0b;background:linear-gradient(135deg,var(--bg-secondary) 0%,rgba(245,158,11,.1) 100%)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-choice[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-current[_ngcontent-%COMP%]{border-color:var(--accent-primary);background:linear-gradient(135deg,var(--bg-secondary) 0%,rgba(139,92,246,.2) 100%);box-shadow:0 0 20px #8b5cf64d;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node.node-current[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{background:var(--gradient-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0;box-shadow:0 4px 12px var(--shadow)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{flex:1}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary);margin-bottom:6px;line-height:1.4}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-level[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin-bottom:8px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-choices[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-choices[_ngcontent-%COMP%]   .choice-preview[_ngcontent-%COMP%]{padding:8px 12px;margin-bottom:8px;background:var(--bg-primary);border-left:3px solid var(--accent-primary);border-radius:6px;font-size:.9rem;color:var(--text-secondary);transition:all .2s ease}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-choices[_ngcontent-%COMP%]   .choice-preview[_ngcontent-%COMP%]:hover{background:var(--accent-primary);color:#fff;transform:translate(4px)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-choices[_ngcontent-%COMP%]   .choice-preview[_ngcontent-%COMP%]:last-child{margin-bottom:0}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .flow-connector[_ngcontent-%COMP%]{position:absolute;left:40px;bottom:-24px;width:2px;height:24px;background:var(--accent-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-nodes[_ngcontent-%COMP%]   .flow-node[_ngcontent-%COMP%]   .flow-connector[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;bottom:-8px;left:50%;transform:translate(-50%);font-size:.6rem;color:var(--accent-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]{margin-top:32px;padding:20px;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.1rem;color:var(--text-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--bg-primary);border-radius:8px;font-size:.9rem;color:var(--text-primary)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-icon.start[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-icon.story[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-icon.choice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.story-flow-overlay[_ngcontent-%COMP%]   .story-flow-panel[_ngcontent-%COMP%]   .flow-canvas[_ngcontent-%COMP%]   .flow-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-icon.current[_ngcontent-%COMP%]{background:var(--gradient-primary)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 20px #8b5cf64d}50%{box-shadow:0 0 30px #8b5cf699}}.choice-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin:20px 0}.choice-item[_ngcontent-%COMP%]{display:flex;align-items:stretch;gap:8px}.choice-button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px;padding:16px 20px;background:#8b45ff1a;border:2px solid rgba(139,69,255,.3);border-radius:12px;transition:all .3s ease;cursor:pointer;text-align:left;min-width:0}.choice-button[_ngcontent-%COMP%]   .choice-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:#8b45ff33;border-radius:50%;font-weight:700;color:#8b45ff;font-size:14px;flex-shrink:0}.choice-button[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{flex:1;color:var(--text-color);font-size:15px;line-height:1.5;overflow:hidden;text-overflow:ellipsis}.choice-button[_ngcontent-%COMP%]:hover{background:#8b45ff33;border-color:#8b45ff80;transform:translate(8px);box-shadow:0 4px 12px #8b45ff33}.choice-button[_ngcontent-%COMP%]:active{transform:translate(8px) scale(.98)}.link-scenario-btn[_ngcontent-%COMP%]{padding:0;background:transparent;border:2px solid rgba(139,69,255,.5);border-radius:8px;color:#8b45ff;cursor:pointer;transition:all .2s ease;font-size:16px;flex-shrink:0;width:40px;min-width:40px;max-width:40px;display:flex;align-items:center;justify-content:center}.link-scenario-btn[_ngcontent-%COMP%]:hover{background:#8b45ff4d;border-color:#8b45ffb3;transform:scale(1.15);box-shadow:0 2px 8px #8b45ff4d}.link-scenario-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.scenario-link-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:99998;animation:_ngcontent-%COMP%_fadeIn .3s ease}.scenario-link-panel[_ngcontent-%COMP%]{background:#fff;border:2px solid #ced4da;border-radius:16px;padding:24px;width:90%;max-width:1200px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 4px 20px #0000001a;position:relative}.scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:16px;border-bottom:2px solid #e9ecef;cursor:move}.scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]{color:#6c757d;font-size:18px;-webkit-user-select:none;user-select:none}.scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#212529;font-size:20px;font-weight:700;margin:0;display:flex;align-items:center;gap:8px}.scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;color:#212529;cursor:pointer;transition:all .2s ease;font-size:18px;line-height:1}.scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:scale(1.05)}.scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px;background:#f8f9fa;border-radius:8px;border-left:4px solid #0d6efd}.scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#212529;margin:0 0 8px;font-size:15px}.scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0d6efd;font-weight:700}.scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:13px;opacity:.8;color:#6c757d}.scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#8b45ff1a;border-radius:4px}.scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b45ff4d;border-radius:4px}.scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#8b45ff80}.scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:16px;margin-bottom:20px;opacity:.7}.scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]{padding:12px 24px;background:#0d6efd;border:2px solid #0d6efd;border-radius:8px;color:#fff;font-size:15px;cursor:pointer;transition:all .2s ease}.scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover{background:#0b5ed7;border-color:#0b5ed7;transform:translateY(-2px);box-shadow:0 4px 12px #0d6efd4d}.scenario-link-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:16px;border-bottom:2px solid rgba(139,69,255,.2);cursor:move}.scenario-link-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color);font-size:20px;font-weight:700;margin:0;display:flex;align-items:center;gap:8px}.scenario-link-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#8b45ff33;border:1px solid rgba(139,69,255,.3);border-radius:8px;color:var(--text-color);cursor:pointer;transition:all .2s ease}.scenario-link-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#8b45ff4d;transform:scale(1.05)}.scenario-link-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.scenario-link-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scenario-link-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#8b45ff1a;border-radius:4px}.scenario-link-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b45ff4d;border-radius:4px}.scenario-link-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#8b45ff80}.flow-scenario-link-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:2000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.flow-scenario-link-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:24px;width:90%;max-width:1000px;max-height:85vh;padding:32px;box-shadow:0 20px 60px #667eea66,0 0 0 1px #fff3;display:flex;flex-direction:column;gap:24px;position:relative;overflow:hidden}.flow-scenario-link-panel[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_headerGlow 8s ease-in-out infinite;pointer-events:none}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:20px;border-bottom:2px solid rgba(255,255,255,.2);cursor:move;position:relative;z-index:1}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]{font-size:20px;opacity:.5;color:#fff}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:800;margin:0;text-shadow:0 2px 8px rgba(0,0,0,.2)}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:12px;color:#fff;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef444440;border-color:#ef444466;transform:scale(1.1) rotate(90deg)}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;padding:20px;position:relative;z-index:1}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .node-info-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:16px;padding:16px;background:#ffffff1a;border-radius:12px;border:1px solid rgba(255,255,255,.2)}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .node-info-card[_ngcontent-%COMP%]   .node-icon-large[_ngcontent-%COMP%]{font-size:48px;line-height:1}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .node-info-card[_ngcontent-%COMP%]   .node-details[_ngcontent-%COMP%]{flex:1}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .node-info-card[_ngcontent-%COMP%]   .node-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:700;margin:0 0 8px;text-shadow:0 2px 4px rgba(0,0,0,.2)}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .node-info-card[_ngcontent-%COMP%]   .node-details[_ngcontent-%COMP%]   .node-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;background:#fff3;border-radius:12px;color:#fff;font-size:12px;font-weight:600;text-transform:uppercase;margin:0}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .choice-info[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin-bottom:12px;padding:12px;background:#ffffff14;border-radius:8px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .choice-info[_ngcontent-%COMP%]   .choice-label[_ngcontent-%COMP%]{color:#fffc;font-size:13px;font-weight:600}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .choice-info[_ngcontent-%COMP%]   .choice-value[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:700;font-family:monospace}.flow-scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;margin:0;line-height:1.6}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;position:relative;z-index:1}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:5px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:5px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#fff6}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);border:2px solid transparent}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 32px #0003;border-color:#667eea80}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card.linked[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#f0fdf4,#ecfdf5)}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card.linked[_ngcontent-%COMP%]   .linked-badge[_ngcontent-%COMP%]{display:inline-block}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:8px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;font-size:16px;font-weight:700;color:#1a202c;margin:0;line-height:1.4}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%]{padding:4px 10px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px;font-size:11px;font-weight:600;white-space:nowrap}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .linked-badge[_ngcontent-%COMP%]{display:none;padding:4px 10px;background:#10b981;color:#fff;border-radius:12px;font-size:11px;font-weight:700}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]{font-size:13px;color:#4a5568;line-height:1.6;margin-bottom:12px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:8px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{font-size:12px;color:#718096}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.flow-scenario-link-panel[_ngcontent-%COMP%]   .scenario-grid[_ngcontent-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:3px 8px;background:#edf2f7;color:#4a5568;border-radius:6px;font-size:11px;font-weight:600}.flow-scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;background:#ffffff1a;border-radius:16px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin-bottom:20px}.flow-scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]{padding:12px 24px;background:#fff;color:#667eea;border:none;border-radius:12px;font-weight:700;font-size:14px;cursor:pointer;transition:all .3s}.flow-scenario-link-panel[_ngcontent-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0003}.scenario-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}.scenario-card[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #dee2e6;border-radius:12px;padding:16px;cursor:pointer;transition:all .3s ease;position:relative}.scenario-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#adb5bd;transform:translateY(-4px);box-shadow:0 6px 20px #0000001a}.scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#212529;font-size:16px;font-weight:700;margin:0}.scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%]{display:inline-block;align-self:flex-start;padding:4px 8px;background:#0d6efd;border-radius:6px;font-size:12px;color:#fff}.scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]{color:#495057;font-size:13px;line-height:1.5;margin-bottom:12px;opacity:.8;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;opacity:.7}.scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:4px 8px;background:#e9ecef;border-radius:4px;font-size:11px;color:#495057}.scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%]{color:#212529;font-size:16px;font-weight:700;margin:0 0 8px;display:flex;align-items:center;gap:8px}.scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;background:#0d6efd;border-radius:6px;font-size:12px;color:#fff;margin-bottom:8px}.scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]{color:#495057;font-size:13px;line-height:1.5;margin-bottom:12px;opacity:.8;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;font-size:12px;color:#6c757d;opacity:.7}.scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;gap:4px}.scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0d6efd}.scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px}.scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:4px 8px;background:#e9ecef;border-radius:4px;font-size:11px;color:#495057}.scenario-card[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;font-size:20px;opacity:0;transition:opacity .2s ease}.scenario-card[_ngcontent-%COMP%]:hover   .select-icon[_ngcontent-%COMP%]{opacity:1}body.dark-theme[_nghost-%COMP%]   .scenario-link-overlay[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-overlay[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-overlay[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-overlay[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-overlay[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-overlay[_ngcontent-%COMP%]{background:#000000d9!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]{background:#1a1a2e!important;border-color:#2d2d44!important;box-shadow:0 4px 20px #00000080!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]{border-bottom-color:#2d2d44!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .drag-indicator[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f5f5f7!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#f5f5f7!important;background:#2d2d44!important;border-color:#3d3d54!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#3d3d54!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]{background:#2d2d44!important;border-left-color:#0a84ff!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f5f5f7!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0a84ff!important}body.dark-theme[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-link-panel[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]{background:#2d2d44!important;border-color:#3d3d54!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover, [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]:hover{background:#3d3d54!important;border-color:#4d4d64!important;box-shadow:0 6px 20px #0000004d!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f5f5f7!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-header[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%]{background:#0a84ff!important;color:#fff!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]{color:#d1d1d6!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-body[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#3d3d54!important;color:#d1d1d6!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-title[_ngcontent-%COMP%]{color:#f5f5f7!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-genre[_ngcontent-%COMP%]{background:#0a84ff!important;color:#fff!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-description[_ngcontent-%COMP%]{color:#d1d1d6!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0a84ff!important}body.dark-theme[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .scenario-card[_ngcontent-%COMP%]   .scenario-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#3d3d54!important;color:#d1d1d6!important}body.dark-theme[_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8e8e93!important}body.dark-theme[_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]{color:#fff!important;background:#0a84ff!important;border-color:#0a84ff!important}body.dark-theme[_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover, [data-theme=dark][_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .no-scenarios[_ngcontent-%COMP%]   .create-scenario-btn[_ngcontent-%COMP%]:hover{background:#0040dd!important;border-color:#0040dd!important}  .custom-confirm-dialog .mat-mdc-dialog-container{padding:0!important;border-radius:16px!important;box-shadow:0 20px 60px #0000004d!important;overflow:hidden!important}  .custom-confirm-dialog .mdc-dialog__surface{border-radius:16px!important;overflow:hidden!important}  .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:#00000080}.advanced-story-flow-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;width:100vw;height:100vh;background:#000000d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:10000;display:block;animation:_ngcontent-%COMP%_fadeIn .3s ease}.advanced-flow-panel[_ngcontent-%COMP%]{width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;background:var(--bg-primary);border-radius:0!important;box-shadow:none;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .3s ease;position:relative}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:48px}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:24px;opacity:.6}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 12px;color:var(--text-primary)}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 32px;line-height:1.6;font-size:16px}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s;border:none}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   button.primary-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   button.primary-btn[_ngcontent-%COMP%]:hover{background:#5568d3;transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   button.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid #667eea}.advanced-flow-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   button.secondary-btn[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.advanced-flow-header[_ngcontent-%COMP%]{padding:20px 48px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 12px #00000026;flex-shrink:0}.advanced-flow-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:700;display:flex;align-items:center;gap:12px}.advanced-flow-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.95rem;opacity:.9;margin-top:4px}.advanced-flow-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;font-size:1.6rem;width:44px;height:44px;border-radius:50%;cursor:pointer;transition:all .2s}.advanced-flow-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg) scale(1.1)}.flow-toolbar[_ngcontent-%COMP%]{padding:24px 60px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);display:flex;gap:20px;flex-wrap:wrap;align-items:center;flex-shrink:0}.flow-toolbar[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.flow-toolbar[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid var(--border-color);padding-right:20px}.flow-toolbar[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%], .flow-toolbar[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:12px 20px;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-primary);border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.flow-toolbar[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]:hover, .flow-toolbar[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary);transform:translateY(-1px)}.flow-toolbar[_ngcontent-%COMP%]   .tool-btn.active[_ngcontent-%COMP%], .flow-toolbar[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary)}.flow-toolbar[_ngcontent-%COMP%]   .layout-selector[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-primary);border-radius:8px;font-size:14px;cursor:pointer;min-width:120px}.flow-toolbar[_ngcontent-%COMP%]   .layout-selector[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-primary)}.flow-canvas-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%)}.flow-svg-canvas[_ngcontent-%COMP%]{width:100%;height:100%}.flow-svg-canvas[_ngcontent-%COMP%]   .connection-path[_ngcontent-%COMP%]{fill:none;stroke:#cbd5e0;stroke-width:2;opacity:.6;transition:all .3s ease}.flow-svg-canvas[_ngcontent-%COMP%]   .connection-path.visited[_ngcontent-%COMP%]{stroke:#48bb78;stroke-width:3;opacity:.9}.flow-svg-canvas[_ngcontent-%COMP%]   .connection-path.current[_ngcontent-%COMP%]{stroke:#4299e1;stroke-width:4;opacity:1;animation:_ngcontent-%COMP%_pathPulse 2s infinite}.flow-svg-canvas[_ngcontent-%COMP%]   .connection-path[_ngcontent-%COMP%]:hover{stroke-width:4;opacity:1}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]:hover   .node-circle[_ngcontent-%COMP%]{filter:brightness(1.1);transform:scale(1.1)}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node.current[_ngcontent-%COMP%]   .node-circle[_ngcontent-%COMP%]{filter:drop-shadow(0 0 20px #4299e1);animation:_ngcontent-%COMP%_nodeGlow 2s infinite}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node.current[_ngcontent-%COMP%]   .node-glow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glowPulse 2s infinite}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node.visited[_ngcontent-%COMP%]   .node-circle[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(72,187,120,.5))}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node.battle[_ngcontent-%COMP%]   .node-circle[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(252,129,129,.6))}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node.ending[_ngcontent-%COMP%]   .node-circle[_ngcontent-%COMP%]{filter:drop-shadow(0 0 15px rgba(159,122,234,.8))}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]   .node-circle[_ngcontent-%COMP%]{transition:all .3s ease}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]   .node-title[_ngcontent-%COMP%]{fill:var(--text-primary);pointer-events:none}.flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%], .flow-svg-canvas[_ngcontent-%COMP%]   .story-node[_ngcontent-%COMP%]   .visit-count[_ngcontent-%COMP%]{fill:#fff;font-weight:600;pointer-events:none}.minimap[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;width:220px;height:160px;background:#fffffff2;border:2px solid var(--border-color);border-radius:12px;overflow:hidden;box-shadow:0 8px 24px #00000026}.minimap[_ngcontent-%COMP%]   .minimap-title[_ngcontent-%COMP%]{padding:8px 12px;background:var(--accent-primary);color:#fff;font-size:12px;font-weight:600;text-align:center}.minimap[_ngcontent-%COMP%]   .minimap-content[_ngcontent-%COMP%]{height:calc(100% - 36px)}.legend[_ngcontent-%COMP%]{position:absolute;bottom:24px;left:24px;background:#fffffff2;border:2px solid var(--border-color);border-radius:12px;padding:16px;box-shadow:0 8px 24px #00000026;max-width:200px}.legend[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:12px;color:var(--text-primary)}.legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--text-secondary)}.legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;border:2px solid rgba(0,0,0,.1);flex-shrink:0}.node-detail-panel[_ngcontent-%COMP%]{position:absolute;top:50%;right:24px;transform:translateY(-50%);width:350px;max-height:80vh;background:var(--bg-primary);border:2px solid var(--border-color);border-radius:16px;box-shadow:0 12px 40px #0003;overflow:hidden;animation:_ngcontent-%COMP%_slideInRight .3s ease}.node-detail-panel[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]{padding:20px;background:var(--accent-primary);color:#fff;display:flex;justify-content:space-between;align-items:center}.node-detail-panel[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700}.node-detail-panel[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;font-size:20px;width:32px;height:32px;border-radius:50%;cursor:pointer;transition:all .2s}.node-detail-panel[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]{padding:20px;max-height:calc(80vh - 80px);overflow-y:auto}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin:16px 0 8px;color:var(--text-primary)}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-type[_ngcontent-%COMP%]{margin-bottom:16px}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-type[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:var(--bg-secondary);border-radius:20px;font-size:14px;font-weight:600}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-type[_ngcontent-%COMP%]   .type-badge.battle[_ngcontent-%COMP%]{background:#fc818133;color:#c53030}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-type[_ngcontent-%COMP%]   .type-badge.ending[_ngcontent-%COMP%]{background:#9f7aea33;color:#6b46c1}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-type[_ngcontent-%COMP%]   .type-badge.event[_ngcontent-%COMP%]{background:#f6ad5533;color:#dd6b20}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-stats[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-conditions[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-choices[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-battle[_ngcontent-%COMP%]{margin-bottom:20px}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-conditions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-choices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-battle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:var(--text-secondary);line-height:1.6}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-stats[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-conditions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-choices[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-battle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:8px 0;padding-left:20px}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-stats[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-conditions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-choices[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-battle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0;color:var(--text-secondary)}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .more-indicator[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-stats[_ngcontent-%COMP%]   .more-indicator[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-conditions[_ngcontent-%COMP%]   .more-indicator[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-choices[_ngcontent-%COMP%]   .more-indicator[_ngcontent-%COMP%], .node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .detail-battle[_ngcontent-%COMP%]   .more-indicator[_ngcontent-%COMP%]{color:var(--accent-primary);font-style:italic}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border-color)}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--text-secondary)}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:700;color:var(--accent-primary)}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .choice-preview[_ngcontent-%COMP%]{padding:10px 12px;background:var(--bg-secondary);border-radius:8px;margin:8px 0;display:flex;align-items:center;gap:10px}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .choice-preview[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]{font-size:18px}.node-detail-panel[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .choice-preview[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{flex:1;color:var(--text-primary);font-size:14px}.stats-overlay[_ngcontent-%COMP%]{position:absolute;top:24px;right:24px;background:#fffffff2;border:2px solid var(--border-color);border-radius:16px;padding:24px;box-shadow:0 12px 40px #0003;min-width:320px;max-height:calc(100vh - 100px);overflow-y:auto;animation:_ngcontent-%COMP%_slideInRight .3s ease}.stats-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px;font-weight:700;color:var(--text-primary)}.stats-overlay[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:16px 0 12px;font-size:16px;font-weight:600;color:var(--text-primary)}.stats-overlay[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]{margin-bottom:20px}.stats-overlay[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]   .location-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:linear-gradient(135deg,#4299e11a,#4299e10d);border:2px solid #4299e1;border-radius:12px;animation:_ngcontent-%COMP%_nodeGlow 2s ease-in-out infinite}.stats-overlay[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]   .location-card[_ngcontent-%COMP%]   .location-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.stats-overlay[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]   .location-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]{flex:1}.stats-overlay[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]   .location-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   .location-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:4px}.stats-overlay[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]   .location-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   .location-path[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-family:monospace}.stats-overlay[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:20px}.stats-overlay[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{text-align:center;padding:16px;background:var(--bg-primary);border-radius:12px;border:1px solid var(--border-color);transition:all .2s}.stats-overlay[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.stats-overlay[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.stats-overlay[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--accent-primary);margin-bottom:4px}.stats-overlay[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.stats-overlay[_ngcontent-%COMP%]   .path-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.stats-overlay[_ngcontent-%COMP%]   .path-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--bg-primary);border-radius:8px;border:1px solid var(--border-color);font-size:13px;transition:all .2s}.stats-overlay[_ngcontent-%COMP%]   .path-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:hover{background:#4299e10d;border-color:#4299e1}.stats-overlay[_ngcontent-%COMP%]   .path-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.stats-overlay[_ngcontent-%COMP%]   .path-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-node[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);flex-shrink:0}.stats-overlay[_ngcontent-%COMP%]   .path-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-choice[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@keyframes _ngcontent-%COMP%_pathPulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_nodeGlow{0%,to{filter:drop-shadow(0 0 20px #4299e1)}50%{filter:drop-shadow(0 0 30px #4299e1)}}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{opacity:.5;r:50}50%{opacity:.8;r:55}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(40px)}to{opacity:1;transform:translate(0)}}[data-theme=dark][_ngcontent-%COMP%]   .minimap[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .stats-overlay[_ngcontent-%COMP%]{background:#1a202cf2}[data-theme=dark][_ngcontent-%COMP%]   .node-title[_ngcontent-%COMP%]{fill:#e2e8f0}.flow-side-panel[_ngcontent-%COMP%]{position:fixed;top:80px;right:24px;z-index:900;animation:_ngcontent-%COMP%_slideInRight .4s ease;pointer-events:all}.flow-side-panel[_ngcontent-%COMP%]   .panel-container[_ngcontent-%COMP%]{width:300px;background:#fff;border-radius:16px;box-shadow:0 10px 40px #00000026,0 0 0 1px #0000000d;overflow:hidden;display:flex;flex-direction:column;max-height:calc(100vh - 120px)}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px;position:relative;overflow:hidden;box-shadow:0 4px 16px #667eea40}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_headerGlow 8s ease-in-out infinite;pointer-events:none}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:11px;margin-bottom:12px;font-weight:600;position:relative;z-index:1}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:#ffffff26;padding:4px 10px;border-radius:12px;letter-spacing:.5px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]:before{content:"\\1f550";font-size:13px}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:#ffffff26;padding:4px 10px;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:before{content:"\\1f3af";font-size:13px}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:800;letter-spacing:-.5px;text-shadow:0 2px 8px rgba(0,0,0,.2);display:flex;align-items:center;gap:8px}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:6px}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);color:#fff;width:36px;height:36px;border-radius:10px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:before, .flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .4s,height .4s}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover, .flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;border-color:#fff6;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover:before, .flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover:before{width:100%;height:100%}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:active, .flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.flow-side-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef444433;border-color:#ef444466}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px 16px 0;background:transparent;position:relative;z-index:1}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]{padding:0;background:#fff;border-top:1px solid rgba(0,0,0,.08);box-shadow:0 -4px 16px #00000014;gap:0}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{flex:1;padding:14px 20px;background:#fff;border-radius:0;color:#718096;border:none;border-top:3px solid transparent}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:before{display:none}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:24px;display:block;margin-bottom:4px}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:11px;display:block;letter-spacing:.3px}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover:not(.active){background:#f7fafc;color:#4a5568}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover:not(.active)   .tab-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{background:#fff;color:#667eea;border-top-color:#667eea;box-shadow:none}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation.bottom[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{transform:scale(1.2)}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:6px;padding:10px 16px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid transparent;border-radius:12px 12px 0 0;color:#ffffffb3;font-size:14px;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:18px;transition:transform .3s}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.3px}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:0;right:0;height:3px;background:#fff;transform:scaleX(0);transition:transform .3s cubic-bezier(.4,0,.2,1)}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff40;color:#fff}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover:not(.active)   .tab-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{background:#fff;color:#667eea;border-color:#ffffff4d;box-shadow:0 -4px 12px #0000001a}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]:before{transform:scaleX(1)}.flow-side-panel[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{transform:scale(1.15)}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;flex:1;display:flex}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{width:100%;flex-shrink:0;transition:transform .4s cubic-bezier(.4,0,.2,1);overflow-y:auto;overflow-x:hidden}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[_ngcontent-%COMP%]   .tab-content.character-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[_ngcontent-%COMP%]   .tab-content.organization-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[_ngcontent-%COMP%]   .tab-content.map-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=character][_ngcontent-%COMP%]   .character-tab[_ngcontent-%COMP%]{transform:translate(0)}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=character][_ngcontent-%COMP%]   .organization-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=character][_ngcontent-%COMP%]   .map-tab[_ngcontent-%COMP%]{transform:translate(100%)}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=organization][_ngcontent-%COMP%]   .character-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=organization][_ngcontent-%COMP%]   .organization-tab[_ngcontent-%COMP%]{transform:translate(-100%)}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=organization][_ngcontent-%COMP%]   .map-tab[_ngcontent-%COMP%]{transform:translate(100%)}.flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=map][_ngcontent-%COMP%]   .character-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=map][_ngcontent-%COMP%]   .organization-tab[_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .panel-content-slider[data-tab=map][_ngcontent-%COMP%]   .map-tab[_ngcontent-%COMP%]{transform:translate(-200%)}@keyframes _ngcontent-%COMP%_headerGlow{0%,to{transform:translate(0) rotate(0);opacity:.5}50%{transform:translate(-10%,-10%) rotate(180deg);opacity:.8}}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]{padding:20px;background:#fff;margin:0;height:100%;overflow-y:auto}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #667eea4d;flex-shrink:0}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .avatar-icon[_ngcontent-%COMP%]{font-size:32px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .character-basic[_ngcontent-%COMP%]{flex:1}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .character-basic[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:18px;font-weight:800;color:#1a202c;margin-bottom:2px;letter-spacing:-.3px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-header[_ngcontent-%COMP%]   .character-basic[_ngcontent-%COMP%]   .character-level[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#667eea;background:#667eea1a;padding:2px 10px;border-radius:12px;display:inline-block}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row.inline[_ngcontent-%COMP%]{display:flex;gap:12px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row.inline[_ngcontent-%COMP%]   .inline-stat[_ngcontent-%COMP%]{flex:1;background:#fff;padding:10px;border-radius:10px;display:flex;align-items:center;gap:6px;box-shadow:0 2px 6px #0000000d}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row.inline[_ngcontent-%COMP%]   .inline-stat[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:18px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row.inline[_ngcontent-%COMP%]   .inline-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#2d3748}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row.special[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70033,#ffa50033);padding:10px;border-radius:10px;border:2px solid rgba(255,215,0,.3)}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row.special[_ngcontent-%COMP%]   .cultivation-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,orange);color:#1a202c;padding:4px 12px;border-radius:8px;font-size:13px;font-weight:800;box-shadow:0 2px 8px #ffd70066}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;min-width:60px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:18px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]   .stat-icon.hp[_ngcontent-%COMP%]{filter:drop-shadow(0 0 4px rgba(239,68,68,.3))}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]   .stat-icon.mp[_ngcontent-%COMP%]{filter:drop-shadow(0 0 4px rgba(59,130,246,.3))}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#4a5568}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]{height:10px;background:#0000001a;border-radius:20px;overflow:hidden;position:relative;box-shadow:inset 0 2px 4px #0000001a}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar.hp[_ngcontent-%COMP%]   .stat-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626);box-shadow:0 0 8px #ef444499}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar.mp[_ngcontent-%COMP%]   .stat-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb);box-shadow:0 0 8px #3b82f699}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .5s cubic-bezier(.4,0,.2,1);border-radius:20px;position:relative}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(to bottom,rgba(255,255,255,.3),transparent);border-radius:20px 20px 0 0}.flow-side-panel[_ngcontent-%COMP%]   .character-info-card[_ngcontent-%COMP%]   .character-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#4a5568;text-align:right}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]{padding:20px;background:#fff;height:100%;overflow-y:auto}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;border-radius:16px;color:#fff;margin-bottom:20px;box-shadow:0 4px 16px #667eea4d}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-name-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-name-section[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:20px;font-weight:800;margin:0}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-name-section[_ngcontent-%COMP%]   .org-level[_ngcontent-%COMP%]{background:#fff3;padding:4px 12px;border-radius:12px;font-size:13px;font-weight:700}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-stats[_ngcontent-%COMP%]{display:flex;gap:20px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-stats[_ngcontent-%COMP%]   .org-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-stats[_ngcontent-%COMP%]   .org-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;opacity:.8}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .organization-header[_ngcontent-%COMP%]   .org-stats[_ngcontent-%COMP%]   .org-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]{background:#f8fafc;border:2px solid #e2e8f0;border-radius:16px;padding:16px;transition:all .3s;cursor:pointer}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 16px #667eea33;transform:translateY(-2px)}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card.selected[_ngcontent-%COMP%]{border-color:#667eea;background:#eef2ff;box-shadow:0 4px 20px #667eea4d}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;font-size:28px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]{flex:1}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1a202c}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:11px;font-weight:700}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[data-role=leader][_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,orange);color:#1a202c}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[data-role=vice_leader][_ngcontent-%COMP%]{background:linear-gradient(135deg,silver,#a8a8a8);color:#fff}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[data-role=elder][_ngcontent-%COMP%]{background:linear-gradient(135deg,#cd7f32,#b87333);color:#fff}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[data-role=captain][_ngcontent-%COMP%]{background:#667eea;color:#fff}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[data-role=member][_ngcontent-%COMP%], .flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name-row[_ngcontent-%COMP%]   .member-role[data-role=recruit][_ngcontent-%COMP%]{background:#cbd5e0;color:#2d3748}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-level[_ngcontent-%COMP%]{font-size:13px;color:#718096;font-weight:600}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-status[_ngcontent-%COMP%]{padding:6px 12px;border-radius:12px;font-size:11px;font-weight:700}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-status[data-status=active][_ngcontent-%COMP%]{background:#d4edda;color:#155724}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-status[data-status=resting][_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-status[data-status=injured][_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]   .member-status[data-status=on_mission][_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#4a5568;width:40px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]   .mini-stat-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#0000001a;border-radius:10px;overflow:hidden}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]   .mini-stat-bar.hp[_ngcontent-%COMP%]   .mini-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]   .mini-stat-bar.mp[_ngcontent-%COMP%]   .mini-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]   .mini-stat-bar[_ngcontent-%COMP%]   .mini-bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .4s}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-bars[_ngcontent-%COMP%]   .stat-bar-row[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#4a5568;min-width:60px;text-align:right}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px;padding:12px;background:#fff;border-radius:12px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:14px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .loyalty-bar[_ngcontent-%COMP%]{flex:1;height:6px;background:#0000001a;border-radius:10px;overflow:hidden;margin-left:8px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .loyalty-bar[_ngcontent-%COMP%]   .loyalty-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#f59e0b,#ef4444);transition:width .4s}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-skills[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-skills[_ngcontent-%COMP%]   .skill-tag[_ngcontent-%COMP%]{padding:4px 10px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:8px;font-size:11px;font-weight:700}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-description[_ngcontent-%COMP%]{padding:8px;background:#fff;border-radius:8px;border-left:3px solid #667eea}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#4a5568;font-style:italic}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .no-members[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#718096}.flow-side-panel[_ngcontent-%COMP%]   .organization-container[_ngcontent-%COMP%]   .no-members[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:14px}.flow-side-panel[_ngcontent-%COMP%]   .no-organization[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;color:#718096}.flow-side-panel[_ngcontent-%COMP%]   .no-organization[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:14px}.flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#4299e10d;border-bottom:2px solid rgba(66,153,225,.2)}.flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:36px;flex-shrink:0}.flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]{flex:1;min-width:0}.flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#1a202c;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:4px}.flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-path[_ngcontent-%COMP%]{font-size:12px;color:#718096;font-weight:600}.flow-side-panel[_ngcontent-%COMP%]   .mini-flow-map[_ngcontent-%COMP%]{flex:1;min-height:280px;max-height:360px;background:#f8fafc;position:relative;overflow:hidden;border-bottom:1px solid rgba(0,0,0,.05)}.flow-side-panel[_ngcontent-%COMP%]   .mini-flow-map[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block}.flow-side-panel[_ngcontent-%COMP%]   .mini-flow-map[_ngcontent-%COMP%]   .mini-connections[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s}.flow-side-panel[_ngcontent-%COMP%]   .mini-flow-map[_ngcontent-%COMP%]   .mini-nodes[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transition:all .3s}.flow-side-panel[_ngcontent-%COMP%]   .mini-flow-map[_ngcontent-%COMP%]   .mini-nodes[_ngcontent-%COMP%]   circle.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_phonePulse 2s ease-in-out infinite}.flow-side-panel[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:16px;background:#fff;border-bottom:1px solid rgba(0,0,0,.05)}.flow-side-panel[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px}.flow-side-panel[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:22px}.flow-side-panel[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-text[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#2d3748}.flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]{padding:16px;background:#fff}.flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .recent-title[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#718096;margin-bottom:10px;text-transform:uppercase;letter-spacing:.5px}.flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .path-dots[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .path-dots[_ngcontent-%COMP%]   .path-dot[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:10px;background:#edf2f7;font-size:16px;transition:all .2s;cursor:pointer;border:2px solid transparent}.flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .path-dots[_ngcontent-%COMP%]   .path-dot[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.1);box-shadow:0 4px 12px #00000026;border-color:#4299e1}.flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .path-dots[_ngcontent-%COMP%]   .path-dot.current[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4299e1,#3182ce);box-shadow:0 6px 16px #4299e166;transform:translateY(-2px) scale(1.15);border-color:#2b6cb0}.flow-panel-toggle-btn[_ngcontent-%COMP%]{position:fixed;top:80px;right:24px;z-index:899;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:16px;padding:14px 18px;cursor:pointer;box-shadow:0 8px 24px #667eea66,0 0 0 1px #fff3;display:flex;flex-direction:column;align-items:center;gap:6px;transition:all .3s cubic-bezier(.4,0,.2,1);animation:_ngcontent-%COMP%_slideInRight .4s ease,_ngcontent-%COMP%_pulseGlow 3s ease-in-out infinite;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;overflow:hidden}.flow-panel-toggle-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.3) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 3s infinite}.flow-panel-toggle-btn[_ngcontent-%COMP%]:hover{transform:translate(-6px) translateY(-2px) scale(1.08);box-shadow:0 12px 32px #667eea80,0 0 0 1px #fff6}.flow-panel-toggle-btn[_ngcontent-%COMP%]:hover   .toggle-icon[_ngcontent-%COMP%]{transform:scale(1.2) rotate(10deg)}.flow-panel-toggle-btn[_ngcontent-%COMP%]:active{transform:translate(-6px) scale(1.02)}.flow-panel-toggle-btn[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:28px;line-height:1;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;z-index:1}.flow-panel-toggle-btn[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:12px;font-weight:800;letter-spacing:1px;text-transform:uppercase;position:relative;z-index:1}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%) translateY(-100%) rotate(0)}to{transform:translate(100%) translateY(100%) rotate(0)}}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{box-shadow:0 8px 24px #667eea66,0 0 0 1px #fff3}50%{box-shadow:0 8px 32px #667eea99,0 0 0 1px #ffffff4d,0 0 20px #667eea4d}}@keyframes _ngcontent-%COMP%_phonePulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@media (max-width: 1400px){.flow-side-panel[_ngcontent-%COMP%]{display:none}}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .panel-container[_ngcontent-%COMP%]{background:#1a202c;box-shadow:0 10px 40px #0006,0 0 0 1px #ffffff1a}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]{background:#4299e11a;border-bottom-color:#4299e14d}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%]{color:#f7fafc}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .status-path[_ngcontent-%COMP%]{color:#a0aec0}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .mini-flow-map[_ngcontent-%COMP%]{background:#2d3748;border-bottom-color:#ffffff0d}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]{background:#1a202c;border-bottom-color:#ffffff0d}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-text[_ngcontent-%COMP%]{color:#e2e8f0}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]{background:#1a202c}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .recent-title[_ngcontent-%COMP%]{color:#a0aec0}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .path-dot[_ngcontent-%COMP%]{background:#2d3748;border-color:transparent}[data-theme=dark][_ngcontent-%COMP%]   .flow-side-panel[_ngcontent-%COMP%]   .recent-path[_ngcontent-%COMP%]   .path-dot[_ngcontent-%COMP%]:hover{border-color:#4299e1}[data-theme=dark][_ngcontent-%COMP%]   .flow-panel-toggle-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 8px 24px #667eea80,0 0 0 1px #fff3,0 0 30px #667eea4d}[data-theme=dark][_ngcontent-%COMP%]   .flow-panel-toggle-btn[_ngcontent-%COMP%]:hover{box-shadow:0 12px 32px #667eea99,0 0 0 1px #ffffff4d,0 0 40px #667eea66}.wuxia-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:2000;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.wuxia-panel[_ngcontent-%COMP%]{width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;background:var(--bg-primary);border-radius:0!important;box-shadow:none;overflow:hidden;display:flex;flex-direction:column;position:relative}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-header[_ngcontent-%COMP%]{padding:20px 48px;background:linear-gradient(135deg,#667eea,#764ba2);border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;cursor:move;position:relative;z-index:1;box-shadow:0 4px 20px #00000026;flex-shrink:0}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff;margin:0;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:1px;display:flex;align-items:center;gap:12px}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:44px;height:44px;background:#ffffff26;border:1px solid rgba(255,255,255,.2);border-radius:50%;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:rotate(90deg) scale(1.1)}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]{display:flex;padding:20px 40px;gap:12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);overflow-x:auto;position:relative;z-index:1}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000001a;border-radius:3px}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#667eea80;border-radius:3px}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#667eeab3}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{padding:12px 24px;background:transparent;border:2px solid transparent;border-radius:12px;color:var(--text-secondary);font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;white-space:nowrap;display:flex;align-items:center;gap:8px}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover{background:#667eea1a;color:var(--text-primary);border-color:#667eea33}.wuxia-panel[_ngcontent-%COMP%]   .wuxia-tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;color:#fff;box-shadow:0 4px 12px #667eea4d}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:40px;position:relative;z-index:1;background:var(--bg-primary)}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#667eea80;border-radius:4px}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#667eeab3}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--text-primary);margin:0 0 32px;text-align:center;font-weight:700;position:relative;padding-bottom:16px}.wuxia-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80px;height:3px;background:linear-gradient(90deg,transparent,#667eea,transparent);border-radius:2px}.cultivation-section[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:16px;padding:28px;margin-bottom:24px;box-shadow:0 4px 12px #00000014}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-header[_ngcontent-%COMP%]   .gauge-label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:8px}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-header[_ngcontent-%COMP%]   .gauge-label[_ngcontent-%COMP%]:before{content:"\\1f525";font-size:1.4rem}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-header[_ngcontent-%COMP%]   .gauge-value[_ngcontent-%COMP%]{font-size:1.3rem;color:#667eea;font-weight:700;font-variant-numeric:tabular-nums}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-bar[_ngcontent-%COMP%]{height:32px;background:#667eea1a;border-radius:16px;overflow:hidden;border:1px solid rgba(102,126,234,.2);position:relative}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-bar[_ngcontent-%COMP%]   .gauge-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:16px;box-shadow:inset 0 1px #ffffff4d,0 0 20px #667eea80;transition:width .5s ease;position:relative}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-bar[_ngcontent-%COMP%]   .gauge-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 2s infinite}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:20px}.cultivation-section[_ngcontent-%COMP%]   .internal-power-gauge[_ngcontent-%COMP%]   .gauge-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;padding:8px 12px;background:var(--bg-tertiary);border-radius:8px;text-align:center;border:1px solid var(--border-color)}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:16px;padding:28px;margin-bottom:24px;box-shadow:0 4px 12px #00000014}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:20px;background:linear-gradient(135deg,#667eea1a,#764ba21a);border:2px solid rgba(102,126,234,.3);border-radius:12px;margin-bottom:20px;transition:all .3s ease}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #667eea33}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-badge[_ngcontent-%COMP%]   .realm-icon[_ngcontent-%COMP%]{font-size:3rem;filter:drop-shadow(0 4px 8px rgba(102,126,234,.5))}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-badge[_ngcontent-%COMP%]   .realm-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-badge[_ngcontent-%COMP%]   .realm-info[_ngcontent-%COMP%]   .realm-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-badge[_ngcontent-%COMP%]   .realm-info[_ngcontent-%COMP%]   .realm-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);font-weight:500}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1rem;font-weight:600}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:24px;background:#667eea1a;border-radius:12px;overflow:hidden;border:1px solid rgba(102,126,234,.2);position:relative}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:12px;transition:width .5s ease;box-shadow:inset 0 1px #ffffff4d}.cultivation-section[_ngcontent-%COMP%]   .realm-display[_ngcontent-%COMP%]   .realm-progress[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;text-align:right;font-variant-numeric:tabular-nums}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:24px}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]{padding:24px;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;color:var(--text-primary);font-size:1.05rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:12px;position:relative;overflow:hidden}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(102,126,234,.2),transparent);transition:left .5s ease}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:2.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#667eea1a,#764ba21a);border-color:#667eea;transform:translateY(-4px);box-shadow:0 8px 24px #667eea40}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]:hover:before{left:100%}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]:hover   .btn-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.cultivation-section[_ngcontent-%COMP%]   .cultivation-actions[_ngcontent-%COMP%]   .cultivation-btn[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.cultivation-section[_ngcontent-%COMP%]   .training-level[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:24px;display:flex;flex-direction:column;gap:12px;box-shadow:0 4px 12px #00000014}.cultivation-section[_ngcontent-%COMP%]   .training-level[_ngcontent-%COMP%]   .training-label[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:1.1rem}.cultivation-section[_ngcontent-%COMP%]   .training-level[_ngcontent-%COMP%]   .training-bar[_ngcontent-%COMP%]{height:28px;background:#667eea1a;border-radius:14px;overflow:hidden;border:1px solid rgba(102,126,234,.2)}.cultivation-section[_ngcontent-%COMP%]   .training-level[_ngcontent-%COMP%]   .training-bar[_ngcontent-%COMP%]   .training-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:14px;transition:width .5s ease;box-shadow:inset 0 1px #ffffff4d}.cultivation-section[_ngcontent-%COMP%]   .training-level[_ngcontent-%COMP%]   .training-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;text-align:right;font-variant-numeric:tabular-nums}.skills-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.skills-section[_ngcontent-%COMP%]   .learned-skills-count[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px}.skills-section[_ngcontent-%COMP%]   .learned-skills-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.2rem;font-weight:700}.skills-section[_ngcontent-%COMP%]   .learned-skills-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea;font-size:1.4rem}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:16px;padding:24px;transition:all .3s ease;position:relative;overflow:hidden}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2);transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\d558\\c2b9[_ngcontent-%COMP%] {border-color:#9ca3af80}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\d558\\c2b9[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-grade[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3af,#6b7280)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\c911\\c2b9[_ngcontent-%COMP%] {border-color:#3b82f680}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\c911\\c2b9[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-grade[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\c0c1\\c2b9[_ngcontent-%COMP%] {border-color:#a855f780}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\c0c1\\c2b9[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-grade[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#9333ea)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\c808\\d559[_ngcontent-%COMP%] {border-color:#fbbf2480}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card.grade-\\c808\\d559[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-grade[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24,#f59e0b)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 32px #667eea40;border-color:#667eea}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-names[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-names[_ngcontent-%COMP%]   .skill-name-chinese[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;line-height:1.2}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-names[_ngcontent-%COMP%]   .skill-name-korean[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);margin:0;font-weight:500}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-grade[_ngcontent-%COMP%]{padding:8px 16px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;color:#fff;font-size:.9rem;font-weight:700;white-space:nowrap;box-shadow:0 2px 8px #667eea4d}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-type[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:16px;padding:12px;background:var(--bg-tertiary);border-radius:10px;border:1px solid var(--border-color)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-type[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{font-size:1.5rem}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-type[_ngcontent-%COMP%]   .type-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem;font-weight:600}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:16px}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 12px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;transition:all .2s ease}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]:hover{background:#667eea1a;border-color:#667eea4d}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;font-weight:500}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:1rem}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-description[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px;background:var(--bg-tertiary);border-radius:10px;border-left:3px solid #667eea}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.95rem;margin:0 0 10px;line-height:1.6}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-description[_ngcontent-%COMP%]   .skill-effect[_ngcontent-%COMP%]{color:#667eea;font-style:italic;font-weight:600}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-element[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;margin-bottom:10px;padding:8px 14px;background:#667eea26;border-radius:20px;border:1px solid rgba(102,126,234,.3)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-element[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{font-size:1.2rem}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-element[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9rem;font-weight:600;text-transform:uppercase}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-faction[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--bg-tertiary);border-radius:8px;border:1px solid var(--border-color)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-faction[_ngcontent-%COMP%]   .faction-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-faction[_ngcontent-%COMP%]   .faction-name[_ngcontent-%COMP%]{color:#667eea;font-weight:700;font-size:.95rem}.skills-section[_ngcontent-%COMP%]   .no-skills[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:var(--bg-secondary);border-radius:16px;border:2px dashed var(--border-color)}.skills-section[_ngcontent-%COMP%]   .no-skills[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.2rem;margin:12px 0}.faction-section[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.faction-section[_ngcontent-%COMP%]   .current-faction[_ngcontent-%COMP%]{margin-bottom:40px}.faction-section[_ngcontent-%COMP%]   .current-faction[_ngcontent-%COMP%]   .faction-card.current[_ngcontent-%COMP%]{border-width:3px;box-shadow:0 0 30px #c3143266}.faction-section[_ngcontent-%COMP%]   .no-faction[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:var(--bg-secondary);border-radius:16px;border:2px dashed var(--border-color);margin-bottom:40px}.faction-section[_ngcontent-%COMP%]   .no-faction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.2rem;margin-bottom:24px;font-weight:500}.faction-section[_ngcontent-%COMP%]   .no-faction[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.4rem;margin-bottom:24px;font-weight:700}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:24px}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:16px;padding:28px;transition:all .3s ease;position:relative;overflow:hidden}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-righteous[_ngcontent-%COMP%]{border-color:#3b82f680}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-righteous[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#3b82f6,#2563eb)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-righteous[_ngcontent-%COMP%]:hover{box-shadow:0 12px 32px #3b82f640;border-color:#3b82f6}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-evil[_ngcontent-%COMP%]{border-color:#ef444480}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-evil[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ef4444,#dc2626)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-evil[_ngcontent-%COMP%]:hover{box-shadow:0 12px 32px #ef444440;border-color:#ef4444}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-neutral[_ngcontent-%COMP%]{border-color:#9ca3af80}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-neutral[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9ca3af,#6b7280)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card.type-neutral[_ngcontent-%COMP%]:hover{box-shadow:0 12px 32px #9ca3af40;border-color:#9ca3af}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-header[_ngcontent-%COMP%]{margin-bottom:20px}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;color:var(--text-primary);margin:0 0 8px;line-height:1.2}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-header[_ngcontent-%COMP%]   .faction-name-korean[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin:0;font-weight:500}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-type[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px 18px;border-radius:20px;font-size:.95rem;font-weight:700;margin-bottom:20px}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-type.type-righteous[_ngcontent-%COMP%]{background:#3b82f626;color:#3b82f6;border:1px solid rgba(59,130,246,.3)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-type.type-evil[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-type.type-neutral[_ngcontent-%COMP%]{background:#9ca3af26;color:#9ca3af;border:1px solid rgba(156,163,175,.3)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-info[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px;background:var(--bg-tertiary);border-radius:12px;border-left:3px solid #667eea}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-primary);line-height:1.7;margin:0 0 12px;font-size:.95rem}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea;font-weight:700}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-specialties[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-specialties[_ngcontent-%COMP%]   .specialty-badge[_ngcontent-%COMP%]{padding:8px 16px;background:#667eea26;border:1px solid rgba(102,126,234,.3);border-radius:20px;color:#667eea;font-size:.85rem;font-weight:600;transition:all .2s ease}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-specialties[_ngcontent-%COMP%]   .specialty-badge[_ngcontent-%COMP%]:hover{background:#667eea40;transform:translateY(-2px)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-reputation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-tertiary);border-radius:10px;border:1px solid var(--border-color)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-reputation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600;font-size:.9rem;white-space:nowrap}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-reputation[_ngcontent-%COMP%]   .reputation-bar[_ngcontent-%COMP%]{flex:1;height:12px;background:#667eea1a;border-radius:6px;overflow:hidden;border:1px solid rgba(102,126,234,.2)}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .faction-reputation[_ngcontent-%COMP%]   .reputation-bar[_ngcontent-%COMP%]   .reputation-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .5s ease;box-shadow:inset 0 1px #ffffff4d}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .join-faction-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:1.05rem;font-weight:700;cursor:pointer;transition:all .3s ease;margin-top:16px}.faction-section[_ngcontent-%COMP%]   .factions-grid[_ngcontent-%COMP%]   .faction-card[_ngcontent-%COMP%]   .join-faction-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.elixir-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:16px;padding:24px;transition:all .3s ease;position:relative;overflow:hidden}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\d558\\d488[_ngcontent-%COMP%] {border-color:#9ca3af80}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\d558\\d488[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9ca3af,#6b7280)}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\c911\\d488[_ngcontent-%COMP%] {border-color:#3b82f680}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\c911\\d488[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#3b82f6,#2563eb)}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\c0c1\\d488[_ngcontent-%COMP%] {border-color:#a855f780}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\c0c1\\d488[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#a855f7,#9333ea)}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\adf9\\d488[_ngcontent-%COMP%] {border-color:#fbbf2480}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card.grade-\\adf9\\d488[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#fbbf24,#f59e0b)}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 32px #667eea40;border-color:#667eea}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-header[_ngcontent-%COMP%]   .elixir-names[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-header[_ngcontent-%COMP%]   .elixir-names[_ngcontent-%COMP%]   .elixir-chinese[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:800;color:var(--text-primary);margin:0;line-height:1.2}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-header[_ngcontent-%COMP%]   .elixir-names[_ngcontent-%COMP%]   .elixir-korean[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin:0;font-weight:500}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-header[_ngcontent-%COMP%]   .elixir-grade[_ngcontent-%COMP%]{padding:8px 14px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;color:#fff;font-size:.85rem;font-weight:700;white-space:nowrap;box-shadow:0 2px 8px #667eea4d}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-type[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{padding:8px 14px;background:#667eea26;border:1px solid rgba(102,126,234,.3);border-radius:20px;color:#667eea;font-size:.85rem;font-weight:600}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-type[_ngcontent-%COMP%]   .rarity-stars[_ngcontent-%COMP%]{display:flex;gap:4px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-type[_ngcontent-%COMP%]   .rarity-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:1rem;filter:drop-shadow(0 2px 4px rgba(251,191,36,.5))}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-description[_ngcontent-%COMP%]{margin-bottom:16px;padding:14px;background:var(--bg-tertiary);border-radius:10px;border-left:3px solid #667eea}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.95rem;line-height:1.6;margin:0}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-effects[_ngcontent-%COMP%]{margin-bottom:16px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-effects[_ngcontent-%COMP%]   .effect-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;margin-bottom:8px;transition:all .2s ease}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-effects[_ngcontent-%COMP%]   .effect-item[_ngcontent-%COMP%]:hover{background:#667eea1a;border-color:#667eea4d}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-effects[_ngcontent-%COMP%]   .effect-item[_ngcontent-%COMP%]   .effect-icon[_ngcontent-%COMP%]{font-size:1.2rem}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-effects[_ngcontent-%COMP%]   .effect-item[_ngcontent-%COMP%]   .effect-text[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9rem;font-weight:500}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:10px;margin-bottom:16px}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:1.3rem}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{color:#ef4444;font-size:.9rem;font-weight:600}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid var(--border-color)}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-footer[_ngcontent-%COMP%]   .elixir-price[_ngcontent-%COMP%]{color:gold;font-weight:700;font-size:1.1rem}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-footer[_ngcontent-%COMP%]   .use-elixir-btn[_ngcontent-%COMP%]{padding:8px 20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.elixir-section[_ngcontent-%COMP%]   .elixir-inventory[_ngcontent-%COMP%]   .elixir-card[_ngcontent-%COMP%]   .elixir-footer[_ngcontent-%COMP%]   .use-elixir-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #667eea66}.elixir-section[_ngcontent-%COMP%]   .no-elixir[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.elixir-section[_ngcontent-%COMP%]   .no-elixir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff9;font-size:1.1rem}.meridians-section[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.meridians-section[_ngcontent-%COMP%]   .meridian-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;padding:20px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.meridians-section[_ngcontent-%COMP%]   .meridian-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.2rem;font-weight:700;margin:0}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px;height:600px;margin:0 auto 40px;background:radial-gradient(circle,rgba(102,126,234,.05) 0%,transparent 70%);border-radius:50%;border:2px solid rgba(102,126,234,.2);box-shadow:0 8px 32px #667eea1a}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]   .meridian-point[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%)}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]   .meridian-point[_ngcontent-%COMP%]   .point-circle[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;background:var(--bg-secondary);border:2px solid var(--border-color);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0000001a}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]   .meridian-point[_ngcontent-%COMP%]   .point-circle[_ngcontent-%COMP%]   .point-number[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:800;font-size:1.3rem}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]   .meridian-point.opened[_ngcontent-%COMP%]   .point-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent;box-shadow:0 0 0 4px #667eea33,0 8px 24px #667eea66}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]   .meridian-point.opened[_ngcontent-%COMP%]   .point-circle[_ngcontent-%COMP%]   .point-number[_ngcontent-%COMP%]{color:#fff}.meridians-section[_ngcontent-%COMP%]   .meridian-diagram[_ngcontent-%COMP%]   .meridian-point[_ngcontent-%COMP%]:hover   .point-circle[_ngcontent-%COMP%]{transform:scale(1.15);box-shadow:0 8px 24px #667eea4d}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:transparent;transition:background .3s ease}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item.opened[_ngcontent-%COMP%]{border-color:#667eea80;background:#667eea0d}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item.opened[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,#667eea,#764ba2)}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]:hover{transform:translate(6px);box-shadow:0 8px 24px #667eea33;border-color:#667eea}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-number[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#667eea26;border:2px solid rgba(102,126,234,.3);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--text-primary);font-size:1.2rem;flex-shrink:0}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]{flex:1}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--text-primary);margin:0 0 8px;font-weight:700}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 12px;line-height:1.5}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   .meridian-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   .meridian-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{flex:1;height:14px;background:#667eea1a;border-radius:7px;overflow:hidden;border:1px solid rgba(102,126,234,.2)}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   .meridian-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .5s ease;box-shadow:inset 0 1px #ffffff4d}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   .meridian-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9rem;font-weight:600;font-variant-numeric:tabular-nums}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   .meridian-bonus[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-details[_ngcontent-%COMP%]   .meridian-bonus[_ngcontent-%COMP%]   .bonus-item[_ngcontent-%COMP%]{padding:6px 14px;background:#667eea26;border:1px solid rgba(102,126,234,.3);border-radius:20px;color:#667eea;font-size:.85rem;font-weight:600}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-status[_ngcontent-%COMP%]{flex-shrink:0}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-status[_ngcontent-%COMP%]   .status-opened[_ngcontent-%COMP%]{color:#667eea;font-weight:700;font-size:1.1rem}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-status[_ngcontent-%COMP%]   .open-btn[_ngcontent-%COMP%]{padding:12px 28px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-weight:700;font-size:1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #667eea4d}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-status[_ngcontent-%COMP%]   .open-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.meridians-section[_ngcontent-%COMP%]   .meridian-list[_ngcontent-%COMP%]   .meridian-item[_ngcontent-%COMP%]   .meridian-status[_ngcontent-%COMP%]   .open-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}.battle-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;padding:20px;background:#0003;border-radius:12px;margin:16px 0}.battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:16px 12px;background:linear-gradient(135deg,#667eea33,#764ba233);border:2px solid rgba(102,126,234,.5);border-radius:10px;color:#fff;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:6px}.battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.8rem}.battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem}.battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 20px #667eea66}.battle-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.battle-actions[_ngcontent-%COMP%]   .action-btn.attack-btn[_ngcontent-%COMP%]{border-color:#ff646480;background:linear-gradient(135deg,#ff646433,#c3143233)}.battle-actions[_ngcontent-%COMP%]   .action-btn.attack-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #ff646466}.battle-actions[_ngcontent-%COMP%]   .action-btn.skill-btn[_ngcontent-%COMP%]{border-color:#8a2be280;background:linear-gradient(135deg,#8a2be233,#667eea33)}.battle-actions[_ngcontent-%COMP%]   .action-btn.skill-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #8a2be266}.battle-actions[_ngcontent-%COMP%]   .action-btn.defend-btn[_ngcontent-%COMP%]{border-color:#64c8ff80;background:linear-gradient(135deg,#64c8ff33,#409cff33)}.battle-actions[_ngcontent-%COMP%]   .action-btn.defend-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #64c8ff66}.battle-actions[_ngcontent-%COMP%]   .action-btn.potion-btn[_ngcontent-%COMP%]{border-color:#32cd3280;background:linear-gradient(135deg,#32cd3233,#228b2233)}.battle-actions[_ngcontent-%COMP%]   .action-btn.potion-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #32cd3266}.martial-skills-section[_ngcontent-%COMP%]{padding:20px;background:#0000004d;border:2px solid rgba(195,20,50,.3);border-radius:12px;margin:16px 0}.martial-skills-section[_ngcontent-%COMP%]   .skills-title[_ngcontent-%COMP%]{font-size:1.3rem;color:gold;margin:0 0 16px;text-align:center;text-shadow:0 0 10px rgba(255,215,0,.5)}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]{padding:14px;background:#0006;border:2px solid rgba(255,255,255,.2);border-radius:10px;color:#fff;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;gap:8px;position:relative;overflow:hidden}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,transparent 0%,rgba(255,215,0,.1) 100%);opacity:0;transition:opacity .3s ease}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:1}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn.grade-\\d558\\c2b9[_ngcontent-%COMP%] {border-color:#96969666}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn.grade-\\c911\\c2b9[_ngcontent-%COMP%] {border-color:#64c8ff66}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn.grade-\\c0c1\\c2b9[_ngcontent-%COMP%] {border-color:#8a2be280;box-shadow:0 0 10px #8a2be233}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn.grade-\\c808\\d559[_ngcontent-%COMP%] {border-color:#ffd70099;box-shadow:0 0 15px #ffd7004d;animation:_ngcontent-%COMP%_skillPulse 2s ease-in-out infinite}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-4px);box-shadow:0 8px 25px #c3143266}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.7)}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]:disabled:after{content:"\\b0b4\\acf5  \\bd80\\c871";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#000c;padding:4px 8px;border-radius:4px;font-size:.75rem;color:#ff6464;white-space:nowrap}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;position:relative;z-index:1}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]   .skill-chinese[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:gold;text-shadow:0 0 8px rgba(255,215,0,.4)}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]   .skill-korean[_ngcontent-%COMP%]{font-size:.85rem;color:#fffc}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-cost[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;padding:4px 8px;background:#c314324d;border-radius:6px;position:relative;z-index:1}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-cost[_ngcontent-%COMP%]   .cost-icon[_ngcontent-%COMP%]{font-size:1rem}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-cost[_ngcontent-%COMP%]   .cost-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#ff9696}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-damage[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;position:relative;z-index:1}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-damage[_ngcontent-%COMP%]   .damage-icon[_ngcontent-%COMP%]{font-size:1rem}.martial-skills-section[_ngcontent-%COMP%]   .martial-skills-grid[_ngcontent-%COMP%]   .martial-skill-btn[_ngcontent-%COMP%]   .skill-damage[_ngcontent-%COMP%]   .damage-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#ffc864}.internal-power-bar[_ngcontent-%COMP%]{margin-top:8px}.internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:4px}.internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-name[_ngcontent-%COMP%]{font-weight:600;color:#ff9696;text-shadow:0 0 5px rgba(255,100,100,.5)}.internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-text[_ngcontent-%COMP%]{font-size:.85rem;color:#ffffffe6}.internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{height:12px;background:#00000080;border-radius:6px;overflow:hidden;border:1px solid rgba(255,100,100,.3)}.internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.internal-power[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff6b6b,gold,#ff6b6b);background-size:200% 100%;animation:powerFlow 3s ease-in-out infinite;box-shadow:0 0 10px #ffd70066}@keyframes _ngcontent-%COMP%_skillPulse{0%,to{box-shadow:0 0 10px #ffd70033}50%{box-shadow:0 0 25px #ffd70080}}.epic-battle[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);border-radius:20px;box-shadow:0 30px 80px #0009,inset 0 0 80px #8a2be21a}.epic-battle[_ngcontent-%COMP%]   .battle-background[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;overflow:hidden}.epic-battle[_ngcontent-%COMP%]   .battle-background[_ngcontent-%COMP%]   .battle-particles[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-image:radial-gradient(2px 2px at 20% 30%,rgba(255,255,255,.3),transparent),radial-gradient(2px 2px at 60% 70%,rgba(138,43,226,.3),transparent),radial-gradient(1px 1px at 50% 50%,rgba(255,215,0,.3),transparent),radial-gradient(1px 1px at 80% 10%,rgba(195,20,50,.3),transparent);background-size:200% 200%,180% 180%,220% 220%,190% 190%;animation:_ngcontent-%COMP%_particleFloat 20s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-background[_ngcontent-%COMP%]   .battle-glow[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:radial-gradient(circle at 50% 50%,rgba(138,43,226,.15) 0%,transparent 70%);animation:_ngcontent-%COMP%_glowPulse 4s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]{position:relative;z-index:1;padding:24px 32px;background:linear-gradient(135deg,#8a2be24d,#c314324d);border-bottom:3px solid rgba(255,215,0,.3);display:flex;justify-content:space-between;align-items:center}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#fff;margin:0;display:flex;align-items:center;gap:16px;text-shadow:0 0 20px rgba(255,215,0,.6),0 0 40px rgba(138,43,226,.4);animation:_ngcontent-%COMP%_titlePulse 2s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .battle-title-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_iconSpin 3s linear infinite}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   .turn-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 24px;background:#0006;border-radius:12px;border:2px solid rgba(255,215,0,.3)}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   .turn-indicator[_ngcontent-%COMP%]   .turn-label[_ngcontent-%COMP%]{color:#ffffffb3;font-size:1rem;font-weight:600}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   .turn-indicator[_ngcontent-%COMP%]   .turn-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:800;padding:4px 12px;border-radius:6px;transition:all .3s ease}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   .turn-indicator[_ngcontent-%COMP%]   .turn-value.player-turn[_ngcontent-%COMP%]{color:#64c8ff;background:#64c8ff33;box-shadow:0 0 20px #64c8ff66;animation:_ngcontent-%COMP%_turnGlow 1s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-header[_ngcontent-%COMP%]   .turn-indicator[_ngcontent-%COMP%]   .turn-value.enemy-turn[_ngcontent-%COMP%]{color:#ff6464;background:#ff646433;box-shadow:0 0 20px #ff646466;animation:_ngcontent-%COMP%_turnGlow 1s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-arena[_ngcontent-%COMP%]{position:relative;z-index:1;padding:40px 20px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;gap:40px;max-width:1200px;margin:0 auto}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]{flex:1;max-width:400px;position:relative;transition:all .5s cubic-bezier(.68,-.55,.265,1.55)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.active[_ngcontent-%COMP%]{transform:scale(1.05)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.active[_ngcontent-%COMP%]   .character-glow[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_activeGlow 1.5s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.taking-damage[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shakeDamage .5s ease-in-out}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character.attacking[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_attackPulse .8s ease-out}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-glow[_ngcontent-%COMP%]{position:absolute;inset:-20px;background:radial-gradient(circle,rgba(100,200,255,.3) 0%,transparent 70%);border-radius:50%;opacity:0;transition:opacity .5s ease;pointer-events:none}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-glow.enemy-glow[_ngcontent-%COMP%]{background:radial-gradient(circle,rgba(255,100,100,.3) 0%,transparent 70%)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e3ce6,#141428e6);border-radius:20px;padding:24px;border:3px solid rgba(100,200,255,.3);box-shadow:0 20px 60px #00000080,inset 0 0 40px #64c8ff0d;position:relative;overflow:hidden}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.05) 50%,transparent 70%);animation:_ngcontent-%COMP%_cardShine 3s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-card.enemy-card[_ngcontent-%COMP%]{border-color:#ff64644d;box-shadow:0 20px 60px #00000080,inset 0 0 40px #ff64640d}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto 16px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:3px solid rgba(100,200,255,.5);border-radius:50%;animation:_ngcontent-%COMP%_ringRotate 4s linear infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]:before, .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;background:#64c8ff;border-radius:50%;box-shadow:0 0 15px #64c8ffcc}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]:before{top:0;left:50%;transform:translate(-50%)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]:after{bottom:0;left:50%;transform:translate(-50%)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring.enemy-ring[_ngcontent-%COMP%]{border-color:#ff646480}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring.enemy-ring[_ngcontent-%COMP%]:before, .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .avatar-ring.enemy-ring[_ngcontent-%COMP%]:after{background:#ff6464;box-shadow:0 0 15px #ff6464cc}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]{font-size:5rem;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:radial-gradient(circle,rgba(138,43,226,.2) 0%,transparent 70%);border-radius:50%;filter:drop-shadow(0 0 20px rgba(138,43,226,.5));animation:_ngcontent-%COMP%_avatarFloat 3s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-avatar-container[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:linear-gradient(135deg,gold,#ff6b6b);color:#fff;font-weight:800;font-size:.9rem;padding:4px 12px;border-radius:20px;box-shadow:0 4px 15px #ffd70066;animation:_ngcontent-%COMP%_badgePulse 2s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:800;color:#fff;text-align:center;margin-bottom:20px;text-shadow:0 0 10px rgba(100,200,255,.5),0 2px 4px rgba(0,0,0,.5);letter-spacing:2px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-icon[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-icon[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-icon[_ngcontent-%COMP%]{font-size:1.2rem;filter:drop-shadow(0 0 5px currentColor)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-name[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-name[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;margin-left:8px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-text[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-text[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]   .bar-text[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#ffffffe6}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{height:16px;background:#0009;border-radius:10px;overflow:hidden;border:2px solid rgba(255,255,255,.2);position:relative;box-shadow:inset 0 2px 8px #00000080}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;position:relative;transition:width .5s cubic-bezier(.68,-.55,.265,1.55)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]   .bar-shine[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]   .bar-shine[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]   .bar-shine[_ngcontent-%COMP%]{position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);animation:_ngcontent-%COMP%_barShine 2s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff6b6b,#ee5a6f);box-shadow:0 0 15px #ff6b6b80}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.low[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.low[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.low[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hpWarning 1s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.critical[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.critical[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.critical[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hpCritical .5s ease-in-out infinite;box-shadow:0 0 25px #f00c}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.enemy-hp[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.enemy-hp[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.hp.enemy-hp[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c31432,#8e0000)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.mp[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.mp[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.mp[_ngcontent-%COMP%]{background:linear-gradient(90deg,#667eea,#764ba2);box-shadow:0 0 15px #667eea80}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .hp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.internal-power[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .mp-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.internal-power[_ngcontent-%COMP%], .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .internal-power-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill.internal-power[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff6b6b,gold,#ff6b6b);background-size:200% 100%;box-shadow:0 0 15px #ffd70099;animation:powerFlow 3s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:12px;margin-top:16px}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:#0000004d;border-radius:10px;border:2px solid rgba(255,255,255,.1)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.3rem;filter:drop-shadow(0 0 5px currentColor)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-character[_ngcontent-%COMP%]   .character-stats-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:800;color:#fff;text-shadow:0 0 10px rgba(255,255,255,.5)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]{width:100px;height:100px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 0 40px #667eea99,inset 0 0 20px #fff3;animation:_ngcontent-%COMP%_vsRotate 4s linear infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]:before, .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;border-radius:50%}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]:before{inset:-10px;border:3px dashed rgba(255,215,0,.5);animation:_ngcontent-%COMP%_ringRotate 6s linear infinite reverse}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]:after{inset:-20px;border:2px dotted rgba(255,255,255,.3);animation:_ngcontent-%COMP%_ringRotate 8s linear infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]   .vs-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;color:#fff;text-shadow:0 0 20px rgb(255,215,0),0 0 40px rgba(138,43,226,.8);animation:_ngcontent-%COMP%_vsScale 2s ease-in-out infinite;z-index:1}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]   .vs-lightning[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]   .vs-lightning[_ngcontent-%COMP%]:before, .epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]   .vs-lightning[_ngcontent-%COMP%]:after{content:"\\26a1";position:absolute;font-size:1.5rem;animation:_ngcontent-%COMP%_lightningFlash 2s ease-in-out infinite}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]   .vs-lightning[_ngcontent-%COMP%]:before{top:-10px;left:50%;transform:translate(-50%)}.epic-battle[_ngcontent-%COMP%]   .battle-characters[_ngcontent-%COMP%]   .battle-vs-container[_ngcontent-%COMP%]   .vs-circle[_ngcontent-%COMP%]   .vs-lightning[_ngcontent-%COMP%]:after{bottom:-10px;left:50%;transform:translate(-50%);animation-delay:1s}.epic-actions[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:16px;padding:24px 32px;background:linear-gradient(180deg,#0000004d,#00000080);border-radius:16px;margin:20px 32px;border:2px solid rgba(255,215,0,.2)}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{position:relative;padding:20px 16px;background:linear-gradient(135deg,#667eea4d,#764ba24d);border:3px solid rgba(102,126,234,.6);border-radius:14px;color:#fff;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.68,-.55,.265,1.55);display:flex;flex-direction:column;align-items:center;gap:8px;overflow:hidden}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.2) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-particles[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(2px 2px at 20% 30%,rgba(255,255,255,.5),transparent),radial-gradient(2px 2px at 80% 70%,rgba(255,255,255,.5),transparent);background-size:100% 100%;opacity:0;transition:opacity .3s ease}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:2.2rem;filter:drop-shadow(0 0 10px currentColor);transition:transform .3s ease;z-index:1}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:1rem;letter-spacing:1px;z-index:1}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-cost[_ngcontent-%COMP%]{font-size:.85rem;color:#ffffffb3;z-index:1}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-5px) scale(1.05);box-shadow:0 15px 40px #667eea80}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-glow[_ngcontent-%COMP%]{opacity:1}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-particles[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_particleRise 2s ease-out infinite}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]{transform:scale(1.2) rotate(5deg)}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-3px) scale(1.02)}.epic-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.7);transform:scale(.95)}.epic-actions[_ngcontent-%COMP%]   .action-btn.attack-btn[_ngcontent-%COMP%]{border-color:#ff646499;background:linear-gradient(135deg,#ff64644d,#c314324d)}.epic-actions[_ngcontent-%COMP%]   .action-btn.attack-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 15px 40px #ff646499}.epic-actions[_ngcontent-%COMP%]   .action-btn.skill-btn[_ngcontent-%COMP%]{border-color:#8a2be299;background:linear-gradient(135deg,#8a2be24d,#667eea4d)}.epic-actions[_ngcontent-%COMP%]   .action-btn.skill-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 15px 40px #8a2be299}.epic-actions[_ngcontent-%COMP%]   .action-btn.defend-btn[_ngcontent-%COMP%]{border-color:#64c8ff99;background:linear-gradient(135deg,#64c8ff4d,#409cff4d)}.epic-actions[_ngcontent-%COMP%]   .action-btn.defend-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 15px 40px #64c8ff99}.epic-actions[_ngcontent-%COMP%]   .action-btn.potion-btn[_ngcontent-%COMP%]{border-color:#32cd3299;background:linear-gradient(135deg,#32cd324d,#228b224d)}.epic-actions[_ngcontent-%COMP%]   .action-btn.potion-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 15px 40px #32cd3299}.epic-skills[_ngcontent-%COMP%]{position:relative;z-index:1;padding:28px 32px;background:linear-gradient(135deg,#c3143233,#240b364d);border:3px solid rgba(255,215,0,.4);border-radius:16px;margin:20px 32px;box-shadow:0 20px 60px #00000080,inset 0 0 40px #ffd7000d}.epic-skills[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.epic-skills[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]   .skills-title[_ngcontent-%COMP%]{font-size:1.6rem;color:gold;margin:0 0 8px;display:flex;align-items:center;justify-content:center;gap:16px;text-shadow:0 0 20px rgba(255,215,0,.8),0 0 40px rgba(255,215,0,.4)}.epic-skills[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]   .skills-title[_ngcontent-%COMP%]   .title-decoration[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_decorationPulse 2s ease-in-out infinite}.epic-skills[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]   .skills-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{letter-spacing:4px}.epic-skills[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]   .skills-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#ffd700b3;letter-spacing:6px;font-weight:300}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]{position:relative;padding:20px;background:linear-gradient(135deg,#0009,#1e1e3c99);border:3px solid rgba(255,255,255,.2);border-radius:14px;color:#fff;cursor:pointer;transition:all .3s cubic-bezier(.68,-.55,.265,1.55);display:flex;flex-direction:column;gap:12px;overflow:hidden}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-glow[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,215,0,.3) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-particles[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(1px 1px at 20% 30%,rgba(255,215,0,.6),transparent),radial-gradient(1px 1px at 80% 70%,rgba(255,215,0,.6),transparent),radial-gradient(1px 1px at 50% 50%,rgba(255,215,0,.6),transparent);background-size:100% 100%;opacity:0;transition:opacity .3s ease}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn.grade-\\d558\\c2b9[_ngcontent-%COMP%] {border-color:#96969680}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn.grade-\\c911\\c2b9[_ngcontent-%COMP%] {border-color:#64c8ff80;box-shadow:0 0 15px #64c8ff33}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn.grade-\\c0c1\\c2b9[_ngcontent-%COMP%] {border-color:#8a2be299;box-shadow:0 0 20px #8a2be24d}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn.grade-\\c808\\d559[_ngcontent-%COMP%] {border-color:#ffd700cc;box-shadow:0 0 30px #ffd70080;animation:_ngcontent-%COMP%_epicSkillGlow 2s ease-in-out infinite}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn.grade-\\c808\\d559[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#ffd70000,#ffd70080,#ffd70000);border-radius:14px;animation:_ngcontent-%COMP%_borderFlow 3s linear infinite}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-8px) scale(1.05);box-shadow:0 20px 50px #ffd70066}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .skill-glow[_ngcontent-%COMP%]{opacity:1}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .skill-particles[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_particleRise 2s ease-out infinite}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;filter:grayscale(.8);transform:scale(.95)}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]:disabled:after{content:"\\b0b4\\acf5  \\bd80\\c871";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#000000e6;padding:8px 16px;border-radius:8px;font-size:.85rem;color:#ff6464;font-weight:800;white-space:nowrap;box-shadow:0 0 20px #ff646480;z-index:10}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;position:relative;z-index:1}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]   .skill-chinese[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:800;color:gold;text-shadow:0 0 15px rgba(255,215,0,.6),0 2px 4px rgba(0,0,0,.5);letter-spacing:2px}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]   .skill-korean[_ngcontent-%COMP%]{font-size:.95rem;color:#ffffffe6;font-weight:600;letter-spacing:1px}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:12px;position:relative;z-index:1}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]   .skill-cost[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:6px;padding:8px;background:linear-gradient(135deg,#c3143266,#8a2be266);border-radius:8px;border:2px solid rgba(195,20,50,.5)}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]   .skill-cost[_ngcontent-%COMP%]   .cost-icon[_ngcontent-%COMP%]{font-size:1.1rem;filter:drop-shadow(0 0 5px currentColor)}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]   .skill-cost[_ngcontent-%COMP%]   .cost-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;color:#f99}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]   .skill-damage[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:6px;padding:8px;background:linear-gradient(135deg,#ffd7004d,#ff8c004d);border-radius:8px;border:2px solid rgba(255,215,0,.5)}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]   .skill-damage[_ngcontent-%COMP%]   .damage-icon[_ngcontent-%COMP%]{font-size:1.1rem;filter:drop-shadow(0 0 5px currentColor)}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-info-row[_ngcontent-%COMP%]   .skill-damage[_ngcontent-%COMP%]   .damage-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;color:gold}.epic-skills[_ngcontent-%COMP%]   .epic-grid[_ngcontent-%COMP%]   .epic-skill-btn[_ngcontent-%COMP%]   .skill-grade-label[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:linear-gradient(135deg,#000c,#1e1e3ccc);color:gold;font-size:.75rem;font-weight:800;padding:4px 10px;border-radius:6px;border:1px solid rgba(255,215,0,.5);z-index:1}.epic-log[_ngcontent-%COMP%]{position:relative;z-index:1;margin:20px 32px;padding:24px;background:linear-gradient(135deg,#0009,#1e1e3c99);border:2px solid rgba(138,43,226,.3);border-radius:14px;max-height:300px;overflow-y:auto;box-shadow:inset 0 0 40px #00000080}.epic-log[_ngcontent-%COMP%]   .log-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid rgba(138,43,226,.3)}.epic-log[_ngcontent-%COMP%]   .log-header[_ngcontent-%COMP%]   .log-icon[_ngcontent-%COMP%]{font-size:1.5rem;filter:drop-shadow(0 0 10px rgba(255,215,0,.5))}.epic-log[_ngcontent-%COMP%]   .log-header[_ngcontent-%COMP%]   .log-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:gold;text-shadow:0 0 10px rgba(255,215,0,.5);letter-spacing:2px}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#0000004d;border-radius:8px;border-left:4px solid rgba(138,43,226,.5);animation:_ngcontent-%COMP%_logEntrySlide .3s ease-out;transition:all .3s ease}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]:hover{background:#00000080;transform:translate(5px)}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]   .log-number[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.9rem;color:#fff;box-shadow:0 4px 15px #667eea66}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]   .log-text[_ngcontent-%COMP%]{flex:1;color:#ffffffe6;font-size:1rem;line-height:1.5}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.damage[_ngcontent-%COMP%]{border-left-color:#ff6464cc}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.damage[_ngcontent-%COMP%]   .log-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#c31432)}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.damage[_ngcontent-%COMP%]   .log-text[_ngcontent-%COMP%]{color:#f99}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.heal[_ngcontent-%COMP%]{border-left-color:#32cd32cc}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.heal[_ngcontent-%COMP%]   .log-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#32cd32,#228b22)}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.heal[_ngcontent-%COMP%]   .log-text[_ngcontent-%COMP%]{color:#90ee90}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.critical[_ngcontent-%COMP%]{border-left-color:#ffd700cc;animation:_ngcontent-%COMP%_criticalPulse .5s ease-out,_ngcontent-%COMP%_logEntrySlide .3s ease-out}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.critical[_ngcontent-%COMP%]   .log-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ff6b6b);animation:_ngcontent-%COMP%_criticalShake .5s ease-out}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.critical[_ngcontent-%COMP%]   .log-text[_ngcontent-%COMP%]{color:gold;font-weight:700}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.combo[_ngcontent-%COMP%]{border-left-color:#ff8c00cc}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.combo[_ngcontent-%COMP%]   .log-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c00,tomato)}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.combo[_ngcontent-%COMP%]   .log-text[_ngcontent-%COMP%]{color:#ffb347;font-weight:600}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.special[_ngcontent-%COMP%]{border-left-color:#8a2be2cc}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.special[_ngcontent-%COMP%]   .log-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8a2be2,indigo)}.epic-log[_ngcontent-%COMP%]   .log-entries[_ngcontent-%COMP%]   .log-entry.special[_ngcontent-%COMP%]   .log-text[_ngcontent-%COMP%]{color:orchid}.epic-result[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_resultFadeIn .5s ease-out}.epic-result[_ngcontent-%COMP%]   .result-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.epic-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center;padding:60px 80px;background:linear-gradient(135deg,#1e1e3cf2,#141428f2);border-radius:30px;border:4px solid rgba(255,215,0,.5);box-shadow:0 40px 100px #000c,inset 0 0 60px #ffd7001a;animation:_ngcontent-%COMP%_resultScale .5s cubic-bezier(.68,-.55,.265,1.55)}.epic-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:8rem;animation:_ngcontent-%COMP%_iconBounce .8s ease-out,_ngcontent-%COMP%_iconSpin 2s ease-in-out infinite;filter:drop-shadow(0 0 30px rgba(255,215,0,.8));margin-bottom:24px}.epic-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .result-icon.defeat[_ngcontent-%COMP%]{filter:drop-shadow(0 0 30px rgba(255,100,100,.8))}.epic-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:4rem;font-weight:900;color:gold;margin:0 0 16px;text-shadow:0 0 30px rgb(255,215,0),0 0 60px rgba(255,215,0,.5);letter-spacing:8px;animation:_ngcontent-%COMP%_titleBounce .6s cubic-bezier(.68,-.55,.265,1.55)}.epic-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .result-title.defeat-title[_ngcontent-%COMP%]{color:#ff6464;text-shadow:0 0 30px rgb(255,100,100),0 0 60px rgba(255,100,100,.5)}.epic-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .result-message[_ngcontent-%COMP%]{font-size:1.2rem;color:#fffc;margin:0;animation:_ngcontent-%COMP%_messageFade 1s ease-in-out .5s both}@keyframes _ngcontent-%COMP%_particleFloat{0%,to{background-position:0% 0%,100% 100%,50% 50%,80% 20%}50%{background-position:100% 100%,0% 0%,70% 70%,20% 80%}}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_titlePulse{0%,to{text-shadow:0 0 20px rgba(255,215,0,.6),0 0 40px rgba(138,43,226,.4)}50%{text-shadow:0 0 30px rgb(255,215,0),0 0 60px rgba(138,43,226,.6)}}@keyframes _ngcontent-%COMP%_iconSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_turnGlow{0%,to{box-shadow:0 0 20px currentColor}50%{box-shadow:0 0 40px currentColor}}@keyframes _ngcontent-%COMP%_shakeDamage{0%,to{transform:translate(0) scale(1)}25%{transform:translate(-10px) scale(.98)}75%{transform:translate(10px) scale(.98)}}@keyframes _ngcontent-%COMP%_attackPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_activeGlow{0%,to{box-shadow:0 0 30px currentColor}50%{box-shadow:0 0 60px currentColor}}@keyframes _ngcontent-%COMP%_cardShine{0%{transform:translate(-100%) translateY(-100%) rotate(45deg)}to{transform:translate(100%) translateY(100%) rotate(45deg)}}@keyframes _ngcontent-%COMP%_ringRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_avatarFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_badgePulse{0%,to{transform:scale(1);box-shadow:0 4px 15px #ffd70066}50%{transform:scale(1.1);box-shadow:0 6px 25px #ffd70099}}@keyframes _ngcontent-%COMP%_barShine{0%{left:-100%}to{left:100%}}@keyframes _ngcontent-%COMP%_hpWarning{0%,to{box-shadow:0 0 15px #ff6b6b80}50%{box-shadow:0 0 30px #ff6b6bcc}}@keyframes _ngcontent-%COMP%_hpCritical{0%,to{box-shadow:0 0 25px #f00c}50%{box-shadow:0 0 50px red}}@keyframes _ngcontent-%COMP%_vsRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_vsScale{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}@keyframes _ngcontent-%COMP%_lightningFlash{0%,to{opacity:0}50%{opacity:1}}@keyframes _ngcontent-%COMP%_particleRise{0%{background-position:0% 0%;opacity:0}50%{opacity:1}to{background-position:0% -100%;opacity:0}}@keyframes _ngcontent-%COMP%_epicSkillGlow{0%,to{box-shadow:0 0 30px #ffd70080}50%{box-shadow:0 0 50px #ffd700cc}}@keyframes _ngcontent-%COMP%_borderFlow{0%{background-position:0% 50%}to{background-position:200% 50%}}@keyframes _ngcontent-%COMP%_decorationPulse{0%,to{opacity:.5;transform:scale(1)}50%{opacity:1;transform:scale(1.2)}}@keyframes _ngcontent-%COMP%_logEntrySlide{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_criticalPulse{0%,to{background:#0000004d}50%{background:#ffd70033}}@keyframes _ngcontent-%COMP%_criticalShake{0%,to{transform:rotate(0)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}@keyframes _ngcontent-%COMP%_resultFadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_resultScale{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_iconBounce{0%{transform:translateY(-100px) scale(0)}60%{transform:translateY(10px) scale(1.1)}80%{transform:translateY(-5px) scale(.95)}to{transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_titleBounce{0%{transform:scale(0)}60%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_messageFade{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.epic-log-compact[_ngcontent-%COMP%]{position:relative;z-index:1;margin:20px 32px;padding:16px;background:linear-gradient(135deg,#00000080,#1e1e3c80);border:2px solid rgba(138,43,226,.2);border-radius:14px;min-height:100px;max-height:120px;overflow:hidden;box-shadow:inset 0 0 30px #0006}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:flex-start}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:6px;padding:8px 12px;background:#0006;border-radius:20px;border:2px solid rgba(138,43,226,.4);animation:_ngcontent-%COMP%_bubblePop .3s cubic-bezier(.68,-.55,.265,1.55);transition:all .3s ease;cursor:pointer}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble[_ngcontent-%COMP%]:hover{transform:scale(1.1);z-index:10;box-shadow:0 8px 25px #8a2be280}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.player[_ngcontent-%COMP%]{border-color:#64c8ff80;background:linear-gradient(135deg,#64c8ff26,#409cff26)}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.player[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #64c8ff80}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.enemy[_ngcontent-%COMP%]{border-color:#ff646480;background:linear-gradient(135deg,#ff646426,#c3143226)}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.enemy[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ff646480}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.damage[_ngcontent-%COMP%]{border-color:#ff646499;animation:_ngcontent-%COMP%_damageBubble .5s ease-out}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.heal[_ngcontent-%COMP%]{border-color:#32cd3299;animation:_ngcontent-%COMP%_healBubble .5s ease-out}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.critical[_ngcontent-%COMP%]{border-color:#ffd700cc;border-width:3px;animation:_ngcontent-%COMP%_criticalBubble .6s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 0 20px #ffd70099}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.critical[_ngcontent-%COMP%]   .log-icon-main[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_criticalBounce .6s ease-out infinite}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.combo[_ngcontent-%COMP%]{border-color:#ff8c0099;animation:_ngcontent-%COMP%_comboBubble .5s ease-out}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.special[_ngcontent-%COMP%]{border-color:#8a2be299;background:linear-gradient(135deg,#8a2be233,#667eea33);animation:_ngcontent-%COMP%_specialBubble .7s ease-out}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.special[_ngcontent-%COMP%]   .log-icon-main[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_specialFloat 2s ease-in-out infinite}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble[_ngcontent-%COMP%]   .log-icon-main[_ngcontent-%COMP%]{font-size:1.4rem;filter:drop-shadow(0 0 8px currentColor);flex-shrink:0;animation:_ngcontent-%COMP%_iconPulse 2s ease-in-out infinite}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble[_ngcontent-%COMP%]   .log-text-compact[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:700;white-space:nowrap}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble[_ngcontent-%COMP%]   .log-text-compact[_ngcontent-%COMP%]   .log-value[_ngcontent-%COMP%]{font-size:1.1rem;color:#fff;font-weight:900;text-shadow:0 0 10px currentColor,0 2px 4px rgba(0,0,0,.5)}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble[_ngcontent-%COMP%]   .log-text-compact[_ngcontent-%COMP%]   .log-label[_ngcontent-%COMP%]{font-size:.75rem;color:#fffc;text-transform:uppercase;letter-spacing:1px;font-weight:800}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.damage[_ngcontent-%COMP%]   .log-value[_ngcontent-%COMP%]{color:#ff6b6b;text-shadow:0 0 15px rgba(255,107,107,.8),0 2px 4px rgba(0,0,0,.5)}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.heal[_ngcontent-%COMP%]   .log-value[_ngcontent-%COMP%]{color:#32cd32;text-shadow:0 0 15px rgba(50,205,50,.8),0 2px 4px rgba(0,0,0,.5)}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.critical[_ngcontent-%COMP%]   .log-value[_ngcontent-%COMP%]{color:gold;font-size:1.3rem;text-shadow:0 0 20px rgb(255,215,0),0 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_criticalTextGlow .5s ease-in-out infinite}.epic-log-compact[_ngcontent-%COMP%]   .log-stream[_ngcontent-%COMP%]   .log-bubble.combo[_ngcontent-%COMP%]   .log-value[_ngcontent-%COMP%]{color:#ff8c00;text-shadow:0 0 15px rgba(255,140,0,.8),0 2px 4px rgba(0,0,0,.5)}@keyframes _ngcontent-%COMP%_bubblePop{0%{transform:scale(0);opacity:0}70%{transform:scale(1.15)}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_damageBubble{0%,to{transform:scale(1)}25%{transform:scale(1.1) rotate(-3deg)}75%{transform:scale(1.1) rotate(3deg)}}@keyframes _ngcontent-%COMP%_healBubble{0%{transform:scale(.8) translateY(10px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_criticalBubble{0%{transform:scale(.5) rotate(-10deg);opacity:0}50%{transform:scale(1.2) rotate(5deg)}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_comboBubble{0%,to{transform:scale(1)}50%{transform:scale(1.15)}}@keyframes _ngcontent-%COMP%_specialBubble{0%{transform:scale(0) rotate(0);opacity:0}to{transform:scale(1) rotate(360deg);opacity:1}}@keyframes _ngcontent-%COMP%_iconPulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_criticalBounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-5px) scale(1.2)}}@keyframes _ngcontent-%COMP%_specialFloat{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-3px) rotate(15deg)}}@keyframes _ngcontent-%COMP%_criticalTextGlow{0%,to{text-shadow:0 0 20px rgb(255,215,0),0 2px 4px rgba(0,0,0,.5)}50%{text-shadow:0 0 30px rgb(255,215,0),0 0 50px rgba(255,215,0,.5),0 2px 4px rgba(0,0,0,.5)}}.text-only-log[_ngcontent-%COMP%]{position:relative;z-index:1;margin:20px 32px;padding:16px 20px;background:linear-gradient(135deg,#000000b3,#141428b3);border:2px solid rgba(138,43,226,.3);border-radius:12px;min-height:120px;max-height:180px;overflow-y:auto;box-shadow:inset 0 0 30px #00000080,0 4px 20px #0000004d}.text-only-log[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.text-only-log[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000004d;border-radius:4px}.text-only-log[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8a2be280;border-radius:4px}.text-only-log[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#8a2be2b3}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{padding:10px 16px;background:#ffffff0d;border-radius:8px;border-left:3px solid rgba(138,43,226,.6);color:var(--text-primary);font-size:.95rem;line-height:1.5;animation:_ngcontent-%COMP%_textSlideIn .3s ease-out;transition:all .2s ease;box-shadow:0 1px 3px #0000001a}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]:hover{background:#8a2be214;transform:translate(5px);border-left-color:#8a2be2;box-shadow:0 2px 6px #00000026}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.damage[_ngcontent-%COMP%]{border-left-color:#ff6464;background:#ff64640d}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.damage[_ngcontent-%COMP%]:hover{background:#ff64641f;border-left-color:#f44}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.heal[_ngcontent-%COMP%]{border-left-color:#4ade80;background:#4ade800d}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.heal[_ngcontent-%COMP%]:hover{background:#4ade801f;border-left-color:#22c55e}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.critical[_ngcontent-%COMP%]{border-left-color:gold;border-left-width:4px;background:#ffd70014;font-weight:600;box-shadow:0 2px 8px #ffd70033;animation:_ngcontent-%COMP%_criticalTextPulse .5s ease-out,_ngcontent-%COMP%_textSlideIn .3s ease-out}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.critical[_ngcontent-%COMP%]:hover{background:#ffd70026;box-shadow:0 3px 12px #ffd70059;border-left-color:orange}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.combo[_ngcontent-%COMP%]{border-left-color:#ff8c00;background:#ff8c000d;font-weight:500}.text-only-log[_ngcontent-%COMP%]   .log-lines[_ngcontent-%COMP%]   .log-line.combo[_ngcontent-%COMP%]:hover{background:#ff8c001f;border-left-color:#f60}@keyframes _ngcontent-%COMP%_textSlideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_criticalTextPulse{0%{background:#ffd7000d;box-shadow:0 0 15px #ffd70033}50%{background:#ffd70026;box-shadow:0 0 30px #ffd70080}to{background:#ffd7000d;box-shadow:0 0 15px #ffd70033}}.battle-text-choices[_ngcontent-%COMP%]{position:relative;z-index:1;margin:20px 32px;padding:20px 24px;background:linear-gradient(135deg,#0009,#14142899);border:2px solid rgba(138,43,226,.3);border-radius:12px;box-shadow:inset 0 0 30px #0006,0 4px 20px #0000004d}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]{padding:12px 20px;margin-bottom:10px;background:#0000004d;border-left:4px solid rgba(138,43,226,.6);border-radius:8px;color:#ffffffe6;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]:hover:not(.disabled){background:#8a2be233;border-left-color:#8a2be2;transform:translate(8px);color:#fff;box-shadow:0 4px 15px #8a2be24d}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]:active:not(.disabled){transform:translate(12px);background:#8a2be24d}.battle-text-choices[_ngcontent-%COMP%]   .choice-item.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;color:#ffffff80;border-left-color:#64646480}.battle-text-choices[_ngcontent-%COMP%]   .choice-item.disabled[_ngcontent-%COMP%]:hover{transform:none;background:#0000004d}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]   .choice-cost[_ngcontent-%COMP%]{margin-left:auto;font-size:.85rem;color:#ffc864cc;font-weight:500}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]   .choice-grade[_ngcontent-%COMP%]{padding:2px 8px;background:#64c8ff33;border:1px solid rgba(100,200,255,.5);border-radius:4px;font-size:.75rem;font-weight:700;color:#64c8ff}.battle-text-choices[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]   .choice-grade.grade-\\c808\\d559[_ngcontent-%COMP%] {background:#ffd70033;border-color:#ffd700cc;color:gold;box-shadow:0 0 10px #ffd7004d;animation:_ngcontent-%COMP%_gradePulse 2s ease-in-out infinite}.battle-text-choices[_ngcontent-%COMP%]   .martial-skills-text[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid rgba(138,43,226,.3)}.battle-text-choices[_ngcontent-%COMP%]   .martial-skills-text[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]{border-left-color:#ffd70099}.battle-text-choices[_ngcontent-%COMP%]   .martial-skills-text[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]:hover:not(.disabled){border-left-color:gold;background:#ffd70026;box-shadow:0 4px 15px #ffd7004d}@keyframes _ngcontent-%COMP%_gradePulse{0%,to{box-shadow:0 0 10px #ffd7004d}50%{box-shadow:0 0 20px #ffd70099}}.battle-choices[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;background:#6464644d}.battle-choices[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]:disabled:hover{transform:none;background:#6464644d}.battle-choices[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]   .choice-cost[_ngcontent-%COMP%]{margin-left:8px;font-size:.85rem;color:#ffc864e6;font-weight:500}.battle-choices[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]   .choice-grade[_ngcontent-%COMP%]{margin-left:8px;padding:2px 8px;background:#64c8ff4d;border:1px solid rgba(100,200,255,.6);border-radius:4px;font-size:.75rem;font-weight:700;color:#64c8ff}.battle-choices[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]   .choice-grade.grade-\\c808\\d559[_ngcontent-%COMP%] {background:#ffd7004d;border-color:#ffd700e6;color:gold;box-shadow:0 0 10px #ffd70066;animation:_ngcontent-%COMP%_gradeGlow 2s ease-in-out infinite}.battle-choices[_ngcontent-%COMP%]   .martial-skill-choice[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]{border-left-color:#ffd70099}.battle-choices[_ngcontent-%COMP%]   .martial-skill-choice[_ngcontent-%COMP%]   .choice-button[_ngcontent-%COMP%]:hover:not(:disabled){border-left-color:gold;background:#ffd7001a}@keyframes _ngcontent-%COMP%_gradeGlow{0%,to{box-shadow:0 0 10px #ffd70066}50%{box-shadow:0 0 20px #ffd700b3}}.flat-battle[_ngcontent-%COMP%]{margin:30px 0;padding:0;background:transparent;border:none;box-shadow:none}.flat-battle[_ngcontent-%COMP%]   .battle-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.flat-battle[_ngcontent-%COMP%]   .battle-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid rgba(150,150,150,.3)}.flat-battle[_ngcontent-%COMP%]   .battle-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:400;color:#000c;margin:0 0 10px;letter-spacing:8px}.flat-battle[_ngcontent-%COMP%]   .battle-title[_ngcontent-%COMP%]   .turn-text[_ngcontent-%COMP%]{font-size:.95rem;color:#646464cc;font-style:italic;margin:0}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:30px;align-items:start}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]{background:#fafafacc;border:1px solid rgba(200,200,200,.4);border-radius:4px;padding:20px;transition:all .3s ease}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant.active-turn[_ngcontent-%COMP%]{border-color:#64646499;box-shadow:0 2px 8px #0000001a}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .combatant-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid rgba(200,200,200,.3)}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .combatant-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#000000d9;margin:0}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .combatant-header[_ngcontent-%COMP%]   .level-tag[_ngcontent-%COMP%]{font-size:.75rem;color:#646464b3;padding:2px 8px;background:#c8c8c84d;border-radius:3px}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row.compact[_ngcontent-%COMP%]{margin-top:8px;padding-top:12px;border-top:1px solid rgba(200,200,200,.2)}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#646464cc;min-width:40px;font-weight:500}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:10px}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#dcdcdc99;border-radius:4px;overflow:hidden}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:4px}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill.hp[_ngcontent-%COMP%]{background:#e57373}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill.hp.low[_ngcontent-%COMP%]{background:#ef5350}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill.enemy-hp[_ngcontent-%COMP%]{background:#ba68c8}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill.enemy-hp.low[_ngcontent-%COMP%]{background:#ab47bc}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill.mp[_ngcontent-%COMP%]{background:#64b5f6}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]   .stat-bar-fill.internal[_ngcontent-%COMP%]{background:#ffb74d}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.8rem;color:#646464cc;min-width:60px;text-align:right;font-variant-numeric:tabular-nums}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value-inline[_ngcontent-%COMP%]{font-size:.85rem;color:#323232e6;font-weight:600;font-variant-numeric:tabular-nums}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-separator[_ngcontent-%COMP%]{color:#96969680;margin:0 6px}.flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .vs-divider[_ngcontent-%COMP%]{font-size:.9rem;font-weight:300;color:#96969699;text-align:center;padding-top:50px;letter-spacing:2px}.dark-theme[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block[_ngcontent-%COMP%]{background:#1e232d;border-color:#3a3a3a;box-shadow:0 2px 8px #0000004d}.dark-theme[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e8e8e8}.dark-theme[_ngcontent-%COMP%]   .story-blocks[_ngcontent-%COMP%]   .story-block.choice-result[_ngcontent-%COMP%]{background:#282d37;border-color:var(--accent-primary)}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-title[_ngcontent-%COMP%]{border-bottom-color:#6464644d}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffffffe6}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-title[_ngcontent-%COMP%]   .turn-text[_ngcontent-%COMP%]{color:#c8c8c8b3}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]{background:#1e1e1ecc;border-color:#64646466}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant.active-turn[_ngcontent-%COMP%]{border-color:#96969699;box-shadow:0 2px 8px #0000004d}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .combatant-header[_ngcontent-%COMP%]{border-bottom-color:#6464644d}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .combatant-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ffffffe6}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .combatant-header[_ngcontent-%COMP%]   .level-tag[_ngcontent-%COMP%]{background:#6464644d;color:#c8c8c8b3}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row.compact[_ngcontent-%COMP%]{border-top-color:#64646433}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#c8c8c8b3}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-bar[_ngcontent-%COMP%]{background:#3c3c3c99}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-bar-wrapper[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#c8c8c8b3}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value-inline[_ngcontent-%COMP%]{color:#dcdcdce6}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .combatant[_ngcontent-%COMP%]   .stats-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-separator[_ngcontent-%COMP%]{color:#64646480}.dark-theme[_ngcontent-%COMP%]   .flat-battle[_ngcontent-%COMP%]   .battle-board[_ngcontent-%COMP%]   .vs-divider[_ngcontent-%COMP%]{color:#96969680}.feature-map-floating-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:96px;z-index:100000!important}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]{width:56px;height:56px;background:linear-gradient(135deg,#f093fb,#f5576c);border:none;border-radius:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 16px #f5576c66,0 2px 8px #0000001a;color:#fff;gap:2px;padding:8px}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 8px 24px #f5576c80,0 4px 12px #00000026}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 8px 24px #667eea99,0 4px 12px #0003}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .4s cubic-bezier(.4,0,.2,1)}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{font-size:10px;font-weight:700;letter-spacing:-.3px;margin-top:2px}.feature-map-panel[_ngcontent-%COMP%]{position:fixed;bottom:90px;right:20px;width:420px;max-height:600px;background:var(--bg-primary);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;border:1px solid var(--border-color);box-shadow:0 10px 40px #0003;z-index:100000!important;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 16px;background:linear-gradient(135deg,#f093fb1a,#f5576c1a);border-bottom:1px solid var(--border-color);flex-shrink:0}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0;display:flex;align-items:center;gap:8px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;background:#ffffff1a;border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:24px;line-height:1;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef444433;border-color:#ef444466;color:#ef4444;transform:scale(1.1)}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]{flex:1;overflow:hidden}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab{min-width:120px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab .mdc-tab__content{display:flex;align-items:center;gap:8px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab .tab-icon{font-size:18px;transition:transform .2s ease}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab .tab-label{font-weight:600;font-size:14px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab:hover .tab-icon{transform:scale(1.1)}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab--active .tab-icon{animation:_ngcontent-%COMP%_bounce .5s ease}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{border-bottom:none}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mdc-tab-indicator__content--underline{border-color:var(--accent-color);border-width:3px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex:1;overflow:hidden}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-content{overflow-y:visible;height:100%}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-content[_ngcontent-%COMP%]{padding:20px;max-height:100%;overflow-y:auto}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-color)}.feature-map-panel[_ngcontent-%COMP%]   .feature-section[_ngcontent-%COMP%]{margin-bottom:24px}.feature-map-panel[_ngcontent-%COMP%]   .feature-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.feature-map-panel[_ngcontent-%COMP%]   .feature-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-primary);margin:0 0 12px;display:flex;align-items:center;gap:8px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .feature-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;cursor:pointer;transition:all .2s ease}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--accent-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-name[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-primary);line-height:1.3}.feature-map-panel[_ngcontent-%COMP%]   .minimap-content[_ngcontent-%COMP%]{padding:16px;height:100%;overflow-y:auto;display:flex;flex-direction:column;gap:16px}.feature-map-panel[_ngcontent-%COMP%]   .minimap-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.feature-map-panel[_ngcontent-%COMP%]   .minimap-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.feature-map-panel[_ngcontent-%COMP%]   .minimap-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.feature-map-panel[_ngcontent-%COMP%]   .minimap-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-color)}.feature-map-panel[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea1a,#764ba21a);padding:16px;border-radius:12px;border:1px solid rgba(102,126,234,.2)}.feature-map-panel[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:13px;color:var(--text-primary);font-weight:600}.feature-map-panel[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .minimap-stats[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.feature-map-panel[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .minimap-stats[_ngcontent-%COMP%]   .stat-badge[_ngcontent-%COMP%]{padding:6px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;font-size:12px;font-weight:600;color:var(--text-primary);white-space:nowrap}.feature-map-panel[_ngcontent-%COMP%]   .minimap-canvas[_ngcontent-%COMP%]{flex:1;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color);padding:16px;min-height:300px;overflow-y:auto}.feature-map-panel[_ngcontent-%COMP%]   .minimap-canvas[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.feature-map-panel[_ngcontent-%COMP%]   .minimap-canvas[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-tertiary);border-radius:3px}.feature-map-panel[_ngcontent-%COMP%]   .minimap-canvas[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;padding:10px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:10px;transition:all .2s ease;position:relative}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background:var(--bg-primary);transform:translate(2px)}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini.node-start[_ngcontent-%COMP%]{border-color:#22c55e80;background:#22c55e0d}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini.node-story[_ngcontent-%COMP%]{border-color:#3b82f680;background:#3b82f60d}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini.node-choice[_ngcontent-%COMP%]{border-color:#a855f780;background:#a855f70d}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini.node-current[_ngcontent-%COMP%]{border-color:#f5576cb3;background:#f5576c1a;box-shadow:0 0 20px #f5576c33}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini.node-current[_ngcontent-%COMP%]   .node-icon-mini[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .node-icon-mini[_ngcontent-%COMP%]{font-size:16px;flex-shrink:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);border-radius:8px;border:1px solid var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .node-content-mini[_ngcontent-%COMP%]{flex:1}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .node-content-mini[_ngcontent-%COMP%]   .node-label-mini[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-primary);margin-bottom:4px;line-height:1.4}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .node-content-mini[_ngcontent-%COMP%]   .node-choices-mini[_ngcontent-%COMP%]{margin-top:8px;padding-top:8px;border-top:1px solid var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .node-content-mini[_ngcontent-%COMP%]   .node-choices-mini[_ngcontent-%COMP%]   .choice-preview-mini[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary);padding:4px 0;line-height:1.3}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .node-content-mini[_ngcontent-%COMP%]   .node-choices-mini[_ngcontent-%COMP%]   .more-choices[_ngcontent-%COMP%]{font-size:10px;color:var(--accent-color);font-weight:700;margin-top:4px}.feature-map-panel[_ngcontent-%COMP%]   .flow-nodes-mini[_ngcontent-%COMP%]   .flow-node-mini[_ngcontent-%COMP%]   .flow-connector-mini[_ngcontent-%COMP%]{position:absolute;left:18px;top:100%;width:2px;height:8px;background:var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.feature-map-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.5}.feature-map-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--text-primary);font-weight:600;font-size:14px}.feature-map-panel[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-weight:400}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;padding:12px;background:var(--bg-secondary);border-radius:10px;border:1px solid var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]   .legend-item-mini[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:11px;font-weight:600;color:var(--text-secondary)}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]   .legend-item-mini[_ngcontent-%COMP%]   .legend-icon-mini[_ngcontent-%COMP%]{font-size:14px;width:22px;height:22px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]   .legend-item-mini[_ngcontent-%COMP%]   .legend-icon-mini.start[_ngcontent-%COMP%]{border-color:#22c55e80;background:#22c55e1a}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]   .legend-item-mini[_ngcontent-%COMP%]   .legend-icon-mini.story[_ngcontent-%COMP%]{border-color:#3b82f680;background:#3b82f61a}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]   .legend-item-mini[_ngcontent-%COMP%]   .legend-icon-mini.choice[_ngcontent-%COMP%]{border-color:#a855f780;background:#a855f71a}.feature-map-panel[_ngcontent-%COMP%]   .minimap-legend[_ngcontent-%COMP%]   .legend-item-mini[_ngcontent-%COMP%]   .legend-icon-mini.current[_ngcontent-%COMP%]{border-color:#f5576c80;background:#f5576c1a}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}@media (max-width: 768px){.feature-map-floating-btn[_ngcontent-%COMP%]{bottom:16px;right:88px}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]{width:52px;height:52px}.feature-map-panel[_ngcontent-%COMP%]{bottom:80px;right:16px;left:16px;width:auto;max-height:70vh}.feature-map-panel[_ngcontent-%COMP%]   .feature-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.character-info-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;height:100%}.character-info-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.character-info-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.character-info-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.character-info-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-color)}.character-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.character-header[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;padding:20px;background:linear-gradient(135deg,#667eea1a,#764ba21a);border-radius:16px;border:1px solid rgba(102,126,234,.2)}.character-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]{position:relative}.character-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #667eea66}.character-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]   .avatar-initial[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.2)}.character-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{position:absolute;bottom:-6px;right:-6px;background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:700;box-shadow:0 2px 8px #f5576c66}.character-header[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]{flex:1}.character-header[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-primary);margin:0 0 12px}.character-header[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .exp-bar-container[_ngcontent-%COMP%]   .exp-bar[_ngcontent-%COMP%]{height:8px;background:var(--bg-secondary);border-radius:4px;overflow:hidden;margin-bottom:6px;border:1px solid var(--border-color)}.character-header[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .exp-bar-container[_ngcontent-%COMP%]   .exp-bar[_ngcontent-%COMP%]   .exp-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .3s ease}.character-header[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .exp-bar-container[_ngcontent-%COMP%]   .exp-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-secondary)}.character-status-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:6px}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar-label[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar-label[_ngcontent-%COMP%]   .status-name[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);font-size:14px}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar-label[_ngcontent-%COMP%]   .status-value[_ngcontent-%COMP%]{margin-left:auto;font-size:13px;font-weight:600;color:var(--text-secondary)}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{height:12px;background:var(--bg-tertiary);border-radius:6px;overflow:hidden;border:1px solid var(--border-color)}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar.hp-bar[_ngcontent-%COMP%]   .status-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)}.character-status-bars[_ngcontent-%COMP%]   .status-bar-item[_ngcontent-%COMP%]   .status-bar.mp-bar[_ngcontent-%COMP%]   .status-bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.character-stats[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.character-stats[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 16px;display:flex;align-items:center;gap:8px}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-tertiary);border-radius:10px;border:1px solid var(--border-color);transition:all .2s ease}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:var(--accent-color)}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:24px}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary)}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.character-skills[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.character-skills[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 16px;display:flex;align-items:center;gap:8px}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{padding:14px;background:var(--bg-tertiary);border-radius:10px;border:1px solid var(--border-color);transition:all .2s ease;position:relative}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px #0000001a;border-color:var(--accent-color)}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-primary)}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-level[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--accent-color);background:#667eea1a;padding:2px 8px;border-radius:6px}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-description[_ngcontent-%COMP%]{margin:0 0 10px;font-size:12px;color:var(--text-secondary);line-height:1.5}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:6px;font-size:11px;font-weight:600}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-type-badge.type-combat[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444;border:1px solid rgba(239,68,68,.2)}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-type-badge.type-magic[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6;border:1px solid rgba(59,130,246,.2)}.character-skills[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-type-badge.type-passive[_ngcontent-%COMP%]{background:#22c55e1a;color:#22c55e;border:1px solid rgba(34,197,94,.2)}.empty-character-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;min-height:400px}.empty-character-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.3}.empty-character-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0 0 12px}.empty-character-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--text-secondary);font-size:14px}.empty-character-state[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-tertiary);font-weight:400}@media (max-width: 480px){.feature-map-floating-btn[_ngcontent-%COMP%]{right:80px}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]{width:48px;height:48px}.feature-map-floating-btn[_ngcontent-%COMP%]   .feature-map-toggle[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{font-size:9px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-header[_ngcontent-%COMP%]{padding:16px 18px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.feature-map-panel[_ngcontent-%COMP%]   .feature-map-content[_ngcontent-%COMP%]{padding:16px}.feature-map-panel[_ngcontent-%COMP%]   .feature-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:10px 12px}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:18px}.feature-map-panel[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-name[_ngcontent-%COMP%]{font-size:12px}.character-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.character-header[_ngcontent-%COMP%]   .character-basic-info[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:20px}.character-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%], .organization-facilities[_ngcontent-%COMP%]   .facilities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.organization-info-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;height:100%}.organization-info-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.organization-info-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.organization-info-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.organization-info-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-color)}.organization-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.organization-header[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;padding:20px;background:linear-gradient(135deg,#f59e0b1a,#d977061a);border-radius:16px;border:1px solid rgba(245,158,11,.2)}.organization-header[_ngcontent-%COMP%]   .org-icon-wrapper[_ngcontent-%COMP%]{position:relative}.organization-header[_ngcontent-%COMP%]   .org-icon-wrapper[_ngcontent-%COMP%]   .org-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#f59e0b,#d97706);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #f59e0b66;font-size:40px}.organization-header[_ngcontent-%COMP%]   .org-icon-wrapper[_ngcontent-%COMP%]   .org-level-badge[_ngcontent-%COMP%]{position:absolute;bottom:-6px;right:-6px;background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:700;box-shadow:0 2px 8px #8b5cf666}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]{flex:1}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-primary);margin:0 0 8px}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:8px;font-size:12px;font-weight:700;margin-bottom:12px}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-type-badge.type-guild[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444;border:1px solid rgba(239,68,68,.2)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-type-badge.type-faction[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6;border:1px solid rgba(59,130,246,.2)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-type-badge.type-clan[_ngcontent-%COMP%]{background:#22c55e1a;color:#22c55e;border:1px solid rgba(34,197,94,.2)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-type-badge.type-sect[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .org-type-badge.type-company[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b;border:1px solid rgba(245,158,11,.2)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .reputation-bar-container[_ngcontent-%COMP%]   .reputation-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:6px;font-size:12px;font-weight:600;color:var(--text-secondary)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .reputation-bar-container[_ngcontent-%COMP%]   .reputation-label[_ngcontent-%COMP%]   .rep-value[_ngcontent-%COMP%]{color:var(--accent-color)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .reputation-bar-container[_ngcontent-%COMP%]   .reputation-bar[_ngcontent-%COMP%]{height:8px;background:var(--bg-secondary);border-radius:4px;overflow:hidden;border:1px solid var(--border-color)}.organization-header[_ngcontent-%COMP%]   .org-basic-info[_ngcontent-%COMP%]   .reputation-bar-container[_ngcontent-%COMP%]   .reputation-bar[_ngcontent-%COMP%]   .reputation-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#f59e0b,#d97706);transition:width .3s ease}.organization-resources[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.organization-resources[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 16px;display:flex;align-items:center;gap:8px}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-tertiary);border-radius:10px;border:1px solid var(--border-color);transition:all .2s ease}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:var(--accent-color)}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   .resource-icon[_ngcontent-%COMP%]{font-size:24px}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   .resource-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   .resource-info[_ngcontent-%COMP%]   .resource-name[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase}.organization-resources[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   .resource-info[_ngcontent-%COMP%]   .resource-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary)}.organization-members[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.organization-members[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.organization-members[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0;display:flex;align-items:center;gap:8px}.organization-members[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--accent-color);background:#667eea1a;padding:4px 12px;border-radius:8px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:400px;overflow-y:auto}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-tertiary);border-radius:3px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-color)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]{padding:14px;background:var(--bg-tertiary);border-radius:12px;border:2px solid var(--border-color);cursor:pointer;transition:all .2s ease}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px #0000001a;border-color:var(--accent-color)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card.selected[_ngcontent-%COMP%]{border-color:var(--accent-color);background:#667eea0d;box-shadow:0 0 0 2px #667eea33}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{position:relative}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-emoji[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;font-size:24px;background:var(--bg-secondary);border-radius:50%;border:2px solid var(--border-color)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .member-level-badge[_ngcontent-%COMP%]{position:absolute;bottom:-4px;right:-4px;background:var(--accent-color);color:#fff;padding:2px 6px;border-radius:8px;font-size:10px;font-weight:700;box-shadow:0 2px 4px #0003}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]{flex:1}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:var(--text-primary);margin-bottom:4px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:6px;font-size:11px;font-weight:600}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role.role-leader[_ngcontent-%COMP%]{background:#f59e0b33;color:#f59e0b}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role.role-vice_leader[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role.role-elder[_ngcontent-%COMP%]{background:#8b5cf633;color:#8b5cf6}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role.role-captain[_ngcontent-%COMP%]{background:#3b82f633;color:#3b82f6}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role.role-member[_ngcontent-%COMP%]{background:#22c55e33;color:#22c55e}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-basic[_ngcontent-%COMP%]   .member-role.role-recruit[_ngcontent-%COMP%]{background:#9ca3af33;color:#9ca3af}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-status-indicator[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:14px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-status-indicator.status-active[_ngcontent-%COMP%]{background:#22c55e33;color:#22c55e}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-status-indicator.status-resting[_ngcontent-%COMP%]{background:#9ca3af33;color:#9ca3af}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-status-indicator.status-injured[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-header-row[_ngcontent-%COMP%]   .member-status-indicator.status-on_mission[_ngcontent-%COMP%]{background:#3b82f633;color:#3b82f6}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:10px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]{flex:1}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:var(--text-secondary);margin-bottom:4px;display:block}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]   .stat-bar-mini[_ngcontent-%COMP%]{height:6px;background:var(--bg-secondary);border-radius:3px;overflow:hidden;border:1px solid var(--border-color)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]   .stat-bar-mini[_ngcontent-%COMP%]   .stat-bar-fill-mini[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]   .stat-bar-mini[_ngcontent-%COMP%]   .stat-bar-fill-mini.hp[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-stats-mini[_ngcontent-%COMP%]   .stat-mini[_ngcontent-%COMP%]   .stat-bar-mini[_ngcontent-%COMP%]   .stat-bar-fill-mini.mp[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-specialty[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 10px;background:var(--bg-secondary);border-radius:8px;font-size:12px;margin-bottom:8px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-specialty[_ngcontent-%COMP%]   .specialty-icon[_ngcontent-%COMP%]{font-size:14px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-specialty[_ngcontent-%COMP%]   .specialty-text[_ngcontent-%COMP%]{flex:1;font-weight:600;color:var(--text-primary)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-specialty[_ngcontent-%COMP%]   .loyalty-badge[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--accent-color);background:#667eea1a;padding:2px 8px;border-radius:6px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-internal-power[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 10px;background:linear-gradient(135deg,#ef44441a,#dc26261a);border-radius:8px;border:1px solid rgba(239,68,68,.2)}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-internal-power[_ngcontent-%COMP%]   .power-icon[_ngcontent-%COMP%]{font-size:14px}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-internal-power[_ngcontent-%COMP%]   .power-realm[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#ef4444;white-space:nowrap}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-internal-power[_ngcontent-%COMP%]   .power-bar-mini[_ngcontent-%COMP%]{flex:1;height:6px;background:#0003;border-radius:3px;overflow:hidden}.organization-members[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-internal-power[_ngcontent-%COMP%]   .power-bar-mini[_ngcontent-%COMP%]   .power-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ef4444,#dc2626);transition:width .3s ease}.organization-facilities[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.organization-facilities[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 16px;display:flex;align-items:center;gap:8px}.organization-facilities[_ngcontent-%COMP%]   .facilities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.organization-facilities[_ngcontent-%COMP%]   .facilities-grid[_ngcontent-%COMP%]   .facility-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;background:var(--bg-tertiary);border-radius:8px;border:1px solid var(--border-color);transition:all .2s ease}.organization-facilities[_ngcontent-%COMP%]   .facilities-grid[_ngcontent-%COMP%]   .facility-item[_ngcontent-%COMP%]:hover{transform:translate(4px);border-color:var(--accent-color)}.organization-facilities[_ngcontent-%COMP%]   .facilities-grid[_ngcontent-%COMP%]   .facility-item[_ngcontent-%COMP%]   .facility-icon[_ngcontent-%COMP%]{font-size:20px}.organization-facilities[_ngcontent-%COMP%]   .facilities-grid[_ngcontent-%COMP%]   .facility-item[_ngcontent-%COMP%]   .facility-name[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-primary)}.organization-territory[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.organization-territory[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 12px;display:flex;align-items:center;gap:8px}.organization-territory[_ngcontent-%COMP%]   .territory-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--bg-tertiary);border-radius:10px;border:1px solid var(--border-color)}.organization-territory[_ngcontent-%COMP%]   .territory-info[_ngcontent-%COMP%]   .territory-icon[_ngcontent-%COMP%]{font-size:24px}.organization-territory[_ngcontent-%COMP%]   .territory-info[_ngcontent-%COMP%]   .territory-name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-primary)}.empty-organization-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;min-height:400px}.empty-organization-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.3}.empty-organization-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0 0 12px}.empty-organization-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--text-secondary);font-size:14px}.empty-organization-state[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-tertiary);font-weight:400}.equipment-content[_ngcontent-%COMP%]{padding:12px;height:100%;overflow-y:visible}.equipment-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-primary);margin:0 0 12px;display:flex;align-items:center;gap:6px}.equipped-items[_ngcontent-%COMP%]{margin-bottom:20px}.equipped-items.diablo-style[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;padding:16px;box-shadow:0 6px 24px #00000080}.equipped-items[_ngcontent-%COMP%]   .equipment-grid-diablo[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:10px;margin-bottom:16px;min-height:auto;max-height:350px}.equipped-items[_ngcontent-%COMP%]   .equipment-grid-diablo[_ngcontent-%COMP%]   .equipment-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.equipped-items[_ngcontent-%COMP%]   .equipment-grid-diablo[_ngcontent-%COMP%]   .equipment-column.center-column[_ngcontent-%COMP%]{justify-content:center;align-items:center}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:10px;padding:8px;min-width:90px;min-height:70px;transition:all .3s ease;position:relative;overflow:hidden}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 30% 30%,var(--bg-highlight),transparent);pointer-events:none}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo.large[_ngcontent-%COMP%]{min-width:120px;min-height:130px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[data-rarity=normal][_ngcontent-%COMP%]{border-color:#8a8a8a}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[data-rarity=magic][_ngcontent-%COMP%]{border-color:#6363f7;box-shadow:0 0 10px #6363f74d}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[data-rarity=rare][_ngcontent-%COMP%]{border-color:#ff0;box-shadow:0 0 10px #ffff004d}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[data-rarity=unique][_ngcontent-%COMP%]{border-color:#a57c3e;box-shadow:0 0 10px #a57c3e66}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[data-rarity=set][_ngcontent-%COMP%]{border-color:#0f0;box-shadow:0 0 15px #00ff004d}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[data-rarity=legendary][_ngcontent-%COMP%]{border-color:#ff8000;box-shadow:0 0 20px #ff800080;animation:_ngcontent-%COMP%_legendary-pulse 2s ease-in-out infinite}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]:hover{transform:scale(1.05);z-index:10}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{font-size:9px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;text-align:center;font-weight:600}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content.empty[_ngcontent-%COMP%]{opacity:.3}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]   .item-icon-diablo[_ngcontent-%COMP%]{font-size:24px;text-shadow:0 2px 8px rgba(0,0,0,.5)}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]   .item-icon-diablo.large[_ngcontent-%COMP%]{font-size:36px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]   .empty-icon-diablo[_ngcontent-%COMP%]{font-size:24px;opacity:.2}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]   .empty-icon-diablo.large[_ngcontent-%COMP%]{font-size:36px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]   .item-name-short[_ngcontent-%COMP%]{font-size:10px;color:var(--text-primary);text-align:center;font-weight:500;line-height:1.2;max-width:80px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.equipped-items[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-content[_ngcontent-%COMP%]   .item-damage[_ngcontent-%COMP%]{font-size:11px;color:#ff6b6b;font-weight:700;text-shadow:0 0 8px rgba(255,107,107,.5)}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:8px}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--bg-primary);border-radius:6px;border:1px solid var(--border-color);transition:all .3s ease}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:hover{background:var(--bg-highlight);transform:translate(2px)}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:8px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);font-weight:600;flex:1}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);text-shadow:0 0 10px currentColor;min-width:40px;text-align:right}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.damage[_ngcontent-%COMP%]{color:#ff6b6b}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.defense[_ngcontent-%COMP%]{color:#6363f7}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.magic[_ngcontent-%COMP%]{color:#a78bfa}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid var(--border-color)}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-weight:600}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-shadow:0 0 10px currentColor}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .summary-value.damage[_ngcontent-%COMP%]{color:#ff6b6b}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .summary-value.defense[_ngcontent-%COMP%]{color:#6363f7}.equipped-items[_ngcontent-%COMP%]   .equipment-summary-diablo[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .summary-value.magic[_ngcontent-%COMP%]{color:#a78bfa}@keyframes _ngcontent-%COMP%_legendary-pulse{0%,to{box-shadow:0 0 20px #ff800080}50%{box-shadow:0 0 30px #ff8000cc}}.equipped-items[_ngcontent-%COMP%]   .equipment-slots[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:20px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;padding:16px;transition:all .3s ease}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]:hover{border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow)}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-header[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:20px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-header[_ngcontent-%COMP%]   .slot-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary)}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:8px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{flex:1}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:6px}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stat-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stat-badge.attack[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stat-badge.defense[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf7,#3b8cd2);color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stat-badge.special[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a78bfa,#8b5cf6);color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .item-rarity[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:11px;font-weight:600}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .item-rarity.rarity-common[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .item-rarity.rarity-uncommon[_ngcontent-%COMP%]{background:#51cf66;color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .item-rarity.rarity-rare[_ngcontent-%COMP%]{background:#339af0;color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .item-rarity.rarity-epic[_ngcontent-%COMP%]{background:#9775fa;color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .item-rarity.rarity-legendary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c00,orange);color:#fff}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-empty[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background:var(--bg-tertiary);border-radius:8px;border:2px dashed var(--border-color)}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:20px;opacity:.5}.equipped-items[_ngcontent-%COMP%]   .equipment-slot[_ngcontent-%COMP%]   .slot-empty[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{font-size:13px;color:var(--text-tertiary)}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));border-radius:12px;padding:16px;margin-top:20px}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#fff;margin:0 0 12px}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:4px}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:20px}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;color:#fffc;font-weight:500}.equipped-items[_ngcontent-%COMP%]   .equipment-summary[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fff}.inventory-section[_ngcontent-%COMP%]{margin-top:24px}.inventory-section[_ngcontent-%COMP%]   .inventory-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.inventory-section[_ngcontent-%COMP%]   .inventory-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--text-primary)}.inventory-section[_ngcontent-%COMP%]   .inventory-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:13px;padding:0 16px;height:36px}.inventory-section[_ngcontent-%COMP%]   .inventory-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;margin-right:6px}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:16px;padding:14px;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 18px;border-radius:10px;background:var(--bg-primary);border:2px solid var(--border-color);color:var(--text-secondary);font-size:14px;font-weight:600;transition:all .3s cubic-bezier(.175,.885,.32,1.275);min-width:auto;position:relative;overflow:hidden}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff1a;transform:translate(-50%,-50%);transition:width .4s,height .4s}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{font-size:22px;transition:all .3s ease;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;transition:all .3s ease}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:var(--primary-color);transform:translateY(-3px) scale(1.05);box-shadow:0 4px 12px #00000026}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{width:200%;height:200%}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .filter-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg);filter:drop-shadow(0 4px 8px rgba(0,0,0,.3))}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.15)}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--primary-color);border-color:var(--primary-color);color:#fff;box-shadow:0 4px 16px rgba(var(--primary-rgb),.4);transform:translateY(-2px)}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_filter-active-bounce .6s ease-in-out;filter:drop-shadow(0 4px 8px rgba(255,255,255,.3))}.inventory-section[_ngcontent-%COMP%]   .inventory-filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_filter-active-bounce .6s ease-in-out}@keyframes _ngcontent-%COMP%_filter-active-bounce{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px;padding:8px}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]{all:unset;display:block;width:100%;cursor:pointer;position:relative}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:16px;padding:20px 16px;transition:all .3s ease;position:relative;overflow:hidden;min-height:160px;display:flex;flex-direction:column;align-items:center;justify-content:center}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary);transform:scaleX(0);transition:transform .3s ease}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=common][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-color:#9e9e9e}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=common][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9e9e9e,#757575)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=uncommon][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-color:#51cf66;background:linear-gradient(135deg,#51cf660d,#2e7d320d)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=uncommon][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#51cf66,#2e7d32)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=rare][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-color:#339af0;background:linear-gradient(135deg,#339af014,#1976d214)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=rare][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#339af0,#1976d2)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=epic][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-color:#9775fa;background:linear-gradient(135deg,#9775fa1a,#7b1fa21a)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=epic][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9775fa,#7b1fa2)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=legendary][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-color:#ff8000;background:linear-gradient(135deg,#ff80001f,#e651001f);animation:_ngcontent-%COMP%_legendary-border-glow 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[data-rarity=legendary][_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ff8000,#e65100)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]:hover   .item-card-content[_ngcontent-%COMP%]{transform:translateY(-6px);box-shadow:0 8px 24px var(--shadow);border-color:var(--accent-primary)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]:hover   .item-card-content[_ngcontent-%COMP%]:before{transform:scaleX(1)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #ff6b6b!important;background:linear-gradient(135deg,rgba(255,107,107,.08) 0%,transparent 100%)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(255,107,107,.5))}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b4d,#ff6b6b26);border-color:#ff6b6b;color:#ff6b6b}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #4dabf7!important;background:linear-gradient(135deg,rgba(77,171,247,.08) 0%,transparent 100%)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(77,171,247,.5))}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#4dabf7;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf74d,#4dabf726);border-color:#4dabf7;color:#4dabf7}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #cc5de8!important;background:linear-gradient(135deg,rgba(204,93,232,.08) 0%,transparent 100%)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(204,93,232,.5))}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#cc5de8;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cc5de84d,#cc5de826);border-color:#cc5de8;color:#cc5de8}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #51cf66!important;background:linear-gradient(135deg,rgba(81,207,102,.08) 0%,transparent 100%)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(81,207,102,.5))}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#51cf66;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#51cf664d,#51cf6626);border-color:#51cf66;color:#51cf66}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #ffd43b!important;background:linear-gradient(135deg,rgba(255,212,59,.08) 0%,transparent 100%)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(255,212,59,.5))}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#ffd43b;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd43b4d,#ffd43b26);border-color:#ffd43b;color:#ffd43b}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]   .delete-item-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;width:26px;height:26px;padding:0;min-width:26px;opacity:0;transition:opacity .2s ease;background:#f44336e6;border-radius:50%;z-index:10}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]   .delete-item-btn[_ngcontent-%COMP%]:hover{background:#f44336;transform:scale(1.1)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]   .delete-item-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px;color:#fff}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card-trigger[_ngcontent-%COMP%]:hover   .delete-item-btn[_ngcontent-%COMP%]{opacity:1}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #ff6b6b!important;background:linear-gradient(135deg,rgba(255,107,107,.12) 0%,transparent 100%)!important}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 12px rgba(255,107,107,.8)) drop-shadow(0 4px 8px rgba(255,107,107,.4));animation:_ngcontent-%COMP%_weapon-pulse 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ff8787,#ff6b6b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-weapon[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b66,#ff6b6b33);border-color:#ff6b6b;color:#ff6b6b}@keyframes _ngcontent-%COMP%_weapon-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #4dabf7!important;background:linear-gradient(135deg,rgba(77,171,247,.12) 0%,transparent 100%)!important}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 12px rgba(77,171,247,.8)) drop-shadow(0 4px 8px rgba(77,171,247,.4));animation:_ngcontent-%COMP%_armor-shield 2.5s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf7,#74c0fc,#4dabf7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#4dabf7;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-armor[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf766,#4dabf733);border-color:#4dabf7;color:#4dabf7}@keyframes _ngcontent-%COMP%_armor-shield{0%,to{filter:drop-shadow(0 0 12px rgba(77,171,247,.8))}50%{filter:drop-shadow(0 0 20px rgb(77,171,247))}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #cc5de8!important;background:linear-gradient(135deg,rgba(204,93,232,.12) 0%,transparent 100%)!important}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 12px rgba(204,93,232,.8)) drop-shadow(0 4px 8px rgba(204,93,232,.4));animation:_ngcontent-%COMP%_accessory-glow 3s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cc5de8,#e599f7,#cc5de8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#cc5de8;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-accessory[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#cc5de866,#cc5de833);border-color:#cc5de8;color:#cc5de8}@keyframes _ngcontent-%COMP%_accessory-glow{0%,to{filter:drop-shadow(0 0 12px rgba(204,93,232,.8));transform:rotate(0)}50%{filter:drop-shadow(0 0 20px rgb(204,93,232));transform:rotate(5deg)}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #51cf66!important;background:linear-gradient(135deg,rgba(81,207,102,.12) 0%,transparent 100%)!important}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 12px rgba(81,207,102,.8)) drop-shadow(0 4px 8px rgba(81,207,102,.4));animation:_ngcontent-%COMP%_consumable-bounce 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#51cf66,#8ce99a,#51cf66);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#51cf66;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-consumable[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#51cf6666,#51cf6633);border-color:#51cf66;color:#51cf66}@keyframes _ngcontent-%COMP%_consumable-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]{border-left:6px solid #ffd43b!important;background:linear-gradient(135deg,rgba(255,212,59,.12) 0%,transparent 100%)!important}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 12px rgba(255,212,59,.8)) drop-shadow(0 4px 8px rgba(255,212,59,.4));animation:_ngcontent-%COMP%_material-shine 3s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd43b,#ffe066,#ffd43b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{color:#ffd43b;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item.item-type-material[_ngcontent-%COMP%]   .item-card-content[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd43b66,#ffd43b33);border-color:#ffd43b;color:#ffd43b}@keyframes _ngcontent-%COMP%_material-shine{0%,to{filter:drop-shadow(0 0 12px rgba(255,212,59,.8))}50%{filter:drop-shadow(0 0 20px rgb(255,212,59)) drop-shadow(0 0 30px rgba(255,212,59,.5))}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:16px;padding:20px 16px;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden;min-height:160px;display:flex;flex-direction:column;align-items:center;justify-content:center}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary);transform:scaleX(0);transition:transform .3s ease}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=common][_ngcontent-%COMP%]{border-color:#9e9e9e}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=common][_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9e9e9e,#757575)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=uncommon][_ngcontent-%COMP%]{border-color:#51cf66;background:linear-gradient(135deg,#51cf660d,#2e7d320d)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=uncommon][_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#51cf66,#2e7d32)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=rare][_ngcontent-%COMP%]{border-color:#339af0;background:linear-gradient(135deg,#339af014,#1976d214)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=rare][_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#339af0,#1976d2)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=epic][_ngcontent-%COMP%]{border-color:#9775fa;background:linear-gradient(135deg,#9775fa1a,#7b1fa21a)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=epic][_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9775fa,#7b1fa2)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=legendary][_ngcontent-%COMP%]{border-color:#ff8000;background:linear-gradient(135deg,#ff80001f,#e651001f);animation:_ngcontent-%COMP%_legendary-border-glow 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[data-rarity=legendary][_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ff8000,#e65100)}@keyframes _ngcontent-%COMP%_legendary-border-glow{0%,to{box-shadow:0 0 15px #ff80004d}50%{box-shadow:0 0 25px #ff800080}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .delete-item-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;width:26px;height:26px;padding:0;min-width:26px;opacity:0;transition:opacity .2s ease;background:#f44336e6;border-radius:50%;z-index:10}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .delete-item-btn[_ngcontent-%COMP%]:hover{background:#f44336;transform:scale(1.1)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .delete-item-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px;color:#fff}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover   .delete-item-btn[_ngcontent-%COMP%]{opacity:1}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 32px var(--shadow);border-color:var(--accent-primary);cursor:pointer}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover   .item-card-icon[_ngcontent-%COMP%]{transform:scale(1.25) rotate(5deg);filter:drop-shadow(0 8px 16px rgba(0,0,0,.5))}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover   .item-card-icon[_ngcontent-%COMP%]:after{opacity:1!important;animation:_ngcontent-%COMP%_sparkle-hover .6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sparkle-hover{0%,to{transform:scale(1) rotate(0);opacity:1}50%{transform:scale(1.2) rotate(180deg);opacity:.7}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]{font-size:4rem;text-align:center;margin-bottom:16px;filter:drop-shadow(0 4px 8px rgba(0,0,0,.4));transition:all .4s cubic-bezier(.175,.885,.32,1.275);z-index:1;position:relative}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-icon[_ngcontent-%COMP%]:after{content:"\\2728";position:absolute;top:-8px;right:-8px;font-size:1rem;opacity:0;animation:_ngcontent-%COMP%_sparkle 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sparkle{0%,to{opacity:0;transform:scale(0) rotate(0)}25%{opacity:1;transform:scale(1) rotate(45deg)}50%{opacity:0;transform:scale(.8) rotate(90deg)}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]{width:100%;z-index:1}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:var(--text-primary);margin-bottom:4px;text-align:center;line-height:1.3;text-shadow:0 1px 2px rgba(0,0,0,.5)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-name.rarity-text-common[_ngcontent-%COMP%]{color:#9ca3af}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-name.rarity-text-uncommon[_ngcontent-%COMP%]{color:#51cf66;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-name.rarity-text-rare[_ngcontent-%COMP%]{color:#fbbf24;font-weight:800}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-name.rarity-text-epic[_ngcontent-%COMP%]{color:#a855f7;font-weight:900}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-name.rarity-text-legendary[_ngcontent-%COMP%]{color:#ff8000;font-weight:900;animation:_ngcontent-%COMP%_legendary-text-glow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_legendary-text-glow{0%,to{text-shadow:0 0 8px rgba(255,128,0,.6),0 1px 2px rgba(0,0,0,.5)}50%{text-shadow:0 0 12px rgba(255,128,0,.9),0 1px 2px rgba(0,0,0,.5)}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-rarity-badge[_ngcontent-%COMP%]{font-size:9px;font-weight:700;text-align:center;padding:3px 8px;margin:4px auto;border-radius:10px;text-transform:uppercase;letter-spacing:.5px;display:inline-block;box-shadow:0 2px 4px #0000004d}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-rarity-badge.rarity-badge-common[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);color:#d1d5db;border:1px solid #9ca3af}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-rarity-badge.rarity-badge-uncommon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:1px solid #34d399;box-shadow:0 0 8px #10b98166}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-rarity-badge.rarity-badge-rare[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;border:1px solid #fbbf24;box-shadow:0 0 8px #fbbf2480;animation:_ngcontent-%COMP%_rare-glow 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-rarity-badge.rarity-badge-epic[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed);color:#fff;border:1px solid #c084fc;box-shadow:0 0 10px #a855f799;animation:_ngcontent-%COMP%_epic-glow 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-rarity-badge.rarity-badge-legendary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8000,#c60);color:#fff;border:1px solid #ffaa44;box-shadow:0 0 12px #ff8000cc;animation:_ngcontent-%COMP%_legendary-glow 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rare-glow{0%,to{box-shadow:0 0 8px #fbbf2480}50%{box-shadow:0 0 16px #fbbf24cc}}@keyframes _ngcontent-%COMP%_epic-glow{0%,to{box-shadow:0 0 10px #a855f799}50%{box-shadow:0 0 20px #a855f7e6}}@keyframes _ngcontent-%COMP%_legendary-glow{0%,to{box-shadow:0 0 12px #ff8000cc}50%{box-shadow:0 0 24px #ff8000}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-type[_ngcontent-%COMP%]{font-size:10px;color:var(--text-tertiary);text-align:center;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]{font-size:10px;text-align:center;margin-bottom:8px}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-slot[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:linear-gradient(135deg,#ffffff1a,#ffffff0d);border-radius:10px;border:2px solid rgba(255,255,255,.3);font-weight:700;font-size:9px;color:var(--text-primary);text-transform:uppercase;letter-spacing:.3px;box-shadow:0 2px 4px #0003;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px;flex-wrap:wrap;margin-top:8px;max-height:80px;overflow-y:auto;padding:4px}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:2px}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat[_ngcontent-%COMP%]{font-size:9px;padding:3px 6px;background:var(--accent-primary);border-radius:10px;color:#fff;font-weight:600;box-shadow:0 1px 3px #0003;white-space:nowrap}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.damage[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border:1px solid #f87171}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.defense[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);border:1px solid #60a5fa}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.vital[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:1px solid #34d399}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.critical[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:1px solid #fbbf24;animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.lifesteal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ec4899,#db2777);border:1px solid #f472b6}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.resist[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);border:1px solid #a78bfa}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-stats[_ngcontent-%COMP%]   .mini-stat.special[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eab308,#ca8a04);border:1px solid #fbbf24;animation:_ngcontent-%COMP%_shimmer 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{box-shadow:0 0 5px #fb923c80}50%{box-shadow:0 0 15px #fb923ccc}}@keyframes _ngcontent-%COMP%_shimmer{0%,to{opacity:1}50%{opacity:.8}}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-quantity[_ngcontent-%COMP%]{text-align:center;margin-top:6px}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-info[_ngcontent-%COMP%]   .item-card-quantity[_ngcontent-%COMP%]   .quantity-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:var(--accent-primary);color:#fff;border-radius:20px;font-size:11px;font-weight:700;box-shadow:0 2px 8px #0000004d}.inventory-section[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .item-card-rarity[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:20px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));z-index:5}.inventory-section[_ngcontent-%COMP%]   .empty-inventory[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;background:linear-gradient(135deg,#0000004d,#00000080);border-radius:16px;border:2px dashed rgba(255,255,255,.2)}.inventory-section[_ngcontent-%COMP%]   .empty-inventory[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.7;filter:drop-shadow(0 4px 8px rgba(0,0,0,.5));animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.inventory-section[_ngcontent-%COMP%]   .empty-inventory[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:15px;margin-bottom:10px;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.5)}.inventory-section[_ngcontent-%COMP%]   .empty-inventory[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:13px;color:#ffffff80;font-weight:400;margin-bottom:20px}.inventory-section[_ngcontent-%COMP%]   .empty-inventory[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:0 24px;height:40px;font-size:14px;font-weight:700;box-shadow:0 4px 12px #673ab766}.inventory-section[_ngcontent-%COMP%]   .empty-inventory[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}.empty-equipment-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-equipment-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.3}.empty-equipment-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0 0 12px}.empty-equipment-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:14px}  .item-context-menu-mat .mat-mdc-menu-content{padding:8px 0}  .item-context-menu-mat .mat-mdc-menu-item{min-height:48px;display:flex;align-items:center;gap:12px;padding:0 20px;font-size:14px;font-weight:500;transition:all .2s ease}  .item-context-menu-mat .mat-mdc-menu-item mat-icon{width:20px;height:20px;font-size:20px;margin-right:8px}  .item-context-menu-mat .mat-mdc-menu-item:hover{background:var(--accent-primary)!important;color:#fff!important}  .item-context-menu-mat .mat-mdc-menu-item:hover mat-icon{color:#fff!important}  .cdk-overlay-container{z-index:9999999!important}  .cdk-overlay-pane{z-index:9999999!important}  .mat-mdc-menu-panel{z-index:9999999!important;box-shadow:0 8px 24px #0003!important;border-radius:8px;min-width:180px!important}  .comparison-snackbar .mdc-snackbar__surface{background:linear-gradient(135deg,var(--bg-primary),var(--bg-secondary))!important;border:2px solid var(--accent-primary)!important;border-radius:12px!important;box-shadow:0 8px 32px #0000004d!important;min-width:350px!important;max-width:500px!important}  .comparison-snackbar .mdc-snackbar__label{color:var(--text-primary)!important;font-size:14px!important;line-height:1.6!important;white-space:pre-line!important;font-family:Noto Sans KR,sans-serif!important;padding:16px 24px!important}  .comparison-snackbar .mat-mdc-snack-bar-action{color:var(--accent-primary)!important;font-weight:600!important}  .success-snackbar .mdc-snackbar__surface{background:linear-gradient(135deg,#10b981,#059669)!important;border-radius:12px!important;box-shadow:0 8px 32px #10b9814d!important}  .success-snackbar .mdc-snackbar__label{color:#fff!important;font-weight:600!important;font-size:15px!important}  .success-snackbar .mat-mdc-snack-bar-action{color:#fff!important;font-weight:700!important}.inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(500px,1fr));gap:12px;padding:20px;width:100%}@media (max-width: 768px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.inventory-item.diablo-card[_ngcontent-%COMP%]{position:relative;padding:0;border-radius:0;border:2px solid;background:linear-gradient(90deg,#19191efa,#0f0f14fa);cursor:pointer;transition:all .25s ease-out;box-shadow:0 4px 12px #000c,inset 0 1px #ffffff0d;display:flex;flex-direction:row;overflow:hidden;min-height:180px}.inventory-item.diablo-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #000000e6,inset 0 1px #ffffff1a}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]{width:180px;min-width:180px;background:linear-gradient(135deg,#1e1e23f2,#141419fa);display:flex;flex-direction:column;border-right:2px solid rgba(255,255,255,.08);position:relative}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-image-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:20px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-image-wrapper[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{max-width:100%;max-height:140px;object-fit:contain;filter:drop-shadow(0 4px 8px rgba(0,0,0,.8))}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-image-wrapper[_ngcontent-%COMP%]   .item-image-icon[_ngcontent-%COMP%]{font-size:96px;text-align:center;opacity:.85;filter:drop-shadow(0 4px 12px rgba(0,0,0,.9));transition:all .3s ease}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-image-wrapper[_ngcontent-%COMP%]   .item-image-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05);filter:drop-shadow(0 6px 16px rgb(0,0,0))}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-image-wrapper[_ngcontent-%COMP%]   .item-image-placeholder[_ngcontent-%COMP%]{width:100%;height:120px;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,rgba(60,60,70,.4) 0%,transparent 70%)}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-image-wrapper[_ngcontent-%COMP%]   .item-image-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:64px;opacity:.4}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]{padding:12px 16px;background:#0006;border-top:1px solid rgba(255,255,255,.05)}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-type-badge[_ngcontent-%COMP%]{font-size:11px;color:#9ca3af;text-align:center;margin-bottom:8px;text-transform:none;font-weight:600}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;font-size:11px;color:#6b7280}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .favorites[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .favorites[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{color:#fbbf24;font-size:12px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .favorites[_ngcontent-%COMP%]   .comment-icon[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-image-section[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   .comment-icon[_ngcontent-%COMP%]{font-size:12px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:16px 20px;position:relative}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{margin-bottom:12px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:8px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;line-height:1.3;flex:1;letter-spacing:.3px;color:#d1d5db}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .attack-speed[_ngcontent-%COMP%]{font-size:11px;color:#9ca3af;white-space:nowrap;align-self:flex-start}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .header-badges[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .header-badges[_ngcontent-%COMP%]   .badge-chaos[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .header-badges[_ngcontent-%COMP%]   .badge-class[_ngcontent-%COMP%]{font-size:10px;color:#9ca3af;padding:2px 0}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .unique-effect-highlight[_ngcontent-%COMP%]{margin-bottom:12px;padding:10px 0;border-top:1px solid rgba(255,255,255,.06);border-bottom:1px solid rgba(255,255,255,.06)}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .unique-effect-highlight[_ngcontent-%COMP%]   .effect-text-main[_ngcontent-%COMP%]{font-size:13px;line-height:1.6;color:#fbbf24;font-weight:600;text-shadow:0 0 8px rgba(251,191,36,.4);word-break:keep-all}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .unique-effect-highlight[_ngcontent-%COMP%]   .effect-text-main[_ngcontent-%COMP%]:first-line{color:#fb923c}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{font-size:12px;line-height:1.5;color:#d1d5db;font-weight:500;padding:2px 0}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]   .stat-line.damage[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]   .stat-line.defense[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]   .stat-line.vital[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]   .stat-line.critical[_ngcontent-%COMP%], .inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-detailed[_ngcontent-%COMP%]   .stat-line.special[_ngcontent-%COMP%]{color:#d1d5db}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-legacy[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-stats-legacy[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{font-size:12px;color:#d1d5db}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:auto}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:8px 14px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;border:1px solid;border-radius:2px;cursor:pointer;transition:all .2s ease;background:#0006;color:#d1d5db;border-color:#fff3}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#fff6}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]   .btn-equip[_ngcontent-%COMP%]{background:linear-gradient(180deg,#3b82f699,#2563ebb3);border-color:#3b82f6;color:#fff}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]   .btn-equip[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#3b82f6cc,#2563ebe6)}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]   .btn-sell[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eab30899,#ca8a04b3);border-color:#eab308;color:#1a1a1a}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-info-section[_ngcontent-%COMP%]   .item-actions-inline[_ngcontent-%COMP%]   .btn-sell[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#eab308cc,#ca8a04e6)}.inventory-item.diablo-card[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#000c;color:#fff;padding:4px 8px;border-radius:2px;font-size:11px;font-weight:800;border:1px solid rgba(255,255,255,.3);box-shadow:0 2px 6px #00000080;z-index:10}.inventory-item.diablo-card.rarity-common[_ngcontent-%COMP%]{border-color:#6b7280}.inventory-item.diablo-card.rarity-common[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#9ca3af}.inventory-item.diablo-card.rarity-uncommon[_ngcontent-%COMP%]{border-color:#3b82f6}.inventory-item.diablo-card.rarity-uncommon[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#60a5fa}.inventory-item.diablo-card.rarity-rare[_ngcontent-%COMP%]{border-color:#fbbf24}.inventory-item.diablo-card.rarity-rare[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#fcd34d}.inventory-item.diablo-card.rarity-epic[_ngcontent-%COMP%]{border-color:#a855f7}.inventory-item.diablo-card.rarity-epic[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#c084fc}.inventory-item.diablo-card.rarity-legendary[_ngcontent-%COMP%]{border-color:#f97316}.inventory-item.diablo-card.rarity-legendary[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#fb923c}.inventory-item.diablo-card.rarity-unique[_ngcontent-%COMP%]{border-color:#a855f7;border-width:3px}.inventory-item.diablo-card.rarity-unique[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#c084fc;text-shadow:0 0 12px rgba(168,85,247,.6)}.inventory-item.diablo-card.rarity-unique[_ngcontent-%COMP%]   .unique-effect-highlight[_ngcontent-%COMP%]   .effect-text-main[_ngcontent-%COMP%]{color:#fbbf24;text-shadow:0 0 10px rgba(251,191,36,.5)}.inventory-item.diablo-card.rarity-mythic[_ngcontent-%COMP%]{border-color:#ec4899;border-width:3px;box-shadow:0 4px 12px #000c,0 0 20px #ec489966,inset 0 1px #ffffff0d}.inventory-item.diablo-card.rarity-mythic[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#f472b6;text-shadow:0 0 15px rgba(236,72,153,.7);font-weight:800}.inventory-item.diablo-card.rarity-mythic[_ngcontent-%COMP%]   .unique-effect-highlight[_ngcontent-%COMP%]   .effect-text-main[_ngcontent-%COMP%]{color:#fb923c;text-shadow:0 0 12px rgba(251,146,60,.6)}.inventory-item.diablo-card.rarity-mythic[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #000000e6,0 0 30px #ec489999,inset 0 1px #ffffff1a}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card){position:relative;padding:0;border-radius:4px;border:2px solid;background:linear-gradient(180deg,#141419fa,#0a0a0ffa);cursor:pointer;transition:all .25s ease-out;box-shadow:0 4px 8px #0009,0 2px 4px #0006,inset 0 1px #ffffff1a;display:flex;flex-direction:column;overflow:hidden}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card):hover{transform:translateY(-3px)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary{border-color:#f97316;border-width:3px;background:linear-gradient(180deg,#f9731626,#0a0a0ffa)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary:before{content:"";position:absolute;inset:-3px;border-radius:4px;background:linear-gradient(45deg,#f97316,#fb923c,#fbbf24,#fb923c,#f97316,#fb923c);z-index:-1;opacity:.6;filter:blur(12px);animation:_ngcontent-%COMP%_legendary-glow 3s ease-in-out infinite}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary:after{height:60%;background:linear-gradient(180deg,transparent 0%,rgba(249,115,22,.3) 50%,rgba(0,0,0,.6) 100%)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary:hover{border-color:#fb923c;transform:translateY(-4px) scale(1.01);box-shadow:0 12px 24px #f97316cc,0 6px 12px #0009,0 0 40px #f97316b3,inset 0 0 35px #f9731640}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary:hover:before{opacity:.9;filter:blur(15px)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary   .item-name[_ngcontent-%COMP%]{color:#fdba74;text-shadow:0 2px 6px rgb(0,0,0),0 0 25px rgb(249,115,22),0 0 15px rgb(251,146,60),0 0 8px rgba(251,191,36,.8);letter-spacing:1.5px;font-weight:900;text-transform:uppercase;animation:_ngcontent-%COMP%_legendary-text 2s ease-in-out infinite}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-legendary   .item-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f9731666,#f9731626);border-bottom:2px solid rgba(249,115,22,.8)}@keyframes _ngcontent-%COMP%_legendary-glow{0%,to{opacity:.6;filter:blur(12px)}50%{opacity:.85;filter:blur(15px)}}@keyframes _ngcontent-%COMP%_legendary-text{0%,to{text-shadow:0 2px 6px rgb(0,0,0),0 0 25px rgb(249,115,22),0 0 15px rgb(251,146,60),0 0 8px rgba(251,191,36,.8)}50%{text-shadow:0 2px 6px rgb(0,0,0),0 0 30px rgb(249,115,22),0 0 20px rgb(251,146,60),0 0 12px rgb(251,191,36)}}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:16px 18px;border-bottom:1px solid rgba(255,255,255,.1);position:relative;z-index:1}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-header[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:15px;font-weight:700;line-height:1.4;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.8px;font-family:Exocet,Cinzel,Trajan Pro,serif,-apple-system,BlinkMacSystemFont,Segoe UI}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-header[_ngcontent-%COMP%]   .item-rarity[_ngcontent-%COMP%]{font-size:9px;padding:4px 10px;border-radius:2px;background:#00000080;color:#ffffffd9;white-space:nowrap;text-transform:uppercase;letter-spacing:1px;font-weight:800;flex-shrink:0;border:1px solid rgba(255,255,255,.2);box-shadow:0 2px 4px #0009}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]{padding:14px 18px;font-size:12px;line-height:1.8;display:flex;flex-direction:column;gap:4px;position:relative;z-index:1;background:linear-gradient(180deg,rgba(0,0,0,.2) 0%,transparent 100%)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{color:#d1d5db;padding:3px 0;font-size:12px;display:flex;align-items:center;gap:8px;transition:all .15s ease;font-family:Segoe UI,Roboto,Arial,sans-serif;font-weight:600;text-shadow:0 1px 3px rgba(0,0,0,.8)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]:before{content:"\\25c6";font-size:8px;opacity:.6;color:inherit}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]:hover{color:#f3f4f6;transform:translate(2px);text-shadow:0 1px 4px rgba(0,0,0,.9)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.damage[_ngcontent-%COMP%]{color:#ef4444;font-weight:800;text-shadow:0 1px 4px rgba(0,0,0,.9),0 0 8px rgba(239,68,68,.5)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.damage[_ngcontent-%COMP%]:before{content:"\\2694";color:#dc2626;opacity:1;font-size:10px}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.defense[_ngcontent-%COMP%]{color:#3b82f6;font-weight:800;text-shadow:0 1px 4px rgba(0,0,0,.9),0 0 8px rgba(59,130,246,.5)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.defense[_ngcontent-%COMP%]:before{content:"\\1f6e1";opacity:1;font-size:10px}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.vital[_ngcontent-%COMP%]{color:#dc2626;font-weight:800;text-shadow:0 1px 4px rgba(0,0,0,.9),0 0 10px rgba(220,38,38,.6)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.vital[_ngcontent-%COMP%]:before{content:"\\2764";color:#dc2626;opacity:1;font-size:10px}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.critical[_ngcontent-%COMP%]{color:#f97316;font-weight:900;text-shadow:0 1px 4px rgb(0,0,0),0 0 12px rgba(249,115,22,.8),0 0 6px rgba(251,146,60,.6)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.critical[_ngcontent-%COMP%]:before{content:"\\1f4a5";opacity:1;font-size:11px;filter:drop-shadow(0 0 4px rgba(249,115,22,.8))}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.lifesteal[_ngcontent-%COMP%]{color:#ec4899;font-weight:800;text-shadow:0 1px 4px rgba(0,0,0,.9),0 0 10px rgba(236,72,153,.6)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.lifesteal[_ngcontent-%COMP%]:before{content:"\\1fa78";opacity:1;font-size:10px}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.manasteal[_ngcontent-%COMP%]{color:#06b6d4;font-weight:800;text-shadow:0 1px 4px rgba(0,0,0,.9),0 0 10px rgba(6,182,212,.6)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.manasteal[_ngcontent-%COMP%]:before{content:"\\1f4a7";opacity:1;font-size:10px}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist[_ngcontent-%COMP%]{color:#a855f7;font-weight:700}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist[_ngcontent-%COMP%]:before{content:"\\2726";opacity:1}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.fire[_ngcontent-%COMP%]{color:#f87171}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.fire[_ngcontent-%COMP%]:before{content:"\\1f525"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.cold[_ngcontent-%COMP%]{color:#60a5fa}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.cold[_ngcontent-%COMP%]:before{content:"\\2744\\fe0f"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.lightning[_ngcontent-%COMP%]{color:#fbbf24}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.lightning[_ngcontent-%COMP%]:before{content:"\\26a1"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.poison[_ngcontent-%COMP%]{color:#34d399}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.poison[_ngcontent-%COMP%]:before{content:"\\2620\\fe0f"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.all[_ngcontent-%COMP%]{color:#a855f7;font-weight:800;text-shadow:0 0 8px rgba(168,85,247,.6)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.resist.all[_ngcontent-%COMP%]:before{content:"\\2728"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special[_ngcontent-%COMP%]{color:#fbbf24;font-weight:700}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special[_ngcontent-%COMP%]:before{content:"\\2605";opacity:1}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.magic[_ngcontent-%COMP%]{color:#c084fc;text-shadow:0 0 6px rgba(192,132,252,.5)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.magic[_ngcontent-%COMP%]:before{content:"\\2728"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.gold[_ngcontent-%COMP%]{color:#fbbf24;text-shadow:0 0 6px rgba(251,191,36,.5)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.gold[_ngcontent-%COMP%]:before{content:"\\1f4b0"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.exp[_ngcontent-%COMP%]{color:#60a5fa}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.exp[_ngcontent-%COMP%]:before{content:"\\2b50"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.move[_ngcontent-%COMP%]{color:#34d399}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-stats[_ngcontent-%COMP%]   .stat-line.special.move[_ngcontent-%COMP%]:before{content:"\\26a1"}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px 18px;border-top:1px solid rgba(255,255,255,.1);background:linear-gradient(180deg,#0000004d,#00000080);position:relative;z-index:1}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.2) 50%,transparent 100%)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:10px 16px;font-size:11px;font-weight:800;text-transform:uppercase;letter-spacing:.8px;border:2px solid;border-radius:2px;cursor:pointer;transition:all .2s ease;position:relative;overflow:hidden;font-family:Segoe UI,Arial,sans-serif;text-shadow:0 1px 3px rgba(0,0,0,.8);box-shadow:0 2px 4px #0009,inset 0 1px #ffffff26}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);transition:left .5s ease}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{left:100%}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   .btn-use[_ngcontent-%COMP%]{background:linear-gradient(180deg,#10b981cc,#059669e6);border-color:#34d399;color:#fff}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   .btn-use[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#10b981,#059669);border-color:#6ee7b7;box-shadow:0 4px 8px #10b98199,0 0 15px #10b98166,inset 0 1px #ffffff40}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   .btn-equip[_ngcontent-%COMP%]{background:linear-gradient(180deg,#3b82f6cc,#2563ebe6);border-color:#60a5fa;color:#fff}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   .btn-equip[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#3b82f6,#2563eb);border-color:#93c5fd;box-shadow:0 4px 8px #3b82f699,0 0 15px #3b82f666,inset 0 1px #ffffff40}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   .btn-sell[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eab308cc,#ca8a04e6);border-color:#fbbf24;color:#1a1a1a;text-shadow:0 1px 2px rgba(255,255,255,.3)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-actions[_ngcontent-%COMP%]   .btn-sell[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#eab308,#ca8a04);border-color:#fcd34d;box-shadow:0 4px 8px #eab30899,0 0 15px #eab30866,inset 0 1px #fff6;color:#000}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-quantity[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#000c;color:#fff;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:800;border:1px solid rgba(255,255,255,.3);box-shadow:0 2px 6px #00000080;z-index:10}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-badges[_ngcontent-%COMP%]{display:flex;gap:6px;padding:8px 18px;background:#00000040;border-bottom:1px solid rgba(255,255,255,.05);flex-wrap:wrap;position:relative;z-index:1}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 10px;font-size:10px;font-weight:800;text-transform:uppercase;letter-spacing:.8px;border-radius:2px;border:1px solid;box-shadow:0 2px 4px #0009;text-shadow:0 1px 3px rgba(0,0,0,.8)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-badges[_ngcontent-%COMP%]   .badge.chaos[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7cc,#7c3aede6);border-color:#a855f7;color:#fae8ff;box-shadow:0 2px 4px #0009,0 0 10px #a855f780}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-badges[_ngcontent-%COMP%]   .badge.class[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#2563ebe6);border-color:#3b82f6;color:#dbeafe;box-shadow:0 2px 4px #0009,0 0 8px #3b82f666}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .item-badges[_ngcontent-%COMP%]   .badge.aps[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55ecc,#16a34ae6);border-color:#22c55e;color:#dcfce7;box-shadow:0 2px 4px #0009,0 0 8px #22c55e66}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .unique-effect[_ngcontent-%COMP%]{padding:14px 18px;background:linear-gradient(180deg,#a855f726,#0000004d);border-top:1px solid rgba(168,85,247,.3);border-bottom:1px solid rgba(168,85,247,.2);position:relative;z-index:1}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .unique-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(168,85,247,.5) 50%,transparent 100%)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .unique-effect[_ngcontent-%COMP%]   .effect-label[_ngcontent-%COMP%]{font-size:10px;font-weight:800;text-transform:uppercase;letter-spacing:1px;color:#c084fc;margin-bottom:6px;text-shadow:0 1px 3px rgba(0,0,0,.8),0 0 8px rgba(168,85,247,.6)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card)   .unique-effect[_ngcontent-%COMP%]   .effect-text[_ngcontent-%COMP%]{font-size:12px;line-height:1.6;color:#e9d5ff;font-weight:600;text-shadow:0 1px 3px rgba(0,0,0,.8);font-family:Segoe UI,Roboto,Arial,sans-serif;word-break:keep-all;overflow-wrap:break-word}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-unique{border-color:#a855f7;border-width:3px;background:linear-gradient(180deg,#a855f71f,#0a0a0ffa)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-unique:hover{border-color:#c084fc;box-shadow:0 10px 20px #a855f799,0 4px 8px #00000080,0 0 35px #a855f780,inset 0 0 30px #a855f72e}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-unique   .item-name[_ngcontent-%COMP%]{color:#d8b4fe;text-shadow:0 2px 4px rgba(0,0,0,.9),0 0 18px rgba(168,85,247,.9),0 0 10px rgba(168,85,247,.7);letter-spacing:1px;font-weight:900}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-unique   .item-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a855f752,#a855f71a);border-bottom:2px solid rgba(168,85,247,.65)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-mythic{border-color:#ec4899;border-width:4px;background:linear-gradient(180deg,#ec48992e,#0a0a0ffa)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-mythic:before{content:"";position:absolute;inset:-4px;border-radius:4px;background:linear-gradient(45deg,#ec4899,#f472b6,#f9a8d4,#f472b6,#ec4899,#f472b6);z-index:-1;opacity:.7;filter:blur(14px);animation:_ngcontent-%COMP%_legendary-glow 3s ease-in-out infinite}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-mythic:hover{border-color:#f472b6;transform:translateY(-5px) scale(1.02);box-shadow:0 15px 30px #ec4899e6,0 8px 16px #0009,0 0 50px #ec4899cc,inset 0 0 40px #ec48994d}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-mythic:hover:before{opacity:1;filter:blur(18px)}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-mythic   .item-name[_ngcontent-%COMP%]{color:#fbcfe8;text-shadow:0 2px 6px rgb(0,0,0),0 0 30px rgb(236,72,153),0 0 20px rgb(244,114,182),0 0 12px rgba(249,168,212,.9);letter-spacing:2px;font-weight:900;text-transform:uppercase;animation:_ngcontent-%COMP%_legendary-text 2s ease-in-out infinite}.inventory-item[_ngcontent-%COMP%]:not(.diablo-card).rarity-mythic   .item-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ec489973,#ec48992e);border-bottom:2px solid rgba(236,72,153,.85)}@keyframes _ngcontent-%COMP%_legendary-item-pulse{0%,to{box-shadow:inset 0 2px 6px var(--shadow),0 2px 8px var(--shadow),0 0 20px #f9731666}50%{box-shadow:inset 0 2px 6px var(--shadow),0 2px 8px var(--shadow),0 0 30px #f97316b3}}@keyframes _ngcontent-%COMP%_legendary-text-shine{0%{background-position:0% 50%}to{background-position:200% 50%}}@keyframes _ngcontent-%COMP%_legendary-header-shine{0%{left:-100%}50%,to{left:200%}}.empty-message[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary);font-size:16px;font-style:italic}@keyframes _ngcontent-%COMP%_legendary-pulse{0%,to{box-shadow:0 0 20px #f9731666}50%{box-shadow:0 0 30px #f97316b3}}  .item-details-snackbar .mdc-snackbar__surface{background:var(--bg-secondary)!important;border:2px solid var(--border-color)!important;border-radius:12px!important;box-shadow:0 12px 48px var(--shadow)!important;min-width:400px!important;max-width:500px!important}  .item-details-snackbar .mdc-snackbar__label{color:var(--text-primary)!important;font-size:13px!important;line-height:1.8!important;white-space:pre-line!important;font-family:Consolas,Monaco,monospace!important;padding:20px 24px!important}  .item-details-snackbar.rarity-common .mdc-snackbar__surface{border-color:#9ca3af!important}  .item-details-snackbar.rarity-uncommon .mdc-snackbar__surface{border-color:#3b82f6!important;box-shadow:0 12px 48px #3b82f64d!important}  .item-details-snackbar.rarity-rare .mdc-snackbar__surface{border-color:#eab308!important;box-shadow:0 12px 48px #eab3084d!important}  .item-details-snackbar.rarity-epic .mdc-snackbar__surface{border-color:#a855f7!important;box-shadow:0 12px 48px #a855f766!important}  .item-details-snackbar.rarity-legendary .mdc-snackbar__surface{border-color:#f97316!important;box-shadow:0 12px 48px #f9731680!important;animation:_ngcontent-%COMP%_legendary-pulse 2s ease-in-out infinite}.inventory-panel[_ngcontent-%COMP%]{width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;top:0!important;left:0!important;transform:none!important;border-radius:0!important}.inventory-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{background:var(--bg-secondary);border-bottom:2px solid var(--border-color)}.inventory-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:1fr 1.5fr;gap:0;height:100%;overflow:hidden}.inventory-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]{border-right:3px solid var(--border-color);border-bottom:none}.inventory-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .inventory-tab-grid[_ngcontent-%COMP%]{border-left:3px solid var(--border-color)}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;padding:12px 16px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);margin:0;flex-wrap:wrap}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:var(--bg-primary);border-radius:4px;border:1px solid var(--border-color);min-width:120px}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item.gold[_ngcontent-%COMP%]   .currency-amount[_ngcontent-%COMP%]{color:#d4af37}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item.gem[_ngcontent-%COMP%]   .currency-amount[_ngcontent-%COMP%]{color:#9370db}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item.crystal[_ngcontent-%COMP%]   .currency-amount[_ngcontent-%COMP%]{color:#4682b4}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item.ticket[_ngcontent-%COMP%]   .currency-amount[_ngcontent-%COMP%]{color:#db7093}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{font-size:18px}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-label[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--text-secondary)}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-amount[_ngcontent-%COMP%]{font-size:15px;font-weight:600;min-width:40px;text-align:right}.inventory-panel[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-unit[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--text-secondary)}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]{padding:20px}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:20px}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;transition:all .2s ease}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]:hover{border-color:var(--text-secondary)}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-header[_ngcontent-%COMP%]   .currency-icon-large[_ngcontent-%COMP%]{font-size:32px}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-header[_ngcontent-%COMP%]   .currency-info[_ngcontent-%COMP%]{flex:1}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-header[_ngcontent-%COMP%]   .currency-info[_ngcontent-%COMP%]   .currency-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-primary);margin:0 0 4px}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-header[_ngcontent-%COMP%]   .currency-info[_ngcontent-%COMP%]   .currency-desc[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);margin:0;line-height:1.4}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:4px;padding-left:16px;border-left:1px solid var(--border-color)}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-secondary)}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card.gold[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#d4af37}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card.gem[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#9370db}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card.crystal[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#4682b4}.inventory-panel[_ngcontent-%COMP%]   .currency-tab-content[_ngcontent-%COMP%]   .currency-card.ticket[_ngcontent-%COMP%]   .currency-card-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#db7093}.inventory-panel[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);padding:16px 20px 12px;margin:0;background:linear-gradient(135deg,#3b82f61a,#2563eb1a);border-bottom:2px solid rgba(59,130,246,.3);text-align:center}.inventory-panel[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]{padding:30px;margin-bottom:0;border-bottom:3px solid var(--border-color);background:var(--bg-secondary);height:100%;overflow-y:auto;overflow-x:hidden}.inventory-panel[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:30px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0003}.inventory-panel[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:5px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slots-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;max-width:100%;width:100%;margin:0}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-rings-row[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:repeat(2,1fr);gap:30px;max-width:800px;margin:0 auto;width:100%}@media (max-width: 1200px){.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%], .inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-column[_ngcontent-%COMP%]{gap:16px}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-rings-row[_ngcontent-%COMP%]{gap:16px;max-width:600px}}@media (max-width: 768px){.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;padding:20px}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-column[_ngcontent-%COMP%]{gap:12px}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-rings-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:12px;max-width:100%}}@media (max-width: 480px){.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]{padding:16px;gap:10px}.inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-column[_ngcontent-%COMP%], .inventory-panel[_ngcontent-%COMP%]   .diablo-equipment-layout[_ngcontent-%COMP%]   .equipment-rings-row[_ngcontent-%COMP%]{gap:10px}}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#1e1e1ee6,#141414f2);border:3px solid var(--border-color);border-radius:16px;padding:24px;min-height:140px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:inset 0 2px 12px var(--shadow),0 6px 16px var(--shadow)}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:5px;border:1px solid rgba(255,255,255,.08);border-radius:12px;pointer-events:none;opacity:.5}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:48px;opacity:.4;margin-bottom:12px;filter:grayscale(100%);transition:all .3s ease}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-empty-text[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted);text-transform:uppercase;letter-spacing:1.5px;font-weight:700;text-align:center}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]:not(.has-item):hover{border-color:#3b82f680;background:linear-gradient(135deg,#1e1e1ef2,#141414)}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]:not(.has-item):hover   .slot-icon[_ngcontent-%COMP%]{opacity:.6}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]:not(.has-item):hover   .slot-empty-text[_ngcontent-%COMP%]{color:#3b82f6cc}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.has-item[_ngcontent-%COMP%]{border-color:var(--accent-primary);background:linear-gradient(135deg,#1e1e32f2,#141428);box-shadow:inset 0 2px 12px var(--shadow),0 6px 20px #3b82f640}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.has-item[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{opacity:1;filter:grayscale(0%) drop-shadow(0 0 8px currentColor);font-size:52px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.has-item[_ngcontent-%COMP%]:hover{box-shadow:inset 0 2px 12px var(--shadow),0 12px 30px #3b82f666}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.rarity-common.has-item[_ngcontent-%COMP%]{border-color:#9ca3af;box-shadow:inset 0 2px 12px var(--shadow),0 0 20px #9ca3af66}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.rarity-uncommon.has-item[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#1e3228f2,#14281e);box-shadow:inset 0 2px 12px var(--shadow),0 0 25px #10b98199;animation:uncommon-glow 2s ease-in-out infinite}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.rarity-rare.has-item[_ngcontent-%COMP%]{border-color:#3b82f6;background:linear-gradient(135deg,#1e283cf2,#141e32);box-shadow:inset 0 2px 12px var(--shadow),0 0 30px #3b82f6b3;animation:_ngcontent-%COMP%_rare-glow 2s ease-in-out infinite}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.rarity-epic.has-item[_ngcontent-%COMP%]{border-color:#a855f7;background:linear-gradient(135deg,#321e3cf2,#281432);box-shadow:inset 0 2px 12px var(--shadow),0 0 35px #a855f7cc;animation:_ngcontent-%COMP%_epic-glow 2s ease-in-out infinite}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.rarity-legendary.has-item[_ngcontent-%COMP%]{border-color:#f97316;background:linear-gradient(135deg,#3c1e14f2,#32140a);box-shadow:inset 0 2px 12px var(--shadow),0 0 45px #f97316e6;animation:_ngcontent-%COMP%_legendary-glow-diablo 1.5s ease-in-out infinite}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.rarity-legendary.has-item[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-3px;border:2px solid rgba(249,115,22,.4);border-radius:12px;animation:_ngcontent-%COMP%_legendary-pulse-border 1.5s ease-in-out infinite;pointer-events:none}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:4px 0}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .tooltip-name[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:700;color:var(--text-primary);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-shadow:0 2px 4px rgba(0,0,0,.8);letter-spacing:.5px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .btn-unequip-small[_ngcontent-%COMP%]{flex-shrink:0;width:28px;height:28px;padding:0;background:linear-gradient(135deg,#dc2626e6,#b91c1cf2);border:2px solid rgb(220,38,38);border-radius:6px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 3px 8px #00000080;position:relative;z-index:100;pointer-events:auto}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .btn-unequip-small[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b91c1c,#991b1b);transform:scale(1.1);box-shadow:0 4px 12px #dc262699}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .btn-unequip-small[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 1200px){.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]{padding:20px;min-height:120px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:42px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.has-item[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:46px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .tooltip-name[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 768px){.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]{padding:18px;min-height:100px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:36px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.has-item[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:40px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-empty-text[_ngcontent-%COMP%]{font-size:11px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .tooltip-name[_ngcontent-%COMP%]{font-size:12px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .btn-unequip-small[_ngcontent-%COMP%]{width:24px;height:24px;font-size:14px}}@media (max-width: 480px){.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]{padding:14px;min-height:85px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:30px;margin-bottom:8px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo.has-item[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{font-size:34px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .slot-empty-text[_ngcontent-%COMP%]{font-size:10px;letter-spacing:1px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .tooltip-name[_ngcontent-%COMP%]{font-size:11px}.inventory-panel[_ngcontent-%COMP%]   .equipment-slot-diablo[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]   .btn-unequip-small[_ngcontent-%COMP%]{width:22px;height:22px;font-size:13px}}.inventory-panel[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:800;margin-bottom:24px;text-align:center;color:var(--text-primary);text-transform:uppercase;letter-spacing:2px;text-shadow:0 2px 8px rgba(0,0,0,.5);padding-bottom:16px;border-bottom:2px solid var(--border-color)}.inventory-panel[_ngcontent-%COMP%]   .inventory-items-section[_ngcontent-%COMP%]{background:var(--bg-primary);padding:20px}.inventory-panel[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;width:100%}.inventory-tab-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.inventory-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--bg-secondary);border-bottom:2px solid var(--border-color);gap:16px;flex-wrap:wrap}.inventory-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.inventory-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid var(--border-color);border-radius:6px;background:var(--bg-primary);color:var(--text-primary);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:4px}.inventory-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--accent-primary);transform:translateY(-2px)}.inventory-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border-color:#3b82f6;box-shadow:0 4px 12px #3b82f64d;transform:translateY(-2px)}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-primary)}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid var(--border-color);border-radius:6px;background:var(--bg-primary);color:var(--text-primary);font-size:13px;cursor:pointer;transition:all .2s ease}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:var(--accent-primary)}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f61a}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .btn-auto-sort[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid var(--border-color);border-radius:6px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .btn-auto-sort[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 4px 12px #3b82f666}.inventory-controls[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .btn-auto-sort[_ngcontent-%COMP%]:active{transform:translateY(0)}.inventory-grid-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:16px;background:var(--bg-primary);scrollbar-gutter:stable}.inventory-grid-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.inventory-grid-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}.inventory-grid-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:5px}.inventory-grid-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.inventory-grid-cells[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:12px;width:100%;max-width:100%}@media (max-width: 1400px){.inventory-grid-cells[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:10px}}@media (max-width: 1000px){.inventory-grid-cells[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:10px}}@media (max-width: 768px){.inventory-grid-cells[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:8px}}@media (max-width: 480px){.inventory-grid-cells[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:6px}}.inventory-cell[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;background:linear-gradient(135deg,#1e1e1ecc,#141414e6);border:3px solid var(--border-color);border-radius:10px;cursor:pointer;transition:all .2s ease;overflow:hidden}.inventory-cell[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:3px;border:1px solid rgba(255,255,255,.1);border-radius:7px;pointer-events:none}.inventory-cell[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;z-index:1}.inventory-cell[_ngcontent-%COMP%]   .cell-icon[_ngcontent-%COMP%]{font-size:40px;margin-bottom:4px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}@media (max-width: 768px){.inventory-cell[_ngcontent-%COMP%]   .cell-icon[_ngcontent-%COMP%]{font-size:32px}}.inventory-cell[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:var(--text-primary);text-align:center;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;text-shadow:0 2px 4px rgba(0,0,0,.8);letter-spacing:.3px}@media (max-width: 768px){.inventory-cell[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{font-size:10px}}.inventory-cell[_ngcontent-%COMP%]   .cell-quantity[_ngcontent-%COMP%]{position:absolute;bottom:6px;right:6px;background:linear-gradient(135deg,#000000e6,#000c);color:#fff;font-size:12px;font-weight:700;padding:3px 8px;border-radius:12px;border:1px solid rgba(255,255,255,.2);box-shadow:0 2px 6px #0009;z-index:2}.inventory-cell[_ngcontent-%COMP%]:hover:not(.empty){box-shadow:0 12px 28px #00000080;z-index:10}.inventory-cell[_ngcontent-%COMP%]:active:not(.empty){opacity:.9}.inventory-cell.rarity-common[_ngcontent-%COMP%]{border-color:#9ca3af}.inventory-cell.rarity-common[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#d1d5db}.inventory-cell.rarity-common[_ngcontent-%COMP%]:hover{border-color:#d1d5db;box-shadow:0 12px 28px #9ca3af66}.inventory-cell.rarity-uncommon[_ngcontent-%COMP%]{border-color:#10b981}.inventory-cell.rarity-uncommon[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#34d399}.inventory-cell.rarity-uncommon[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(16,185,129,.2),transparent 70%);pointer-events:none}.inventory-cell.rarity-uncommon[_ngcontent-%COMP%]:hover{border-color:#34d399;box-shadow:0 12px 28px #10b98180}.inventory-cell.rarity-rare[_ngcontent-%COMP%]{border-color:#3b82f6}.inventory-cell.rarity-rare[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#60a5fa}.inventory-cell.rarity-rare[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(59,130,246,.2),transparent 70%);pointer-events:none}.inventory-cell.rarity-rare[_ngcontent-%COMP%]:hover{border-color:#60a5fa;box-shadow:0 12px 28px #3b82f699}.inventory-cell.rarity-epic[_ngcontent-%COMP%]{border-color:#a855f7}.inventory-cell.rarity-epic[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#c084fc}.inventory-cell.rarity-epic[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(168,85,247,.25),transparent 70%);pointer-events:none;animation:_ngcontent-%COMP%_epic-glow-pulse 2s ease-in-out infinite}.inventory-cell.rarity-epic[_ngcontent-%COMP%]:hover{border-color:#c084fc;box-shadow:0 12px 28px #a855f7b3}.inventory-cell.rarity-legendary[_ngcontent-%COMP%]{border-color:#f97316}.inventory-cell.rarity-legendary[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#fb923c;animation:_ngcontent-%COMP%_legendary-text-glow 2s ease-in-out infinite}.inventory-cell.rarity-legendary[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(249,115,22,.3),transparent 70%);pointer-events:none;animation:_ngcontent-%COMP%_legendary-glow-pulse 1.5s ease-in-out infinite}.inventory-cell.rarity-legendary[_ngcontent-%COMP%]:hover{border-color:#fb923c;box-shadow:0 12px 32px #f97316e6}.inventory-cell.rarity-unique[_ngcontent-%COMP%]{border-color:#14b8a6}.inventory-cell.rarity-unique[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#5eead4}.inventory-cell.rarity-unique[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(20,184,166,.25),transparent 70%);pointer-events:none}.inventory-cell.rarity-unique[_ngcontent-%COMP%]:hover{border-color:#5eead4;box-shadow:0 12px 28px #14b8a6b3}.inventory-cell.rarity-mythic[_ngcontent-%COMP%]{border-color:#ec4899}.inventory-cell.rarity-mythic[_ngcontent-%COMP%]   .cell-name[_ngcontent-%COMP%]{color:#f9a8d4;animation:_ngcontent-%COMP%_mythic-text-glow 1.5s ease-in-out infinite}.inventory-cell.rarity-mythic[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(236,72,153,.3),transparent 70%);pointer-events:none;animation:_ngcontent-%COMP%_mythic-glow-pulse 1.2s ease-in-out infinite}.inventory-cell.rarity-mythic[_ngcontent-%COMP%]:hover{border-color:#f9a8d4;box-shadow:0 12px 32px #ec4899e6}.inventory-cell.empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1414144d,#0f0f0f66);border-color:#ffffff0d;cursor:default}.inventory-cell.empty[_ngcontent-%COMP%]:before{border-color:#ffffff08}.inventory-cell.empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:28px;opacity:.15;filter:grayscale(100%)}.inventory-cell.empty[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none;border-color:#ffffff14}.inventory-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--bg-secondary);border-top:2px solid var(--border-color)}.inventory-footer[_ngcontent-%COMP%]   .inventory-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary)}.inventory-footer[_ngcontent-%COMP%]   .inventory-weight[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted)}@keyframes _ngcontent-%COMP%_icon-bounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-4px) scale(1.1)}}@keyframes _ngcontent-%COMP%_epic-glow-pulse{0%,to{opacity:.25}50%{opacity:.4}}@keyframes _ngcontent-%COMP%_legendary-glow-pulse{0%,to{opacity:.3}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_legendary-text-glow{0%,to{text-shadow:0 0 10px rgba(249,115,22,.8),0 2px 4px rgba(0,0,0,.8)}50%{text-shadow:0 0 20px rgb(249,115,22),0 2px 4px rgba(0,0,0,.8)}}@keyframes _ngcontent-%COMP%_mythic-glow-pulse{0%,to{opacity:.3}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_mythic-text-glow{0%,to{text-shadow:0 0 10px rgba(236,72,153,.8),0 2px 4px rgba(0,0,0,.8)}50%{text-shadow:0 0 20px rgb(236,72,153),0 2px 4px rgba(0,0,0,.8)}}.drag-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:12px;background:linear-gradient(135deg,#1e1e1ef2,#141414fa);border:3px solid var(--accent-primary);border-radius:10px;box-shadow:0 12px 32px #000c,0 0 20px #3b82f699;opacity:.9;cursor:grabbing;min-width:100px;min-height:100px}.drag-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:8px;filter:drop-shadow(0 4px 8px rgba(0,0,0,.8));animation:_ngcontent-%COMP%_drag-icon-pulse .5s ease-in-out infinite}.drag-preview[_ngcontent-%COMP%]   .preview-name[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#fff;text-align:center;text-shadow:0 2px 6px rgba(0,0,0,.9)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background:#ffffff0d!important;border:2px dashed rgba(255,255,255,.3)!important}.cdk-drag-placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(.25,.8,.25,1)}.cdk-drag[_ngcontent-%COMP%]{cursor:grab;transition:all .2s ease}.cdk-drag[_ngcontent-%COMP%]:active{cursor:grabbing}.inventory-grid-cells.cdk-drop-list-dragging[_ngcontent-%COMP%]   .inventory-cell[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .3s cubic-bezier(.25,.8,.25,1)}.cdk-drop-list-receiving[_ngcontent-%COMP%]{background:#3b82f60d;border-color:var(--accent-primary)}.cdk-drop-list-receiving[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border:2px solid var(--accent-primary);border-radius:8px;pointer-events:none;animation:_ngcontent-%COMP%_drop-zone-pulse 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_drag-icon-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_drop-zone-pulse{0%,to{opacity:.5;box-shadow:0 0 #3b82f6b3}50%{opacity:1;box-shadow:0 0 0 8px #3b82f600}}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important}.equipment-slot-diablo[_ngcontent-%COMP%]{transition:all .3s ease}.equipment-slot-diablo.cdk-drop-list-dragging[_ngcontent-%COMP%]{border-style:dashed;border-width:3px;background:#3b82f60d}.equipment-slot-diablo.cdk-drop-list-receiving[_ngcontent-%COMP%]{border-color:#3b82f6!important;background:linear-gradient(135deg,#3b82f633,#2563eb26)!important;box-shadow:inset 0 0 20px #3b82f64d,0 0 20px #3b82f680!important;animation:_ngcontent-%COMP%_equipment-drop-pulse 1s ease-in-out infinite;transform:scale(1.05)}.equipment-slot-diablo.cdk-drop-list-receiving[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_equipment-icon-bounce .5s ease-in-out infinite;filter:drop-shadow(0 0 10px rgba(59,130,246,.8))}.equipment-slot-diablo.cdk-drop-list-receiving[_ngcontent-%COMP%]   .slot-empty-text[_ngcontent-%COMP%]{color:#3b82f6;font-weight:700;text-shadow:0 0 10px rgba(59,130,246,.8)}.equipment-slot-diablo[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{cursor:grab}.equipment-slot-diablo[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]:active{cursor:grabbing}.equipment-slot-diablo[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;border:2px dashed var(--border-color)}.equipment-slot-diablo[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]   .item-tooltip[_ngcontent-%COMP%]{opacity:0}.equipment-slot-diablo[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_equipment-drop-pulse{0%,to{box-shadow:inset 0 0 20px #3b82f64d,0 0 20px #3b82f680}50%{box-shadow:inset 0 0 30px #3b82f680,0 0 30px #3b82f6cc}}@keyframes _ngcontent-%COMP%_equipment-icon-bounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-8px) scale(1.15)}}@keyframes _ngcontent-%COMP%_legendary-glow-diablo{0%,to{box-shadow:inset 0 2px 8px var(--shadow),0 0 40px #f97316cc;border-color:#f97316}50%{box-shadow:inset 0 2px 8px var(--shadow),0 0 60px #f97316;border-color:#fb923c}}@keyframes _ngcontent-%COMP%_legendary-pulse-border{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_legendary-glow{0%,to{box-shadow:0 0 12px #f9731680}50%{box-shadow:0 0 20px #f97316cc}}@keyframes _ngcontent-%COMP%_legendary-pulse{0%,to{box-shadow:0 0 20px #f9731680}50%{box-shadow:0 0 30px #f97316cc}}.menu-divider[_ngcontent-%COMP%]{height:1px;background:var(--border-color);margin:12px 0;opacity:.5}.menu-section-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;padding:8px 16px;margin-top:4px}.menu-item.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.menu-item.success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translate(8px)}.menu-item.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.menu-item.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d97706,#b45309);transform:translate(8px)}.menu-item.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}.menu-item.danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translate(8px)}.shop-section[_ngcontent-%COMP%]{margin-top:40px;padding:30px;background:var(--bg-primary);border-radius:16px;border:1px solid var(--border-color)}.shop-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:30px}.shop-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:10px;color:var(--text-primary)}.shop-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.shop-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]   .gold-amount[_ngcontent-%COMP%]{color:#f59e0b;font-weight:700;font-size:1.1rem}.shop-section[_ngcontent-%COMP%]   .shop-items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:20px;transition:all .3s ease;position:relative;overflow:hidden}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#3b82f6,#8b5cf6);opacity:0;transition:opacity .3s ease}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px var(--shadow);border-color:var(--accent-color)}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]:hover:before{opacity:1}.shop-section[_ngcontent-%COMP%]   .shop-item-card.grade-legendary[_ngcontent-%COMP%]{border-color:#f59e0b}.shop-section[_ngcontent-%COMP%]   .shop-item-card.grade-legendary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#ef4444)}.shop-section[_ngcontent-%COMP%]   .shop-item-card.grade-rare[_ngcontent-%COMP%]{border-color:#8b5cf6}.shop-section[_ngcontent-%COMP%]   .shop-item-card.grade-rare[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#3b82f6)}.shop-section[_ngcontent-%COMP%]   .shop-item-card.grade-uncommon[_ngcontent-%COMP%]{border-color:#10b981}.shop-section[_ngcontent-%COMP%]   .shop-item-card.grade-uncommon[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#3b82f6)}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--text-primary);margin:0;flex:1}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#f59e0b;margin-left:12px;padding:4px 12px;background:#f59e0b1a;border-radius:8px;border:1px solid rgba(245,158,11,.3)}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:12px;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{padding:4px 10px;background:var(--bg-primary);border-radius:6px;font-size:.85rem;font-weight:600;border:1px solid var(--border-color)}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:4px 10px;background:var(--bg-tertiary);border-radius:6px;font-size:.75rem;font-weight:600;border:1px solid var(--border-color)}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tag.type-tag[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6;border-color:#3b82f64d}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-tags[_ngcontent-%COMP%]   .tag.grade-tag[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;border-color:#8b5cf64d}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{margin-top:auto}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover:not(.insufficient-gold){background:linear-gradient(135deg,#2563eb,#7c3aed);transform:translateY(-2px);box-shadow:0 4px 12px #3b82f64d}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .buy-btn.insufficient-gold[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#9ca3af);cursor:not-allowed;opacity:.6}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .buy-btn.insufficient-gold[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}.shop-section[_ngcontent-%COMP%]   .shop-item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:active:not(.insufficient-gold){transform:translateY(0)}.inventory-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;padding:16px 20px 0;background:var(--bg-secondary);border-bottom:2px solid var(--border-color);flex-shrink:0}.inventory-tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{flex:1;padding:12px 20px;background:var(--bg-primary);border:1px solid var(--border-color);border-bottom:none;border-radius:8px 8px 0 0;font-size:1rem;font-weight:600;color:var(--text-secondary);cursor:pointer;transition:all .3s ease;position:relative;white-space:nowrap}.inventory-tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover:not(.active){background:var(--bg-tertiary);color:var(--text-primary)}.inventory-tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--accent-color);border-color:var(--accent-color);border-bottom-color:var(--bg-secondary);transform:translateY(2px)}.inventory-tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:var(--bg-secondary)}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease;flex:1;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;min-height:0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.shop-content-wrapper[_ngcontent-%COMP%]{padding:20px}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-header-info[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-header-info[_ngcontent-%COMP%]   .gold-display[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:linear-gradient(135deg,#f59e0b1a,#f59e0b0d);border:2px solid rgba(245,158,11,.3);border-radius:12px;margin-bottom:12px}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-header-info[_ngcontent-%COMP%]   .gold-display[_ngcontent-%COMP%]   .gold-icon[_ngcontent-%COMP%]{font-size:1.5rem}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-header-info[_ngcontent-%COMP%]   .gold-display[_ngcontent-%COMP%]   .gold-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#f59e0b}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-header-info[_ngcontent-%COMP%]   .shop-desc[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:.95rem}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;max-height:600px;overflow-y:auto;padding-right:8px}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-primary);border-radius:4px}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.shop-content-wrapper[_ngcontent-%COMP%]   .shop-items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--accent-color)}.shop-content-wrapper[_ngcontent-%COMP%]   .empty-shop-message[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.shop-content-wrapper[_ngcontent-%COMP%]   .empty-shop-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 0 8px}.shop-content-wrapper[_ngcontent-%COMP%]   .empty-shop-message[_ngcontent-%COMP%]   p.sub-message[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-tertiary)}.dungeon-test-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;z-index:10000;display:flex;align-items:center;justify-content:center}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000c;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{position:relative;width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important;background:var(--bg-primary);border-radius:0!important;box-shadow:none;display:flex;flex-direction:column;overflow:hidden}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{padding:18px 40px;border-bottom:2px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,#ffd7001a,#ff8c001a);flex-shrink:0}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700;color:var(--text-primary)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#ffffff1a;color:var(--text-primary);font-size:22px;border-radius:8px;cursor:pointer;transition:all .3s}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:rotate(90deg)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding:40px 60px;overflow-y:auto;flex:1}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d;border-radius:5px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:5px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]{margin-bottom:40px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:22px;color:var(--text-primary);font-weight:600}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card[_ngcontent-%COMP%]{padding:30px;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:12px;cursor:pointer;transition:all .3s;text-align:center}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0003;border-color:#ffd70080}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card.selected[_ngcontent-%COMP%]{border-color:gold;background:#ffd7001a;box-shadow:0 0 20px #ffd7004d}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card[_ngcontent-%COMP%]   .dungeon-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card[_ngcontent-%COMP%]   .dungeon-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:10px;color:var(--text-primary)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card[_ngcontent-%COMP%]   .dungeon-level[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary);margin-bottom:6px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .dungeon-type-grid[_ngcontent-%COMP%]   .dungeon-type-card[_ngcontent-%COMP%]   .dungeon-floors[_ngcontent-%COMP%]{font-size:14px;color:var(--text-tertiary)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn[_ngcontent-%COMP%]{padding:24px;border:2px solid var(--border-color);border-radius:10px;background:var(--bg-secondary);color:var(--text-primary);font-size:18px;font-weight:600;cursor:pointer;transition:all .3s;display:flex;flex-direction:column;align-items:center;gap:10px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn[_ngcontent-%COMP%]   .difficulty-mult[_ngcontent-%COMP%]{font-size:14px;opacity:.7}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.selected[_ngcontent-%COMP%]{border-width:3px;box-shadow:0 0 15px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.easy[_ngcontent-%COMP%]{border-color:#4caf50}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.easy.selected[_ngcontent-%COMP%]{background:#4caf5033;box-shadow:0 0 15px #4caf5080}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.normal[_ngcontent-%COMP%]{border-color:#2196f3}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.normal.selected[_ngcontent-%COMP%]{background:#2196f333;box-shadow:0 0 15px #2196f380}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.hard[_ngcontent-%COMP%]{border-color:#ff9800}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.hard.selected[_ngcontent-%COMP%]{background:#ff980033;box-shadow:0 0 15px #ff980080}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.hell[_ngcontent-%COMP%]{border-color:#f44336}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .difficulty-grid[_ngcontent-%COMP%]   .difficulty-btn.hell.selected[_ngcontent-%COMP%]{background:#f4433633;box-shadow:0 0 15px #f4433680}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 20px;background:var(--bg-secondary);border-radius:8px;cursor:pointer;transition:all .3s}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:24px;height:24px;cursor:pointer}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .test-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;color:var(--text-primary)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .player-stats[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:24px;border-radius:8px}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .player-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--border-color)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .player-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .player-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:17px;color:var(--text-secondary);font-weight:500}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .player-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;color:var(--text-primary);font-weight:600}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{padding:24px 60px;border-top:2px solid var(--border-color);display:flex;justify-content:flex-end;gap:16px;background:#0003}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 32px;font-size:17px;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .3s}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary)}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff1a}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ff8c00);color:#000}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #ffd70066}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.dungeon-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;background:#000000f2;overflow:hidden}.dungeon-overlay[_ngcontent-%COMP%]   app-dungeon-explorer[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-content.dungeon-active[_ngcontent-%COMP%]{width:100vw!important;max-width:100vw!important;height:100vh!important;max-height:100vh!important}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-content.dungeon-active[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{flex-shrink:0}.dungeon-test-dialog[_ngcontent-%COMP%]   .dialog-content.dungeon-active[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{display:none}.dungeon-test-dialog[_ngcontent-%COMP%]   .dungeon-container[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}.dungeon-test-dialog[_ngcontent-%COMP%]   .dungeon-container[_ngcontent-%COMP%]   app-dungeon-explorer[_ngcontent-%COMP%]{display:block;width:100%;height:100%;flex:1}.item-context-menu[_ngcontent-%COMP%]{position:fixed;z-index:10000;background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:8px;box-shadow:0 8px 24px #0006;padding:8px 0;min-width:180px;animation:_ngcontent-%COMP%_contextMenuFadeIn .15s ease-out}.item-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:all .2s ease;color:var(--text-primary)}.item-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:18px;width:24px;text-align:center}.item-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.item-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);color:var(--accent-primary)}.item-context-menu[_ngcontent-%COMP%]   .context-menu-item.danger[_ngcontent-%COMP%]:hover{background:#ef44441a;color:#ef4444}@keyframes _ngcontent-%COMP%_contextMenuFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.item-info-modal[_ngcontent-%COMP%]{position:fixed;z-index:10001;background:var(--bg-primary);border:3px solid var(--accent-primary);border-radius:12px;box-shadow:0 12px 48px #00000080;min-width:400px;max-width:500px;cursor:move;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.item-info-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:var(--bg-secondary);border-bottom:2px solid var(--border-color);border-radius:10px 10px 0 0;-webkit-user-select:none;user-select:none}.item-info-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700;color:var(--accent-primary);display:flex;align-items:center;gap:8px}.item-info-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color);color:var(--text-primary);font-size:24px;width:36px;height:36px;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.item-info-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#ef4444;border-color:#ef4444;color:#fff}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px;cursor:default}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border-radius:8px;background:var(--bg-secondary);margin-bottom:16px;border:2px solid var(--border-color)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-common[_ngcontent-%COMP%]{border-color:#9ca3af}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-uncommon[_ngcontent-%COMP%]{border-color:#10b981}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-rare[_ngcontent-%COMP%]{border-color:#3b82f6}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-epic[_ngcontent-%COMP%]{border-color:#a855f7}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-legendary[_ngcontent-%COMP%]{border-color:#f97316}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-unique[_ngcontent-%COMP%]{border-color:#ec4899}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header.rarity-mythic[_ngcontent-%COMP%]{border-color:#fbbf24}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header[_ngcontent-%COMP%]   .item-info-icon[_ngcontent-%COMP%]{font-size:48px;width:64px;height:64px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:8px;flex-shrink:0}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header[_ngcontent-%COMP%]   .item-info-title[_ngcontent-%COMP%]{flex:1}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header[_ngcontent-%COMP%]   .item-info-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:22px;font-weight:700;color:var(--text-primary)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-header[_ngcontent-%COMP%]   .item-info-title[_ngcontent-%COMP%]   .item-rarity-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;background:var(--accent-primary);color:#fff}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-meta[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:16px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-meta[_ngcontent-%COMP%]   .meta-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:6px;font-size:13px;font-weight:500}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-meta[_ngcontent-%COMP%]   .meta-badge.type-badge[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--accent-primary);border:1px solid var(--accent-primary)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-meta[_ngcontent-%COMP%]   .meta-badge.quantity-badge[_ngcontent-%COMP%]{background:var(--accent-primary);color:#fff}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:16px;border-radius:8px;margin-bottom:16px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]   .stats-title[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;font-weight:700;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px;background:var(--bg-primary);border-radius:6px;border:1px solid var(--border-color)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:20px;width:28px;text-align:center}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{flex:1;font-size:13px;color:var(--text-secondary)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:var(--accent-primary)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-description[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:16px;border-radius:8px;margin-bottom:16px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-description[_ngcontent-%COMP%]   .desc-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:700;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:var(--text-secondary)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease;border:2px solid}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-actions[_ngcontent-%COMP%]   .action-btn.equip-btn[_ngcontent-%COMP%]{background:var(--accent-primary);border-color:var(--accent-primary);color:#fff}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-actions[_ngcontent-%COMP%]   .action-btn.equip-btn[_ngcontent-%COMP%]:hover{background:transparent;color:var(--accent-primary)}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-actions[_ngcontent-%COMP%]   .action-btn.discard-btn[_ngcontent-%COMP%]{background:transparent;border-color:#ef4444;color:#ef4444}.item-info-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .item-info-actions[_ngcontent-%COMP%]   .action-btn.discard-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}'],data:{animation:[Ye("slideInOut",[me(":enter",[le({transform:"translateX(100%)"}),pe("300ms ease-out",le({transform:"translateX(0)"}))]),me(":leave",[pe("300ms ease-in",le({transform:"translateX(100%)"}))])]),Ye("contextMenuAnimation",[me(":enter",[le({opacity:0,transform:"scale(0.9) translateY(-10px)"}),pe("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",le({opacity:1,transform:"scale(1) translateY(0)"}))]),me(":leave",[pe("150ms cubic-bezier(0.4, 0.0, 1, 1)",le({opacity:0,transform:"scale(0.9) translateY(-10px)"}))])])]}})};function Qs(r,t){if(r&1&&(n(0,"div",14),i(1),o()),r&2){let e=d();l(),M(" \u26A0\uFE0F ",e.errorMessage," ")}}var Re=class r{constructor(t,e){this.authService=t;this.router=e}username="";password="";errorMessage="";ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/novel"])}onLogin(){if(this.errorMessage="",!this.username||!this.password){this.errorMessage="\uC0AC\uC6A9\uC790 \uC774\uB984\uACFC \uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.";return}this.authService.login(this.username,this.password)?this.router.navigate(["/novel"]):(this.errorMessage="\uC0AC\uC6A9\uC790 \uC774\uB984 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",this.password="")}onKeyPress(t){t.key==="Enter"&&this.onLogin()}static \u0275fac=function(e){return new(e||r)(A(ie),A(ge))};static \u0275cmp=Q({type:r,selectors:[["app-novel-login"]],standalone:!1,decls:32,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-form"],[1,"login-header"],[1,"subtitle"],[1,"form-group"],["for","username"],["type","text","id","username","placeholder","\uC0AC\uC6A9\uC790 \uC774\uB984\uC744 \uC785\uB825\uD558\uC138\uC694","autocomplete","username",3,"ngModelChange","keypress","ngModel"],["for","password"],["type","password","id","password","placeholder","\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","current-password",3,"ngModelChange","keypress","ngModel"],["class","error-message",4,"ngIf"],[1,"login-btn",3,"click"],[1,"background-animation"],[1,"floating-book"],[1,"error-message"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),i(5,"\u{1F4D6} \uC18C\uC124 \uB77C\uC774\uBE0C\uB7EC\uB9AC"),o(),n(6,"h2"),i(7,"\uB85C\uADF8\uC778"),o(),n(8,"p",4),i(9,"\uC778\uD130\uB799\uD2F0\uBE0C \uC18C\uC124 \uC138\uACC4\uC5D0 \uC624\uC2E0 \uAC83\uC744 \uD658\uC601\uD569\uB2C8\uB2E4"),o()(),n(10,"div",5)(11,"label",6),i(12,"\uC0AC\uC6A9\uC790 \uC774\uB984"),o(),n(13,"input",7),H("ngModelChange",function(s){return U(a.username,s)||(a.username=s),s}),b("keypress",function(s){return a.onKeyPress(s)}),o()(),n(14,"div",5)(15,"label",8),i(16,"\uBE44\uBC00\uBC88\uD638"),o(),n(17,"input",9),H("ngModelChange",function(s){return U(a.password,s)||(a.password=s),s}),b("keypress",function(s){return a.onKeyPress(s)}),o()(),f(18,Qs,2,1,"div",10),n(19,"button",11),b("click",function(){return a.onLogin()}),i(20," \u{1F510} \uB85C\uADF8\uC778 "),o()()(),n(21,"div",12)(22,"div",13),i(23,"\u{1F4D6}"),o(),n(24,"div",13),i(25,"\u{1F4DA}"),o(),n(26,"div",13),i(27,"\u2728"),o(),n(28,"div",13),i(29,"\u{1F3AD}"),o(),n(30,"div",13),i(31,"\u2694\uFE0F"),o()()()),e&2&&(l(13),j("ngModel",a.username),l(4),j("ngModel",a.password),l(),g("ngIf",a.errorMessage))},dependencies:[oe,xe,Oe,ve],styles:[".login-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);overflow:hidden}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:48px;width:90%;max-width:480px;box-shadow:0 20px 60px #0000004d;position:relative;z-index:10;animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:36px}.login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:8px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin-bottom:8px}.login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;font-weight:400}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.95rem;font-weight:600;color:#374151;margin-bottom:8px}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;font-size:1rem;border:2px solid #e5e7eb;border-radius:12px;transition:all .3s ease;box-sizing:border-box}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 4px #667eea1a}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.login-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626;padding:12px 16px;border-radius:8px;font-size:.9rem;margin-bottom:20px;border-left:4px solid #dc2626;animation:_ngcontent-%COMP%_shake .3s ease}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.login-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{background:#d1fae5;color:#059669;padding:12px 16px;border-radius:8px;font-size:.9rem;margin-bottom:20px;border-left:4px solid #059669;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.login-container[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1.1rem;font-weight:700;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;cursor:pointer;transition:all .3s ease;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .login-container[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #667eea66}.login-container[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:active, .login-container[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.login-container[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.login-container[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280}.login-container[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;font-weight:600;cursor:pointer;text-decoration:none;transition:all .2s ease}.login-container[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .login-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}.login-container[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]{margin-top:30px;padding-top:24px;border-top:2px solid #e5e7eb}.login-container[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-title[_ngcontent-%COMP%]{text-align:center;font-size:.85rem;font-weight:600;color:#6b7280;margin-bottom:12px;text-transform:uppercase;letter-spacing:.5px}.login-container[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]{background:#f3f4f6;padding:10px 16px;border-radius:8px;margin-bottom:8px;text-align:center;font-size:.9rem;color:#374151;font-family:Courier New,monospace}.login-container[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]   .floating-book[_ngcontent-%COMP%]{position:absolute;font-size:3rem;opacity:.15;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]   .floating-book[_ngcontent-%COMP%]:nth-child(1){top:10%;left:10%;animation-delay:0s}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]   .floating-book[_ngcontent-%COMP%]:nth-child(2){top:20%;right:15%;animation-delay:2s;animation-duration:25s}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]   .floating-book[_ngcontent-%COMP%]:nth-child(3){bottom:15%;left:20%;animation-delay:4s;animation-duration:22s}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]   .floating-book[_ngcontent-%COMP%]:nth-child(4){bottom:25%;right:10%;animation-delay:6s;animation-duration:28s}.login-container[_ngcontent-%COMP%]   .background-animation[_ngcontent-%COMP%]   .floating-book[_ngcontent-%COMP%]:nth-child(5){top:50%;left:5%;animation-delay:8s;animation-duration:24s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-30px) rotate(5deg)}50%{transform:translateY(0) rotate(0)}75%{transform:translateY(30px) rotate(-5deg)}}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{padding:32px 24px;width:95%}.login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var ue=class r{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/novel/login"]),!1)}static \u0275fac=function(e){return new(e||r)(Le(ie),Le(ge))};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Js=[{path:"login",component:Re},{path:"",component:_e,canActivate:[ue]},{path:":gameId",component:_e,canActivate:[ue]}],Ve=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=de({type:r});static \u0275inj=se({imports:[We.forChild(Js),We]})};var Kt=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=de({type:r});static \u0275inj=se({imports:[he,vt,Ve,wt,kt,yt,Dt,Se,Ht,St,Ie,Tt,we,At,qt,$t]})};export{Kt as NovelModule};
