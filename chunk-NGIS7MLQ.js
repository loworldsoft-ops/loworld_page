import{a as yn,b as wn,c as Dn,d as Sn,f as En}from"./chunk-SGUHSVRE.js";import{a as St}from"./chunk-YEEPMWEI.js";import{a as xn,b as On,c as kn}from"./chunk-LY4DLLYJ.js";import{d as vn}from"./chunk-6S4FLXEZ.js";import"./chunk-VUX7MH3G.js";import{a as Tt}from"./chunk-C5KTECR5.js";import"./chunk-BFSGMGHM.js";import"./chunk-EGNYJWSK.js";import{a as Kt}from"./chunk-MAY7MFTZ.js";import{$ as qt,C as Ut,F as ut,K as gt,L as Cn,M as _n,O as pt,P as Pn,Q as Yt,S as Et,X as kt,Y as xt,Z as Ot,_ as Xt,aa as bn,c as mn,d as _t,da as ft,e as st,f as un,ga as Mn,ia as vt,l as fn,la as nn,n as hn,p as lt}from"./chunk-GS7U2DOT.js";import{$a as bt,Aa as Bt,Bc as gn,Da as an,Dc as Ht,Ec as _e,Fc as pn,Hb as Je,Mb as Ze,Nb as Qe,Ob as b,Pb as r,Qb as a,Rb as W,Sb as tn,Tb as en,Tc as Pe,Vb as R,Wa as Nt,Xa as Lt,Zb as O,_a as cn,_b as f,aa as nt,ab as p,ba as ue,cc as Rt,dc as jt,ea as zt,eb as he,ec as Wt,fa as wt,fb as J,g as Pt,jc as Z,ka as M,kc as Y,la as x,ma as fe,mb as ot,na as rn,nb as Ce,nc as s,oc as V,pb as sn,pc as z,qc as Dt,sb as $,tc as X,ub as B,uc as q,vc as K,wc as ln,zc as dn}from"./chunk-36RT5GAH.js";import{a as it,b as yt,e as E}from"./chunk-JKOY2XUY.js";var be=class l{constructor(e){this.sanitizer=e}transform(e){return console.log("\u{1F527} SanitizeHtml \uD30C\uC774\uD504 \uD638\uCD9C\uB428, HTML \uAE38\uC774:",e?.length),console.log("\u{1F527} HTML \uC2DC\uC791 \uBD80\uBD84:",e?.substring(0,100)),this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||l)(J(Ut,16))};static \u0275pipe=sn({name:"sanitizeHtml",type:l,pure:!0})};var Ft=(o=>(o.VECTOR="vector",o.TEXT="text",o.IMAGE="image",o.COMBINED="combined",o))(Ft||{});var Jt=class{type="vector";validate(e){if(!e)return!1;let t=e.hasVectorGraphics===!0,n=(e.totalVectorOperations||0)>0;return t&&n}calculateStats(e){if(!this.validate(e))return this.getEmptyStats();let t=e.totalVectorOperations||0,n=e.pageCount||1;return{totalCount:t,perPage:Math.round(t/n),percentage:this.calculatePercentage(e),details:{totalPaths:e.vectorSummary?.totalPaths||0,totalLines:e.vectorSummary?.totalLines||0,totalCurves:e.vectorSummary?.totalCurves||0,totalRectangles:e.vectorSummary?.totalRectangles||0,totalFillOperations:e.vectorSummary?.totalFillOperations||0,totalStrokeOperations:e.vectorSummary?.totalStrokeOperations||0}}}calculatePercentage(e){if(!e)return 0;let t=e.totalVectorOperations||0,n=e.totalTextItems||0,i=(e.imageInfo?.totalImages||0)*100,c=t+n+i;return c===0?0:Math.round(t/c*100)}generatePdf(e,t){return E(this,null,function*(){console.log("\u{1F3A8} \uBCA1\uD130 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let n=window.PDFLib;if(!n)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o,rgb:i,StandardFonts:c}=n,d=yield o.create(),g=t?.pageSize?.width||595.28,m=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&d.setTitle(t.title),t.author&&d.setAuthor(t.author),t.subject&&d.setSubject(t.subject),t.keywords&&d.setKeywords(t.keywords),t.creationDate&&d.setCreationDate(t.creationDate));for(let h of e){if(!h.vector)continue;let C=d.addPage([g,m]);try{yield this.renderToPage(C,h.vector)}catch(_){console.error(`\u274C \uD398\uC774\uC9C0 ${h.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,_);let P=yield d.embedFont(c.Helvetica);C.drawText(`\uBCA1\uD130 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${h.pageNumber})`,{x:50,y:m-50,size:12,font:P,color:i(1,0,0)})}}let u=yield d.save();return console.log("\u2705 \uBCA1\uD130 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([u],{type:"application/pdf"})})}renderToPage(e,t){return E(this,null,function*(){if(console.log("\u{1F3A8} \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC2DC\uC791..."),t.svgContent){yield this.renderSvgToPage(e,t.svgContent);return}if(t.operations&&t.operations.length>0){yield this.renderOperationsToPage(e,t.operations);return}console.warn("\u26A0\uFE0F \uB80C\uB354\uB9C1\uD560 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")})}renderSvgToPage(e,t){return E(this,null,function*(){console.log("\u{1F3A8} SVG \uB80C\uB354\uB9C1 \uC2DC\uC791...");try{let n=new Blob([t],{type:"image/svg+xml"}),o=URL.createObjectURL(n),i=new Image;yield new Promise((g,m)=>{i.onload=g,i.onerror=m,i.src=o});let c=document.createElement("canvas");c.width=e.getWidth(),c.height=e.getHeight();let d=c.getContext("2d");if(d){d.drawImage(i,0,0,c.width,c.height);let m=c.toDataURL("image/png").split(",")[1],u=Uint8Array.from(atob(m),P=>P.charCodeAt(0)),h=window.PDFLib,_=yield e.doc.embedPng(u);e.drawImage(_,{x:0,y:0,width:e.getWidth(),height:e.getHeight()})}URL.revokeObjectURL(o),console.log("\u2705 SVG \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(n){throw console.error("\u274C SVG \uB80C\uB354\uB9C1 \uC2E4\uD328:",n),n}})}renderOperationsToPage(e,t){return E(this,null,function*(){console.log(`\u{1F3A8} \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC2DC\uC791 (${t.length}\uAC1C)...`);let n=window.PDFLib,{rgb:o}=n,i=0,c=0;for(let d of t)try{switch(d.type){case"moveTo":i=d.args[0],c=d.args[1];break;case"lineTo":i!==void 0&&c!==void 0&&(e.drawLine({start:{x:i,y:c},end:{x:d.args[0],y:d.args[1]},thickness:d.lineWidth||1,color:this.parseColor(d.color)||o(0,0,0)}),i=d.args[0],c=d.args[1]);break;case"rect":e.drawRectangle({x:d.args[0],y:d.args[1],width:d.args[2],height:d.args[3],borderColor:this.parseColor(d.color)||o(0,0,0),borderWidth:d.lineWidth||1});break;default:break}}catch(g){console.error(`\u274C \uC5F0\uC0B0 \uCC98\uB9AC \uC2E4\uD328 (${d.type}):`,g)}console.log("\u2705 \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC644\uB8CC")})}parseColor(e){if(!e)return null;let t=window.PDFLib,{rgb:n}=t;if(e.startsWith("#")){let o=e.replace("#",""),i=0,c=0,d=0;return o.length===6&&(i=parseInt(o.substr(0,2),16)/255,c=parseInt(o.substr(2,2),16)/255,d=parseInt(o.substr(4,2),16)/255),n(i,c,d)}if(e.startsWith("rgb")){let o=e.match(/\d+/g);if(o&&o.length>=3){let i=parseInt(o[0])/255,c=parseInt(o[1])/255,d=parseInt(o[2])/255;return n(i,c,d)}}return null}generatePreview(e,t){if(console.log(`\u{1F3A8} \uBCA1\uD130 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();if(t.vectorData&&t.vectorData.pageDetails){let n=t.vectorData.pageDetails.find(o=>o.pageNumber===e);if(n&&n.svgContent)return console.log("\u2705 SVG \uCF58\uD150\uCE20 \uBC18\uD658"),n.svgContent}return this.createLoadingPreview()}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{totalPaths:0,totalLines:0,totalCurves:0,totalRectangles:0,totalFillOperations:0,totalStrokeOperations:0}}}createEmptyPreview(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        <text x="200" y="282" font-family="Arial" font-size="16" fill="#94a3b8" text-anchor="middle">
          \uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C
        </text>
      </svg>
    `}createLoadingPreview(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f0f9ff" stroke="#3b82f6" stroke-width="2"/>
        <text x="200" y="282" font-family="Arial" font-size="16" fill="#3b82f6" text-anchor="middle">
          \uBCA1\uD130 \uB85C\uB529 \uC911...
        </text>
      </svg>
    `}};var Zt=class{type="text";validate(e){return e?(e.totalTextItems||0)>0:!1}calculateStats(e){if(!this.validate(e))return this.getEmptyStats();let t=e.totalTextItems||0,n=e.pageCount||1;return{totalCount:t,perPage:Math.round(t/n),percentage:this.calculatePercentage(e),details:{totalWords:e.totalWords||0,totalCharacters:e.totalCharacters||0,uniqueFonts:e.uniqueFonts?.length||0,fontList:e.uniqueFonts||[],languageDistribution:e.languageDetection?{korean:e.languageDetection.korean||0,english:e.languageDetection.english||0,mixed:e.languageDetection.mixed||0,numbers:e.languageDetection.numbers||0,specialChars:e.languageDetection.specialChars||0}:void 0,colorDistribution:e.textColors?{uniqueColors:e.textColors.uniqueColors||[],colorCounts:e.textColors.colorDistribution||{}}:void 0}}}calculatePercentage(e){if(!e)return 0;let t=e.totalVectorOperations||0,n=e.totalTextItems||0,i=(e.imageInfo?.totalImages||0)*100,c=t+n+i;return c===0?0:Math.round(n/c*100)}generatePdf(e,t){return E(this,null,function*(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let n=window.PDFLib;if(!n)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o,rgb:i,StandardFonts:c}=n,d=yield o.create(),g=t?.pageSize?.width||595.28,m=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&d.setTitle(t.title),t.author&&d.setAuthor(t.author),t.subject&&d.setSubject(t.subject),t.keywords&&d.setKeywords(t.keywords),t.creationDate&&d.setCreationDate(t.creationDate));for(let h of e){if(!h.text||h.text.length===0)continue;let C=d.addPage([g,m]);try{yield this.renderToPage(C,h.text)}catch(_){console.error(`\u274C \uD398\uC774\uC9C0 ${h.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,_);let P=yield d.embedFont(c.Helvetica);C.drawText(`\uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${h.pageNumber})`,{x:50,y:m-50,size:12,font:P,color:i(1,0,0)})}}let u=yield d.save();return console.log("\u2705 \uD14D\uC2A4\uD2B8 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([u],{type:"application/pdf"})})}renderToPage(e,t){return E(this,null,function*(){console.log(`\u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC2DC\uC791 (${t.length}\uAC1C \uD56D\uBAA9)...`);let n=window.PDFLib,{rgb:o,StandardFonts:i}=n,d=yield e.doc.embedFont(i.Helvetica),g=e.getHeight();for(let m of t)try{let u=this.parseColor(m.color)||o(0,0,0),h=m.fontSize||12,C=m.position.x,_=g-m.position.y;e.drawText(m.text,{x:C,y:_,size:h,font:d,color:u})}catch(u){console.error("\u274C \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 \uB80C\uB354\uB9C1 \uC2E4\uD328:",m,u)}console.log("\u2705 \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC644\uB8CC")})}parseColor(e){if(!e)return null;let t=window.PDFLib,{rgb:n}=t;if(e.startsWith("#")){let o=e.replace("#",""),i=0,c=0,d=0;return o.length===6?(i=parseInt(o.substr(0,2),16)/255,c=parseInt(o.substr(2,2),16)/255,d=parseInt(o.substr(4,2),16)/255):o.length===8&&(i=parseInt(o.substr(2,2),16)/255,c=parseInt(o.substr(4,2),16)/255,d=parseInt(o.substr(6,2),16)/255),n(i,c,d)}if(e.startsWith("rgb")){let o=e.match(/\d+/g);if(o&&o.length>=3){let i=parseInt(o[0])/255,c=parseInt(o[1])/255,d=parseInt(o[2])/255;return n(i,c,d)}}return null}generatePreview(e,t){if(console.log(`\u{1F4DD} \uD14D\uC2A4\uD2B8 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();if(!t.pages||!Array.isArray(t.pages))return this.createEmptyPreview();let n=t.pages.find(i=>i.pageNumber===e);if(!n||!n.textItems||n.textItems.length===0)return this.createEmptyPreview();let o=n.textItems.slice(0,50).map((i,c)=>{let d=i.color||"#000000",g=i.font||"Arial",m=i.fontSize||12;return`
          <div class="text-item" style="
            color: ${d};
            font-family: ${g};
            font-size: ${Math.min(m,14)}px;
            margin-bottom: 4px;
            padding: 2px 4px;
            background: rgba(255, 255, 255, 0.8);
            border-left: 2px solid ${d};
          ">
            <span class="text-content">${this.escapeHtml(i.text)}</span>
          </div>
        `}).join("");return`
      <div class="text-preview" style="
        width: 100%;
        height: 100%;
        padding: 10px;
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border: 2px solid #3b82f6;
        border-radius: 4px;
        overflow-y: auto;
        font-family: Arial, sans-serif;
      ">
        <div class="text-header" style="
          font-size: 14px;
          font-weight: bold;
          color: #1e40af;
          margin-bottom: 10px;
          padding-bottom: 8px;
          border-bottom: 2px solid #3b82f6;
        ">
          \u{1F4DD} \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 (\uD398\uC774\uC9C0 ${e})
        </div>
        <div class="text-items">
          ${o}
        </div>
        ${n.textItems.length>50?`
          <div style="
            margin-top: 10px;
            padding: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 4px;
            text-align: center;
            color: #1e40af;
            font-size: 12px;
          ">
            ... \uC678 ${n.textItems.length-50}\uAC1C \uD56D\uBAA9
          </div>
        `:""}
      </div>
    `}escapeHtml(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{totalWords:0,totalCharacters:0,uniqueFonts:0,fontList:[]}}}createEmptyPreview(){return`
      <div style="
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 4px;
        color: #94a3b8;
        font-size: 16px;
        font-family: Arial, sans-serif;
      ">
        \uD14D\uC2A4\uD2B8 \uB370\uC774\uD130 \uC5C6\uC74C
      </div>
    `}};var Qt=class{type="image";validate(e){if(!e)return!1;let t=e.hasImages===!0,n=e.imageInfo&&(e.imageInfo.totalImages||0)>0;return t&&n}calculateStats(e){if(!this.validate(e))return this.getEmptyStats();let t=e.imageInfo.totalImages||0,n=e.pageCount||1,o={};return e.imageInfo.images&&e.imageInfo.images.forEach(i=>{i.images.forEach(c=>{let d=c.type||"Unknown";o[d]=(o[d]||0)+1})}),{totalCount:t,perPage:Math.round(t/n),percentage:this.calculatePercentage(e),details:{pagesWithImages:e.imageInfo.pagesWithImages||0,typeDistribution:o}}}calculatePercentage(e){if(!e)return 0;let t=e.totalVectorOperations||0,n=e.totalTextItems||0,i=(e.imageInfo?.totalImages||0)*100,c=t+n+i;return c===0?0:Math.round(i/c*100)}generatePdf(e,t){return E(this,null,function*(){console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let n=window.PDFLib;if(!n)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o,rgb:i,StandardFonts:c}=n,d=yield o.create(),g=t?.pageSize?.width||595.28,m=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&d.setTitle(t.title),t.author&&d.setAuthor(t.author),t.subject&&d.setSubject(t.subject),t.keywords&&d.setKeywords(t.keywords),t.creationDate&&d.setCreationDate(t.creationDate));for(let h of e){if(!h.images||h.images.length===0)continue;let C=d.addPage([g,m]);try{yield this.renderToPage(C,h.images)}catch(_){console.error(`\u274C \uD398\uC774\uC9C0 ${h.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,_);let P=yield d.embedFont(c.Helvetica);C.drawText(`\uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${h.pageNumber})`,{x:50,y:m-50,size:12,font:P,color:i(1,0,0)})}}let u=yield d.save();return console.log("\u2705 \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([u],{type:"application/pdf"})})}renderToPage(e,t){return E(this,null,function*(){console.log(`\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC2DC\uC791 (${t.length}\uAC1C)...`);let n=e.doc;for(let o of t)try{let i=o.originalImage||o.thumbnail;if(!i){console.warn(`\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C: ${o.name}`);continue}let c=i.split(",")[1]||i,d=Uint8Array.from(atob(c),m=>m.charCodeAt(0)),g;if(i.startsWith("data:image/jpeg")||i.startsWith("data:image/jpg"))g=yield n.embedJpg(d);else if(i.startsWith("data:image/png"))g=yield n.embedPng(d);else try{g=yield n.embedPng(d)}catch{g=yield n.embedJpg(d)}if(o.transform&&o.transform.length>=6){let m=o.transform,u=Math.abs(m[0]),h=Math.abs(m[3]),C=m[4],_=m[5],P=C,y=_;e.drawImage(g,{x:P,y,width:u,height:h}),console.log(`\u2705 \uC774\uBBF8\uC9C0 \uBC30\uCE58 \uC644\uB8CC: ${o.name} at (${P.toFixed(2)}, ${y.toFixed(2)})`)}else{let m=g.scale(1);e.drawImage(g,{x:0,y:0,width:m.width,height:m.height}),console.warn(`\u26A0\uFE0F transform \uC815\uBCF4 \uC5C6\uC74C: ${o.name}, \uC6D0\uC810\uC5D0 \uBC30\uCE58`)}}catch(i){console.error(`\u274C \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC2E4\uD328: ${o.name}`,i)}console.log("\u2705 \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC644\uB8CC")})}generatePreview(e,t){if(console.log(`\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();if(!t.imageInfo||!t.imageInfo.images)return this.createEmptyPreview();let n=t.imageInfo.images.find(i=>i.pageNumber===e);if(!n||!n.images||n.images.length===0)return this.createEmptyPreview();let o=n.images.map((i,c)=>{let d=i.thumbnail||i.originalImage;return d?`
          <div class="image-item" style="
            display: flex;
            flex-direction: column;
            gap: 4px;
          ">
            <img 
              src="${d}" 
              alt="${i.name}"
              style="
                width: 100px;
                height: 100px;
                object-fit: contain;
                border: 2px solid #3b82f6;
                border-radius: 4px;
                background: white;
              "
            />
            <div style="
              font-size: 10px;
              color: #1e40af;
              text-align: center;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
              max-width: 100px;
            " title="${i.name}">
              ${i.name}
            </div>
            <div style="
              font-size: 9px;
              color: #64748b;
              text-align: center;
            ">
              ${i.width}\xD7${i.height}
            </div>
          </div>
        `:`
            <div class="image-placeholder" style="
              width: 100px;
              height: 100px;
              background: #e2e8f0;
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: #94a3b8;
              font-size: 10px;
            ">
              No Image
            </div>
          `}).join("");return`
      <div class="image-preview" style="
        width: 100%;
        height: 100%;
        padding: 10px;
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border: 2px solid #f59e0b;
        border-radius: 4px;
        overflow-y: auto;
        font-family: Arial, sans-serif;
      ">
        <div class="image-header" style="
          font-size: 14px;
          font-weight: bold;
          color: #92400e;
          margin-bottom: 10px;
          padding-bottom: 8px;
          border-bottom: 2px solid #f59e0b;
        ">
          \u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 (\uD398\uC774\uC9C0 ${e}) - ${n.images.length}\uAC1C
        </div>
        <div class="image-grid" style="
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
          gap: 12px;
          justify-items: center;
        ">
          ${o}
        </div>
      </div>
    `}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{pagesWithImages:0,typeDistribution:{}}}}createEmptyPreview(){return`
      <div style="
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 4px;
        color: #94a3b8;
        font-size: 16px;
        font-family: Arial, sans-serif;
      ">
        \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C
      </div>
    `}};var Me=class{type="combined";vectorStrategy;textStrategy;imageStrategy;constructor(e,t,n){this.vectorStrategy=e||new Jt,this.textStrategy=t||new Zt,this.imageStrategy=n||new Qt}validate(e){return e?[this.vectorStrategy,this.textStrategy,this.imageStrategy].filter(o=>o.validate(e)).length>=2:!1}calculateStats(e){if(!e)return this.getEmptyStats();let t=this.vectorStrategy.validate(e)?this.vectorStrategy.calculateStats(e):null,n=this.textStrategy.validate(e)?this.textStrategy.calculateStats(e):null,o=this.imageStrategy.validate(e)?this.imageStrategy.calculateStats(e):null,i=(t?.totalCount||0)+(n?.totalCount||0)+(o?.totalCount||0),c=this.calculateRatios(e),d=this.getDominanceDescription(c);return{totalCount:i,perPage:0,percentage:100,details:{vector:t||void 0,text:n||void 0,image:o||void 0,dominance:d,ratios:c}}}calculatePercentage(e){return 100}calculateRatios(e){if(!e)return{vectorPercentage:0,textPercentage:0,imagePercentage:0};let t=e.totalVectorOperations||0,n=e.totalTextItems||0,i=(e.imageInfo?.totalImages||0)*100,c=t+n+i;return c===0?{vectorPercentage:0,textPercentage:0,imagePercentage:0}:{vectorPercentage:Math.round(t/c*100),textPercentage:Math.round(n/c*100),imagePercentage:Math.round(i/c*100)}}getDominanceDescription(e){let{vectorPercentage:t,textPercentage:n,imagePercentage:o}=e;if(t>70)return"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uB2E4\uC774\uC5B4\uADF8\uB7A8\uC774\uB098 \uC77C\uB7EC\uC2A4\uD2B8\uAC00 \uB9CE\uC2B5\uB2C8\uB2E4.";if(n>70)return"\u{1F4DD} \uD14D\uC2A4\uD2B8\uAC00 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC8FC\uB85C \uD14D\uC2A4\uD2B8 \uAE30\uBC18\uC758 \uBB38\uC11C\uC785\uB2C8\uB2E4.";if(o>70)return"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0\uAC00 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC0AC\uC9C4\uC774\uB098 \uADF8\uB9BC\uC774 \uB9CE\uC740 \uBB38\uC11C\uC785\uB2C8\uB2E4.";let i=[Math.abs(t-n),Math.abs(n-o),Math.abs(o-t)];return Math.max(...i)<20?"\u2696\uFE0F \uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uB2E4\uC591\uD55C \uCF58\uD150\uCE20\uAC00 \uC870\uD654\uB86D\uAC8C \uBC30\uCE58\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4.":Math.abs(t-n)<20?"\u{1F3A8}\u{1F4DD} \uBCA1\uD130\uC640 \uD14D\uC2A4\uD2B8\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4.":Math.abs(n-o)<20?"\u{1F4DD}\u{1F5BC}\uFE0F \uD14D\uC2A4\uD2B8\uC640 \uC774\uBBF8\uC9C0\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4.":Math.abs(o-t)<20?"\u{1F5BC}\uFE0F\u{1F3A8} \uC774\uBBF8\uC9C0\uC640 \uBCA1\uD130\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4.":"\u{1F4CA} \uB2E4\uC591\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785\uC774 \uD63C\uD569\uB41C \uBB38\uC11C\uC785\uB2C8\uB2E4."}generatePdf(e,t){return E(this,null,function*(){let n=window.PDFLib;if(!n)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o,rgb:i,StandardFonts:c}=n,d=yield o.create(),g=t?.pageSize?.width||595.28,m=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&d.setTitle(t.title),t.author&&d.setAuthor(t.author),t.subject&&d.setSubject(t.subject),t.keywords&&d.setKeywords(t.keywords),t.creationDate&&d.setCreationDate(t.creationDate));for(let h of e){console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${h.pageNumber} \uCC98\uB9AC \uC911...`);let C=d.addPage([g,m]);try{if(h.vector&&this.vectorStrategy.validate({hasVectorGraphics:!0,totalVectorOperations:1})){console.log("  \u{1F3A8} \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC911...");try{yield this.vectorStrategy.renderToPage(C,h.vector),console.log("  \u2705 \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(_){console.error("  \u274C \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC2E4\uD328:",_)}}if(h.images&&h.images.length>0){console.log(`  \u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC911 (${h.images.length}\uAC1C)...`);try{yield this.imageStrategy.renderToPage(C,h.images),console.log("  \u2705 \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(_){console.error("  \u274C \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC2E4\uD328:",_)}}if(h.text&&h.text.length>0){console.log(`  \u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC911 (${h.text.length}\uAC1C \uD56D\uBAA9)...`);try{yield this.textStrategy.renderToPage(C,h.text),console.log("  \u2705 \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(_){console.error("  \u274C \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC2E4\uD328:",_)}}console.log(`\u2705 \uD398\uC774\uC9C0 ${h.pageNumber} \uC644\uB8CC`)}catch(_){console.error(`\u274C \uD398\uC774\uC9C0 ${h.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,_);let P=yield d.embedFont(c.Helvetica);C.drawText(`\uD398\uC774\uC9C0 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${h.pageNumber})`,{x:50,y:m-50,size:12,font:P,color:i(1,0,0)})}}let u=yield d.save();return new Blob([u],{type:"application/pdf"})})}generatePreview(e,t){if(!this.validate(t))return this.createEmptyPreview();let n=[];if(this.vectorStrategy.validate(t)){let o=this.vectorStrategy.generatePreview(e,t);o&&!o.includes("\uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C")&&!o.includes("\uB85C\uB529 \uC911")&&n.push(`
          <div class="layer vector-layer" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.8;
            z-index: 1;
          ">
            ${o}
          </div>
        `)}if(this.imageStrategy.validate(t)){let o=this.imageStrategy.generatePreview(e,t);o&&!o.includes("\uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C")&&n.push(`
          <div class="layer image-layer" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.9;
            z-index: 2;
          ">
            ${o}
          </div>
        `)}if(this.textStrategy.validate(t)){let o=this.textStrategy.generatePreview(e,t);o&&!o.includes("\uD14D\uC2A4\uD2B8 \uB370\uC774\uD130 \uC5C6\uC74C")&&n.push(`
          <div class="layer text-layer" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.95;
            z-index: 3;
          ">
            ${o}
          </div>
        `)}return n.length===0?this.createEmptyPreview():`
      <div class="combined-preview" style="
        position: relative;
        width: 100%;
        height: 100%;
        background: white;
        border: 3px solid #8b5cf6;
        border-radius: 4px;
        overflow: hidden;
      ">
        <div class="combined-header" style="
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          padding: 8px;
          background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
          color: white;
          font-size: 12px;
          font-weight: bold;
          text-align: center;
          z-index: 10;
          font-family: Arial, sans-serif;
        ">
          \u{1F4C4} \uD63C\uD569 \uCF58\uD150\uCE20 (\uD398\uC774\uC9C0 ${e})
        </div>
        <div style="
          position: relative;
          width: 100%;
          height: 100%;
          padding-top: 32px;
        ">
          ${n.join("")}
        </div>
      </div>
    `}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{dominance:"\uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",ratios:{vectorPercentage:0,textPercentage:0,imagePercentage:0}}}}createEmptyPreview(){return`
      <div style="
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 4px;
        color: #94a3b8;
        font-size: 16px;
        font-family: Arial, sans-serif;
      ">
        \uD63C\uD569 \uCF58\uD150\uCE20 \uB370\uC774\uD130 \uC5C6\uC74C
      </div>
    `}};var xe=class l{strategies=new Map;vectorStrategy;textStrategy;imageStrategy;combinedStrategy;debugLogger=wt(Tt);constructor(){this.debugLogger.info("\uD329\uD1A0\uB9AC","\u{1F3ED} PdfContentFactory \uCD08\uAE30\uD654"),this.vectorStrategy=new Jt,this.textStrategy=new Zt,this.imageStrategy=new Qt,this.combinedStrategy=new Me(this.vectorStrategy,this.textStrategy,this.imageStrategy),this.strategies.set("vector",this.vectorStrategy),this.strategies.set("text",this.textStrategy),this.strategies.set("image",this.imageStrategy),this.strategies.set("combined",this.combinedStrategy),this.debugLogger.success("\uD329\uD1A0\uB9AC","\u2705 PdfContentFactory \uCD08\uAE30\uD654 \uC644\uB8CC")}getStrategy(e){if(console.log("\u{1F50D} \uC804\uB7B5 \uC790\uB3D9 \uC120\uD0DD \uC911..."),!e)throw new Error("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");let t=this.vectorStrategy.validate(e),n=this.textStrategy.validate(e),o=this.imageStrategy.validate(e);if(console.log("\u{1F4CA} \uCF58\uD150\uCE20 \uD0C0\uC785 \uD655\uC778:",{vector:t,text:n,image:o}),[t,n,o].filter(Boolean).length>=2)return this.debugLogger.success("\uC804\uB7B5\uC120\uD0DD","\u2705 \uD63C\uD569\uD615 \uC804\uB7B5 \uC120\uD0DD"),this.combinedStrategy;if(t)return this.debugLogger.success("\uC804\uB7B5\uC120\uD0DD","\u2705 \uBCA1\uD130 \uC804\uB7B5 \uC120\uD0DD"),this.vectorStrategy;if(n)return this.debugLogger.success("\uC804\uB7B5\uC120\uD0DD","\u2705 \uD14D\uC2A4\uD2B8 \uC804\uB7B5 \uC120\uD0DD"),this.textStrategy;if(o)return this.debugLogger.success("\uC804\uB7B5\uC120\uD0DD","\u2705 \uC774\uBBF8\uC9C0 \uC804\uB7B5 \uC120\uD0DD"),this.imageStrategy;throw this.debugLogger.error("\uC804\uB7B5\uC120\uD0DD","\u274C \uC720\uD6A8\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("\uC720\uD6A8\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}getStrategyByType(e){console.log(`\u{1F50D} ${e} \uC804\uB7B5 \uC870\uD68C...`);let t=this.strategies.get(e);if(!t)throw console.error(`\u274C \uC804\uB7B5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e}`),new Error(`\uC804\uB7B5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e}`);return console.log(`\u2705 ${e} \uC804\uB7B5 \uBC18\uD658`),t}getAvailableContentTypes(e){if(!e)return[];let t=[];return this.vectorStrategy.validate(e)&&t.push("vector"),this.textStrategy.validate(e)&&t.push("text"),this.imageStrategy.validate(e)&&t.push("image"),t.length>=2&&t.push("combined"),console.log("\u{1F4CA} \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785:",t),t}hasContentType(e,t){if(!e)return!1;let n=this.strategies.get(t);return n?n.validate(e):!1}getAllStats(e){let t=new Map;return Array.from(this.strategies.entries()).forEach(([n,o])=>{if(o.validate(e)){let i=o.calculateStats(e);t.set(n,i)}}),console.log("\u{1F4CA} \uC804\uCCB4 \uD1B5\uACC4 \uACC4\uC0B0 \uC644\uB8CC:",Array.from(t.keys())),t}getSortedContentTypes(e){if(!e)return[];let t=[];this.vectorStrategy.validate(e)&&t.push({type:"vector",percentage:this.vectorStrategy.calculatePercentage(e)}),this.textStrategy.validate(e)&&t.push({type:"text",percentage:this.textStrategy.calculatePercentage(e)}),this.imageStrategy.validate(e)&&t.push({type:"image",percentage:this.imageStrategy.calculatePercentage(e)}),t.sort((o,i)=>i.percentage-o.percentage);let n=t.map(o=>o.type);return n.length>=2&&n.unshift("combined"),console.log("\u{1F4CA} \uC815\uB82C\uB41C \uCF58\uD150\uCE20 \uD0C0\uC785:",n),n}getRecommendedStrategy(e){let t=this.getSortedContentTypes(e);if(t.length===0)throw new Error("\uAD8C\uC7A5 \uC804\uB7B5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let n=t[0];return console.log(`\u2705 \uAD8C\uC7A5 \uC804\uB7B5: ${n}`),this.getStrategyByType(n)}getStrategyInfo(e){return{vector:{type:"vector",name:"\uBCA1\uD130 \uADF8\uB798\uD53D",description:"SVG, \uACBD\uB85C, \uB3C4\uD615 \uB4F1\uC758 \uBCA1\uD130 \uCF58\uD150\uCE20",icon:"\u{1F3A8}"},text:{type:"text",name:"\uD14D\uC2A4\uD2B8",description:"\uD3F0\uD2B8, \uC0C9\uC0C1, \uC704\uCE58 \uC815\uBCF4\uB97C \uD3EC\uD568\uD55C \uD14D\uC2A4\uD2B8",icon:"\u{1F4DD}"},image:{type:"image",name:"\uC774\uBBF8\uC9C0",description:"JPEG, PNG \uB4F1\uC758 \uB798\uC2A4\uD130 \uC774\uBBF8\uC9C0",icon:"\u{1F5BC}\uFE0F"},combined:{type:"combined",name:"\uD63C\uD569\uD615",description:"\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uAC00 \uD1B5\uD569\uB41C \uCF58\uD150\uCE20",icon:"\u{1F4C4}"}}[e]}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var te=class l{debugLogger=wt(Tt);extractFromAnalysisData(e,t={}){let{preferOriginal:n=!0,pageNumbers:o=null}=t,i=[],c=new Map;if(!e?.imageInfo?.images)return{images:[],totalCount:0,pageMap:c};for(let d of e.imageInfo.images){if(!d.images||!Array.isArray(d.images))continue;let g=d.pageNumber||1,m=d.pageHeight||842;if(!(o&&!o.includes(g)))for(let u of d.images){u._logged||(this.debugLogger.info("\uC774\uBBF8\uC9C0\uBD84\uC11D",`\u{1F5BC}\uFE0F [${u.name}] \uC6D0\uBCF8 \uB370\uC774\uD130 \uBD84\uC11D`),this.debugLogger.info("\uC774\uBBF8\uC9C0\uBD84\uC11D",`   \uD06C\uAE30: width=${u.width}, height=${u.height}`),this.debugLogger.info("\uC774\uBBF8\uC9C0\uBD84\uC11D",`   transform: [${u.transform?.join(", ")||"\uC5C6\uC74C"}]`),this.debugLogger.info("\uC774\uBBF8\uC9C0\uBD84\uC11D",`   \uD398\uC774\uC9C0 \uD06C\uAE30: ${u.pageWidth||"?"} x ${u.pageHeight||"?"} pt`),u.x!==void 0&&u.y!==void 0?this.debugLogger.info("\uC774\uBBF8\uC9C0\uBD84\uC11D",`   \u2705 \uC6D0\uBCF8 \uC88C\uD45C \uC788\uC74C: x=${u.x}, y=${u.y}`):this.debugLogger.warn("\uC774\uBBF8\uC9C0\uBD84\uC11D","   \u26A0\uFE0F \uC6D0\uBCF8 \uC88C\uD45C \uC5C6\uC74C - transform\uC5D0\uC11C \uACC4\uC0B0 \uD544\uC694"),u.position&&this.debugLogger.info("\uC774\uBBF8\uC9C0\uBD84\uC11D",`   position: x=${u.position.x}, y=${u.position.y}`),u._logged=!0);let h=this.extractSingleImage(u,g,m,n);h&&(i.push(h),c.has(g)||c.set(g,[]),c.get(g).push(h))}}return{images:i,totalCount:i.length,pageMap:c}}extractSingleImage(e,t,n,o){let i=o?e.originalImage||e.thumbnail||e.data||e.src:e.thumbnail||e.originalImage||e.data||e.src;if(!i)return this.debugLogger.warn("\uC774\uBBF8\uC9C0\uBD84\uC11D",`\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C: ${e.name}`),null;let c=e.transform;if(!c||c.length<6)return this.debugLogger.warn("\uC774\uBBF8\uC9C0\uBD84\uC11D",`\u26A0\uFE0F transform \uC815\uBCF4 \uC5C6\uC74C: ${e.name}`),null;let d=e.pageWidth||595,g=e.pageHeight||n,{x:m,y:u,width:h,height:C}=this.calculateImagePosition(c,g);return{id:`img-${t}-${e.name||Date.now()}`,name:e.name||"unknown",pageNumber:t,src:i,x:m,y:u,width:h,height:C,transform:c}}calculateImagePosition(e,t){let n=Math.abs(e[0]),o=Math.abs(e[3]),i=e[4],c=e[5];this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`\u{1F4CF} \uC6D0\uBCF8: x=${i.toFixed(2)}, y=${c.toFixed(2)}, w=${n.toFixed(2)}, h=${o.toFixed(2)}`),n=n/4,o=o/4,i=i/4,c=c/4,this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`\u2702\uFE0F 1/4 \uBCF4\uC815: x=${i.toFixed(2)}, y=${c.toFixed(2)}, w=${n.toFixed(2)}, h=${o.toFixed(2)}`);let d=e[5],g=Math.abs(e[3]),m=t*2,u=g<100?7:.17,h=(m-d+g*u)/4;return this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`\u{1F504} \uBD84\uC11D \uD398\uC774\uC9C0H=${m.toFixed(2)}, \uC6D0\uBCF8Y=${d.toFixed(2)}, \uC6D0\uBCF8H=${g.toFixed(2)}, \uACC4\uC218=${u}`),this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`\u2705 \uCD5C\uC885: x=${i.toFixed(2)}, y=${h.toFixed(2)}, w=${n.toFixed(2)}, h=${o.toFixed(2)}`),{x:i,y:h,width:n,height:o}}calculateImagePositionForPdfLib(e,t,n=595){let o=Math.abs(e[0]),i=Math.abs(e[3]),c=e[4],d=e[5];this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`\u{1F50D} Transform \uC6D0\uBCF8: [${e.map(P=>P.toFixed(2)).join(", ")}]`),this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`   PDF \uD398\uC774\uC9C0 \uD06C\uAE30: ${n.toFixed(0)} x ${t.toFixed(0)} pt`);let g=c,m=d,u=o,h=i,C=595,_=842;if(n>C*1.5||t>_*1.5){let P=n/C,y=t/_,D=Math.max(P,y);g=c/D,m=d/D,u=o/D,h=i/D,this.debugLogger.warn("\uC88C\uD45C\uBCC0\uD658",`   \u26A0\uFE0F PDF \uD398\uC774\uC9C0\uAC00 A4\uBCF4\uB2E4 \uD07C - \uC2A4\uCF00\uC77C \uBCF4\uC815 \uC801\uC6A9: \xF7${D.toFixed(2)}`)}return this.debugLogger.info("\uC88C\uD45C\uBCC0\uD658",`   \u2705 \uCD5C\uC885 \uC88C\uD45C: x=${g.toFixed(2)}pt, y=${m.toFixed(2)}pt, w=${u.toFixed(2)}pt, h=${h.toFixed(2)}pt`),{x:g,y:m,width:u,height:h}}base64ToUint8Array(e){let t=e.includes(",")?e.split(",")[1]:e;return Uint8Array.from(atob(t),n=>n.charCodeAt(0))}getImageType(e){return e.startsWith("data:image/jpeg")||e.startsWith("data:image/jpg")?"jpeg":"png"}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};function Vn(l,e){if(l&1){let t=R();r(0,"div",9)(1,"div",10)(2,"div",11),s(3,"\u{1F4CA}"),a(),r(4,"h3",12),s(5,"PDF \uBD84\uC11D"),a()(),r(6,"div",13)(7,"button",14),O("click",function(o){return M(t),f(2).toggleMinimize(),x(o.stopPropagation())}),s(8),a(),r(9,"button",15),O("click",function(o){return M(t),f(2).close(),x(o.stopPropagation())}),s(10," \u2715 "),a()()()}if(l&2){let t=f(2);p(8),z(" ",t.isMinimized?"\u25A1":"_"," ")}}function $n(l,e){l&1&&(r(0,"div",16)(1,"div",10)(2,"div",11),s(3,"\u{1F4CA}"),a(),r(4,"h3",12),s(5,"PDF \uBD84\uC11D \uC815\uBCF4"),a()()())}function zn(l,e){if(l&1&&(r(0,"div",31),s(1),a()),l&2){let t=f(3);p(),z(" ",t.displayData.formattedFileSize," ")}}function Ln(l,e){if(l&1&&(r(0,"div",31),s(1),a()),l&2){let t=f(3);p(),z(" ",t.displayData.avgTextPerPage," \uD56D\uBAA9/\uCABD ")}}function Gn(l,e){if(l&1&&(r(0,"div",22),s(1),a()),l&2){let t=f(3);p(),z(" ",t.formatNumber(t.analysisData.totalVectorOperations)," ")}}function Nn(l,e){l&1&&(r(0,"div",32),s(1," \uC5C6\uC74C "),a())}function Rn(l,e){if(l&1&&(r(0,"div",31),s(1),a()),l&2){let t=f(3);p(),z(" ",t.getVectorComplexity()," ")}}function jn(l,e){if(l&1&&(r(0,"div",31),s(1),a()),l&2){let t=f(3);p(),z(" ",t.displayData.koreanPercentage,"% ")}}function Wn(l,e){if(l&1&&(r(0,"div",31),s(1),a()),l&2){let t=f(3);p(),z(" ",t.getCombinedStats()," ")}}function Hn(l,e){if(l&1&&(r(0,"div",22),s(1),a()),l&2){let t=f(3);p(),z(" ",t.formatNumber(t.analysisData.imageInfo.totalImages)," ")}}function Un(l,e){l&1&&(r(0,"div",32),s(1," \uC5C6\uC74C "),a())}function Yn(l,e){if(l&1&&(r(0,"div",31),s(1),a()),l&2){let t=f(3);p(),z(" ",t.analysisData.imageInfo.pagesWithImages,"\uAC1C \uD398\uC774\uC9C0 ")}}function Xn(l,e){if(l&1){let t=R();r(0,"div",17)(1,"div",18)(2,"div",19),s(3,"\u{1F4C4}"),a(),r(4,"div",20)(5,"div",21),s(6,"\uBB38\uC11C"),a(),r(7,"div",22),s(8),a(),$(9,zn,2,1,"div",23),a()(),r(10,"div",24),O("click",function(o){M(t);let i=f(2);return x(i.openTextDetail(o))}),r(11,"div",19),s(12,"\u{1F4DD}"),a(),r(13,"div",20)(14,"div",21),s(15),a(),r(16,"div",22),s(17),a(),$(18,Ln,2,1,"div",23),a()(),r(19,"div",25),O("click",function(o){M(t);let i=f(2);return x(i.openVectorDetail(o))}),r(20,"div",19),s(21,"\u{1F3A8}"),a(),r(22,"div",20)(23,"div",21),s(24),a(),$(25,Gn,2,1,"div",26)(26,Nn,2,0,"div",27)(27,Rn,2,1,"div",23),a()(),r(28,"div",28)(29,"div",19),s(30,"\u{1F310}"),a(),r(31,"div",20)(32,"div",21),s(33,"\uC5B8\uC5B4"),a(),r(34,"div",22),s(35),a(),$(36,jn,2,1,"div",23),a()(),r(37,"div",29),O("click",function(o){M(t);let i=f(2);return x(i.openCombinedAnalysis(o))}),r(38,"div",19),s(39,"\u{1F4CA}"),a(),r(40,"div",20)(41,"div",21),s(42,"\uD1B5\uD569 \uBD84\uC11D \u25B8"),a(),r(43,"div",22),s(44),a(),$(45,Wn,2,1,"div",23),a()(),r(46,"div",30),O("click",function(o){M(t);let i=f(2);return x(i.openImageDetail(o))}),r(47,"div",19),s(48,"\u{1F5BC}\uFE0F"),a(),r(49,"div",20)(50,"div",21),s(51),a(),$(52,Hn,2,1,"div",26)(53,Un,2,0,"div",27)(54,Yn,2,1,"div",23),a()()()}if(l&2){let t=f(2);p(8),z("",t.analysisData.pageCount,"\uCABD"),p(),b("ngIf",t.displayData.formattedFileSize&&!t.isCompact),p(),Y("empty",!t.analysisData.totalTextItems||t.analysisData.totalTextItems===0),b("title",t.analysisData.totalTextItems>0?"\uD074\uB9AD\uD558\uC5EC \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30":"\uD14D\uC2A4\uD2B8 \uC5C6\uC74C"),p(5),z("\uD14D\uC2A4\uD2B8 ",t.analysisData.totalTextItems>0?"\u25B8":""),p(2),V(t.formatNumber(t.analysisData.totalTextItems)),p(),b("ngIf",!t.isCompact),p(),Y("empty",!t.analysisData.hasVectorGraphics),b("title",t.analysisData.hasVectorGraphics?"\uD074\uB9AD\uD558\uC5EC \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30":"\uBCA1\uD130 \uADF8\uB798\uD53D \uC5C6\uC74C"),p(5),z("\uBCA1\uD130 ",t.analysisData.hasVectorGraphics?"\u25B8":""),p(),b("ngIf",t.analysisData.hasVectorGraphics),p(),b("ngIf",!t.analysisData.hasVectorGraphics),p(),b("ngIf",t.analysisData.hasVectorGraphics&&!t.isCompact),p(8),V(t.getLanguageDominant()),p(),b("ngIf",t.displayData.koreanPercentage>0&&!t.isCompact),p(),Y("has-both",t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("text-only",!t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("vector-only",t.analysisData.hasVectorGraphics&&!t.analysisData.totalTextItems),p(7),V(t.getCombinedContentType()),p(),b("ngIf",!t.isCompact),p(),Y("empty",!t.analysisData.hasImages),b("title",t.analysisData.hasImages?"\uD074\uB9AD\uD558\uC5EC \uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30":"\uC774\uBBF8\uC9C0 \uC5C6\uC74C"),p(5),z("\uC774\uBBF8\uC9C0 ",t.analysisData.hasImages?"\u25B8":""),p(),b("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo),p(),b("ngIf",!t.analysisData.hasImages),p(),b("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo&&!t.isCompact)}}function qn(l,e){if(l&1&&(r(0,"div",33)(1,"div",34),s(2,"\uBCA1\uD130 \uAD6C\uC131 \uC694\uC18C"),a(),r(3,"div",35)(4,"div",36)(5,"span",37),s(6,"\uD328\uC2A4:"),a(),r(7,"span",38),s(8),a()(),r(9,"div",36)(10,"span",37),s(11,"\uC120:"),a(),r(12,"span",38),s(13),a()(),r(14,"div",36)(15,"span",37),s(16,"\uACE1\uC120:"),a(),r(17,"span",38),s(18),a()(),r(19,"div",36)(20,"span",37),s(21,"\uC0AC\uAC01\uD615:"),a(),r(22,"span",38),s(23),a()()()()),l&2){let t=f(2);p(8),V(t.formatNumber(t.analysisData.vectorSummary.totalPaths)),p(5),V(t.formatNumber(t.analysisData.vectorSummary.totalLines)),p(5),V(t.formatNumber(t.analysisData.vectorSummary.totalCurves)),p(5),V(t.formatNumber(t.analysisData.vectorSummary.totalRectangles))}}function Kn(l,e){if(l&1&&(r(0,"div",4),$(1,Vn,11,1,"div",5)(2,$n,6,0,"div",6)(3,Xn,55,32,"div",7)(4,qn,24,4,"div",8),a()),l&2){let t=f();p(),b("ngIf",t.isDraggable),p(),b("ngIf",!t.isDraggable),p(),b("ngIf",!t.isMinimized),p(),b("ngIf",!t.isCollapsed&&!t.isCompact&&!t.isMinimized&&t.analysisData.vectorSummary)}}function Jn(l,e){l&1&&(r(0,"div",39)(1,"div",40),s(2,"\u{1F4CA}"),a(),r(3,"div",41),s(4,"PDF\uB97C \uBD88\uB7EC\uC624\uBA74 \uBD84\uC11D \uC815\uBCF4\uAC00 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),a()())}function Zn(l,e){if(l&1){let t=R();r(0,"button",71),O("click",function(){let o=M(t).$implicit,i=f(5);return x(i.selectMiniPage(o.pageNumber))}),s(1),a()}if(l&2){let t=e.$implicit,n=f(5);Y("active",n.selectedMiniPage===t.pageNumber),p(),z(" ",t.pageNumber," ")}}function Qn(l,e){if(l&1&&(r(0,"div",69),$(1,Zn,2,3,"button",70),a()),l&2){let t=f(4);p(),b("ngForOf",t.vectorData.pageDetails)}}function to(l,e){l&1&&(r(0,"div",72)(1,"span",73),s(2,"\uD398\uC774\uC9C0 1"),a()())}function eo(l,e){if(l&1&&(r(0,"div",74),W(1,"div",75),Ht(2,"sanitizeHtml"),r(3,"div",76)(4,"span",77)(5,"span",78),s(6,"\u{1F3A8}"),a(),s(7),a()()()),l&2){let t=f(4);p(),b("innerHTML",_e(2,2,t.vectorSvgMinimap),Nt),p(6),z(" ",t.getSelectedPageOperations()," \uC5F0\uC0B0 ")}}function no(l,e){l&1&&(r(0,"div",74)(1,"div",79),W(2,"div",80),r(3,"p"),s(4,"\uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC911..."),a()()())}function oo(l,e){if(l&1&&(r(0,"div",65)(1,"h4"),s(2,"\u{1F4CD} \uBCA1\uD130 \uBBF8\uB2C8\uB9F5"),a(),$(3,Qn,2,1,"div",66)(4,to,3,0,"div",67)(5,eo,8,4,"div",68)(6,no,5,0,"div",68),a()),l&2){let t=f(3);p(3),b("ngIf",t.vectorData.pageDetails.length>1),p(),b("ngIf",t.vectorData.pageDetails.length===1),p(),b("ngIf",t.vectorSvgMinimap),p(),b("ngIf",!t.vectorSvgMinimap)}}function io(l,e){if(l&1&&(r(0,"span"),W(1,"br"),s(2),a()),l&2){let t=f(4);p(2),Dt("(\uD14D\uC2A4\uD2B8 \uAE00\uB9AC\uD504: ",t.formatNumber(t.getGlyphPaths()),", \uC2E4\uC81C \uB3C4\uD615: ",t.formatNumber(t.getShapePaths()),") ")}}function ro(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F4D0}"),a(),r(4,"div",84),s(5,"\uD328\uC2A4 (Paths)"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",87),a(),r(10,"div",88),s(11," \uBCF5\uC7A1\uD55C \uD615\uD0DC\uB97C \uADF8\uB9AC\uB294 \uACBD\uB85C "),$(12,io,3,2,"span",89),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalPaths)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalPaths),"%"),p(3),b("ngIf",t.hasGlyphShapeData())}}function ao(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F4CF}"),a(),r(4,"div",84),s(5,"\uC120 (Lines)"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",90),a(),r(10,"div",88),s(11,"\uC9C1\uC120 \uC5F0\uACB0"),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalLines)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalLines),"%")}}function co(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u3030\uFE0F"),a(),r(4,"div",84),s(5,"\uACE1\uC120 (Curves)"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",91),a(),r(10,"div",88),s(11,"\uBCA0\uC9C0\uC5B4 \uACE1\uC120"),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalCurves)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalCurves),"%")}}function so(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u25AD"),a(),r(4,"div",84),s(5,"\uC0AC\uAC01\uD615 (Rectangles)"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",92),a(),r(10,"div",88),s(11,"\uC0AC\uAC01\uD615 \uB3C4\uD615"),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalRectangles)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalRectangles),"%")}}function lo(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F3A8}"),a(),r(4,"div",84),s(5,"\uCC44\uC6B0\uAE30 (Fill)"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",93),a(),r(10,"div",88),s(11,"\uB3C4\uD615 \uB0B4\uBD80 \uCC44\uC6B0\uAE30"),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalFillOperations)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalFillOperations),"%")}}function go(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F58A}\uFE0F"),a(),r(4,"div",84),s(5,"\uC120 \uADF8\uB9AC\uAE30 (Stroke)"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",94),a(),r(10,"div",88),s(11,"\uB3C4\uD615 \uC678\uACFD\uC120 \uADF8\uB9AC\uAE30"),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalStrokeOperations)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalStrokeOperations),"%")}}function po(l,e){if(l&1&&(r(0,"div",50),$(1,oo,7,4,"div",51),r(2,"div",52)(3,"div",53)(4,"div",54),s(5,"\u{1F4CA}"),a(),r(6,"div",55)(7,"div",56),s(8,"\uCD1D \uBCA1\uD130 \uC5F0\uC0B0"),a(),r(9,"div",57),s(10),a(),r(11,"div",58),s(12),a()()()(),r(13,"div",59)(14,"h4"),s(15,"\uBCA1\uD130 \uAD6C\uC131 \uC694\uC18C"),a(),$(16,ro,13,4,"div",60)(17,ao,12,3,"div",60)(18,co,12,3,"div",60)(19,so,12,3,"div",60),a(),r(20,"div",59)(21,"h4"),s(22,"\uB80C\uB354\uB9C1 \uC5F0\uC0B0"),a(),$(23,lo,12,3,"div",60)(24,go,12,3,"div",60),a(),r(25,"div",61)(26,"div",62)(27,"div",63),s(28,"\uD3C9\uADE0 \uC5F0\uC0B0/\uD398\uC774\uC9C0"),a(),r(29,"div",64),s(30),a()(),r(31,"div",62)(32,"div",63),s(33,"\uBCF5\uC7A1\uB3C4 \uC218\uC900"),a(),r(34,"div",64),s(35),a()()()()),l&2){let t=f(2);p(),b("ngIf",t.vectorData&&t.vectorData.pageDetails&&t.vectorData.pageDetails.length>0),p(9),V(t.formatNumber(t.analysisData.totalVectorOperations)),p(2),z("",t.getVectorComplexity()," \uBCF5\uC7A1\uB3C4"),p(4),b("ngIf",t.analysisData.vectorSummary),p(),b("ngIf",t.analysisData.vectorSummary),p(),b("ngIf",t.analysisData.vectorSummary),p(),b("ngIf",t.analysisData.vectorSummary),p(4),b("ngIf",t.analysisData.vectorSummary),p(),b("ngIf",t.analysisData.vectorSummary),p(6),V(t.formatNumber(t.Math.round((t.analysisData.totalVectorOperations||0)/t.analysisData.pageCount))),p(5),V(t.getVectorComplexity())}}function mo(l,e){if(l&1){let t=R();r(0,"div",42),O("click",function(){M(t);let o=f();return x(o.closeVectorDetail())}),r(1,"div",43),O("click",function(o){return M(t),x(o.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uBD84\uC11D"),a(),r(5,"button",45),O("click",function(){M(t);let o=f();return x(o.closeVectorDetail())}),s(6,"\u2715"),a()(),$(7,po,36,11,"div",46),r(8,"div",47)(9,"button",48),O("click",function(){M(t);let o=f();return x(o.createNewPdfWithSvg())}),s(10," \u{1F3A8} SVG\uB85C \uC0C8 PDF \uC0DD\uC131 "),a(),r(11,"button",49),O("click",function(){M(t);let o=f();return x(o.closeVectorDetail())}),s(12,"\uB2EB\uAE30"),a()()()()}if(l&2){let t=f();p(7),b("ngIf",t.analysisData)}}function uo(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F30D}"),a(),r(4,"div",84),s(5,"\uD63C\uD569"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",101),a(),r(10,"div",88),s(11),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.languageDetection.mixed)),p(2),Z("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.mixed),"%"),p(2),z("",t.getTextLanguagePercentage(t.analysisData.languageDetection.mixed),"%")}}function fo(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F522}"),a(),r(4,"div",84),s(5,"\uC22B\uC790"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",102),a(),r(10,"div",88),s(11,"\uC22B\uC790 \uB370\uC774\uD130"),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.languageDetection.numbers)),p(2),Z("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.numbers),"%")}}function ho(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F310} \uC5B8\uC5B4 \uBD84\uD3EC"),a(),r(3,"div",81)(4,"div",82)(5,"div",83),s(6,"\u{1F1F0}\u{1F1F7}"),a(),r(7,"div",84),s(8,"\uD55C\uAD6D\uC5B4"),a(),r(9,"div",85),s(10),a()(),r(11,"div",86),W(12,"div",99),a(),r(13,"div",88),s(14),a()(),r(15,"div",81)(16,"div",82)(17,"div",83),s(18,"\u{1F1FA}\u{1F1F8}"),a(),r(19,"div",84),s(20,"\uC601\uC5B4"),a(),r(21,"div",85),s(22),a()(),r(23,"div",86),W(24,"div",100),a(),r(25,"div",88),s(26),a()(),$(27,uo,12,4,"div",60)(28,fo,12,3,"div",60),a()),l&2){let t=f(2);p(10),V(t.formatNumber(t.analysisData.languageDetection.korean)),p(2),Z("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.korean),"%"),p(2),z("",t.getTextLanguagePercentage(t.analysisData.languageDetection.korean),"%"),p(8),V(t.formatNumber(t.analysisData.languageDetection.english)),p(2),Z("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.english),"%"),p(2),z("",t.getTextLanguagePercentage(t.analysisData.languageDetection.english),"%"),p(),b("ngIf",t.analysisData.languageDetection.mixed>0),p(),b("ngIf",t.analysisData.languageDetection.numbers>0)}}function Co(l,e){if(l&1&&(r(0,"div",106)(1,"span",107),s(2),a(),r(3,"span",108),s(4),a()()),l&2){let t=e.$implicit,n=e.index;p(2),V(n+1),p(2),V(t)}}function _o(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F3A8} \uD3F0\uD2B8 \uC815\uBCF4"),a(),r(3,"div",103)(4,"div",54),s(5,"\u{1F4DD}"),a(),r(6,"div",55)(7,"div",56),s(8,"\uACE0\uC720 \uD3F0\uD2B8 \uC218"),a(),r(9,"div",57),s(10),a(),r(11,"div",58),s(12),a()()(),r(13,"div",104),$(14,Co,5,2,"div",105),a()()),l&2){let t=f(2);p(10),V(t.analysisData.uniqueFonts.length),p(2),z("",t.getFontDiversity()," \uB2E4\uC591\uC131"),p(2),b("ngForOf",t.analysisData.uniqueFonts)}}function Po(l,e){if(l&1&&(r(0,"div",111),W(1,"div",112),r(2,"div",113)(3,"div",114),s(4),a(),r(5,"div",115),s(6),a()(),r(7,"div",116),W(8,"div",117),a()()),l&2){let t=e.$implicit,n=f(3);p(),Z("background-color",t.color),p(3),V(t.color),p(2),Dt("",n.formatNumber(t.count),"\uD68C (",t.percentage,"%)"),p(2),Z("width",t.percentage,"%")}}function bo(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F3A8} \uD14D\uC2A4\uD2B8 \uC0C9\uC0C1"),a(),r(3,"div",103)(4,"div",54),s(5,"\u{1F308}"),a(),r(6,"div",55)(7,"div",56),s(8,"\uACE0\uC720 \uC0C9\uC0C1 \uC218"),a(),r(9,"div",57),s(10),a(),r(11,"div",58),s(12),a()()(),r(13,"div",109),$(14,Po,9,7,"div",110),a()()),l&2){let t=f(2);p(10),V(t.analysisData.textColors.uniqueColors.length),p(2),V(t.analysisData.textColors.uniqueColors.length===1?"\uB2E8\uC77C \uC0C9\uC0C1":"\uB2E4\uC591\uD55C \uC0C9\uC0C1"),p(2),b("ngForOf",t.getSortedColors())}}function Mo(l,e){if(l&1&&(r(0,"option",123),s(1),a()),l&2){let t=e.$implicit,n=f(3);b("value",t),p(),Dt(" \uD398\uC774\uC9C0 ",t," (",n.getPageTextCount(t),"\uAC1C \uD56D\uBAA9) ")}}function xo(l,e){if(l&1&&(r(0,"div",124)(1,"div",125)(2,"div",126),s(3),a(),r(4,"div",127),W(5,"div",128),r(6,"div",129)(7,"span",130),s(8,"\uC0C9\uC0C1:"),a(),r(9,"span",131),s(10),a()()()(),r(11,"div",132),s(12),a(),r(13,"div",133)(14,"span",134),s(15),a(),r(16,"span",134),s(17),a(),r(18,"span",134),s(19),a()()()),l&2){let t=e.$implicit,n=e.index,o=f(3);p(3),z("#",o.currentTextPage*o.textItemsPerPage+n+1),p(2),Z("background-color",o.normalizeColor(t.color))("border",t.color==="#ffffff"||t.color==="#FFFFFF"?"1px solid #ddd":"none"),b("title","\uC6D0\uBCF8: "+t.color+`
\uC815\uADDC\uD654: `+o.normalizeColor(t.color)),p(5),V(o.normalizeColor(t.color)),p(),Z("color",o.normalizeColor(t.color))("font-family",t.font+", Arial, sans-serif")("font-size",t.fontSize,"pt")("background",o.getBackgroundForTextColor(t.color))("text-shadow",o.getTextShadowForColor(t.color))("padding","12px")("border-radius","6px"),p(),z(" ",t.text," "),p(3),z("\u{1F4DD} ",t.font),p(2),z("\u{1F4CF} ",t.fontSize,"pt"),p(2),Dt("\u{1F4CD} (",o.Math.round(t.position.x),", ",o.Math.round(t.position.y),")")}}function Oo(l,e){if(l&1){let t=R();r(0,"div",135)(1,"button",136),O("click",function(){M(t);let o=f(3);return x(o.prevTextPage())}),s(2," \u2190 \uC774\uC804 "),a(),r(3,"span",137),s(4),a(),r(5,"button",136),O("click",function(){M(t);let o=f(3);return x(o.nextTextPage())}),s(6," \uB2E4\uC74C \u2192 "),a()()}if(l&2){let t=f(3);p(),b("disabled",t.currentTextPage===0),p(3),Dt(" ",t.currentTextPage+1," / ",t.getTotalTextPages()," "),p(),b("disabled",t.currentTextPage>=t.getTotalTextPages()-1)}}function vo(l,e){if(l&1){let t=R();r(0,"div",59)(1,"h4"),s(2,"\u{1F4DD} \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 \uC0C1\uC138 (\uD398\uC774\uC9C0\uBCC4)"),a(),r(3,"div",69)(4,"label"),s(5,"\uD398\uC774\uC9C0 \uC120\uD0DD:"),a(),r(6,"select",118),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedPage,o)||(i.selectedPage=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.changeSelectedPage(o))}),$(7,Mo,2,3,"option",119),a()(),r(8,"div",120),$(9,xo,20,26,"div",121),a(),$(10,Oo,7,4,"div",122),a()}if(l&2){let t=f(2);p(6),X("ngModel",t.selectedPage),p(),b("ngForOf",t.getAvailablePages()),p(2),b("ngForOf",t.getCurrentPageTextItems()),p(),b("ngIf",t.getTotalTextPages()>1)}}function yo(l,e){if(l&1){let t=R();r(0,"div",42),O("click",function(){M(t);let o=f();return x(o.closeTextDetailModal())}),r(1,"div",95),O("click",function(o){return M(t),x(o.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F4DD} \uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4"),a(),r(5,"button",96),O("click",function(){M(t);let o=f();return x(o.closeTextDetailModal())}),s(6,"\u2715"),a()(),r(7,"div",50)(8,"div",52)(9,"div",53)(10,"div",54),s(11,"\u{1F4DD}"),a(),r(12,"div",55)(13,"div",56),s(14,"\uCD1D \uD14D\uC2A4\uD2B8 \uD56D\uBAA9"),a(),r(15,"div",57),s(16),a(),r(17,"div",58),s(18),a()()(),r(19,"div",53)(20,"div",54),s(21,"\u{1F4D6}"),a(),r(22,"div",55)(23,"div",56),s(24,"\uCD1D \uB2E8\uC5B4 \uC218"),a(),r(25,"div",57),s(26),a(),r(27,"div",58),s(28),a()()(),r(29,"div",53)(30,"div",54),s(31,"\u{1F524}"),a(),r(32,"div",55)(33,"div",56),s(34,"\uCD1D \uBB38\uC790 \uC218"),a(),r(35,"div",57),s(36),a(),r(37,"div",58),s(38),a()()()(),$(39,ho,29,10,"div",97)(40,_o,15,3,"div",97)(41,bo,15,3,"div",97),r(42,"div",59)(43,"h4"),s(44,"\u{1F4CA} \uCD94\uAC00 \uD1B5\uACC4"),a(),r(45,"div",62)(46,"div",63),s(47,"\uD3C9\uADE0 \uD14D\uC2A4\uD2B8/\uD398\uC774\uC9C0"),a(),r(48,"div",64),s(49),a()(),r(50,"div",62)(51,"div",63),s(52,"\uD3C9\uADE0 \uB2E8\uC5B4/\uD398\uC774\uC9C0"),a(),r(53,"div",64),s(54),a()(),r(55,"div",62)(56,"div",63),s(57,"\uD3C9\uADE0 \uBB38\uC790/\uD398\uC774\uC9C0"),a(),r(58,"div",64),s(59),a()(),r(60,"div",62)(61,"div",63),s(62,"\uC8FC \uC5B8\uC5B4"),a(),r(63,"div",64),s(64),a()()(),$(65,vo,11,4,"div",97),a(),r(66,"div",47)(67,"button",98),O("click",function(){M(t);let o=f();return x(o.createTextStructureDocument())}),s(68," \u{1F4DD} \uD14D\uC2A4\uD2B8 \uAD6C\uC870\uB85C \uC0C8 \uBB38\uC11C \uB9CC\uB4E4\uAE30 "),a(),r(69,"button",49),O("click",function(){M(t);let o=f();return x(o.closeTextDetailModal())}),s(70,"\uB2EB\uAE30"),a()()()()}if(l&2){let t=f();p(16),V(t.formatNumber(t.analysisData.totalTextItems)),p(2),z("",t.displayData.avgTextPerPage," \uD56D\uBAA9/\uCABD"),p(8),V(t.formatNumber(t.analysisData.totalWords)),p(2),z("\uD3C9\uADE0 ",t.getAverageWordLength(),"\uC790/\uB2E8\uC5B4"),p(8),V(t.formatNumber(t.analysisData.totalCharacters)),p(2),z("",t.Math.round(t.analysisData.totalCharacters/t.analysisData.pageCount)," \uBB38\uC790/\uCABD"),p(),b("ngIf",t.analysisData.languageDetection),p(),b("ngIf",t.analysisData.uniqueFonts&&t.analysisData.uniqueFonts.length>0),p(),b("ngIf",t.analysisData.textColors&&t.analysisData.textColors.uniqueColors.length>0),p(8),V(t.formatNumber(t.Math.round(t.analysisData.totalTextItems/t.analysisData.pageCount))),p(5),V(t.formatNumber(t.Math.round(t.analysisData.totalWords/t.analysisData.pageCount))),p(5),V(t.formatNumber(t.Math.round(t.analysisData.totalCharacters/t.analysisData.pageCount))),p(5),V(t.getLanguageDominant()),p(),b("ngIf",t.analysisData.pages&&t.analysisData.pages.length>0)}}function wo(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F4D0}"),a(),r(4,"div",84),s(5,"\uD328\uC2A4"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",87),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalPaths)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalPaths),"%")}}function Do(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F4CF}"),a(),r(4,"div",84),s(5,"\uC120"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",90),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalLines)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalLines),"%")}}function So(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u3030\uFE0F"),a(),r(4,"div",84),s(5,"\uACE1\uC120"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",91),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.analysisData.vectorSummary.totalCurves)),p(2),Z("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalCurves),"%")}}function Eo(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D"),a(),r(3,"div",148)(4,"div",53)(5,"div",54),s(6,"\u{1F3A8}"),a(),r(7,"div",55)(8,"div",56),s(9,"\uCD1D \uBCA1\uD130 \uC5F0\uC0B0"),a(),r(10,"div",57),s(11),a(),r(12,"div",58),s(13),a()()()(),$(14,wo,10,3,"div",60)(15,Do,10,3,"div",60)(16,So,10,3,"div",60),a()),l&2){let t=f(2);p(11),V(t.formatNumber(t.analysisData.totalVectorOperations)),p(2),z("",t.getVectorComplexity()," \uBCF5\uC7A1\uB3C4"),p(),b("ngIf",t.analysisData.vectorSummary),p(),b("ngIf",t.analysisData.vectorSummary),p(),b("ngIf",t.analysisData.vectorSummary)}}function ko(l,e){if(l&1&&(r(0,"div")(1,"div",81)(2,"div",82)(3,"div",83),s(4,"\u{1F1F0}\u{1F1F7}"),a(),r(5,"div",84),s(6,"\uD55C\uAD6D\uC5B4"),a(),r(7,"div",85),s(8),a()(),r(9,"div",86),W(10,"div",99),a()(),r(11,"div",81)(12,"div",82)(13,"div",83),s(14,"\u{1F1FA}\u{1F1F8}"),a(),r(15,"div",84),s(16,"\uC601\uC5B4"),a(),r(17,"div",85),s(18),a()(),r(19,"div",86),W(20,"div",100),a()()()),l&2){let t=f(3);p(8),V(t.formatNumber(t.analysisData.languageDetection.korean)),p(2),Z("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.korean),"%"),p(8),V(t.formatNumber(t.analysisData.languageDetection.english)),p(2),Z("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.english),"%")}}function To(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F4DD} \uD14D\uC2A4\uD2B8 \uBD84\uC11D"),a(),r(3,"div",148)(4,"div",53)(5,"div",54),s(6,"\u{1F4DD}"),a(),r(7,"div",55)(8,"div",56),s(9,"\uCD1D \uD14D\uC2A4\uD2B8 \uD56D\uBAA9"),a(),r(10,"div",57),s(11),a(),r(12,"div",58),s(13),a()()(),r(14,"div",53)(15,"div",54),s(16,"\u{1F4D6}"),a(),r(17,"div",55)(18,"div",56),s(19,"\uCD1D \uB2E8\uC5B4 \uC218"),a(),r(20,"div",57),s(21),a(),r(22,"div",58),s(23),a()()()(),$(24,ko,21,6,"div",89),a()),l&2){let t=f(2);p(11),V(t.formatNumber(t.analysisData.totalTextItems)),p(2),z("",t.displayData.avgTextPerPage," \uD56D\uBAA9/\uCABD"),p(8),V(t.formatNumber(t.analysisData.totalWords)),p(2),z("\uD3C9\uADE0 ",t.getAverageWordLength(),"\uC790/\uB2E8\uC5B4"),p(),b("ngIf",t.analysisData.languageDetection)}}function Io(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F5BC}\uFE0F"),a(),r(4,"div",84),s(5,"\uC77C\uBC18 \uC774\uBBF8\uC9C0"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",151),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.getImageTypeCount("Image"))),p(2),Z("width",t.getImageTypePercentage("Image"),"%")}}function Ao(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F4F7}"),a(),r(4,"div",84),s(5,"JPEG"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",152),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.getImageTypeCount("JPEG"))),p(2),Z("width",t.getImageTypePercentage("JPEG"),"%")}}function Bo(l,e){if(l&1&&(r(0,"div",81)(1,"div",82)(2,"div",83),s(3,"\u{1F3A8}"),a(),r(4,"div",84),s(5,"PNG"),a(),r(6,"div",85),s(7),a()(),r(8,"div",86),W(9,"div",153),a()()),l&2){let t=f(3);p(7),V(t.formatNumber(t.getImageTypeCount("PNG"))),p(2),Z("width",t.getImageTypePercentage("PNG"),"%")}}function Fo(l,e){if(l&1){let t=R();r(0,"div",59)(1,"h4"),s(2,"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uBD84\uC11D"),a(),r(3,"div",148)(4,"div",53)(5,"div",54),s(6,"\u{1F5BC}\uFE0F"),a(),r(7,"div",55)(8,"div",56),s(9,"\uCD1D \uC774\uBBF8\uC9C0 \uC218"),a(),r(10,"div",57),s(11),a(),r(12,"div",58),s(13),a()()()(),$(14,Io,10,3,"div",60)(15,Ao,10,3,"div",60)(16,Bo,10,3,"div",60),r(17,"div",149)(18,"button",150),O("click",function(o){M(t);let i=f(2);return i.openImageDetail(o),x(i.closeCombinedAnalysisModal())}),s(19," \u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0C1\uC138 "),a()()()}if(l&2){let t=f(2);p(11),V(t.formatNumber(t.analysisData.imageInfo.totalImages)),p(2),z("",t.analysisData.imageInfo.pagesWithImages,"\uAC1C \uD398\uC774\uC9C0"),p(),b("ngIf",t.getImageTypeCount("Image")>0),p(),b("ngIf",t.getImageTypeCount("JPEG")>0),p(),b("ngIf",t.getImageTypeCount("PNG")>0)}}function Vo(l,e){if(l&1&&(r(0,"div",157)(1,"div",158)(2,"span",159),s(3,"\u{1F3A8}"),a(),r(4,"span"),s(5,"\uBCA1\uD130 \uADF8\uB798\uD53D"),a()(),r(6,"div",160)(7,"div",161)(8,"span",162),s(9),a()()(),r(10,"div",163),s(11),a()()),l&2){let t=f(3);p(7),Z("width",t.getVectorTextRatio().vectorPercentage,"%"),p(2),z("",t.getVectorTextRatio().vectorPercentage,"%"),p(2),z("",t.formatNumber(t.analysisData.totalVectorOperations)," \uC5F0\uC0B0")}}function $o(l,e){if(l&1&&(r(0,"div",157)(1,"div",158)(2,"span",159),s(3,"\u{1F4DD}"),a(),r(4,"span"),s(5,"\uD14D\uC2A4\uD2B8"),a()(),r(6,"div",160)(7,"div",164)(8,"span",162),s(9),a()()(),r(10,"div",163),s(11),a()()),l&2){let t=f(3);p(7),Z("width",t.getVectorTextRatio().textPercentage,"%"),p(2),z("",t.getVectorTextRatio().textPercentage,"%"),p(2),z("",t.formatNumber(t.analysisData.totalTextItems)," \uD56D\uBAA9")}}function zo(l,e){if(l&1&&(r(0,"div",157)(1,"div",158)(2,"span",159),s(3,"\u{1F5BC}\uFE0F"),a(),r(4,"span"),s(5,"\uC774\uBBF8\uC9C0"),a()(),r(6,"div",160)(7,"div",165)(8,"span",162),s(9),a()()(),r(10,"div",163),s(11),a()()),l&2){let t=f(3);p(7),Z("width",t.getImageRatioPercentage(),"%"),p(2),z("",t.getImageRatioPercentage(),"%"),p(2),z("",t.formatNumber(t.analysisData.imageInfo.totalImages)," \uAC1C")}}function Lo(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u2696\uFE0F \uCF58\uD150\uCE20 \uBE44\uC728 \uBE44\uAD50"),a(),r(3,"div",154),$(4,Vo,12,4,"div",155)(5,$o,12,4,"div",155)(6,zo,12,4,"div",155),a(),r(7,"div",156)(8,"p"),s(9),a()()()),l&2){let t=f(2);p(4),b("ngIf",t.analysisData.hasVectorGraphics),p(),b("ngIf",t.analysisData.totalTextItems>0),p(),b("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo),p(3),V(t.getContentDominance())}}function Go(l,e){if(l&1){let t=R();r(0,"button",166),O("click",function(o){M(t);let i=f(2);return i.openVectorDetail(o),x(i.closeCombinedAnalysisModal())}),s(1," \u{1F3A8} \uBCA1\uD130 \uC0C1\uC138 "),a()}}function No(l,e){if(l&1){let t=R();r(0,"button",167),O("click",function(o){M(t);let i=f(2);return i.openTextDetail(o),x(i.closeCombinedAnalysisModal())}),s(1," \u{1F4DD} \uD14D\uC2A4\uD2B8 \uC0C1\uC138 "),a()}}function Ro(l,e){if(l&1){let t=R();r(0,"button",168),O("click",function(){M(t);let o=f(2);return o.createNewPdfWithSvg(),x(o.closeCombinedAnalysisModal())}),s(1," \u{1F3A8} SVG\uB85C \uC0C8 \uBB38\uC11C "),a()}}function jo(l,e){if(l&1){let t=R();r(0,"button",169),O("click",function(){M(t);let o=f(2);return o.createTextStructureDocument(),x(o.closeCombinedAnalysisModal())}),s(1," \u{1F4DD} \uD14D\uC2A4\uD2B8\uB85C \uC0C8 \uBB38\uC11C "),a()}}function Wo(l,e){if(l&1){let t=R();r(0,"button",170),O("click",function(){M(t);let o=f(2);return x(o.createCombinedDocument())}),s(1," \u{1F4CA} \uD63C\uD569 \uC0C8 \uBB38\uC11C "),a()}}function Ho(l,e){if(l&1){let t=R();r(0,"button",171),O("click",function(){M(t);let o=f(2);return x(o.createCombinedPdf())}),s(1," \u{1F3A8} \uD63C\uD569\uD615 \uAD6C\uC870\uB85C \uC0DD\uC131\uD558\uAE30 "),a()}}function Uo(l,e){if(l&1){let t=R();r(0,"div",42),O("click",function(){M(t);let o=f();return x(o.closeCombinedAnalysisModal())}),r(1,"div",138),O("click",function(o){return M(t),x(o.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F4CA} \uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0 \uD1B5\uD569 \uBD84\uC11D"),a(),r(5,"button",96),O("click",function(){M(t);let o=f();return x(o.closeCombinedAnalysisModal())}),s(6,"\u2715"),a()(),r(7,"div",50)(8,"div",52)(9,"div",53)(10,"div",54),s(11,"\u{1F4CA}"),a(),r(12,"div",55)(13,"div",56),s(14,"\uBB38\uC11C \uD0C0\uC785"),a(),r(15,"div",57),s(16),a(),r(17,"div",58),s(18),a()()()(),$(19,Eo,17,5,"div",97)(20,To,25,5,"div",97)(21,Fo,20,5,"div",97)(22,Lo,10,4,"div",97),r(23,"div",59)(24,"h4"),s(25,"\u26A1 \uBE60\uB978 \uC561\uC158"),a(),r(26,"div",139),$(27,Go,2,0,"button",140)(28,No,2,0,"button",141)(29,Ro,2,0,"button",142)(30,jo,2,0,"button",143)(31,Wo,2,0,"button",144)(32,Ho,2,0,"button",145),r(33,"button",146),O("click",function(){M(t);let o=f();return x(o.exportPdf())}),s(34," \u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30 "),a(),r(35,"button",147),O("click",function(){M(t);let o=f();return x(o.exportOriginalPdf())}),s(36," \u{1F4BE} \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC "),a()()()(),r(37,"div",47)(38,"button",49),O("click",function(){M(t);let o=f();return x(o.closeCombinedAnalysisModal())}),s(39,"\uB2EB\uAE30"),a()()()()}if(l&2){let t=f();p(9),Y("has-both",t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("text-only",!t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("vector-only",t.analysisData.hasVectorGraphics&&!t.analysisData.totalTextItems),p(7),V(t.getCombinedContentType()),p(2),V(t.getCombinedStats()),p(),b("ngIf",t.analysisData.hasVectorGraphics),p(),b("ngIf",t.analysisData.totalTextItems>0),p(),b("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo),p(),b("ngIf",t.analysisData.hasVectorGraphics||t.analysisData.totalTextItems>0||t.analysisData.hasImages),p(5),b("ngIf",t.analysisData.hasVectorGraphics),p(),b("ngIf",t.analysisData.totalTextItems>0),p(),b("ngIf",t.analysisData.hasVectorGraphics),p(),b("ngIf",t.analysisData.totalTextItems>0),p(),b("ngIf",t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0),p(),b("ngIf",t.analysisData.hasVectorGraphics||t.analysisData.totalTextItems>0||t.analysisData.hasImages)}}function Yo(l,e){if(l&1&&(r(0,"div",193),W(1,"img",194),a()),l&2){let t=f().$implicit;p(),b("src",t.thumbnail,Lt)("alt",t.name)}}function Xo(l,e){l&1&&(r(0,"div",195)(1,"span",196),s(2,"\u{1F5BC}\uFE0F"),a(),r(3,"span",197),s(4,"\uBBF8\uB9AC\uBCF4\uAE30 \uC5C6\uC74C"),a()())}function qo(l,e){if(l&1&&(r(0,"div",191)(1,"span",37),s(2,"\uD06C\uAE30:"),a(),r(3,"span",38),s(4),a()()),l&2){let t=f().$implicit;p(4),Dt("",t.width," \xD7 ",t.height,"px")}}function Ko(l,e){if(l&1&&(r(0,"div",191)(1,"span",37),s(2,"\uD3EC\uB9F7:"),a(),r(3,"span",38),s(4),a()()),l&2){let t=f().$implicit;p(4),V(t.format)}}function Jo(l,e){if(l&1&&(r(0,"div",185),$(1,Yo,2,2,"div",186)(2,Xo,5,0,"div",187),r(3,"div",188)(4,"div",189),s(5),a(),r(6,"div",190)(7,"div",191)(8,"span",37),s(9,"\uD0C0\uC785:"),a(),r(10,"span",38),s(11),a()(),$(12,qo,5,2,"div",192)(13,Ko,5,1,"div",192),a()()()),l&2){let t=e.$implicit;p(),b("ngIf",t.thumbnail),p(),b("ngIf",!t.thumbnail),p(3),V(t.name),p(6),V(t.type),p(),b("ngIf",t.width&&t.height),p(),b("ngIf",t.format)}}function Zo(l,e){if(l&1&&(r(0,"div",179)(1,"div",180)(2,"div",181),s(3),a(),r(4,"div",182),s(5),a()(),r(6,"div",183),$(7,Jo,14,6,"div",184),a()()),l&2){let t=e.$implicit;p(3),z("\uD398\uC774\uC9C0 ",t.pageNumber),p(2),z("",t.count,"\uAC1C \uC774\uBBF8\uC9C0"),p(2),b("ngForOf",t.images)}}function Qo(l,e){if(l&1){let t=R();r(0,"div",42),O("click",function(){M(t);let o=f();return x(o.closeImageDetailModal())}),r(1,"div",172),O("click",function(o){return M(t),x(o.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4"),a(),r(5,"button",96),O("click",function(){M(t);let o=f();return x(o.closeImageDetailModal())}),s(6,"\u2715"),a()(),r(7,"div",50)(8,"div",52)(9,"div",53)(10,"div",54),s(11,"\u{1F5BC}\uFE0F"),a(),r(12,"div",55)(13,"div",56),s(14,"\uCD1D \uC774\uBBF8\uC9C0 \uC218"),a(),r(15,"div",57),s(16),a(),r(17,"div",58),s(18),a()()(),r(19,"div",53)(20,"div",54),s(21,"\u{1F4C4}"),a(),r(22,"div",55)(23,"div",56),s(24,"\uC774\uBBF8\uC9C0 \uD3EC\uD568 \uD398\uC774\uC9C0"),a(),r(25,"div",57),s(26),a(),r(27,"div",58),s(28),a()()(),r(29,"div",53)(30,"div",54),s(31,"\u{1F4CA}"),a(),r(32,"div",55)(33,"div",56),s(34,"\uD398\uC774\uC9C0\uB2F9 \uD3C9\uADE0"),a(),r(35,"div",57),s(36),a(),r(37,"div",58),s(38,"\uC774\uBBF8\uC9C0/\uD398\uC774\uC9C0"),a()()()(),r(39,"div",59)(40,"h4"),s(41,"\u{1F4C4} \uD398\uC774\uC9C0\uBCC4 \uC774\uBBF8\uC9C0"),a(),$(42,Zo,8,3,"div",173),a(),r(43,"div",59)(44,"h4"),s(45,"\u{1F4CA} \uC774\uBBF8\uC9C0 \uD0C0\uC785 \uD1B5\uACC4"),a(),r(46,"div",81)(47,"div",82)(48,"div",83),s(49,"\u{1F4E6}"),a(),r(50,"div",84),s(51,"XObject \uC774\uBBF8\uC9C0"),a(),r(52,"div",85),s(53),a()(),r(54,"div",86),W(55,"div",174),a(),r(56,"div",88),s(57,"\uC678\uBD80 \uC774\uBBF8\uC9C0 \uAC1D\uCCB4"),a()(),r(58,"div",81)(59,"div",82)(60,"div",83),s(61,"\u{1F4DD}"),a(),r(62,"div",84),s(63,"Inline \uC774\uBBF8\uC9C0"),a(),r(64,"div",85),s(65),a()(),r(66,"div",86),W(67,"div",175),a(),r(68,"div",88),s(69,"\uC778\uB77C\uC778 \uC774\uBBF8\uC9C0"),a()()(),r(70,"div",176)(71,"h4"),s(72,"\u{1F527} \uC791\uC5C5"),a(),r(73,"div",139)(74,"button",177),O("click",function(){M(t);let o=f();return x(o.createImagePdfDocument())}),s(75," \u{1F4C4} \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 "),a(),r(76,"button",178),O("click",function(){M(t);let o=f();return x(o.downloadAllImages())}),s(77," \u{1F4E6} \uC77C\uAD04 \uB2E4\uC6B4\uB85C\uB4DC "),a()()()(),r(78,"div",47)(79,"button",49),O("click",function(){M(t);let o=f();return x(o.closeImageDetailModal())}),s(80,"\uB2EB\uAE30"),a()()()()}if(l&2){let t=f();p(16),V(t.formatNumber(t.analysisData.imageInfo.totalImages)),p(2),z("",t.analysisData.imageInfo.pagesWithImages,"\uAC1C \uD398\uC774\uC9C0"),p(8),V(t.analysisData.imageInfo.pagesWithImages),p(2),z("",t.Math.round(t.analysisData.imageInfo.pagesWithImages/t.analysisData.pageCount*100),"%"),p(8),V((t.analysisData.imageInfo.totalImages/t.analysisData.imageInfo.pagesWithImages).toFixed(1)),p(6),b("ngForOf",t.analysisData.imageInfo.images),p(11),V(t.getImageTypeCount("XObject")),p(2),Z("width",t.getImageTypePercentage("XObject"),"%"),p(10),V(t.getImageTypeCount("Inline")),p(2),Z("width",t.getImageTypePercentage("Inline"),"%")}}var ee=class l{analysisData=null;isCollapsed=!1;isDraggable=!0;isCompact=!0;vectorData=null;vectorMinimaps={};closeEvent=new B;createSvgPdfEvent=new B;createTextStructureDocEvent=new B;createCombinedDocEvent=new B;requestMinimapEvent=new B;exportPdfEvent=new B;createImagePdfEvent=new B;exportOriginalPdfEvent=new B;Math=Math;pdfFactory=wt(xe);pdfImageExtractor=wt(te);currentStrategy;ContentType=Ft;snackbar=wt(Kt);debugLogger=wt(Tt);librariesLoaded=!1;librariesLoadPromise=null;isDragging=!1;dragStartX=0;dragStartY=0;currentX=20;currentY=80;isMinimized=!1;showVectorDetailModal=!1;showTextDetailModal=!1;showImageDetailModal=!1;selectedPage=1;textItemsPerPage=50;currentTextPage=0;showCombinedAnalysisModal=!1;_vectorSvgMinimap="";selectedMiniPage=1;get vectorSvgMinimap(){if(this.vectorMinimaps&&this.vectorMinimaps[this.selectedMiniPage])return this.vectorMinimaps[this.selectedMiniPage];if(this.vectorData&&this.vectorData.pageDetails){let e=this.vectorData.pageDetails.find(t=>t.pageNumber===this.selectedMiniPage);if(e&&e.svgContent)return console.log(`\u2705 vectorData\uC5D0\uC11C \uD398\uC774\uC9C0 ${this.selectedMiniPage} SVG \uBC18\uD658 (\uAE38\uC774: ${e.svgContent.length})`),e.svgContent}return this._vectorSvgMinimap?(console.log(`\u2705 \uB0B4\uBD80 \uC0DD\uC131 SVG \uBC18\uD658 (\uAE38\uC774: ${this._vectorSvgMinimap.length})`),this._vectorSvgMinimap):(console.log(`\u{1F504} \uD398\uC774\uC9C0 ${this.selectedMiniPage} SVG \uB85C\uB529 \uC911 \uB610\uB294 \uC5C6\uC74C - \uD50C\uB808\uC774\uC2A4\uD640\uB354 \uBC18\uD658`),this.createLoadingMinimap())}set vectorSvgMinimap(e){this._vectorSvgMinimap=e}hasGlyphShapeData(){let e=this.analysisData?.vectorSummary;return e?.glyphPaths!==void 0||e?.shapePaths!==void 0}getGlyphPaths(){return this.analysisData?.vectorSummary?.glyphPaths||0}getShapePaths(){return this.analysisData?.vectorSummary?.shapePaths||0}displayData={textPercentage:0,vectorPercentage:0,koreanPercentage:0,englishPercentage:0,formattedFileSize:"",avgTextPerPage:0,avgVectorPerPage:0};ngOnChanges(e){e.analysisData&&this.analysisData&&(this.calculateDisplayData(),this.ensureLibrariesLoaded()),(e.vectorMinimaps||e.vectorData)&&this.requestCurrentPageMinimap()}ensureLibrariesLoaded(){return E(this,null,function*(){if(!this.librariesLoaded){if(this.librariesLoadPromise)return this.librariesLoadPromise;this.librariesLoadPromise=this.loadLibraries(),yield this.librariesLoadPromise}})}loadLibraries(){return new Promise((e,t)=>{console.log("\u{1F4E6} PDF \uAD00\uB828 \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB3D9\uC801 \uB85C\uB4DC \uC2DC\uC791...");let n=[{name:"PDF-lib",url:"https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js",checkLoaded:()=>typeof window.PDFLib<"u"},{name:"JSZip",url:"https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js",checkLoaded:()=>typeof window.JSZip<"u"}];if(n.filter(d=>d.checkLoaded()).length===n.length){console.log("\u2705 \uBAA8\uB4E0 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uC774\uBBF8 \uB85C\uB4DC\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4."),this.librariesLoaded=!0,e();return}let i=n.filter(d=>!d.checkLoaded());console.log(`\u{1F4E5} ${i.length}\uAC1C \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uD544\uC694:`,i.map(d=>d.name));let c=i.map(d=>new Promise((g,m)=>{let u=document.createElement("script");u.src=d.url,u.async=!0,u.onload=()=>{console.log(`\u2705 ${d.name} \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC644\uB8CC`),g()},u.onerror=()=>{console.error(`\u274C ${d.name} \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC2E4\uD328`),m(new Error(`${d.name} \uB85C\uB4DC \uC2E4\uD328`))},document.head.appendChild(u)}));Promise.all(c).then(()=>{typeof window.PDFLib<"u"&&(window.PDFLib=window.PDFLib),this.librariesLoaded=!0,console.log("\u{1F389} \uBAA8\uB4E0 PDF \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC644\uB8CC!"),e()}).catch(d=>{console.error("\u274C \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC911 \uC624\uB958 \uBC1C\uC0DD:",d),this.snackbar.showError("PDF \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC2E4\uD328. \uD398\uC774\uC9C0\uB97C \uC0C8\uB85C\uACE0\uCE68\uD574\uC8FC\uC138\uC694."),t(d)})})}calculateDisplayData(){if(!this.analysisData)return;let e=this.analysisData,t=e.totalTextItems+(e.totalVectorOperations||0);if(t>0&&(this.displayData.textPercentage=Math.round(e.totalTextItems/t*100),this.displayData.vectorPercentage=Math.round((e.totalVectorOperations||0)/t*100)),e.languageDetection){let n=e.languageDetection.korean+e.languageDetection.english+e.languageDetection.mixed;n>0&&(this.displayData.koreanPercentage=Math.round(e.languageDetection.korean/n*100),this.displayData.englishPercentage=Math.round(e.languageDetection.english/n*100))}e.fileSize&&(this.displayData.formattedFileSize=this.formatFileSize(e.fileSize)),e.pageCount>0&&(this.displayData.avgTextPerPage=Math.round(e.totalTextItems/e.pageCount),this.displayData.avgVectorPerPage=Math.round((e.totalVectorOperations||0)/e.pageCount))}formatFileSize(e){if(e===0)return"0 Bytes";let t=1024,n=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,o)*100)/100+" "+n[o]}formatNumber(e){return e==null?"0":e.toLocaleString()}getLanguageDominant(){if(!this.analysisData?.languageDetection)return"-";let e=this.analysisData.languageDetection;return e.korean>e.english&&e.korean>e.mixed?"\uD55C\uAD6D\uC5B4":e.english>e.korean&&e.english>e.mixed?"English":e.mixed>0?"\uD63C\uD569":"-"}getVectorComplexity(){let e=this.analysisData?.totalVectorOperations||0;return e===0?"\uC5C6\uC74C":e<100?"\uB2E8\uC21C":e<500?"\uBCF4\uD1B5":e<2e3?"\uBCF5\uC7A1":"\uB9E4\uC6B0 \uBCF5\uC7A1"}onDragStart(e){this.isDraggable&&(this.isDragging=!0,this.dragStartX=e.clientX-this.currentX,this.dragStartY=e.clientY-this.currentY,e.preventDefault())}onDrag(e){this.isDragging&&(this.currentX=e.clientX-this.dragStartX,this.currentY=e.clientY-this.dragStartY,e.preventDefault())}onDragEnd(){this.isDragging=!1}toggleMinimize(){this.isMinimized=!this.isMinimized}close(){this.closeEvent.emit()}openTextDetail(e){e.stopPropagation(),console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4 \uBAA8\uB2EC \uC5F4\uAE30..."),console.log("\u{1F4CA} analysisData:",this.analysisData),this.analysisData&&this.analysisData.totalTextItems>0?(this.showTextDetailModal=!0,console.log("\u2705 \uD14D\uC2A4\uD2B8 \uBAA8\uB2EC \uC5F4\uB9BC")):console.log("\u26A0\uFE0F \uD14D\uC2A4\uD2B8 \uC815\uBCF4 \uC5C6\uC74C")}closeTextDetailModal(){this.showTextDetailModal=!1}createTextStructureDocument(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uBB38\uC11C \uC0DD\uC131 \uC694\uCCAD..."),this.createTextStructureDocEvent.emit()}openCombinedAnalysis(e){e.stopPropagation(),console.log("\u{1F4CA} \uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0 \uD1B5\uD569 \uBD84\uC11D \uBAA8\uB2EC \uC5F4\uAE30..."),console.log("\u{1F4CA} analysisData:",this.analysisData),console.log("\u{1F3A8} vectorSummary \uC0C1\uC138:",{totalVectorOperations:this.analysisData?.totalVectorOperations,vectorSummary:this.analysisData?.vectorSummary,totalPaths:this.analysisData?.vectorSummary?.totalPaths,totalLines:this.analysisData?.vectorSummary?.totalLines,totalCurves:this.analysisData?.vectorSummary?.totalCurves,totalRectangles:this.analysisData?.vectorSummary?.totalRectangles,sum:(this.analysisData?.vectorSummary?.totalPaths||0)+(this.analysisData?.vectorSummary?.totalLines||0)+(this.analysisData?.vectorSummary?.totalCurves||0)+(this.analysisData?.vectorSummary?.totalRectangles||0)}),this.showCombinedAnalysisModal=!0,console.log("\u2705 \uD1B5\uD569 \uBD84\uC11D \uBAA8\uB2EC \uC5F4\uB9BC")}closeCombinedAnalysisModal(){this.showCombinedAnalysisModal=!1}openImageDetail(e){e.stopPropagation(),console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4 \uBAA8\uB2EC \uC5F4\uAE30..."),console.log("\u{1F4CA} analysisData:",this.analysisData),this.analysisData&&this.analysisData.hasImages&&this.analysisData.imageInfo?(this.showImageDetailModal=!0,console.log("\u2705 \uC774\uBBF8\uC9C0 \uBAA8\uB2EC \uC5F4\uB9BC")):console.log("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uC815\uBCF4 \uC5C6\uC74C")}closeImageDetailModal(){this.showImageDetailModal=!1}getCombinedContentType(){if(!this.analysisData)return"-";let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0,n=this.analysisData.hasImages,o=[];return e&&o.push("\uBCA1\uD130"),t&&o.push("\uD14D\uC2A4\uD2B8"),n&&o.push("\uC774\uBBF8\uC9C0"),o.length===0?"\uC5C6\uC74C":o.length===3?"\uC644\uC804 \uD63C\uD569\uD615":o.length===2?o.join("+")+" \uD63C\uD569\uD615":o[0]+"\uD615"}getCombinedStats(){if(!this.analysisData)return"-";let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0,n=this.analysisData.hasImages,o=[];return e&&o.push(`\uBCA1\uD130 ${this.formatNumber(this.analysisData.totalVectorOperations)}`),t&&o.push(`\uD14D\uC2A4\uD2B8 ${this.formatNumber(this.analysisData.totalTextItems)}`),n&&this.analysisData.imageInfo&&o.push(`\uC774\uBBF8\uC9C0 ${this.formatNumber(this.analysisData.imageInfo.totalImages)}`),o.length===0?"\uCF58\uD150\uCE20 \uC5C6\uC74C":o.join(" + ")}getVectorTextRatio(){if(!this.analysisData)return{vectorPercentage:0,textPercentage:0};let e=this.analysisData.totalVectorOperations||0,t=this.analysisData.totalTextItems||0,n=e+t;if(n===0)return{vectorPercentage:0,textPercentage:0};let o=Math.round(e/n*100),i=Math.round(t/n*100);return{vectorPercentage:o,textPercentage:i}}getImageRatioPercentage(){if(!this.analysisData||!this.analysisData.hasImages||!this.analysisData.imageInfo)return 0;let e=this.analysisData.totalVectorOperations||0,t=this.analysisData.totalTextItems||0,o=(this.analysisData.imageInfo.totalImages||0)*100,i=e+t+o;return i===0?0:Math.round(o/i*100)}getContentDominance(){let e=this.getVectorTextRatio();return e.vectorPercentage>70?"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC774\uBBF8\uC9C0\uB098 \uB2E4\uC774\uC5B4\uADF8\uB7A8\uC774 \uB9CE\uC740 \uBB38\uC11C\uB85C \uBCF4\uC785\uB2C8\uB2E4.":e.textPercentage>70?"\u{1F4DD} \uD14D\uC2A4\uD2B8\uAC00 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC8FC\uB85C \uD14D\uC2A4\uD2B8 \uAE30\uBC18\uC758 \uBB38\uC11C\uC785\uB2C8\uB2E4.":Math.abs(e.vectorPercentage-e.textPercentage)<20?"\u2696\uFE0F \uBCA1\uD130\uC640 \uD14D\uC2A4\uD2B8\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC774\uBBF8\uC9C0\uC640 \uD14D\uC2A4\uD2B8\uAC00 \uC801\uC808\uD788 \uD63C\uD569\uB41C \uBB38\uC11C\uC785\uB2C8\uB2E4.":e.vectorPercentage>e.textPercentage?"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uB354 \uB9CE\uC740 \uBB38\uC11C\uC785\uB2C8\uB2E4.":"\u{1F4DD} \uD14D\uC2A4\uD2B8\uAC00 \uB354 \uB9CE\uC740 \uBB38\uC11C\uC785\uB2C8\uB2E4."}createCombinedDocument(){if(this.debugLogger.info("\uD63C\uD569\uBB38\uC11C","\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8)"),!this.analysisData){this.debugLogger.error("\uD63C\uD569\uBB38\uC11C","\u274C analysisData\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0;if(!e&&!t){this.debugLogger.error("\uD63C\uD569\uBB38\uC11C","\u274C \uBCA1\uD130 \uADF8\uB798\uD53D\uACFC \uD14D\uC2A4\uD2B8\uAC00 \uBAA8\uB450 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.debugLogger.success("\uD63C\uD569\uBB38\uC11C",`\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC774\uBCA4\uD2B8 \uBC1C\uC0DD - \uBCA1\uD130: ${e?"O":"X"}, \uD14D\uC2A4\uD2B8: ${t?"O":"X"}`),this.createCombinedDocEvent.emit()}exportPdf(){console.log("\u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791..."),this.exportPdfEvent.emit(),this.snackbar.showInfo("PDF \uB0B4\uBCF4\uB0B4\uAE30\uB97C \uC2DC\uC791\uD569\uB2C8\uB2E4. \uC7A0\uC2DC\uB9CC \uAE30\uB2E4\uB824\uC8FC\uC138\uC694...")}createCombinedPdf(){if(this.debugLogger.info("\uD63C\uD569PDF","\u{1F4C4} \uD63C\uD569 PDF \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0)"),!this.analysisData){this.debugLogger.error("\uD63C\uD569PDF","\u274C analysisData\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0,n=this.analysisData.hasImages;if(!e&&!t&&!n){this.debugLogger.error("\uD63C\uD569PDF","\u274C \uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.debugLogger.success("\uD63C\uD569PDF",`\u2705 \uD63C\uD569 PDF \uC0DD\uC131 \uC2DC\uC791 - \uBCA1\uD130: ${e?"O":"X"}, \uD14D\uC2A4\uD2B8: ${t?"O":"X"}, \uC774\uBBF8\uC9C0: ${n?"O":"X"}`),this.createCombinedDocEvent.emit()}openVectorDetail(e){e.stopPropagation(),console.log("\u{1F3A8} \uBCA1\uD130 \uC0C1\uC138 \uC815\uBCF4 \uBAA8\uB2EC \uC5F4\uAE30 \uC2DC\uB3C4..."),console.log("\u{1F4CA} analysisData:",this.analysisData),console.log("\u{1F3A8} vectorData:",this.vectorData),console.log("\u2705 hasVectorGraphics:",this.analysisData?.hasVectorGraphics),this.analysisData?.hasVectorGraphics?(this.showVectorDetailModal=!0,console.log("\u2705 \uBAA8\uB2EC \uC5F4\uB9BC - SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC2DC\uC791..."),this.generateVectorSvgMinimap(this.selectedMiniPage),console.log("\u{1F4DD} vectorSvgMinimap \uAE38\uC774:",this.vectorSvgMinimap.length),console.log("\u{1F50D} SVG \uBBF8\uB2C8\uB9F5 \uB0B4\uC6A9 (\uCC98\uC74C 500\uC790):",this.vectorSvgMinimap.substring(0,500)),console.log("\u{1F50D} SVG \uC2DC\uC791 \uD0DC\uADF8 \uD655\uC778:",this.vectorSvgMinimap.startsWith("<svg"))):console.warn("\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")}closeVectorDetail(){this.showVectorDetailModal=!1,this._vectorSvgMinimap=""}createNewPdfWithSvg(){if(!this.vectorData||!this.analysisData){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F3A8} SVG\uB85C \uC0C8 PDF \uC0DD\uC131 \uC694\uCCAD..."),this.createSvgPdfEvent.emit({vectorData:this.vectorData,analysisData:this.analysisData,selectedPage:this.selectedMiniPage}),console.log("\u2705 SVG PDF \uC0DD\uC131 \uC694\uCCAD \uC644\uB8CC - \uBAA8\uB2EC\uC740 \uC5F4\uB9B0 \uC0C1\uD0DC \uC720\uC9C0 (\uB514\uBC84\uADF8 \uB85C\uADF8 \uD655\uC778\uC6A9)")}selectMiniPage(e){if(console.log(`\u{1F3AF} \uBBF8\uB2C8\uB9F5 \uD398\uC774\uC9C0 ${e} \uC120\uD0DD`),this.selectedMiniPage=e,this.vectorMinimaps&&this.vectorMinimaps[e]){console.log(`\u2705 vectorMinimaps\uC5D0 \uD398\uC774\uC9C0 ${e} SVG \uC788\uC74C - \uBC14\uB85C \uD45C\uC2DC`);return}if(this.vectorData&&this.vectorData.pageDetails){let t=this.vectorData.pageDetails.find(n=>n.pageNumber===e);if(t&&t.svgContent){console.log(`\u2705 vectorData\uC5D0 \uD398\uC774\uC9C0 ${e} SVG \uC788\uC74C - \uBC14\uB85C \uD45C\uC2DC`);return}}console.log(`\u{1F504} \uD398\uC774\uC9C0 ${e} SVG \uC5C6\uC74C - \uBD80\uBAA8\uC5D0\uAC8C \uC0DD\uC131 \uC694\uCCAD`),this.requestMinimapEvent.emit({pageNumber:e,vectorData:this.vectorData}),this.generateVectorSvgMinimap(e)}requestCurrentPageMinimap(){(!this.vectorMinimaps||!this.vectorMinimaps[this.selectedMiniPage])&&this.requestMinimapEvent.emit({pageNumber:this.selectedMiniPage,vectorData:this.vectorData})}generateVectorSvgMinimap(e){if(console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${e} SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC2DC\uC791...`),console.log("\u{1F50D} vectorData:",this.vectorData),!this.vectorData||!this.vectorData.pageDetails){console.warn("\u26A0\uFE0F vectorData\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this._vectorSvgMinimap=this.createEmptyMinimap();return}console.log("\u{1F4CA} \uC804\uCCB4 \uD398\uC774\uC9C0 \uC218:",this.vectorData.pageDetails.length),console.log("\u{1F4CA} \uD398\uC774\uC9C0 \uBAA9\uB85D:",this.vectorData.pageDetails.map(n=>({pageNum:n.pageNumber,hasSvg:!!n.svgContent,svgLength:n.svgContent?.length||0})));let t=this.vectorData.pageDetails.find(n=>n.pageNumber===e);if(!t){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${e}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`),this._vectorSvgMinimap=this.createEmptyMinimap();return}console.log(`\u{1F4CA} \uD398\uC774\uC9C0 ${e} \uB370\uC774\uD130:`,t),console.log("\u{1F4CA} SVG \uCF58\uD150\uCE20 \uC874\uC7AC:",!!t.svgContent),console.log("\u{1F4CA} SVG \uCF58\uD150\uCE20 \uAE38\uC774:",t.svgContent?.length||0),t.svgContent&&console.log("\u{1F4CA} SVG \uC2DC\uC791 \uBD80\uBD84 (200\uC790):",t.svgContent.substring(0,200)),t.svgContent?(console.log("\u2705 SVG \uCF58\uD150\uCE20\uB97C \uBBF8\uB2C8\uB9F5\uC5D0 \uC9C1\uC811 \uD560\uB2F9\uD569\uB2C8\uB2E4."),this._vectorSvgMinimap=t.svgContent,console.log(`\u2705 SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC644\uB8CC, \uAE38\uC774: ${this._vectorSvgMinimap.length}\uC790`),console.log("\u{1F50D} \uD560\uB2F9\uB41C SVG \uBBF8\uB9AC\uBCF4\uAE30 (\uCC98\uC74C 300\uC790):",this._vectorSvgMinimap.substring(0,300))):t.operations&&t.operations.length>0?(console.warn("\u26A0\uFE0F SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC5B4\uC11C operations\uB85C \uC0DD\uC131\uD569\uB2C8\uB2E4."),this.generateMinimapFromOperations(e,t)):(console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${e}\uC5D0 \uD45C\uC2DC\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`),this._vectorSvgMinimap=this.createEmptyMinimap())}generateMinimapFromOperations(e,t){console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${e} operations\uC5D0\uC11C SVG \uC0DD\uC131 \uC911...`);let n=400,o=565,i=n/595,c=o/842,d=[],g="",m=!1;t.operations.forEach((u,h)=>{let C=u.coordinates,_=u.args||[];switch(u.type){case"moveTo":m&&g&&d.push(`<path d="${g}" fill="none" stroke="#667eea" stroke-width="1" opacity="0.6"/>`);let P=0,y=0;C&&C.x!==void 0&&C.y!==void 0?(P=C.x*i,y=o-C.y*c):_.length>=2&&(P=_[0]*i,y=o-_[1]*c),g=`M ${P} ${y}`,m=!0;break;case"lineTo":if(m){let S=0,I=0;C&&C.x!==void 0&&C.y!==void 0?(S=C.x*i,I=o-C.y*c):_.length>=2&&(S=_[0]*i,I=o-_[1]*c),g+=` L ${S} ${I}`}break;case"curve":case"bezierCurveTo":if(m&&_.length>=6){let S=_[0]*i,I=o-_[1]*c,A=_[2]*i,N=o-_[3]*c,j=_[4]*i,U=o-_[5]*c;g+=` C ${S} ${I} ${A} ${N} ${j} ${U}`}break;case"rectangle":let D=0,w=0,v=50,k=50;if(C&&C.x!==void 0&&C.y!==void 0){D=C.x*i,w=o-C.y*c;let S=C.transform||_.slice(0,4);v=(S[0]||50)*i,k=(S[3]||50)*c}else _.length>=4&&(D=_[0]*i,w=o-_[1]*c,v=_[2]*i,k=_[3]*c);d.push(`<rect x="${D}" y="${w-Math.abs(k)}" width="${Math.abs(v)}" height="${Math.abs(k)}" fill="rgba(236, 72, 153, 0.3)" stroke="#ec4899" stroke-width="1"/>`);break;case"closePath":m&&g&&(g+=" Z");break;case"fill":m&&g&&(d.push(`<path d="${g}" fill="rgba(245, 158, 11, 0.4)" stroke="none"/>`),g="",m=!1),u.currentPath&&u.currentPath.length>0&&u.currentPath.forEach(S=>{if(S.type==="implicitRect"||S.type==="rectangle"){let[I,A,N,j]=S.coords,U=I*i,F=o-A*c;d.push(`<rect x="${U}" y="${F-Math.abs(j*c)}" width="${Math.abs(N*i)}" height="${Math.abs(j*c)}" fill="rgba(59, 130, 246, 0.4)" stroke="#3b82f6" stroke-width="1"/>`)}});break;case"stroke":m&&g&&(d.push(`<path d="${g}" fill="none" stroke="#8b5cf6" stroke-width="1.5" opacity="0.8"/>`),g="",m=!1);break}}),m&&g&&d.push(`<path d="${g}" fill="none" stroke="#667eea" stroke-width="1" opacity="0.6"/>`),this._vectorSvgMinimap=`
      <svg width="${n}" height="${o}" viewBox="0 0 ${n} ${o}" xmlns="http://www.w3.org/2000/svg">
        <!-- \uBC30\uACBD -->
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        
        <!-- \uADF8\uB9AC\uB4DC (\uC635\uC158) -->
        <defs>
          <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e2e8f0" stroke-width="0.5" opacity="0.3"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" />
        
        <!-- \uBCA1\uD130 \uACBD\uB85C\uB4E4 -->
        ${d.join(`
        `)}
        
        <!-- \uD398\uC774\uC9C0 \uC815\uBCF4 -->
        <text x="10" y="20" font-family="Arial" font-size="12" fill="#64748b" font-weight="600">
          Page ${e}
        </text>
        <text x="10" y="35" font-family="Arial" font-size="10" fill="#94a3b8">
          ${t.operations.length} operations
        </text>
      </svg>
    `,console.log(`\u2705 SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC644\uB8CC: ${d.length}\uAC1C \uC694\uC18C`)}createEmptyMinimap(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        <text x="200" y="282" font-family="Arial" font-size="16" fill="#94a3b8" text-anchor="middle">
          \uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C
        </text>
      </svg>
    `}createLoadingMinimap(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        
        <!-- \uB85C\uB529 \uC560\uB2C8\uBA54\uC774\uC158 -->
        <circle cx="200" cy="260" r="15" fill="none" stroke="#3b82f6" stroke-width="3" stroke-linecap="round">
          <animate attributeName="stroke-dasharray" values="0 94;47 47;0 94" dur="1.5s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0;-47;-94" dur="1.5s" repeatCount="indefinite"/>
        </circle>
        
        <text x="200" y="300" font-family="Arial" font-size="14" fill="#64748b" text-anchor="middle">
          \uBCA1\uD130 \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC911...
        </text>
        <text x="200" y="320" font-family="Arial" font-size="12" fill="#94a3b8" text-anchor="middle">
          \uD398\uC774\uC9C0 ${this.selectedMiniPage}
        </text>
      </svg>
    `}getVectorElementPercentage(e){let t=this.analysisData?.totalVectorOperations||1;return Math.round(e/t*100)}getTextLanguagePercentage(e){if(!this.analysisData?.languageDetection)return 0;let t=this.analysisData.languageDetection,n=t.korean+t.english+t.mixed||1;return Math.round(e/n*100)}getAverageWordLength(){return!this.analysisData||this.analysisData.totalWords===0?0:Math.round(this.analysisData.totalCharacters/this.analysisData.totalWords*10)/10}getFontDiversity(){let e=this.analysisData?.uniqueFonts?.length||0;return e===0?"\uC5C6\uC74C":e===1?"\uB2E8\uC77C":e<=3?"\uC801\uC74C":e<=6?"\uBCF4\uD1B5":"\uB2E4\uC591\uD568"}getColorPercentage(e){if(!this.analysisData?.textColors)return 0;let t=this.analysisData.totalTextItems||1,n=this.analysisData.textColors.colorDistribution[e]||0;return Math.round(n/t*100)}getSortedColors(){return this.analysisData?.textColors?this.analysisData.textColors.uniqueColors.map(e=>({color:e,count:this.analysisData.textColors.colorDistribution[e],percentage:this.getColorPercentage(e)})).sort((e,t)=>t.count-e.count):[]}getSelectedPageTextItems(){return this.analysisData?.pages?this.analysisData.pages.find(t=>t.pageNumber===this.selectedPage)?.textItems||[]:[]}getCurrentPageTextItems(){let e=this.getSelectedPageTextItems(),t=this.currentTextPage*this.textItemsPerPage,n=t+this.textItemsPerPage;return e.slice(t,n)}getTotalTextPages(){let e=this.getSelectedPageTextItems();return Math.ceil(e.length/this.textItemsPerPage)}nextTextPage(){this.currentTextPage<this.getTotalTextPages()-1&&this.currentTextPage++}prevTextPage(){this.currentTextPage>0&&this.currentTextPage--}changeSelectedPage(e){this.selectedPage=e,this.currentTextPage=0}getAvailablePages(){return this.analysisData?.pages?this.analysisData.pages.map(e=>e.pageNumber).sort((e,t)=>e-t):[]}getPageTextCount(e){return this.analysisData?.pages&&this.analysisData.pages.find(n=>n.pageNumber===e)?.textItems.length||0}getSelectedPageOperations(){return!this.vectorData||!this.vectorData.pageDetails?0:this.vectorData.pageDetails.find(t=>t.pageNumber===this.selectedMiniPage)?.operations?.length||0}getColorBrightness(e){let t=0,n=0,o=0;if(e.startsWith("#")){let i=e.replace("#","");if(i.length===6)t=parseInt(i.substr(0,2),16),n=parseInt(i.substr(2,2),16),o=parseInt(i.substr(4,2),16);else if(i.length===8)t=parseInt(i.substr(2,2),16),n=parseInt(i.substr(4,2),16),o=parseInt(i.substr(6,2),16);else if(i.length===10)t=parseInt(i.substr(4,2),16),n=parseInt(i.substr(6,2),16),o=parseInt(i.substr(8,2),16);else if(i.length===12){let c=i.substr(0,4),d=i.substr(4,4),g=i.substr(8,4);c===d&&d===g?(t=parseInt(i.substr(0,2),16),n=parseInt(i.substr(4,2),16),o=parseInt(i.substr(8,2),16)):(t=parseInt(i.substr(4,2),16),n=parseInt(i.substr(6,2),16),o=parseInt(i.substr(8,2),16))}else i.length===3&&(t=parseInt(i.substr(0,1)+i.substr(0,1),16),n=parseInt(i.substr(1,1)+i.substr(1,1),16),o=parseInt(i.substr(2,1)+i.substr(2,1),16))}else if(e.startsWith("rgb")){let i=e.match(/\d+/g);i&&(t=parseInt(i[0]),n=parseInt(i[1]),o=parseInt(i[2]))}return(t*299+n*587+o*114)/1e3}normalizeColor(e){if(!e.startsWith("#"))return e;let t=e.replace("#","");if(t.length===6)return e;if(console.warn(`\u26A0\uFE0F \uBE44\uD45C\uC900 \uC0C9\uC0C1 \uCF54\uB4DC \uAC10\uC9C0: ${e} (${t.length}\uC790\uB9AC)`),t.length===12||t.length===10)return console.error(`\u274C ${t.length}\uC790\uB9AC \uC0C9\uC0C1 \uCF54\uB4DC\uB294 \uD30C\uC2F1\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e}`),console.error("   PDF \uC6D0\uBCF8\uC5D0\uC11C \uC0C9\uC0C1\uC774 \uC81C\uB300\uB85C \uCD94\uCD9C\uB418\uC5C8\uB294\uC9C0 \uD655\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4."),`#${t.substr(0,6)}`;if(t.length===8){let n=t.substr(2,2),o=t.substr(4,2),i=t.substr(6,2);return`#${n}${o}${i}`}if(t.length===3){let n=t.substr(0,1),o=t.substr(1,1),i=t.substr(2,1);return`#${n}${n}${o}${o}${i}${i}`}return console.warn(`\u26A0\uFE0F \uC54C \uC218 \uC5C6\uB294 \uC0C9\uC0C1 \uD615\uC2DD: ${e}, \uC55E 6\uC790\uB9AC\uB9CC \uC0AC\uC6A9\uD569\uB2C8\uB2E4.`),`#${t.substr(0,Math.min(6,t.length))}`}getBackgroundForTextColor(e){let t=this.getColorBrightness(e);return t>200?"linear-gradient(135deg, #1e293b 0%, #334155 100%)":t<50?"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)":"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)"}getTextShadowForColor(e){let t=this.getColorBrightness(e);return t>200?"0 1px 3px rgba(0, 0, 0, 0.8), 0 0 1px rgba(0, 0, 0, 0.5)":t<50?"0 0 2px rgba(255, 255, 255, 0.8), 0 1px 2px rgba(59, 130, 246, 0.3)":"0 0 1px rgba(255, 255, 255, 0.5)"}getImageTypeCount(e){if(!this.analysisData?.imageInfo?.images)return 0;let t=0;return this.analysisData.imageInfo.images.forEach(n=>{n.images.forEach(o=>{o.type===e&&t++})}),t}getImageTypePercentage(e){if(!this.analysisData?.imageInfo?.totalImages)return 0;let t=this.getImageTypeCount(e);return Math.round(t/this.analysisData.imageInfo.totalImages*100)}createImagePdfDocument(){return E(this,null,function*(){if(console.log("\u{1F4C4} \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC2DC\uC791 (\uC11C\uBE44\uC2A4 \uAE30\uBC18)..."),!this.analysisData?.imageInfo||!this.analysisData.imageInfo.images){this.snackbar.showError("\uC774\uBBF8\uC9C0 \uC815\uBCF4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{yield this.ensureLibrariesLoaded();let e=window.PDFLib;if(!e){this.snackbar.showError("PDF \uC0DD\uC131 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),console.error("\u274C PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let{PDFDocument:t}=e,n=595.28,o=841.89,i=this.analysisData?.imageInfo?.images?.[0];if(i){let h=i;h.pageWidth&&(n=h.pageWidth),h.pageHeight&&(o=h.pageHeight)}console.log(`\u{1F4CF} \uD398\uC774\uC9C0 \uD06C\uAE30: ${n}x${o}pt`),console.log("\u{1F4CA} \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uAD6C\uC870:",i);let c=this.pdfImageExtractor.extractFromAnalysisData(this.analysisData,{preferOriginal:!0});if(c.totalCount===0){this.snackbar.showError("PDF\uC5D0 \uCD94\uAC00\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log(`\u2705 \uC11C\uBE44\uC2A4 \uCD94\uCD9C \uC644\uB8CC: ${c.totalCount}\uAC1C \uC774\uBBF8\uC9C0`);for(let h of c.images){console.log(`  \u{1F4CD} ${h.name}: x=${h.x.toFixed(1)}, y=${h.y.toFixed(1)}, w=${h.width.toFixed(1)}, h=${h.height.toFixed(1)}`);let C=h.x+h.width,_=h.y+h.height;(h.x<0||h.y<0)&&console.warn("  \u26A0\uFE0F \uACBD\uACE0: \uC774\uBBF8\uC9C0\uAC00 \uD398\uC774\uC9C0 \uC67C\uCABD/\uD558\uB2E8\uC744 \uBC97\uC5B4\uB0A8!"),(C>n||_>o)&&console.warn(`  \u26A0\uFE0F \uACBD\uACE0: \uC774\uBBF8\uC9C0\uAC00 \uD398\uC774\uC9C0 \uC624\uB978\uCABD/\uC0C1\uB2E8\uC744 \uBC97\uC5B4\uB0A8! (right=${C.toFixed(1)} > ${n}, top=${_.toFixed(1)} > ${o})`)}let d=yield t.create(),g=0;for(let[h,C]of c.pageMap.entries()){if(C.length===0)continue;let _=d.addPage([n,o]);console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${h}: ${C.length}\uAC1C \uC774\uBBF8\uC9C0 \uBC30\uCE58 \uC911...`);for(let P of C)try{let y=P.x,D=P.y,w=P.width,v=P.height;if(y+w>n){console.warn(`  \u26A0\uFE0F ${P.name}: \uB108\uBE44 \uCD08\uACFC (${y+w} > ${n}), \uD398\uC774\uC9C0 \uC548\uC73C\uB85C \uC870\uC815`);let A=(n-10)/(y+w);w=w*A,v=v*A,y=Math.min(y,n-w-10)}D+v>o&&(console.warn(`  \u26A0\uFE0F ${P.name}: \uB192\uC774 \uCD08\uACFC (${D+v} > ${o}), \uD398\uC774\uC9C0 \uC548\uC73C\uB85C \uC870\uC815`),D=Math.max(10,o-v-10));let k=P.src.split(",")[1]||P.src,S=Uint8Array.from(atob(k),A=>A.charCodeAt(0)),I;P.src.startsWith("data:image/jpeg")||P.src.startsWith("data:image/jpg")?I=yield d.embedJpg(S):I=yield d.embedPng(S),_.drawImage(I,{x:y,y:D,width:w,height:v}),console.log(`  \u2705 ${P.name}: (${y.toFixed(1)}, ${D.toFixed(1)}) ${w.toFixed(1)}x${v.toFixed(1)}pt`),g++}catch(y){console.error(`\u274C \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC2E4\uD328: ${P.name}`,y)}}if(g===0){this.snackbar.showError("PDF\uC5D0 \uCD94\uAC00\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let m=yield d.save(),u=new Blob([m],{type:"application/pdf"});this.snackbar.showSuccess(`\u2705 \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC! (${g}\uAC1C \uC774\uBBF8\uC9C0) - \uC0C8 \uD3B8\uC9D1\uAE30\uC5D0\uC11C \uC5F4\uB9BD\uB2C8\uB2E4.`),console.log(`\u2705 \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC: ${g}\uAC1C \uC774\uBBF8\uC9C0`),this.createImagePdfEvent.emit(u)}catch(e){console.error("\u274C PDF \uC0DD\uC131 \uC624\uB958:",e),this.snackbar.showError("PDF \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadAllImages(){return E(this,null,function*(){if(console.log("\u{1F4E6} \uC774\uBBF8\uC9C0 \uC77C\uAD04 \uB2E4\uC6B4\uB85C\uB4DC \uC2DC\uC791..."),!this.analysisData?.imageInfo||!this.analysisData.imageInfo.images){this.snackbar.showError("\uB2E4\uC6B4\uB85C\uB4DC\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{yield this.ensureLibrariesLoaded();let e=window.JSZip;if(!e){this.snackbar.showError("ZIP \uC0DD\uC131 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),console.error("JSZip \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=new e,n=0;if(this.analysisData.imageInfo.images.forEach(d=>{let g=`page_${d.pageNumber}`,m=t.folder(g);d.images.forEach((u,h)=>{if(u.thumbnail){let C=u.thumbnail.split(",")[1],_=`${u.name||`image_${h+1}`}.png`;m&&(m.file(_,C,{base64:!0}),n++)}})}),n===0){this.snackbar.showError("\uB2E4\uC6B4\uB85C\uB4DC\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let o=yield t.generateAsync({type:"blob"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download=`images_${this.analysisData.fileName||"document"}_${Date.now()}.zip`,c.click(),URL.revokeObjectURL(i),this.snackbar.showSuccess(`\u2705 ZIP \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC! (${n}\uAC1C \uC774\uBBF8\uC9C0)`),console.log(`\u2705 \uC774\uBBF8\uC9C0 ZIP \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${n}\uAC1C \uD30C\uC77C`)}catch(e){console.error("\u274C ZIP \uC0DD\uC131 \uC624\uB958:",e),this.snackbar.showError("ZIP \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}createUnifiedPdf(e){return E(this,null,function*(){if(console.log("\u{1F4C4} \uD1B5\uD569 PDF \uC0DD\uC131 \uC2DC\uC791 (\uC0C8 \uC544\uD0A4\uD14D\uCC98)...",{type:e}),!this.analysisData){this.snackbar.showWarning("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let t=e?this.pdfFactory.getStrategyByType(e):this.pdfFactory.getStrategy(this.analysisData);if(!t){this.snackbar.showError("PDF \uC0DD\uC131 \uC804\uB7B5\uC744 \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}if(!t.validate(this.analysisData)){let c=this.pdfFactory.getStrategyInfo(t.type);this.snackbar.showWarning(`${c.description}\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uD544\uC694\uD55C \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}console.log(`\u2705 \uC804\uB7B5 \uC120\uD0DD: ${t.type}`),this.snackbar.showInfo(`${this.getStrategyName(t.type)} PDF \uC0DD\uC131 \uC911...`);let n=this.preparePageContent(),o={fileName:this.analysisData.fileName||"document",pageSize:{width:595.28,height:841.89},title:`${this.analysisData.fileName||"\uBB38\uC11C"} - ${this.getStrategyName(t.type)}`,author:"LOWORLD AI",subject:`PDF ${this.getStrategyName(t.type)} \uBD84\uC11D \uACB0\uACFC`,keywords:[t.type,"PDF","\uBD84\uC11D"]},i=yield t.generatePdf(n,o);this.downloadPdfBlob(i,t.type),this.snackbar.showSuccess(`${this.getStrategyName(t.type)} PDF\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4! \u{1F389}`)}catch(t){console.error("\u274C PDF \uC0DD\uC131 \uC2E4\uD328:",t),this.snackbar.showError("PDF \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}preparePageContent(){if(!this.analysisData)return[];let e=[];for(let t=1;t<=this.analysisData.pageCount;t++){let n={pageNumber:t};if(this.vectorData?.pageDetails){let o=this.vectorData.pageDetails.find(i=>i.pageNumber===t);o&&(n.vector={svgContent:o.svgContent||"",operations:o.operations||[]})}if(this.analysisData.pages){let o=this.analysisData.pages.find(i=>i.pageNumber===t);o&&(n.text=o.textItems.map(i=>({text:i.text,font:i.font,fontSize:i.fontSize,color:i.color,position:{x:i.position.x,y:i.position.y}})))}if(this.analysisData.imageInfo?.images){let o=this.analysisData.imageInfo.images.find(i=>i.pageNumber===t);o&&o.images.length>0&&(n.images=o.images.map(i=>({pageNumber:i.pageNumber,type:i.type,name:i.name,width:i.width,height:i.height,transform:i.transform,format:i.format,thumbnail:i.thumbnail,originalImage:i.originalImage})))}e.push(n)}return e}downloadPdfBlob(e,t){let n=URL.createObjectURL(e),o=document.createElement("a");o.href=n;let i=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5),c=this.getStrategyName(t).toLowerCase().replace(/ /g,"-");o.download=`${this.analysisData?.fileName||"document"}-${c}-${i}.pdf`,o.click(),URL.revokeObjectURL(n),console.log(`\u2705 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${o.download}`)}getStrategyName(e){return{vector:"\uBCA1\uD130",text:"\uD14D\uC2A4\uD2B8",image:"\uC774\uBBF8\uC9C0",combined:"\uD63C\uD569"}[e]||e}getCurrentStrategyType(){return this.analysisData?this.pdfFactory.getStrategy(this.analysisData)?.type:void 0}getAvailableContentTypes(){return this.analysisData?this.pdfFactory.getAvailableContentTypes(this.analysisData):[]}exportOriginalPdf(){this.exportOriginalPdfEvent.emit()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-pdf-analysis-dashboard"]],inputs:{analysisData:"analysisData",isCollapsed:"isCollapsed",isDraggable:"isDraggable",isCompact:"isCompact",vectorData:"vectorData",vectorMinimaps:"vectorMinimaps"},outputs:{closeEvent:"closeEvent",createSvgPdfEvent:"createSvgPdfEvent",createTextStructureDocEvent:"createTextStructureDocEvent",createCombinedDocEvent:"createCombinedDocEvent",requestMinimapEvent:"requestMinimapEvent",exportPdfEvent:"exportPdfEvent",createImagePdfEvent:"createImagePdfEvent",exportOriginalPdfEvent:"exportOriginalPdfEvent"},features:[Bt],decls:7,vars:22,consts:[[1,"pdf-analysis-dashboard",3,"mousedown","mousemove","mouseup"],["class","dashboard-container",4,"ngIf"],["class","dashboard-empty",4,"ngIf"],["class","vector-detail-modal",3,"click",4,"ngIf"],[1,"dashboard-container"],["class","dashboard-header draggable-handle",4,"ngIf"],["class","dashboard-header",4,"ngIf"],["class","stats-grid",4,"ngIf"],["class","details-section",4,"ngIf"],[1,"dashboard-header","draggable-handle"],[1,"header-left"],[1,"header-icon"],[1,"header-title"],[1,"header-controls"],["title","\uCD5C\uC18C\uD654/\uCD5C\uB300\uD654",1,"control-btn",3,"click"],["title","\uB2EB\uAE30",1,"control-btn","close-btn",3,"click"],[1,"dashboard-header"],[1,"stats-grid"],[1,"stat-card","document-info"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],["class","stat-detail",4,"ngIf"],[1,"stat-card","text-info","clickable",3,"click","title"],[1,"stat-card","vector-info","clickable",3,"click","title"],["class","stat-value",4,"ngIf"],["class","stat-value empty-text",4,"ngIf"],[1,"stat-card","language-info"],["title","\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0 \uD1B5\uD569 \uBD84\uC11D \uBCF4\uAE30",1,"stat-card","combined-analysis","clickable",3,"click"],[1,"stat-card","image-info","clickable",3,"click","title"],[1,"stat-detail"],[1,"stat-value","empty-text"],[1,"details-section"],[1,"details-title"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"dashboard-empty"],[1,"empty-icon"],[1,"empty-text"],[1,"vector-detail-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D\uC744 SVG\uB85C \uBCC0\uD658\uD558\uC5EC \uC0C8 PDF\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4",1,"btn-primary",3,"click"],[1,"btn-close-modal",3,"click"],[1,"modal-body"],["class","minimap-section",4,"ngIf"],[1,"summary-section"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-label"],[1,"summary-value"],[1,"summary-detail"],[1,"detail-section"],["class","vector-item",4,"ngIf"],[1,"stats-summary"],[1,"stat-box"],[1,"stat-box-label"],[1,"stat-box-value"],[1,"minimap-section"],["class","page-selector",4,"ngIf"],["class","page-info",4,"ngIf"],["class","minimap-container",4,"ngIf"],[1,"page-selector"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"page-btn",3,"click"],[1,"page-info"],[1,"single-page-label"],[1,"minimap-container"],[1,"minimap-wrapper",3,"innerHTML"],[1,"minimap-info"],[1,"info-badge"],[1,"badge-icon"],[1,"loading-state"],[1,"spinner"],[1,"vector-item"],[1,"vector-item-header"],[1,"vector-item-icon"],[1,"vector-item-title"],[1,"vector-item-count"],[1,"vector-item-bar"],[1,"bar-fill"],[1,"vector-item-desc"],[4,"ngIf"],[1,"bar-fill","lines"],[1,"bar-fill","curves"],[1,"bar-fill","rectangles"],[1,"bar-fill","fill"],[1,"bar-fill","stroke"],[1,"modal-content","text-modal",3,"click"],[1,"btn-close",3,"click"],["class","detail-section",4,"ngIf"],["title","\uD14D\uC2A4\uD2B8 \uAD6C\uC870\uB97C \uAE30\uBC18\uC73C\uB85C \uC0C8 \uBB38\uC11C\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4",1,"btn-primary",3,"click"],[1,"bar-fill","korean"],[1,"bar-fill","english"],[1,"bar-fill","mixed"],[1,"bar-fill","numbers"],[1,"summary-card",2,"margin-bottom","1rem"],[1,"font-list"],["class","font-item",4,"ngFor","ngForOf"],[1,"font-item"],[1,"font-index"],[1,"font-name"],[1,"color-list"],["class","color-item",4,"ngFor","ngForOf"],[1,"color-item"],[1,"color-sample"],[1,"color-info"],[1,"color-code"],[1,"color-usage"],[1,"color-bar-wrapper"],[1,"color-bar"],[1,"page-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"text-items-container"],["class","text-item-card",4,"ngFor","ngForOf"],["class","text-pagination",4,"ngIf"],[3,"value"],[1,"text-item-card"],[1,"text-item-header"],[1,"text-item-index"],[1,"text-item-color-info"],[1,"color-sample-large",3,"title"],[1,"color-info-text"],[1,"color-hex-label"],[1,"color-hex"],[1,"text-item-content"],[1,"text-item-meta"],[1,"meta-item"],[1,"text-pagination"],[1,"btn-pagination",3,"click","disabled"],[1,"pagination-info"],[1,"modal-content","combined-modal",3,"click"],[1,"action-buttons"],["class","action-btn vector-btn","title","\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uC815\uBCF4",3,"click",4,"ngIf"],["class","action-btn text-btn","title","\uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4",3,"click",4,"ngIf"],["class","action-btn create-btn","title","\uBCA1\uD130 \uADF8\uB798\uD53D\uC744 SVG\uB85C \uBCC0\uD658\uD558\uC5EC \uC0C8 PDF \uC0DD\uC131",3,"click",4,"ngIf"],["class","action-btn create-btn","title","\uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uAE30\uBC18 \uC0C8 \uBB38\uC11C \uC0DD\uC131",3,"click",4,"ngIf"],["class","action-btn combined-btn","title","\uBCA1\uD130 \uADF8\uB798\uD53D\uACFC \uD14D\uC2A4\uD2B8\uB97C \uC21C\uCC28\uC801\uC73C\uB85C \uACB0\uD569\uD55C \uC0C8 \uBB38\uC11C \uC0DD\uC131",3,"click",4,"ngIf"],["class","action-btn pdf-create-btn","title","\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uB97C \uBAA8\uB450 \uD3EC\uD568\uD55C \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131",3,"click",4,"ngIf"],["title","\uD604\uC7AC \uBB38\uC11C\uB97C PDF\uB85C \uB0B4\uBCF4\uB0B4\uAE30",1,"action-btn","export-btn",3,"click"],["title","\uD604\uC7AC \uB85C\uB4DC\uB41C \uC6D0\uBCF8 PDF \uD30C\uC77C\uC744 \uB2E4\uC6B4\uB85C\uB4DC",1,"action-btn","download-btn",3,"click"],[1,"summary-section",2,"margin-bottom","1rem"],[1,"action-buttons",2,"margin-top","1rem"],["title","\uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30",1,"action-btn","image-btn",3,"click"],[1,"bar-fill","image"],[1,"bar-fill","jpeg"],[1,"bar-fill","png"],[1,"comparison-chart"],["class","comparison-item",4,"ngIf"],[1,"comparison-summary"],[1,"comparison-item"],[1,"comparison-label"],[1,"comparison-icon"],[1,"comparison-bar-wrapper"],[1,"comparison-bar","vector-bar"],[1,"comparison-value"],[1,"comparison-count"],[1,"comparison-bar","text-bar"],[1,"comparison-bar","image-bar"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uC815\uBCF4",1,"action-btn","vector-btn",3,"click"],["title","\uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4",1,"action-btn","text-btn",3,"click"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D\uC744 SVG\uB85C \uBCC0\uD658\uD558\uC5EC \uC0C8 PDF \uC0DD\uC131",1,"action-btn","create-btn",3,"click"],["title","\uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uAE30\uBC18 \uC0C8 \uBB38\uC11C \uC0DD\uC131",1,"action-btn","create-btn",3,"click"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D\uACFC \uD14D\uC2A4\uD2B8\uB97C \uC21C\uCC28\uC801\uC73C\uB85C \uACB0\uD569\uD55C \uC0C8 \uBB38\uC11C \uC0DD\uC131",1,"action-btn","combined-btn",3,"click"],["title","\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uB97C \uBAA8\uB450 \uD3EC\uD568\uD55C \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131",1,"action-btn","pdf-create-btn",3,"click"],[1,"modal-content","image-modal",3,"click"],["class","page-images",4,"ngFor","ngForOf"],[1,"bar-fill","xobject"],[1,"bar-fill","inline"],[1,"detail-section","action-section"],["title","\uCD94\uCD9C\uB41C \uC774\uBBF8\uC9C0\uB97C PDF\uB85C \uB0B4\uBCF4\uB0B4\uAE30 (pdf-lib \uC0AC\uC6A9)",1,"btn-action","btn-export",3,"click"],["title","\uBAA8\uB4E0 \uC774\uBBF8\uC9C0\uB97C ZIP\uC73C\uB85C \uB2E4\uC6B4\uB85C\uB4DC",1,"btn-action","btn-download",3,"click"],[1,"page-images"],[1,"page-header"],[1,"page-number-badge"],[1,"page-image-count"],[1,"image-list"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],["class","image-thumbnail",4,"ngIf"],["class","image-placeholder",4,"ngIf"],[1,"image-info"],[1,"image-name"],[1,"image-details"],[1,"image-detail-item"],["class","image-detail-item",4,"ngIf"],[1,"image-thumbnail"],[3,"src","alt"],[1,"image-placeholder"],[1,"placeholder-icon"],[1,"placeholder-text"]],template:function(t,n){t&1&&(r(0,"div",0),O("mousedown",function(i){return n.onDragStart(i)})("mousemove",function(i){return n.onDrag(i)},bt)("mouseup",function(){return n.onDragEnd()},bt),$(1,Kn,5,4,"div",1)(2,Jn,5,0,"div",2),a(),$(3,mo,13,1,"div",3)(4,yo,71,14,"div",3)(5,Uo,40,18,"div",3)(6,Qo,81,12,"div",3)),t&2&&(Z("left",n.isDraggable?n.currentX:null,"px")("top",n.isDraggable?n.currentY:null,"px")("position",n.isDraggable?"fixed":"relative"),Y("collapsed",n.isCollapsed)("compact",n.isCompact)("draggable",n.isDraggable)("minimized",n.isMinimized)("dragging",n.isDragging),p(),b("ngIf",n.analysisData),p(),b("ngIf",!n.analysisData),p(),b("ngIf",n.showVectorDetailModal),p(),b("ngIf",n.showTextDetailModal&&n.analysisData),p(),b("ngIf",n.showCombinedAnalysisModal&&n.analysisData),p(),b("ngIf",n.showImageDetailModal&&n.analysisData&&n.analysisData.imageInfo))},dependencies:[lt,_t,st,ft,xt,Ot,kt,gt,pt,be],styles:['@charset "UTF-8";.pdf-analysis-dashboard[_ngcontent-%COMP%]{width:100%;margin-bottom:16px;animation:_ngcontent-%COMP%_slideDown .3s ease-out;z-index:1001}.pdf-analysis-dashboard.draggable[_ngcontent-%COMP%]{position:fixed;width:380px;max-width:90vw;cursor:move;box-shadow:0 8px 24px #0000004d;z-index:9999}.pdf-analysis-dashboard.draggable.dragging[_ngcontent-%COMP%]{cursor:grabbing;opacity:.95}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{padding:12px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:8px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:8px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:20px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:10px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{margin-bottom:10px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:14px}.pdf-analysis-dashboard.minimized[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .pdf-analysis-dashboard.minimized[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{display:none}.pdf-analysis-dashboard.minimized[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{padding:8px 12px}.pdf-analysis-dashboard.collapsed[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%], .pdf-analysis-dashboard.collapsed[_ngcontent-%COMP%]   .fonts-section[_ngcontent-%COMP%]{display:none}.dashboard-container[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);padding:16px;box-shadow:0 4px 12px #0000001a;color:var(--text-primary)}.dashboard-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:16px;-webkit-user-select:none;user-select:none}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--text-primary)}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{display:flex;gap:6px}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary);font-size:14px;font-weight:700;transition:all .2s ease}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:scale(1.1)}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .control-btn.close-btn[_ngcontent-%COMP%]:hover{background:#ef4444cc;color:#fff}.dashboard-header.draggable-handle[_ngcontent-%COMP%]{cursor:move;padding:4px;margin:-4px -4px 12px}.dashboard-header.draggable-handle[_ngcontent-%COMP%]:hover{background:var(--bg-hover, rgba(0, 0, 0, .05))}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:12px}.stat-card[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:12px;display:flex;align-items:center;gap:10px;transition:all .3s ease;border:1px solid var(--border-color)}.stat-card[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.stat-card.empty[_ngcontent-%COMP%]{opacity:.6}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:28px;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);line-height:1.2;margin-bottom:2px}.stat-card[_ngcontent-%COMP%]   .stat-value.empty-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;opacity:.7}.stat-card[_ngcontent-%COMP%]   .stat-detail[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary, #6c757d);line-height:1.3}.details-section[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:12px;margin-bottom:12px;border:1px solid var(--border-color)}.details-section[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:8px}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px;padding:4px 0}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--text-secondary, #6c757d);font-weight:500}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.fonts-section[_ngcontent-%COMP%]   .fonts-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.fonts-section[_ngcontent-%COMP%]   .font-tag[_ngcontent-%COMP%]{background:var(--bg-secondary, #e9ecef);padding:4px 8px;font-size:11px;color:var(--text-primary);font-weight:500;white-space:nowrap;border:1px solid var(--border-color)}.fonts-section[_ngcontent-%COMP%]   .font-tag.more[_ngcontent-%COMP%]{background:var(--bg-tertiary, #dee2e6);font-style:italic}.dashboard-empty[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:2px dashed var(--border-color);padding:32px 16px;text-align:center;color:var(--text-secondary, #6c757d)}.dashboard-empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px;opacity:.6}.dashboard-empty[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;opacity:.8}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-container[_ngcontent-%COMP%]{padding:12px}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.stat-card.clickable[_ngcontent-%COMP%]{cursor:pointer}.stat-card.clickable[_ngcontent-%COMP%]:not(.empty):hover{background:var(--bg-hover, #e9ecef);transform:translateY(-3px) scale(1.02);box-shadow:0 6px 12px #00000026}.stat-card.clickable[_ngcontent-%COMP%]:not(.empty):active{transform:translateY(-1px) scale(1.01)}.stat-card.clickable.empty[_ngcontent-%COMP%]{cursor:not-allowed}.vector-detail-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000bf;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.vector-detail-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);width:90%;max-width:600px;max-height:85vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border-color);color:var(--text-primary)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary);font-size:18px;font-weight:700;transition:all .2s ease}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef4444cc;color:#fff;transform:scale(1.1)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px;color:var(--text-primary)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary, #f8f9fa)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary, #6c757d)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:12px}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);border:none;padding:12px 20px;color:#fff;font-size:14px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2980b9,#1f5f8b);transform:translateY(-2px);box-shadow:0 4px 12px #3498db4d}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 6px #3498db4d}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);padding:10px 24px;color:var(--text-primary);font-size:14px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .2s ease}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translateY(-2px)}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:20px;display:flex;align-items:center;gap:16px;border:1px solid var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:48px;line-height:1}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{flex:1}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:var(--text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:var(--text-primary);line-height:1;margin-bottom:6px}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-detail[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary, #6c757d)}.vector-detail-modal[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]{margin-bottom:24px}.vector-detail-modal[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:14px;margin-bottom:12px;border:1px solid var(--border-color);transition:all .2s ease}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translate(4px)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]   .vector-item-icon[_ngcontent-%COMP%]{font-size:20px;line-height:1}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]   .vector-item-title[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:600;color:var(--text-primary)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]   .vector-item-count[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);background:var(--bg-tertiary, #dee2e6);padding:4px 12px}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]{background:var(--bg-tertiary, rgba(0, 0, 0, .1));height:8px;overflow:hidden;margin-bottom:6px}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4ade80,#22c55e);transition:width .5s ease}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.lines[_ngcontent-%COMP%]{background:linear-gradient(90deg,#60a5fa,#3b82f6)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.curves[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a78bfa,#8b5cf6)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.rectangles[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f472b6,#ec4899)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fbbf24,#f59e0b)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.stroke[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fb923c,#f97316)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-desc[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary, #6c757d);font-style:italic}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:24px}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:16px;text-align:center;border:1px solid var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .stat-box-label[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .stat-box-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-primary)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.vector-detail-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:95%;max-height:90vh}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:28px}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}}.minimap-section[_ngcontent-%COMP%]{margin-bottom:24px;background:var(--bg-secondary, #f8f9fa);padding:16px;border:1px solid var(--border-color)}.minimap-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 12px}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);padding:6px 12px;color:var(--text-primary);font-size:12px;font-weight:600;cursor:pointer;transition:all .2s ease;min-width:40px}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translateY(-2px)}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-btn.active[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff;border-color:var(--primary-color, #007bff);box-shadow:0 0 12px #007bff4d}.minimap-section[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{margin-bottom:12px}.minimap-section[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .single-page-label[_ngcontent-%COMP%]{display:inline-block;background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:6px;padding:6px 12px;color:#fff;font-size:12px;font-weight:600}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;padding:12px;box-shadow:0 4px 12px #0003}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#667eeacc}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;border:3px solid rgba(102,126,234,.3);border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:12px}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:500}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-wrapper[_ngcontent-%COMP%]     svg{max-width:100%;height:auto;border-radius:4px;box-shadow:0 2px 8px #0000001a}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:#667eeaf2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:6px 14px;color:#fff;font-size:11px;font-weight:600;display:flex;align-items:center;gap:6px;box-shadow:0 2px 8px #0003}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{font-size:14px;line-height:1}.debug-log-box[_ngcontent-%COMP%]{position:relative;background:#1e1e1e;border:1px solid #3a3a3a;border-radius:8px;padding:16px;margin-top:12px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]{color:#d4d4d4;font-family:Courier New,Consolas,monospace;font-size:11px;line-height:1.6;white-space:pre-wrap;word-break:break-all;-webkit-user-select:text;user-select:text;margin:0;max-height:300px;overflow-y:auto;padding:12px;background:#252526;border-radius:4px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e1e1e;border-radius:4px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#424242;border-radius:4px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4a4a4a}.debug-log-box[_ngcontent-%COMP%]   .btn-copy-debug[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#007acc;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:11px;font-weight:600;cursor:pointer;transition:all .2s ease;z-index:10}.debug-log-box[_ngcontent-%COMP%]   .btn-copy-debug[_ngcontent-%COMP%]:hover{background:#005a9e;transform:translateY(-1px);box-shadow:0 2px 8px #007acc4d}.debug-log-box[_ngcontent-%COMP%]   .btn-copy-debug[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]{top:12px;right:12px}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{padding:4px 10px;font-size:10px}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.text-modal[_ngcontent-%COMP%]{max-width:700px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto;padding:8px;background:#0000000d;border-radius:8px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#fff;border-radius:6px;border:1px solid #e0e0e0;transition:all .2s ease}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a;transform:translate(4px)}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]   .font-index[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:11px;font-weight:700;border-radius:50%;flex-shrink:0}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]   .font-name[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500;color:#1e293b;word-break:break-all;font-family:monospace;letter-spacing:-.5px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-height:400px;overflow-y:auto;padding:8px;background:#00000005;border-radius:8px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fff;border-radius:8px;border:1px solid #e5e7eb;transition:all .2s ease}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a;transform:translate(4px)}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-sample[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:2px solid #e5e7eb;box-shadow:0 2px 4px #0000001a;flex-shrink:0;transition:all .2s ease}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-sample[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #00000026}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-info[_ngcontent-%COMP%]{flex:1;min-width:0}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-info[_ngcontent-%COMP%]   .color-code[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#1e293b;font-family:Courier New,monospace;letter-spacing:.5px;text-transform:uppercase}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-info[_ngcontent-%COMP%]   .color-usage[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin-top:2px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-bar-wrapper[_ngcontent-%COMP%]{width:80px;height:6px;background:#e5e7eb;border-radius:3px;overflow:hidden;flex-shrink:0}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-bar-wrapper[_ngcontent-%COMP%]   .color-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#2563eb);border-radius:3px;transition:width .5s ease}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.text-modal[_ngcontent-%COMP%]   .bar-fill.korean[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.text-modal[_ngcontent-%COMP%]   .bar-fill.english[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669)}.text-modal[_ngcontent-%COMP%]   .bar-fill.mixed[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#d97706)}.text-modal[_ngcontent-%COMP%]   .bar-fill.numbers[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.combined-analysis[_ngcontent-%COMP%]{transition:all .3s ease;background:transparent;border:2px solid rgba(255,255,255,.2)}.combined-analysis.has-both[_ngcontent-%COMP%]{border-color:#667eea}.combined-analysis.has-both[_ngcontent-%COMP%]:hover{border-color:#5568d3;background:#667eea1a;transform:translateY(-2px)}.combined-analysis.text-only[_ngcontent-%COMP%]{border-color:#3b82f6}.combined-analysis.text-only[_ngcontent-%COMP%]:hover{border-color:#2563eb;background:#3b82f61a;transform:translateY(-2px)}.combined-analysis.vector-only[_ngcontent-%COMP%]{border-color:#10b981}.combined-analysis.vector-only[_ngcontent-%COMP%]:hover{border-color:#059669;background:#10b9811a;transform:translateY(-2px)}.combined-modal[_ngcontent-%COMP%]{max-width:900px;max-height:90vh;overflow-y:auto}.combined-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.combined-modal[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b;margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid #e2e8f0;display:flex;align-items:center;gap:8px}.combined-modal[_ngcontent-%COMP%]   .comparison-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px;background:#f8fafc;border-radius:8px}.combined-modal[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.combined-modal[_ngcontent-%COMP%]   .comparison-label[_ngcontent-%COMP%]{min-width:120px;display:flex;align-items:center;gap:6px;font-size:14px;font-weight:500;color:#475569}.combined-modal[_ngcontent-%COMP%]   .comparison-label[_ngcontent-%COMP%]   .comparison-icon[_ngcontent-%COMP%]{font-size:18px}.combined-modal[_ngcontent-%COMP%]   .comparison-bar-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#e2e8f0;border-radius:6px;height:32px;overflow:hidden}.combined-modal[_ngcontent-%COMP%]   .comparison-bar[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;transition:width .5s ease;border-radius:6px}.combined-modal[_ngcontent-%COMP%]   .comparison-bar.vector-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669)}.combined-modal[_ngcontent-%COMP%]   .comparison-bar.text-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.combined-modal[_ngcontent-%COMP%]   .comparison-bar[_ngcontent-%COMP%]   .comparison-value[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2)}.combined-modal[_ngcontent-%COMP%]   .comparison-count[_ngcontent-%COMP%]{min-width:100px;text-align:right;font-size:13px;color:#64748b}.combined-modal[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]{margin-top:12px;padding:12px 16px;background:#fff;border-left:4px solid #667eea;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.combined-modal[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}.combined-modal[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0000001a}.combined-modal[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.combined-modal[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.combined-modal[_ngcontent-%COMP%]   .action-btn.vector-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.combined-modal[_ngcontent-%COMP%]   .action-btn.vector-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857)}.combined-modal[_ngcontent-%COMP%]   .action-btn.text-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.combined-modal[_ngcontent-%COMP%]   .action-btn.text-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8)}.combined-modal[_ngcontent-%COMP%]   .action-btn.create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.combined-modal[_ngcontent-%COMP%]   .action-btn.create-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5568d3,#653a8a)}.combined-modal[_ngcontent-%COMP%]   .action-btn.combined-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid #f59e0b;color:#f59e0b;font-weight:600}.combined-modal[_ngcontent-%COMP%]   .action-btn.combined-btn[_ngcontent-%COMP%]:hover{background:#f99e0b1a;border-color:#d97706;color:#d97706}.combined-modal[_ngcontent-%COMP%]   .action-btn.export-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600;border:none}.combined-modal[_ngcontent-%COMP%]   .action-btn.export-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857)}.combined-modal[_ngcontent-%COMP%]   .action-btn.export-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.combined-modal[_ngcontent-%COMP%]   .action-btn.download-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;font-weight:600;border:none}.combined-modal[_ngcontent-%COMP%]   .action-btn.download-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#6d28d9)}.combined-modal[_ngcontent-%COMP%]   .action-btn.download-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.combined-modal[_ngcontent-%COMP%]   .action-btn.pdf-create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;font-weight:600;border:none}.combined-modal[_ngcontent-%COMP%]   .action-btn.pdf-create-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d97706,#b45309)}.combined-modal[_ngcontent-%COMP%]   .action-btn.pdf-create-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f8fafc;border-radius:8px;margin-bottom:16px}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#475569;font-size:14px}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-select[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:2px solid #e2e8f0;border-radius:6px;font-size:14px;background:#fff;color:#1e293b;cursor:pointer;transition:all .2s ease}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-select[_ngcontent-%COMP%]:hover{border-color:#3b82f6}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:500px;overflow-y:auto;padding:4px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e2e8f0;border-radius:8px;padding:12px;transition:all .2s ease}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translateY(-1px)}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid #f1f5f9}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-index[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;background:#f1f5f9;padding:4px 8px;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-small[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:4px;border:2px solid #e2e8f0;box-shadow:0 2px 4px #0000001a;cursor:pointer;transition:transform .2s ease}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-small[_ngcontent-%COMP%]:hover{transform:scale(1.2);box-shadow:0 4px 8px #0003}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-large[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;box-shadow:0 2px 8px #00000026;cursor:pointer;transition:all .3s ease;flex-shrink:0}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-large[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #00000040}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-info-text[_ngcontent-%COMP%]   .color-hex-label[_ngcontent-%COMP%]{font-size:11px;color:#888;font-weight:500}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-info-text[_ngcontent-%COMP%]   .color-hex[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:600;color:#333;font-size:13px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-hex[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:12px;font-weight:600;color:#475569;background:#f8fafc;padding:4px 8px;border-radius:4px;border:1px solid #e2e8f0}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-content[_ngcontent-%COMP%]{font-size:16px;line-height:1.7;margin-bottom:10px;padding:18px;border-radius:8px;word-break:break-word;border:2px solid var(--border-color, #e2e8f0);min-height:65px;display:flex;align-items:center;justify-content:flex-start;box-shadow:inset 0 2px 4px #0000000f,0 1px 3px #00000014;font-weight:600;text-align:left;white-space:pre-wrap;transition:all .2s ease;position:relative;overflow:hidden}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-content[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;opacity:.03;pointer-events:none;background-image:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(0,0,0,.02) 10px,rgba(0,0,0,.02) 20px)}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-content[_ngcontent-%COMP%]:hover{box-shadow:inset 0 2px 8px #0000001a,0 4px 12px #00000026;transform:scale(1.02);border-color:#3b82f6}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;font-size:11px;color:#64748b}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 8px;background:#f1f5f9;border-radius:4px;border:1px solid #e2e8f0}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:16px;padding:16px;background:#f8fafc;border-radius:8px}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]{padding:8px 16px;background:#fff;border:2px solid #e2e8f0;border-radius:6px;font-size:14px;font-weight:600;color:#475569;cursor:pointer;transition:all .2s ease}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background:#3b82f6;border-color:#3b82f6;color:#fff;transform:translateY(-1px);box-shadow:0 4px 8px #3b82f633}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#475569;padding:8px 16px;background:#fff;border-radius:6px;border:2px solid #e2e8f0}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:5px}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:5px}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:var(--bg-secondary, #f8f9fa);border-radius:8px;border:1px solid var(--border-color)}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid var(--border-color)}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-number-badge[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--primary-color);background:linear-gradient(135deg,#dbeafe,#bfdbfe);padding:6px 12px;border-radius:6px}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-image-count[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);font-weight:600}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:.75rem;transition:all .2s ease}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-thumbnail[_ngcontent-%COMP%]{width:100%;height:150px;display:flex;align-items:center;justify-content:center;background:#f1f5f9;border-radius:6px;margin-bottom:.75rem;overflow:hidden}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:100%;height:150px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);border-radius:6px;margin-bottom:.75rem;border:2px dashed #cbd5e1}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:.5rem;opacity:.5}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-weight:500}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-primary);margin-bottom:.5rem;word-break:break-all}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   .image-detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   .image-detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   .image-detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:500}.image-modal[_ngcontent-%COMP%]   .bar-fill.xobject[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.image-modal[_ngcontent-%COMP%]   .bar-fill.inline[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.stat-card.image-info[_ngcontent-%COMP%]{border-left:4px solid #a855f7}.stat-card.image-info.empty[_ngcontent-%COMP%]{opacity:.6;border-left-color:#cbd5e1}.stat-card.image-info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:32px}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-export[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-export[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 4px 12px #3b82f64d}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-download[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-download[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#6d28d9);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf64d}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.pdf-generation-section[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:2px solid #3b82f6;border-radius:8px}.pdf-generation-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#1e40af;margin-bottom:12px;display:flex;align-items:center;gap:6px}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px 8px;border:2px solid transparent;border-radius:8px;background:#fff;cursor:pointer;transition:all .3s ease;font-family:inherit;position:relative}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:24px;line-height:1}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;text-align:center;line-height:1.2}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]   .btn-badge[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background:#fbbf24;color:#78350f;font-size:9px;font-weight:700;padding:2px 6px;border-radius:10px}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 16px #00000026}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.recommended[_ngcontent-%COMP%]{border-color:#fbbf24;background:linear-gradient(135deg,#fef3c7,#fde68a)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.recommended[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#78350f}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.recommended[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#f59e0b;background:linear-gradient(135deg,#fde68a,#fcd34d);box-shadow:0 6px 20px #f59e0b66}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.combined[_ngcontent-%COMP%]{border-color:#8b5cf6;background:linear-gradient(135deg,#f3e8ff,#e9d5ff)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.combined[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#6b21a8}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.combined[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#7c3aed;background:linear-gradient(135deg,#e9d5ff,#d8b4fe);box-shadow:0 6px 20px #8b5cf666}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.vector[_ngcontent-%COMP%]{border-color:#3b82f6;background:linear-gradient(135deg,#dbeafe,#bfdbfe)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.vector[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#1e40af}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.vector[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#2563eb;background:linear-gradient(135deg,#bfdbfe,#93c5fd);box-shadow:0 6px 20px #3b82f666}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.text[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.text[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#065f46}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.text[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#059669;background:linear-gradient(135deg,#a7f3d0,#6ee7b7);box-shadow:0 6px 20px #10b98166}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.image[_ngcontent-%COMP%]{border-color:#f59e0b;background:linear-gradient(135deg,#fed7aa,#fdba74)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.image[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#92400e}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.image[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#d97706;background:linear-gradient(135deg,#fdba74,#fb923c);box-shadow:0 6px 20px #f59e0b66}']})};var ne=class l{data;confirm=new B;cancel=new B;get confirmText(){return this.data?.confirmText||"\uD655\uC778"}get cancelText(){return this.data?.cancelText||"\uCDE8\uC18C"}onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target.classList.contains("confirm-modal")&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-confirm-modal"]],inputs:{data:"data"},outputs:{confirm:"confirm",cancel:"cancel"},decls:16,vars:8,consts:[[1,"confirm-modal",3,"click"],[1,"confirm-modal-content",3,"click"],[1,"confirm-modal-header"],["aria-label","\uB2EB\uAE30",1,"close-button",3,"click"],[1,"confirm-modal-body"],[1,"confirm-modal-footer"],[1,"cancel-button",3,"click"],[1,"confirm-button",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),O("click",function(i){return n.onBackdropClick(i)}),r(1,"div",1),O("click",function(i){return i.stopPropagation()}),r(2,"div",2)(3,"h3"),s(4),a(),r(5,"button",3),O("click",function(){return n.onCancel()}),r(6,"span"),s(7,"\xD7"),a()()(),r(8,"div",4)(9,"p"),s(10),a()(),r(11,"div",5)(12,"button",6),O("click",function(){return n.onCancel()}),s(13),a(),r(14,"button",7),O("click",function(){return n.onConfirm()}),s(15),a()()()()),t&2&&(p(2),Y("dangerous",n.data.isDangerous),p(2),V(n.data.title),p(6),V(n.data.message),p(3),z(" ",n.cancelText," "),p(),Y("dangerous",n.data.isDangerous),p(),z(" ",n.confirmText," "))},dependencies:[lt],styles:['@charset "UTF-8";.confirm-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.confirm-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;min-width:400px;max-width:500px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.confirm-modal-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.confirm-modal-header.dangerous[_ngcontent-%COMP%]{background-color:#fff5f5;border-bottom-color:#feb2b2}.confirm-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1a202c}.confirm-modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;line-height:1;color:#718096;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.confirm-modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#f7fafc;color:#2d3748}.confirm-modal-body[_ngcontent-%COMP%]{padding:24px}.confirm-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#4a5568;white-space:pre-wrap}.confirm-modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.cancel-button[_ngcontent-%COMP%], .confirm-button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:1px solid}.cancel-button[_ngcontent-%COMP%]:disabled, .confirm-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.cancel-button[_ngcontent-%COMP%]{background-color:#fff;color:#4a5568;border-color:#cbd5e0}.cancel-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f7fafc;border-color:#a0aec0}.confirm-button[_ngcontent-%COMP%]{background-color:#3182ce;color:#fff;border-color:#3182ce}.confirm-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2c5282;border-color:#2c5282}.confirm-button.dangerous[_ngcontent-%COMP%]{background-color:#e53e3e;border-color:#e53e3e}.confirm-button.dangerous[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#c53030;border-color:#c53030}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 640px){.confirm-modal-content[_ngcontent-%COMP%]{min-width:auto;max-width:calc(100% - 32px);margin:16px}}'],changeDetection:0})};var In=[{label:"\uD55C\uAE00 \uACE0\uB515\uCCB4",options:[{value:"Noto Sans KR",label:"Noto Sans KR"},{value:"NanumGothic",label:"\uB098\uB214\uACE0\uB515"},{value:"NanumBarunGothic",label:"\uB098\uB214\uBC14\uB978\uACE0\uB515"},{value:"IBM Plex Sans KR",label:"IBM Plex Sans KR"},{value:"NanumSquare",label:"\uB098\uB214\uC2A4\uD018\uC5B4"},{value:"Black Han Sans",label:"Black Han Sans (\uAD75\uC740\uCCB4)"}]},{label:"\uD55C\uAE00 \uBA85\uC870\uCCB4",options:[{value:"Noto Serif KR",label:"Noto Serif KR"},{value:"NanumMyeongjo",label:"\uB098\uB214\uBA85\uC870"}]},{label:"\uD55C\uAE00 \uC190\uAE00\uC528/\uCE90\uC8FC\uC5BC",options:[{value:"NanumPen",label:"\uB098\uB214\uC190\uAE00\uC528\uD39C"},{value:"NanumBrush",label:"\uB098\uB214\uC190\uAE00\uC528\uBD93"},{value:"DoHyeon",label:"\uB3C4\uD604\uCCB4"},{value:"Jua",label:"\uC8FC\uC544\uCCB4"},{value:"Gaegu",label:"\uAC1C\uAD6C\uC7C1\uC774\uCCB4"},{value:"GamjaFlower",label:"\uAC10\uC790\uAF43\uCCB4"},{value:"Sunflower",label:"\uD574\uBC14\uB77C\uAE30\uCCB4"},{value:"EastSeaDokdo",label:"\uB3D9\uD574\uB3C5\uB3C4\uCCB4"},{value:"HiMelody",label:"\uD558\uC774\uBA5C\uB85C\uB514\uCCB4"}]},{label:"\uC601\uBB38 \uD3F0\uD2B8",options:[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Times New Roman",label:"Times New Roman"},{value:"Courier New",label:"Courier New"},{value:"Georgia",label:"Georgia"},{value:"Verdana",label:"Verdana"},{value:"Roboto",label:"Roboto"},{value:"Open Sans",label:"Open Sans"},{value:"Lato",label:"Lato"},{value:"Montserrat",label:"Montserrat"},{value:"Poppins",label:"Poppins"},{value:"Inter",label:"Inter"},{value:"Ubuntu",label:"Ubuntu"}]}];var ni=(l,e)=>e.label,oi=(l,e)=>e.value;function ii(l,e){if(l&1&&(r(0,"option",26),s(1),a()),l&2){let t=e.$implicit;b("value",t.value),p(),z(" ",t.label," ")}}function ri(l,e){if(l&1&&(r(0,"optgroup",12),Ze(1,ii,2,2,"option",26,oi),a()),l&2){let t=e.$implicit;b("label",t.label),p(),Qe(t.options)}}var oe=class l{data;pageWidth=595;pageHeight=842;save=new B;cancel=new B;editorData;fontGroups=In;ngOnInit(){this.editorData=it({},this.data)}get previewText(){return this.editorData.text||"\uD14D\uC2A4\uD2B8 \uBBF8\uB9AC\uBCF4\uAE30"}get isEditMode(){return!!this.editorData.elementId}get saveButtonText(){return this.isEditMode?"\uC218\uC815 \uC644\uB8CC":"\uD14D\uC2A4\uD2B8 \uCD94\uAC00"}onSave(){this.save.emit(this.editorData)}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target.classList.contains("text-editor-modal")&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-text-editor-modal"]],inputs:{data:"data",pageWidth:"pageWidth",pageHeight:"pageHeight"},outputs:{save:"save",cancel:"cancel"},decls:66,vars:19,consts:[[1,"text-editor-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["aria-label","\uB2EB\uAE30",1,"close-btn",3,"click"],[1,"modal-body"],[1,"text-editor-container"],[1,"editor-section"],["placeholder","\uC5EC\uAE30\uC5D0 \uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694...","rows","4",1,"text-input",3,"ngModelChange","ngModel"],[1,"style-section"],[1,"style-controls"],[1,"control-group"],[1,"font-select",3,"ngModelChange","ngModel"],[3,"label"],["type","range","min","8","max","72",1,"range-input",3,"ngModelChange","ngModel"],[1,"value-display"],["type","color",1,"color-input",3,"ngModelChange","ngModel"],[1,"position-section"],[1,"position-controls"],["type","number","min","0",1,"number-input",3,"ngModelChange","ngModel","max"],[1,"unit"],["type","number","min","50",1,"number-input",3,"ngModelChange","ngModel","max"],[1,"preview-section"],[1,"text-preview"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[3,"value"]],template:function(t,n){t&1&&(r(0,"div",0),O("click",function(i){return n.onBackdropClick(i)}),r(1,"div",1),O("click",function(i){return i.stopPropagation()}),r(2,"div",2)(3,"h2"),s(4,"\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30 \u270F\uFE0F"),a(),r(5,"button",3),O("click",function(){return n.onCancel()}),r(6,"span"),s(7,"\xD7"),a()()(),r(8,"div",4)(9,"div",5)(10,"div",6)(11,"h3"),s(12,"\uD14D\uC2A4\uD2B8 \uB0B4\uC6A9"),a(),r(13,"textarea",7),K("ngModelChange",function(i){return q(n.editorData.text,i)||(n.editorData.text=i),i}),a()(),r(14,"div",8)(15,"h3"),s(16,"\uC2A4\uD0C0\uC77C \uC124\uC815"),a(),r(17,"div",9)(18,"div",10)(19,"label"),s(20,"\uAE00\uAF34:"),a(),r(21,"select",11),K("ngModelChange",function(i){return q(n.editorData.fontFamily,i)||(n.editorData.fontFamily=i),i}),Ze(22,ri,3,1,"optgroup",12,ni),a()(),r(24,"div",10)(25,"label"),s(26,"\uD06C\uAE30:"),a(),r(27,"input",13),K("ngModelChange",function(i){return q(n.editorData.fontSize,i)||(n.editorData.fontSize=i),i}),a(),r(28,"span",14),s(29),a()(),r(30,"div",10)(31,"label"),s(32,"\uC0C9\uC0C1:"),a(),r(33,"input",15),K("ngModelChange",function(i){return q(n.editorData.color,i)||(n.editorData.color=i),i}),a()()()(),r(34,"div",16)(35,"h3"),s(36,"\uC704\uCE58 \uC124\uC815"),a(),r(37,"div",17)(38,"div",10)(39,"label"),s(40,"X \uC704\uCE58:"),a(),r(41,"input",18),K("ngModelChange",function(i){return q(n.editorData.x,i)||(n.editorData.x=i),i}),a(),r(42,"span",19),s(43,"px"),a()(),r(44,"div",10)(45,"label"),s(46,"Y \uC704\uCE58:"),a(),r(47,"input",18),K("ngModelChange",function(i){return q(n.editorData.y,i)||(n.editorData.y=i),i}),a(),r(48,"span",19),s(49,"px"),a()(),r(50,"div",10)(51,"label"),s(52,"\uB108\uBE44:"),a(),r(53,"input",20),K("ngModelChange",function(i){return q(n.editorData.width,i)||(n.editorData.width=i),i}),a(),r(54,"span",19),s(55,"px"),a()()()(),r(56,"div",21)(57,"h3"),s(58,"\uBBF8\uB9AC\uBCF4\uAE30"),a(),r(59,"div",22),s(60),a()()()(),r(61,"div",23)(62,"button",24),O("click",function(){return n.onCancel()}),s(63,"\uCDE8\uC18C"),a(),r(64,"button",25),O("click",function(){return n.onSave()}),s(65),a()()()()),t&2&&(p(13),X("ngModel",n.editorData.text),p(8),X("ngModel",n.editorData.fontFamily),p(),Qe(n.fontGroups),p(5),X("ngModel",n.editorData.fontSize),p(2),z("",n.editorData.fontSize,"px"),p(4),X("ngModel",n.editorData.color),p(8),X("ngModel",n.editorData.x),b("max",n.pageWidth),p(6),X("ngModel",n.editorData.y),b("max",n.pageHeight),p(6),X("ngModel",n.editorData.width),b("max",n.pageWidth),p(6),Z("font-size",n.editorData.fontSize,"px")("font-family",n.editorData.fontFamily)("color",n.editorData.color),p(),z(" ",n.previewText," "),p(5),V(n.saveButtonText))},dependencies:[lt,ft,xt,Ot,ut,Yt,Et,kt,gt,qt,Xt,pt],styles:['@charset "UTF-8";.text-editor-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;width:90%;max-width:700px;max-height:90vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1a202c}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#718096;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f7fafc;color:#2d3748}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.text-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.editor-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .style-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .position-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .preview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;font-weight:600;color:#2d3748;text-transform:uppercase;letter-spacing:.5px}.text-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #cbd5e0;border-radius:6px;font-size:14px;font-family:inherit;resize:vertical;transition:border-color .2s}.text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3182ce;box-shadow:0 0 0 3px #3182ce1a}.text-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.style-controls[_ngcontent-%COMP%], .position-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:80px;font-size:14px;color:#4a5568;font-weight:500}.control-group[_ngcontent-%COMP%]   .value-display[_ngcontent-%COMP%], .control-group[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:13px;color:#718096;margin-left:8px}.font-select[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid #cbd5e0;border-radius:6px;font-size:14px;background-color:#fff;cursor:pointer;transition:border-color .2s}.font-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3182ce;box-shadow:0 0 0 3px #3182ce1a}.range-input[_ngcontent-%COMP%]{flex:1;height:6px;border-radius:3px;background:#e2e8f0;outline:none;-webkit-appearance:none;appearance:none}.range-input[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:#3182ce;cursor:pointer;transition:transform .2s}.range-input[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2)}.range-input[_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#3182ce;cursor:pointer;border:none;transition:transform .2s}.range-input[_ngcontent-%COMP%]::-moz-range-thumb:hover{transform:scale(1.2)}.color-input[_ngcontent-%COMP%]{width:60px;height:36px;border:1px solid #cbd5e0;border-radius:6px;cursor:pointer;padding:2px}.color-input[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}.color-input[_ngcontent-%COMP%]::-webkit-color-swatch{border:none;border-radius:4px}.number-input[_ngcontent-%COMP%]{width:100px;padding:8px 12px;border:1px solid #cbd5e0;border-radius:6px;font-size:14px;text-align:right;transition:border-color .2s}.number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3182ce;box-shadow:0 0 0 3px #3182ce1a}.number-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .number-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{opacity:1}.text-preview[_ngcontent-%COMP%]{min-height:80px;padding:16px;background-color:#f7fafc;border:2px dashed #cbd5e0;border-radius:6px;display:flex;align-items:center;justify-content:center;text-align:center;word-wrap:break-word}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.btn-secondary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.btn-secondary[_ngcontent-%COMP%]:disabled, .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;border:1px solid #cbd5e0}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#edf2f7}.btn-primary[_ngcontent-%COMP%]{background-color:#3182ce;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2c5282}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;max-height:95vh}.control-group[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:auto}.control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%], .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%}}'],changeDetection:0})};function ci(l,e){if(l&1&&(r(0,"div",17)(1,"h3"),s(2,"\uC774\uBBF8\uC9C0 \uBBF8\uB9AC\uBCF4\uAE30"),a(),W(3,"img",18),a()),l&2){let t=f();p(3),b("src",t.editorData.src,Lt)}}var ie=class l{data;pageWidth=595;pageHeight=842;save=new B;cancel=new B;editorData;ngOnInit(){this.editorData=it({},this.data)}get isEditMode(){return!!this.editorData.elementId}get saveButtonText(){return this.isEditMode?"\uC218\uC815 \uC644\uB8CC":"\uC774\uBBF8\uC9C0 \uCD94\uAC00"}onFileSelect(e){let t=e.target;if(t.files&&t.files[0]){let n=t.files[0];this.editorData.file=n;let o=new FileReader;o.onload=i=>{this.editorData.src=i.target?.result},o.readAsDataURL(n)}}onSave(){this.save.emit(this.editorData)}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target.classList.contains("image-editor-modal")&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-image-editor-modal"]],inputs:{data:"data",pageWidth:"pageWidth",pageHeight:"pageHeight"},outputs:{save:"save",cancel:"cancel"},decls:44,vars:9,consts:[[1,"image-editor-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"upload-section"],["type","file","accept","image/*","id","imageFileInput",1,"file-input",3,"change"],["for","imageFileInput",1,"upload-label"],[1,"upload-icon"],["class","preview-section",4,"ngIf"],[1,"position-section"],[1,"control-group"],["type","number",3,"ngModelChange","ngModel","max"],["type","number","min","50",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],[1,"preview-section"],[1,"image-preview",3,"src"]],template:function(t,n){t&1&&(r(0,"div",0),O("click",function(i){return n.onBackdropClick(i)}),r(1,"div",1),O("click",function(i){return i.stopPropagation()}),r(2,"div",2)(3,"h2"),s(4,"\uC774\uBBF8\uC9C0 \uD3B8\uC9D1\uAE30 \u{1F5BC}\uFE0F"),a(),r(5,"button",3),O("click",function(){return n.onCancel()}),s(6,"\xD7"),a()(),r(7,"div",4)(8,"div",5)(9,"h3"),s(10,"\uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC"),a(),r(11,"input",6),O("change",function(i){return n.onFileSelect(i)}),a(),r(12,"label",7)(13,"span",8),s(14,"\u{1F4C1}"),a(),r(15,"span"),s(16,"\uC774\uBBF8\uC9C0 \uD30C\uC77C\uC744 \uC120\uD0DD\uD558\uC138\uC694"),a(),r(17,"small"),s(18,"(JPG, PNG, GIF \uC9C0\uC6D0)"),a()()(),$(19,ci,4,1,"div",9),r(20,"div",10)(21,"h3"),s(22,"\uC704\uCE58 \uBC0F \uD06C\uAE30 \uC124\uC815"),a(),r(23,"div",11)(24,"label"),s(25,"X:"),a(),r(26,"input",12),K("ngModelChange",function(i){return q(n.editorData.x,i)||(n.editorData.x=i),i}),a()(),r(27,"div",11)(28,"label"),s(29,"Y:"),a(),r(30,"input",12),K("ngModelChange",function(i){return q(n.editorData.y,i)||(n.editorData.y=i),i}),a()(),r(31,"div",11)(32,"label"),s(33,"\uB108\uBE44:"),a(),r(34,"input",13),K("ngModelChange",function(i){return q(n.editorData.width,i)||(n.editorData.width=i),i}),a()(),r(35,"div",11)(36,"label"),s(37,"\uB192\uC774:"),a(),r(38,"input",13),K("ngModelChange",function(i){return q(n.editorData.height,i)||(n.editorData.height=i),i}),a()()()(),r(39,"div",14)(40,"button",15),O("click",function(){return n.onCancel()}),s(41,"\uCDE8\uC18C"),a(),r(42,"button",16),O("click",function(){return n.onSave()}),s(43),a()()()()),t&2&&(p(19),b("ngIf",n.editorData.src),p(7),X("ngModel",n.editorData.x),b("max",n.pageWidth),p(4),X("ngModel",n.editorData.y),b("max",n.pageHeight),p(4),X("ngModel",n.editorData.width),p(4),X("ngModel",n.editorData.height),p(4),b("disabled",!n.editorData.src),p(),z(" ",n.saveButtonText," "))},dependencies:[lt,st,ft,ut,Yt,gt,qt,Xt,pt],encapsulation:2,changeDetection:0})};function li(l,e){if(l&1&&(r(0,"option",18),s(1),a()),l&2){let t=e.$implicit;b("value",t.value),p(),z(" ",t.label," ")}}var re=class l{data;pageWidth=595;pageHeight=842;save=new B;cancel=new B;editorData;shapeTypes=[{value:"rectangle",label:"\uC0AC\uAC01\uD615"},{value:"circle",label:"\uC6D0"},{value:"line",label:"\uC120"}];ngOnInit(){this.editorData=it({},this.data)}get saveButtonText(){return this.editorData.elementId?"\uC218\uC815 \uC644\uB8CC":"\uB3C4\uD615 \uCD94\uAC00"}onSave(){this.save.emit(this.editorData)}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target.classList.contains("shape-editor-modal")&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-shape-editor-modal"]],inputs:{data:"data",pageWidth:"pageWidth",pageHeight:"pageHeight"},outputs:{save:"save",cancel:"cancel"},decls:54,vars:13,consts:[[1,"shape-editor-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"shape-type-section"],[1,"shape-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"style-section"],[1,"control-group"],["type","color",3,"ngModelChange","ngModel"],["type","range","min","1","max","10",3,"ngModelChange","ngModel"],[1,"position-section"],["type","number",3,"ngModelChange","ngModel","max"],["type","number","min","10",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[3,"value"]],template:function(t,n){t&1&&(r(0,"div",0),O("click",function(i){return n.onBackdropClick(i)}),r(1,"div",1),O("click",function(i){return i.stopPropagation()}),r(2,"div",2)(3,"h2"),s(4,"\uB3C4\uD615 \uD3B8\uC9D1\uAE30 \u2B1C"),a(),r(5,"button",3),O("click",function(){return n.onCancel()}),s(6,"\xD7"),a()(),r(7,"div",4)(8,"div",5)(9,"h3"),s(10,"\uB3C4\uD615 \uC885\uB958"),a(),r(11,"select",6),K("ngModelChange",function(i){return q(n.editorData.shapeType,i)||(n.editorData.shapeType=i),i}),$(12,li,2,2,"option",7),a()(),r(13,"div",8)(14,"h3"),s(15,"\uC2A4\uD0C0\uC77C"),a(),r(16,"div",9)(17,"label"),s(18,"\uCC44\uC6B0\uAE30 \uC0C9\uC0C1:"),a(),r(19,"input",10),K("ngModelChange",function(i){return q(n.editorData.fillColor,i)||(n.editorData.fillColor=i),i}),a()(),r(20,"div",9)(21,"label"),s(22,"\uD14C\uB450\uB9AC \uC0C9\uC0C1:"),a(),r(23,"input",10),K("ngModelChange",function(i){return q(n.editorData.strokeColor,i)||(n.editorData.strokeColor=i),i}),a()(),r(24,"div",9)(25,"label"),s(26,"\uD14C\uB450\uB9AC \uB450\uAED8:"),a(),r(27,"input",11),K("ngModelChange",function(i){return q(n.editorData.strokeWidth,i)||(n.editorData.strokeWidth=i),i}),a(),r(28,"span"),s(29),a()()(),r(30,"div",12)(31,"h3"),s(32,"\uC704\uCE58 \uBC0F \uD06C\uAE30"),a(),r(33,"div",9)(34,"label"),s(35,"X:"),a(),r(36,"input",13),K("ngModelChange",function(i){return q(n.editorData.x,i)||(n.editorData.x=i),i}),a()(),r(37,"div",9)(38,"label"),s(39,"Y:"),a(),r(40,"input",13),K("ngModelChange",function(i){return q(n.editorData.y,i)||(n.editorData.y=i),i}),a()(),r(41,"div",9)(42,"label"),s(43,"\uB108\uBE44:"),a(),r(44,"input",14),K("ngModelChange",function(i){return q(n.editorData.width,i)||(n.editorData.width=i),i}),a()(),r(45,"div",9)(46,"label"),s(47,"\uB192\uC774:"),a(),r(48,"input",14),K("ngModelChange",function(i){return q(n.editorData.height,i)||(n.editorData.height=i),i}),a()()()(),r(49,"div",15)(50,"button",16),O("click",function(){return n.onCancel()}),s(51,"\uCDE8\uC18C"),a(),r(52,"button",17),O("click",function(){return n.onSave()}),s(53),a()()()()),t&2&&(p(11),X("ngModel",n.editorData.shapeType),p(),b("ngForOf",n.shapeTypes),p(7),X("ngModel",n.editorData.fillColor),p(4),X("ngModel",n.editorData.strokeColor),p(4),X("ngModel",n.editorData.strokeWidth),p(2),z("",n.editorData.strokeWidth,"px"),p(7),X("ngModel",n.editorData.x),b("max",n.pageWidth),p(4),X("ngModel",n.editorData.y),b("max",n.pageHeight),p(4),X("ngModel",n.editorData.width),p(4),X("ngModel",n.editorData.height),p(5),V(n.saveButtonText))},dependencies:[lt,_t,ft,xt,Ot,ut,Yt,Et,kt,gt,qt,Xt,pt],encapsulation:2,changeDetection:0})};var gi=["signatureCanvas"],ae=class l{data;save=new B;cancel=new B;signatureCanvas;editorData;isDrawing=!1;ngOnInit(){this.editorData=it({},this.data)}get saveButtonText(){return this.editorData.elementId?"\uC218\uC815 \uC644\uB8CC":"\uC11C\uBA85 \uCD94\uAC00"}clearCanvas(){if(this.signatureCanvas){let e=this.signatureCanvas.nativeElement,t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),this.editorData.canvasData=null)}}onSave(){this.signatureCanvas&&(this.editorData.canvasData=this.signatureCanvas.nativeElement.toDataURL()),this.save.emit(this.editorData)}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target.classList.contains("signature-editor-modal")&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-signature-editor-modal"]],viewQuery:function(t,n){if(t&1&&Rt(gi,5),t&2){let o;jt(o=Wt())&&(n.signatureCanvas=o.first)}},inputs:{data:"data"},outputs:{save:"save",cancel:"cancel"},decls:47,vars:6,consts:[["signatureCanvas",""],[1,"signature-editor-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"text-section"],["type","text","placeholder","\uC11C\uBA85 \uD14D\uC2A4\uD2B8 \uC785\uB825",1,"text-input",3,"ngModelChange","ngModel"],[1,"style-section"],[3,"ngModelChange","ngModel"],["value","handwritten"],["value","formal"],["value","casual"],[1,"canvas-section"],["width","400","height","150",1,"signature-canvas"],[1,"btn-secondary",3,"click"],[1,"color-section"],[1,"control-group"],["type","color",3,"ngModelChange","ngModel"],["type","range","min","12","max","48",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-primary",3,"click"]],template:function(t,n){if(t&1){let o=R();r(0,"div",1),O("click",function(c){return M(o),x(n.onBackdropClick(c))}),r(1,"div",2),O("click",function(c){return M(o),x(c.stopPropagation())}),r(2,"div",3)(3,"h2"),s(4,"\uC11C\uBA85 \uD3B8\uC9D1\uAE30 \u270D\uFE0F"),a(),r(5,"button",4),O("click",function(){return M(o),x(n.onCancel())}),s(6,"\xD7"),a()(),r(7,"div",5)(8,"div",6)(9,"h3"),s(10,"\uC11C\uBA85 \uD14D\uC2A4\uD2B8"),a(),r(11,"input",7),K("ngModelChange",function(c){return M(o),q(n.editorData.signatureText,c)||(n.editorData.signatureText=c),x(c)}),a()(),r(12,"div",8)(13,"h3"),s(14,"\uC11C\uBA85 \uC2A4\uD0C0\uC77C"),a(),r(15,"select",9),K("ngModelChange",function(c){return M(o),q(n.editorData.signatureStyle,c)||(n.editorData.signatureStyle=c),x(c)}),r(16,"option",10),s(17,"\uC190\uAE00\uC528"),a(),r(18,"option",11),s(19,"\uC815\uC2DD"),a(),r(20,"option",12),s(21,"\uCE90\uC8FC\uC5BC"),a()()(),r(22,"div",13)(23,"h3"),s(24,"\uC9C1\uC811 \uADF8\uB9AC\uAE30"),a(),W(25,"canvas",14,0),r(27,"button",15),O("click",function(){return M(o),x(n.clearCanvas())}),s(28,"\uC9C0\uC6B0\uAE30"),a()(),r(29,"div",16)(30,"h3"),s(31,"\uC0C9\uC0C1 \uBC0F \uD06C\uAE30"),a(),r(32,"div",17)(33,"label"),s(34,"\uC0C9\uC0C1:"),a(),r(35,"input",18),K("ngModelChange",function(c){return M(o),q(n.editorData.strokeColor,c)||(n.editorData.strokeColor=c),x(c)}),a()(),r(36,"div",17)(37,"label"),s(38,"\uD06C\uAE30:"),a(),r(39,"input",19),K("ngModelChange",function(c){return M(o),q(n.editorData.fontSize,c)||(n.editorData.fontSize=c),x(c)}),a(),r(40,"span"),s(41),a()()()(),r(42,"div",20)(43,"button",15),O("click",function(){return M(o),x(n.onCancel())}),s(44,"\uCDE8\uC18C"),a(),r(45,"button",21),O("click",function(){return M(o),x(n.onSave())}),s(46),a()()()()}t&2&&(p(11),X("ngModel",n.editorData.signatureText),p(4),X("ngModel",n.editorData.signatureStyle),p(20),X("ngModel",n.editorData.strokeColor),p(4),X("ngModel",n.editorData.fontSize),p(2),z("",n.editorData.fontSize,"px"),p(5),V(n.saveButtonText))},dependencies:[lt,ft,xt,Ot,ut,Et,kt,gt,pt],encapsulation:2,changeDetection:0})};var ce=class l{data;save=new B;cancel=new B;editorData;ngOnInit(){this.editorData=it({},this.data)}get previewStyle(){return{"font-size.px":this.editorData.fontSize,color:this.editorData.color,opacity:this.editorData.opacity,transform:`rotate(${this.editorData.rotation}deg)`}}onSave(){this.save.emit(this.editorData)}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target.classList.contains("watermark-editor-modal")&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-watermark-editor-modal"]],inputs:{data:"data"},outputs:{save:"save",cancel:"cancel"},decls:48,vars:10,consts:[[1,"watermark-editor-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"text-section"],["type","text","placeholder","\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8",1,"text-input",3,"ngModelChange","ngModel"],[1,"style-section"],[1,"control-group"],["type","range","min","24","max","96",3,"ngModelChange","ngModel"],["type","color",3,"ngModelChange","ngModel"],["type","range","min","0","max","1","step","0.1",3,"ngModelChange","ngModel"],["type","range","min","-90","max","90",3,"ngModelChange","ngModel"],[1,"preview-section"],[1,"watermark-preview"],[3,"ngStyle"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),O("click",function(i){return n.onBackdropClick(i)}),r(1,"div",1),O("click",function(i){return i.stopPropagation()}),r(2,"div",2)(3,"h2"),s(4,"\uC6CC\uD130\uB9C8\uD06C \uD3B8\uC9D1\uAE30 \u{1F4A7}"),a(),r(5,"button",3),O("click",function(){return n.onCancel()}),s(6,"\xD7"),a()(),r(7,"div",4)(8,"div",5)(9,"h3"),s(10,"\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8"),a(),r(11,"input",6),K("ngModelChange",function(i){return q(n.editorData.text,i)||(n.editorData.text=i),i}),a()(),r(12,"div",7)(13,"h3"),s(14,"\uC2A4\uD0C0\uC77C \uC124\uC815"),a(),r(15,"div",8)(16,"label"),s(17,"\uAE00\uAF34 \uD06C\uAE30:"),a(),r(18,"input",9),K("ngModelChange",function(i){return q(n.editorData.fontSize,i)||(n.editorData.fontSize=i),i}),a(),r(19,"span"),s(20),a()(),r(21,"div",8)(22,"label"),s(23,"\uC0C9\uC0C1:"),a(),r(24,"input",10),K("ngModelChange",function(i){return q(n.editorData.color,i)||(n.editorData.color=i),i}),a()(),r(25,"div",8)(26,"label"),s(27,"\uD22C\uBA85\uB3C4:"),a(),r(28,"input",11),K("ngModelChange",function(i){return q(n.editorData.opacity,i)||(n.editorData.opacity=i),i}),a(),r(29,"span"),s(30),a()(),r(31,"div",8)(32,"label"),s(33,"\uD68C\uC804:"),a(),r(34,"input",12),K("ngModelChange",function(i){return q(n.editorData.rotation,i)||(n.editorData.rotation=i),i}),a(),r(35,"span"),s(36),a()()(),r(37,"div",13)(38,"h3"),s(39,"\uBBF8\uB9AC\uBCF4\uAE30"),a(),r(40,"div",14)(41,"span",15),s(42),a()()()(),r(43,"div",16)(44,"button",17),O("click",function(){return n.onCancel()}),s(45,"\uCDE8\uC18C"),a(),r(46,"button",18),O("click",function(){return n.onSave()}),s(47,"\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00"),a()()()()),t&2&&(p(11),X("ngModel",n.editorData.text),p(7),X("ngModel",n.editorData.fontSize),p(2),z("",n.editorData.fontSize,"px"),p(4),X("ngModel",n.editorData.color),p(4),X("ngModel",n.editorData.opacity),p(2),z("",(n.editorData.opacity*100).toFixed(0),"%"),p(4),X("ngModel",n.editorData.rotation),p(2),z("",n.editorData.rotation,"\xB0"),p(5),b("ngStyle",n.previewStyle),p(),V(n.editorData.text||"\uC6CC\uD130\uB9C8\uD06C"))},dependencies:[lt,un,ft,ut,Et,gt,pt],encapsulation:2,changeDetection:0})};var Oe=class l{data;save=new B;cancel=new B;onSave(){this.save.emit(this.data)}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-vector-path-editor-modal"]],inputs:{data:"data"},outputs:{save:"save",cancel:"cancel"},decls:15,vars:0,consts:[[1,"vector-path-editor-modal"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"\uBCA1\uD130 \uD328\uC2A4 \uD3B8\uC9D1\uAE30 \u270F\uFE0F"),a(),r(5,"button",3),O("click",function(){return n.onCancel()}),s(6,"\xD7"),a()(),r(7,"div",4)(8,"p"),s(9,"\uBCA1\uD130 \uD328\uC2A4 \uD3B8\uC9D1 \uAE30\uB2A5 (\uCD94\uD6C4 \uAD6C\uD604)"),a()(),r(10,"div",5)(11,"button",6),O("click",function(){return n.onCancel()}),s(12,"\uCDE8\uC18C"),a(),r(13,"button",7),O("click",function(){return n.onSave()}),s(14,"\uC800\uC7A5"),a()()()())},dependencies:[lt,ft],encapsulation:2,changeDetection:0})};function ui(l,e){if(l&1&&(r(0,"pre"),s(1),Ht(2,"json"),a()),l&2){let t=f();p(),V(_e(2,1,t.pdfStructureData))}}var ve=class l{pdfStructureData;textStreamRawData;showJsonViewer=!1;close=new B;exportStructure=new B;createFromStructure=new B;downloadBinary=new B;toggleJsonViewer=new B;copyToClipboard=new B;downloadJson=new B;downloadVectorJson=new B;onClose(){this.close.emit()}onExportStructure(){this.exportStructure.emit()}onCreateFromStructure(){this.createFromStructure.emit()}onDownloadBinary(){this.downloadBinary.emit()}onToggleJsonViewer(){this.toggleJsonViewer.emit()}onCopyToClipboard(){this.copyToClipboard.emit()}onDownloadJson(){this.downloadJson.emit()}onDownloadVectorJson(){this.downloadVectorJson.emit()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-pdf-structure-modal"]],inputs:{pdfStructureData:"pdfStructureData",textStreamRawData:"textStreamRawData",showJsonViewer:"showJsonViewer"},outputs:{close:"close",exportStructure:"exportStructure",createFromStructure:"createFromStructure",downloadBinary:"downloadBinary",toggleJsonViewer:"toggleJsonViewer",copyToClipboard:"copyToClipboard",downloadJson:"downloadJson",downloadVectorJson:"downloadVectorJson"},decls:14,vars:1,consts:[[1,"pdf-structure-modal"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"btn-primary",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"PDF \uAD6C\uC870 \uBD84\uC11D \u{1F4C4}"),a(),r(5,"button",3),O("click",function(){return n.onClose()}),s(6,"\xD7"),a()(),r(7,"div",4)(8,"p"),s(9,"PDF \uAD6C\uC870 \uC815\uBCF4 (\uCD94\uD6C4 \uAD6C\uD604)"),a(),$(10,ui,3,3,"pre",5),a(),r(11,"div",6)(12,"button",7),O("click",function(){return n.onClose()}),s(13,"\uB2EB\uAE30"),a()()()()),t&2&&(p(10),b("ngIf",n.pdfStructureData))},dependencies:[lt,st,fn],encapsulation:2,changeDetection:0})};function fi(l,e){if(l&1&&(r(0,"p"),s(1),a()),l&2){let t=f();p(),z("\uD398\uC774\uC9C0: ",t.data.pageNumber)}}var ye=class l{constructor(e){this.sanitizer=e}data;close=new B;get safeSvgContent(){return this.sanitizer.bypassSecurityTrustHtml(this.data?.svgContent||"")}onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||l)(J(Ut))};static \u0275cmp=ot({type:l,selectors:[["app-vector-graphics-modal"]],inputs:{data:"data"},outputs:{close:"close"},decls:13,vars:2,consts:[[1,"vector-graphics-modal"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"svg-container",3,"innerHTML"],[4,"ngIf"],[1,"modal-footer"],[1,"btn-primary",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"\uBCA1\uD130 \uADF8\uB798\uD53D \uBDF0\uC5B4 \u{1F5BC}\uFE0F"),a(),r(5,"button",3),O("click",function(){return n.onClose()}),s(6,"\xD7"),a()(),r(7,"div",4),W(8,"div",5),$(9,fi,2,1,"p",6),a(),r(10,"div",7)(11,"button",8),O("click",function(){return n.onClose()}),s(12,"\uB2EB\uAE30"),a()()()()),t&2&&(p(8),b("innerHTML",n.safeSvgContent,Nt),p(),b("ngIf",n.data==null?null:n.data.pageNumber))},dependencies:[lt,st],encapsulation:2,changeDetection:0})};var tt=class{static validateCoordinate(e,t=0){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e=="string"){let n=parseFloat(e);if(!isNaN(n))return n}return t}static convertToSvgY(e,t,n=1,o=!1){if(!isFinite(e)||!isFinite(t)||t<=0)return console.warn(`\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC88C\uD45C: pdfY=${e}, height=${t}`),Math.max(0,t/2);let i=e/n;if(i>t*1.5){let d=t*.9/i,g=i*d,m=t-g;return o&&console.log(`\u{1F4D0} \uB300\uD615 PDF \uC88C\uD45C \uCD94\uAC00 \uC2A4\uCF00\uC77C\uB9C1:
          \uC6D0\uBCF8 PDF Y: ${e.toFixed(2)}
          1\uCC28 \uC2A4\uCF00\uC77C (/${n.toFixed(3)}): ${i.toFixed(2)}
          \uCD94\uAC00 \uC2A4\uCF00\uC77C (*${d.toFixed(3)}): ${g.toFixed(2)}
          \uCD5C\uC885 SVG Y: ${m.toFixed(2)}
          \uCE94\uBC84\uC2A4 \uB192\uC774: ${t}`),Math.max(0,Math.min(t,m))}let c=t-i;if(c<0){let d=Math.max(0,t*.05);return o&&console.warn(`\u26A0\uFE0F \uC74C\uC218 SVG Y \uC88C\uD45C \uBCF4\uC815:
          \uC6D0\uBCF8 PDF Y: ${e.toFixed(2)}
          \uC2A4\uCF00\uC77C \uD6C4: ${i.toFixed(2)}
          \uACC4\uC0B0\uB41C SVG Y: ${c.toFixed(2)} \u2192 \uBCF4\uC815: ${d.toFixed(2)}
          (scaleFactor: ${n.toFixed(3)}, height: ${t})`),d}if(c>t){let d=t*.95;return o&&console.warn(`\u26A0\uFE0F \uBC94\uC704 \uCD08\uACFC SVG Y \uC88C\uD45C \uBCF4\uC815:
          \uC6D0\uBCF8 PDF Y: ${e.toFixed(2)}
          \uC2A4\uCF00\uC77C \uD6C4: ${i.toFixed(2)}
          \uACC4\uC0B0\uB41C SVG Y: ${c.toFixed(2)} \u2192 \uBCF4\uC815: ${d.toFixed(2)}
          (scaleFactor: ${n.toFixed(3)}, height: ${t})`),d}return o&&Math.random()<.01&&console.log(`\u2713 \uC815\uC0C1 \uBCC0\uD658: PDF Y ${e.toFixed(2)} \u2192 SVG Y ${c.toFixed(2)} (scale: ${n.toFixed(3)})`),c}static convertToSvgX(e,t,n=1){if(!isFinite(e)||!isFinite(t)||t<=0)return console.warn(`\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 X \uC88C\uD45C: pdfX=${e}, width=${t}`),Math.max(0,t/2);let o=e/n;return o<0?(console.warn(`\u26A0\uFE0F \uC74C\uC218 X \uC88C\uD45C \uBCF4\uC815: ${o} -> 0`),0):o>t?(console.warn(`\u26A0\uFE0F X \uC88C\uD45C \uBC94\uC704 \uCD08\uACFC \uBCF4\uC815: ${o} -> ${t}`),t):o}static convertPointToSvg(e,t,n=1,o=!1){return{x:this.convertToSvgX(e.x,t.width,n),y:this.convertToSvgY(e.y,t.height,n,o)}}static applyTransform(e,t){if(!t||t.length<6)return e;let[n,o,i,c,d,g]=t;return{x:n*e.x+i*e.y+d,y:o*e.x+c*e.y+g}}static analyzeCoordinateRange(e,t){let n=1/0,o=-1/0,i=1/0,c=-1/0;e.forEach(h=>{h.coordinates&&(typeof h.coordinates.x=="number"&&(n=Math.min(n,h.coordinates.x),o=Math.max(o,h.coordinates.x)),typeof h.coordinates.y=="number"&&(i=Math.min(i,h.coordinates.y),c=Math.max(c,h.coordinates.y))),Array.isArray(h.args)&&h.args.forEach(C=>{typeof C=="number"&&C>=0&&C<=2e3&&(n=Math.min(n,C),o=Math.max(o,C),i=Math.min(i,C),c=Math.max(c,C))})}),isFinite(n)||(n=0),isFinite(o)||(o=t.width),isFinite(i)||(i=0),isFinite(c)||(c=t.height);let d=o>t.width*1.2||n<-t.width*.2,g=c>t.height*1.2||i<-t.height*.2,m=d||g,u=1;if(m){let h=o>t.width?o/(t.width*.9):1,C=c>t.height?c/(t.height*.9):1;u=Math.max(h,C),console.log("\u{1F50D} \uC2A4\uCF00\uC77C \uACC4\uC0B0 \uC0C1\uC138:",{maxX:o,maxY:c,"dimensions.width":t.width,"dimensions.height":t.height,xScale:isFinite(h)?h.toFixed(3):String(h),yScale:isFinite(C)?C.toFixed(3):String(C),finalScaleFactor:isFinite(u)?u.toFixed(3):String(u)})}return console.log("\u{1F4CA} \uC88C\uD45C \uBC94\uC704 \uBD84\uC11D:",{xRange:{min:n,max:o},yRange:{min:i,max:c},needsScaling:m,scaleFactor:isFinite(u)?u.toFixed(3):String(u)}),{xRange:{min:n,max:o},yRange:{min:i,max:c},needsScaling:m,scaleFactor:u}}static convertToPdfY(e,t,n=1){return!isFinite(e)||!isFinite(t)||t<=0?(console.warn(`\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 SVG Y \uC88C\uD45C: svgY=${e}, height=${t}`),0):(t-e)*n}static convertToPdfX(e,t=1){return isFinite(e)?e*t:(console.warn(`\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 SVG X \uC88C\uD45C: svgX=${e}`),0)}static convertPointToPdf(e,t,n=1){return{x:this.convertToPdfX(e.x,n),y:this.convertToPdfY(e.y,t,n)}}};var se=class l{debugLogger=wt(Tt);db=null;dbReady;constructor(){this.dbReady=this.initDB()}initDB(){return E(this,null,function*(){return new Promise((e,t)=>{this.debugLogger.info(this.logCategory,`\u{1F527} ${this.dbName} \uCD08\uAE30\uD654 \uC2DC\uC791...`);let n=indexedDB.open(this.dbName,this.version);n.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C DB \uC5F4\uAE30 \uC2E4\uD328: ${n.error}`),this.db=null,t(n.error)},n.onsuccess=()=>{this.db=n.result,this.db.onclose=()=>{this.debugLogger.warn(this.logCategory,"\u26A0\uFE0F DB \uC5F0\uACB0\uC774 \uB2EB\uD798"),this.db=null},this.db.onerror=o=>{this.debugLogger.error(this.logCategory,`\u274C DB \uC624\uB958: ${o}`)},this.debugLogger.success(this.logCategory,`\u2705 ${this.dbName} \uCD08\uAE30\uD654 \uC131\uACF5`),e()},n.onupgradeneeded=o=>{this.debugLogger.info(this.logCategory,`\u2B06\uFE0F ${this.dbName} \uC5C5\uADF8\uB808\uC774\uB4DC \uC911...`);let i=o.target.result;this.createObjectStore(i),this.debugLogger.success(this.logCategory,`\u2705 ${this.dbName} \uC5C5\uADF8\uB808\uC774\uB4DC \uC644\uB8CC`)}})})}ensureDB(){return E(this,null,function*(){if(yield this.dbReady,this.db&&!this.db.objectStoreNames.length&&(this.db=null),this.db||(yield this.initDB()),!this.db)throw new Error(`${this.dbName} \uC5F0\uACB0 \uC2E4\uD328`);return this.db})}transaction(e,t){return E(this,null,function*(){let n=yield this.ensureDB();return new Promise((o,i)=>{let c=n.transaction([this.storeName],e),d=c.objectStore(this.storeName),g=t(d);g.onsuccess=()=>{o(g.result)},g.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uD2B8\uB79C\uC7AD\uC158 \uC624\uB958: ${g.error}`),i(g.error)},c.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uD2B8\uB79C\uC7AD\uC158 \uC2E4\uD328: ${c.error}`),i(c.error)}})})}save(e){return E(this,null,function*(){try{yield this.transaction("readwrite",t=>t.put(e)),this.debugLogger.success(this.logCategory,"\u{1F4BE} \uB370\uC774\uD130 \uC800\uC7A5 \uC644\uB8CC")}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130 \uC800\uC7A5 \uC2E4\uD328: ${t}`),t}})}getById(e){return E(this,null,function*(){try{return(yield this.transaction("readonly",n=>n.get(e)))||null}catch(t){return this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130 \uC870\uD68C \uC2E4\uD328: ${t}`),null}})}getAll(){return E(this,null,function*(){try{let e=yield this.transaction("readonly",t=>t.getAll());return this.debugLogger.info(this.logCategory,`\u{1F4CB} \uB370\uC774\uD130 \uBAA9\uB85D \uC870\uD68C \uC644\uB8CC: ${e.length}\uAC1C`),e}catch(e){return this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130 \uBAA9\uB85D \uC870\uD68C \uC2E4\uD328: ${e}`),[]}})}delete(e){return E(this,null,function*(){try{yield this.transaction("readwrite",t=>t.delete(e)),this.debugLogger.success(this.logCategory,`\u{1F5D1}\uFE0F \uB370\uC774\uD130 \uC0AD\uC81C \uC644\uB8CC: ${e}`)}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130 \uC0AD\uC81C \uC2E4\uD328: ${t}`),t}})}clear(){return E(this,null,function*(){try{yield this.transaction("readwrite",e=>e.clear()),this.debugLogger.success(this.logCategory,"\u{1F9F9} \uBAA8\uB4E0 \uB370\uC774\uD130 \uC0AD\uC81C \uC644\uB8CC")}catch(e){throw this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130 \uC0AD\uC81C \uC2E4\uD328: ${e}`),e}})}count(){return E(this,null,function*(){try{return yield this.transaction("readonly",t=>t.count())}catch(e){return this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130 \uAC1C\uC218 \uC870\uD68C \uC2E4\uD328: ${e}`),0}})}getByIndex(e,t){return E(this,null,function*(){try{let n=yield this.ensureDB();return new Promise((o,i)=>{let m=n.transaction([this.storeName],"readonly").objectStore(this.storeName).index(e).getAll(t);m.onsuccess=()=>{o(m.result)},m.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uC778\uB371\uC2A4 \uC870\uD68C \uC2E4\uD328: ${m.error}`),i(m.error)}})}catch(n){return this.debugLogger.error(this.logCategory,`\u274C \uC778\uB371\uC2A4 \uC870\uD68C \uC911 \uC624\uB958: ${n}`),[]}})}forEach(e,t="next"){return E(this,null,function*(){try{let n=yield this.ensureDB();return new Promise((o,i)=>{let g=n.transaction([this.storeName],"readonly").objectStore(this.storeName).openCursor(null,t);g.onsuccess=()=>E(this,null,function*(){let m=g.result;m?(yield e(m.value),m.continue()):o()}),g.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uCEE4\uC11C \uC21C\uD68C \uC2E4\uD328: ${g.error}`),i(g.error)}})}catch(n){throw this.debugLogger.error(this.logCategory,`\u274C \uCEE4\uC11C \uC21C\uD68C \uC911 \uC624\uB958: ${n}`),n}})}closeConnection(){this.db&&(this.db.close(),this.db=null,this.debugLogger.info(this.logCategory,`\u{1F50C} ${this.dbName} \uC5F0\uACB0 \uC885\uB8CC`))}resetDatabase(){return E(this,null,function*(){return new Promise((e,t)=>{this.closeConnection();let n=indexedDB.deleteDatabase(this.dbName);n.onsuccess=()=>{this.debugLogger.success(this.logCategory,`\u2705 ${this.dbName} \uC0AD\uC81C \uC644\uB8CC`),this.dbReady=this.initDB(),this.dbReady.then(()=>{this.debugLogger.success(this.logCategory,`\u2705 ${this.dbName} \uC7AC\uC0DD\uC131 \uC644\uB8CC`),e()}).catch(t)},n.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C ${this.dbName} \uC0AD\uC81C \uC2E4\uD328: ${n.error}`),t(n.error)},n.onblocked=()=>{this.debugLogger.warn(this.logCategory,`\u26A0\uFE0F ${this.dbName} \uC0AD\uC81C\uAC00 \uCC28\uB2E8\uB428 - \uB2E4\uB978 \uD0ED\uC5D0\uC11C \uC0AC\uC6A9 \uC911\uC77C \uC218 \uC788\uC2B5\uB2C8\uB2E4.`)}})})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac})};var le=class l extends se{dbName="EzReaderDB";storeName="documents";version=1;logCategory="IndexedDB-Document";constructor(){super(),this.initDB()}createObjectStore(e){if(!e.objectStoreNames.contains("documents")){let t=e.createObjectStore("documents",{keyPath:"id"});t.createIndex("title","title",{unique:!1}),t.createIndex("createdAt","createdAt",{unique:!1}),t.createIndex("updatedAt","updatedAt",{unique:!1}),this.debugLogger.info("IndexedDB-Init","\u{1F4E6} documents \uC800\uC7A5\uC18C \uC0DD\uC131\uB428")}e.objectStoreNames.contains("settings")||(e.createObjectStore("settings",{keyPath:"key"}),this.debugLogger.info("IndexedDB-Init","\u{1F4E6} settings \uC800\uC7A5\uC18C \uC0DD\uC131\uB428"))}saveDocument(e){return E(this,null,function*(){try{let n=(yield this.ensureDB()).transaction([this.storeName],"readwrite"),o=n.objectStore(this.storeName);return new Promise((i,c)=>{n.oncomplete=()=>{this.debugLogger.success(this.logCategory,`\u{1F4BE} \uBB38\uC11C \uC800\uC7A5 \uC644\uB8CC: ${e.title}`),i()},n.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uD2B8\uB79C\uC7AD\uC158 \uC624\uB958: ${n.error}`),c(n.error)};let d=o.get(e.id);d.onsuccess=()=>{let g=d.result;if(g)e.createdAt=g.createdAt,e.updatedAt=new Date().toISOString();else{let m=new Date().toISOString();e.createdAt=m,e.updatedAt=m}o.put(e)},d.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uAE30\uC874 \uBB38\uC11C \uC870\uD68C \uC2E4\uD328: ${d.error}`),c(d.error)}})}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uC800\uC7A5 \uC911 \uC624\uB958: ${t}`),t}})}getAllDocuments(){return E(this,null,function*(){try{let o=(yield this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).index("updatedAt");return new Promise((i,c)=>{let d=o.openCursor(null,"prev"),g=[];d.onsuccess=()=>{let m=d.result;m?(g.push(m.value),m.continue()):(this.debugLogger.info(this.logCategory,`\u{1F4C4} \uBB38\uC11C \uBAA9\uB85D \uC870\uD68C \uC644\uB8CC: ${g.length}\uAC1C`),i(g))},d.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uBAA9\uB85D \uC870\uD68C \uC2E4\uD328: ${d.error}`),c(d.error)}})}catch(e){return this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uBAA9\uB85D \uC870\uD68C \uC911 \uC624\uB958: ${e}`),[]}})}getDocumentById(e){return E(this,null,function*(){try{return yield this.getById(e)}catch(t){return this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uC870\uD68C \uC911 \uC624\uB958: ${t}`),null}})}deleteDocument(e){return E(this,null,function*(){try{yield this.delete(e),this.debugLogger.success(this.logCategory,`\u{1F5D1}\uFE0F \uBB38\uC11C \uC0AD\uC81C \uC131\uACF5: ${e}`)}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uC0AD\uC81C \uC911 \uC624\uB958: ${t}`),t}})}searchDocumentsByTitle(e){return E(this,null,function*(){try{let i=(yield this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).index("title");return new Promise((c,d)=>{let g=i.openCursor(IDBKeyRange.bound(e,e+"\uFFFF")),m=[];g.onsuccess=()=>{let u=g.result;u?(u.value.title.toLowerCase().includes(e.toLowerCase())&&m.push(u.value),u.continue()):c(m)},g.onerror=()=>{this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uAC80\uC0C9 \uC2E4\uD328: ${g.error}`),d(g.error)}})}catch(t){return this.debugLogger.error(this.logCategory,`\u274C \uBB38\uC11C \uAC80\uC0C9 \uC911 \uC624\uB958: ${t}`),[]}})}getRecentDocuments(e=5){return E(this,null,function*(){try{return(yield this.getAllDocuments()).slice(0,e)}catch(t){return this.debugLogger.error(this.logCategory,`\u274C \uCD5C\uADFC \uBB38\uC11C \uC870\uD68C \uC911 \uC624\uB958: ${t}`),[]}})}getStorageUsage(){return E(this,null,function*(){try{if("storage"in navigator&&"estimate"in navigator.storage){let e=yield navigator.storage.estimate();return{used:e.usage||0,quota:e.quota||0}}return{used:0,quota:0}}catch(e){return this.debugLogger.error(this.logCategory,`\u274C \uC2A4\uD1A0\uB9AC\uC9C0 \uC0AC\uC6A9\uB7C9 \uD655\uC778 \uC2E4\uD328: ${e}`),{used:0,quota:0}}})}cleanupOldDocuments(e=20){return E(this,null,function*(){try{let t=yield this.getAllDocuments();if(t.length>e){let n=t.slice(e);for(let o of n)yield this.deleteDocument(o.id);this.debugLogger.info(this.logCategory,`\u{1F9F9} \uC624\uB798\uB41C \uBB38\uC11C ${n.length}\uAC1C \uC0AD\uC81C \uC644\uB8CC`)}}catch(t){this.debugLogger.error(this.logCategory,`\u274C \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC815\uB9AC \uC911 \uC624\uB958: ${t}`)}})}migrateFromLocalStorage(){return E(this,null,function*(){try{let e=localStorage.getItem("savedDocuments");if(e){let t=JSON.parse(e);this.debugLogger.info("IndexedDB-Migration",`\u{1F504} \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC2DC\uC791: ${t.length}\uAC1C \uBB38\uC11C`);let n=0,o=0,i=5;for(let c=0;c<t.length;c+=i){let d=t.slice(c,c+i);for(let g of d)try{yield this.saveDocument(g),n++,this.debugLogger.success("IndexedDB-Migration",`\u2705 \uBB38\uC11C \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC131\uACF5: ${g.title} (${n}/${t.length})`)}catch(m){o++,this.debugLogger.error("IndexedDB-Migration",`\u274C \uAC1C\uBCC4 \uBB38\uC11C \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC2E4\uD328: ${g.title} - ${m}`)}c+i<t.length&&(yield new Promise(g=>setTimeout(g,10)))}this.debugLogger.info("IndexedDB-Migration",`\u{1F4CA} \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC644\uB8CC: \uC131\uACF5 ${n}\uAC1C, \uC2E4\uD328 ${o}\uAC1C`),n>0&&(localStorage.removeItem("savedDocuments"),this.debugLogger.info("IndexedDB-Migration","\u{1F9F9} localStorage \uC815\uB9AC \uC644\uB8CC"))}else this.debugLogger.info("IndexedDB-Migration","\u2139\uFE0F \uB9C8\uC774\uADF8\uB808\uC774\uC158\uD560 localStorage \uB370\uC774\uD130 \uC5C6\uC74C")}catch(e){throw this.debugLogger.error("IndexedDB-Migration",`\u274C \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC911 \uC624\uB958: ${e}`),e}})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var we=class l extends se{dbName="PdfAnalysisCacheDB";storeName="pdfAnalysis";version=1;logCategory="PdfCache";constructor(){super(),this.initDB()}createObjectStore(e){if(!e.objectStoreNames.contains(this.storeName)){let t=e.createObjectStore(this.storeName,{keyPath:"id"});t.createIndex("fileName","fileName",{unique:!1}),t.createIndex("timestamp","timestamp",{unique:!1}),t.createIndex("fileSize","fileSize",{unique:!1}),this.debugLogger.info(this.logCategory,"\u{1F4E6} pdfAnalysis \uC800\uC7A5\uC18C \uC0DD\uC131\uB428")}}savePdfAnalysis(e){return E(this,null,function*(){try{yield this.save(e),this.debugLogger.success(this.logCategory,`\u{1F4BE} PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC644\uB8CC: ${e.fileName} (${e.id})`)}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC2E4\uD328: ${t}`),t}})}loadPdfAnalysis(e){return E(this,null,function*(){try{let t=yield this.getById(e);return t?this.debugLogger.success(this.logCategory,`\u{1F4C2} PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC: ${t.fileName} (${e})`):this.debugLogger.warn(this.logCategory,`\u26A0\uFE0F PDF \uBD84\uC11D \uB370\uC774\uD130 \uC5C6\uC74C: ${e}`),t}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328: ${t}`),t}})}deletePdfAnalysis(e){return E(this,null,function*(){try{yield this.delete(e),this.debugLogger.success(this.logCategory,`\u{1F5D1}\uFE0F PDF \uBD84\uC11D \uB370\uC774\uD130 \uC0AD\uC81C \uC644\uB8CC: ${e}`)}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uC0AD\uC81C \uC2E4\uD328: ${t}`),t}})}clearAllPdfAnalysis(){return E(this,null,function*(){try{yield this.clear(),this.debugLogger.success(this.logCategory,"\u{1F9F9} \uBAA8\uB4E0 PDF \uBD84\uC11D \uB370\uC774\uD130 \uC0AD\uC81C \uC644\uB8CC")}catch(e){throw this.debugLogger.error(this.logCategory,`\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uC804\uCCB4 \uC0AD\uC81C \uC2E4\uD328: ${e}`),e}})}getAllPdfAnalysis(){return E(this,null,function*(){try{let e=yield this.getAll();return this.debugLogger.info(this.logCategory,`\u{1F4CB} PDF \uCE90\uC2DC \uBAA9\uB85D \uC870\uD68C \uC644\uB8CC: ${e.length}\uAC1C`),e}catch(e){throw this.debugLogger.error(this.logCategory,`\u274C PDF \uCE90\uC2DC \uBAA9\uB85D \uC870\uD68C \uC2E4\uD328: ${e}`),e}})}cleanupOldCache(){return E(this,arguments,function*(e=7*24*60*60*1e3){try{let t=yield this.getAllPdfAnalysis(),n=Date.now(),o=0;for(let i of t)n-i.timestamp>e&&(yield this.deletePdfAnalysis(i.id),o++);return o>0?this.debugLogger.info(this.logCategory,`\u{1F9F9} \uC624\uB798\uB41C PDF \uCE90\uC2DC ${o}\uAC1C \uC815\uB9AC \uC644\uB8CC`):this.debugLogger.info(this.logCategory,"\u2139\uFE0F \uC815\uB9AC\uD560 \uC624\uB798\uB41C \uCE90\uC2DC \uC5C6\uC74C"),o}catch(t){throw this.debugLogger.error(this.logCategory,`\u274C \uCE90\uC2DC \uC815\uB9AC \uC911 \uC624\uB958: ${t}`),t}})}getCacheStats(){return E(this,null,function*(){try{let e=yield this.getAllPdfAnalysis();if(e.length===0)return{count:0,totalSize:0,oldestTimestamp:0,newestTimestamp:0};let t=e.reduce((c,d)=>c+d.fileSize,0),n=e.map(c=>c.timestamp),o=Math.min(...n),i=Math.max(...n);return this.debugLogger.info(this.logCategory,`\u{1F4CA} \uCE90\uC2DC \uD1B5\uACC4: ${e.length}\uAC1C, \uCD1D ${(t/1024/1024).toFixed(2)}MB`),{count:e.length,totalSize:t,oldestTimestamp:o,newestTimestamp:i}}catch(e){throw this.debugLogger.error(this.logCategory,`\u274C \uCE90\uC2DC \uD1B5\uACC4 \uC870\uD68C \uC2E4\uD328: ${e}`),e}})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var De=class l{constructor(){}renderVectorGraphicsToCanvas(e,t,n=1,o){return E(this,null,function*(){console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D Canvas \uB80C\uB354\uB9C1 \uC2DC\uC791:",{pageNumber:n,options:o});let i=t.getContext("2d");if(!i)throw new Error("Canvas 2D \uCEE8\uD14D\uC2A4\uD2B8\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");t.width=o.canvasWidth,t.height=o.canvasHeight,i.clearRect(0,0,t.width,t.height),i.save();let c=o.scale||1,d=o.offsetX||0,g=o.offsetY||0;i.scale(c,c),i.translate(d,g),i.strokeStyle=o.strokeColor||"#2c3e50",i.fillStyle=o.fillColor||"transparent",i.lineWidth=o.strokeWidth||2;let m=[],u=e.pageDetails.find(y=>y.pageNumber===n);if(!u)return console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${n}\uC758 \uBCA1\uD130 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`),i.restore(),m;console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${n}: ${u.operations.length}\uAC1C \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC2DC\uC791`);let h=new Path2D,C=!1,_=0,P=0;for(let y=0;y<u.operations.length;y++){let D=u.operations[y];try{let w=this.renderSingleOperation(i,D,h,{currentX:_,currentY:P,pathStarted:C},y,n,o);w&&(m.push(w),w.coordinates.length>=2&&(_=w.coordinates[w.coordinates.length-2],P=w.coordinates[w.coordinates.length-1]),w.type==="path"&&(C=!0))}catch(w){console.error(`\u274C \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC624\uB958 [${y}]:`,D.type,w)}}return i.restore(),console.log(`\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uB80C\uB354\uB9C1 \uC644\uB8CC: ${m.length}\uAC1C \uC694\uC18C`),o.showDebugInfo&&this.drawDebugInfo(i,m,o),m})}renderSingleOperation(e,t,n,o,i,c,d){let g=t.args||[],m="",u={x:0,y:0,width:0,height:0},h=[];switch(t.type){case"moveTo":if(g.length>=2){let C=Number(g[0]),_=Number(g[1]);n.moveTo(C,_),o.currentX=C,o.currentY=_,o.pathStarted=!0,m=`M ${C} ${_}`,h=[C,_],u={x:C,y:_,width:0,height:0},d.showDebugInfo&&(e.save(),e.fillStyle="#e74c3c",e.beginPath(),e.arc(C,_,3,0,2*Math.PI),e.fill(),e.restore())}break;case"lineTo":if(g.length>=2){let C=Number(g[0]),_=Number(g[1]);n.lineTo(C,_),m=`L ${C} ${_}`,h=[o.currentX,o.currentY,C,_],u=this.calculateBoundingBox(h),d.showDebugInfo&&(e.save(),e.strokeStyle="#3498db",e.lineWidth=2,e.beginPath(),e.moveTo(o.currentX,o.currentY),e.lineTo(C,_),e.stroke(),e.restore()),o.currentX=C,o.currentY=_}break;case"curve":if(g.length>=6){let C=Number(g[0]),_=Number(g[1]),P=Number(g[2]),y=Number(g[3]),D=Number(g[4]),w=Number(g[5]);n.bezierCurveTo(C,_,P,y,D,w),m=`C ${C} ${_} ${P} ${y} ${D} ${w}`,h=[o.currentX,o.currentY,C,_,P,y,D,w],u=this.calculateBoundingBox([o.currentX,o.currentY,D,w]),o.currentX=D,o.currentY=w}break;case"rectangle":if(g.length>=4){let C=Number(g[0]),_=Number(g[1]),P=Number(g[2]),y=Number(g[3]);n.rect(C,_,P,y),m=`M ${C} ${_} L ${C+P} ${_} L ${C+P} ${_+y} L ${C} ${_+y} Z`,h=[C,_,P,y],u={x:C,y:_,width:P,height:y},d.showDebugInfo&&(e.save(),e.strokeStyle="#9b59b6",e.lineWidth=2,e.strokeRect(C,_,P,y),e.restore())}break;case"fill":return e.fill(n),{id:`fill-${i}`,type:"fill",svgPath:"",boundingBox:{x:0,y:0,width:0,height:0},style:{fill:e.fillStyle.toString()},coordinates:[],pageNumber:c};case"stroke":return e.stroke(n),{id:`stroke-${i}`,type:"stroke",svgPath:"",boundingBox:{x:0,y:0,width:0,height:0},style:{stroke:e.strokeStyle.toString(),strokeWidth:e.lineWidth},coordinates:[],pageNumber:c};case"closePath":n.closePath(),m="Z",h=[],u={x:0,y:0,width:0,height:0};break;default:return null}return!m&&t.type!=="fill"&&t.type!=="stroke"?null:{id:`${t.type}-${i}`,type:t.type,svgPath:m,boundingBox:u,style:{stroke:e.strokeStyle.toString(),fill:e.fillStyle.toString(),strokeWidth:e.lineWidth},coordinates:h,pageNumber:c}}convertVectorDataToSVG(e,t=1,n){console.log("\u{1F5BC}\uFE0F \uBCA1\uD130 \uB370\uC774\uD130 SVG \uBCC0\uD658 \uC2DC\uC791:",{pageNumber:t});let o=e.pageDetails.find(C=>C.pageNumber===t);if(!o)return console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC758 \uBCA1\uD130 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`),"";let i=n.scale||1,c=n.strokeColor||"#2c3e50",d=n.fillColor||"none",g=n.strokeWidth||2,m=`<svg width="${n.canvasWidth}" height="${n.canvasHeight}" xmlns="http://www.w3.org/2000/svg">`;m+=`<g transform="scale(${i})">`;let u="",h=!1;for(let C of o.operations){let _=C.args||[];switch(C.type){case"moveTo":_.length>=2&&(h&&(m+=`<path d="${u}" fill="${d}" stroke="${c}" stroke-width="${g}"/>`),u=`M ${_[0]} ${_[1]}`,h=!0);break;case"lineTo":_.length>=2&&h&&(u+=` L ${_[0]} ${_[1]}`);break;case"curve":_.length>=6&&h&&(u+=` C ${_[0]} ${_[1]} ${_[2]} ${_[3]} ${_[4]} ${_[5]}`);break;case"rectangle":if(_.length>=4){let P=_[0],y=_[1],D=_[2],w=_[3];m+=`<rect x="${P}" y="${y}" width="${D}" height="${w}" fill="${d}" stroke="${c}" stroke-width="${g}"/>`}break;case"closePath":h&&(u+=" Z");break}}return h&&u&&(m+=`<path d="${u}" fill="${d}" stroke="${c}" stroke-width="${g}"/>`),m+="</g></svg>",console.log("\u2705 SVG \uBCC0\uD658 \uC644\uB8CC"),m}calculateBoundingBox(e){if(e.length<2)return{x:0,y:0,width:0,height:0};let t=e[0],n=e[0],o=e[1],i=e[1];for(let c=2;c<e.length;c+=2)c+1<e.length&&(t=Math.min(t,e[c]),n=Math.max(n,e[c]),o=Math.min(o,e[c+1]),i=Math.max(i,e[c+1]));return{x:t,y:o,width:n-t,height:i-o}}drawDebugInfo(e,t,n){e.save(),e.font="12px Arial",e.fillStyle="#2c3e50",e.strokeStyle="#e74c3c",e.lineWidth=1,[`\uB80C\uB354\uB9C1\uB41C \uC694\uC18C: ${t.length}\uAC1C`,`\uACBD\uB85C: ${t.filter(i=>i.type==="path").length}\uAC1C`,`\uC120: ${t.filter(i=>i.type==="line").length}\uAC1C`,`\uACE1\uC120: ${t.filter(i=>i.type==="curve").length}\uAC1C`,`\uC0AC\uAC01\uD615: ${t.filter(i=>i.type==="rectangle").length}\uAC1C`].forEach((i,c)=>{e.fillText(i,10,20+c*20)}),t.forEach(i=>{i.boundingBox.width>0&&i.boundingBox.height>0&&e.strokeRect(i.boundingBox.x,i.boundingBox.y,i.boundingBox.width,i.boundingBox.height)}),e.restore()}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Vt=class l{constructor(e){this.router=e;this.checkSessionExpiry()}STORAGE_KEY="docs_auth_token";SESSION_KEY="docs_session_timestamp";SESSION_DURATION=8*60*60*1e3;isAuthenticatedSubject=new Pt(this.checkAuth());isAuthenticated$=this.isAuthenticatedSubject.asObservable();AUTH_HASH=this.simpleHash("admin9920");EZ_AUTH_HASH=this.simpleHash("admin1234");login(e,t){let n=this.simpleHash(e+t),o=St.ezMode?this.EZ_AUTH_HASH:this.AUTH_HASH;if(n===o){let i=Date.now().toString();return sessionStorage.setItem(this.STORAGE_KEY,"authenticated"),sessionStorage.setItem(this.SESSION_KEY,i),this.isAuthenticatedSubject.next(!0),!0}return!1}logout(){sessionStorage.removeItem(this.STORAGE_KEY),sessionStorage.removeItem(this.SESSION_KEY),this.isAuthenticatedSubject.next(!1),this.router.navigate(["/docs/login"])}isAuthenticated(){return this.checkAuth()}checkAuth(){let e=sessionStorage.getItem(this.STORAGE_KEY),t=sessionStorage.getItem(this.SESSION_KEY);if(!e||!t)return!1;let n=parseInt(t,10);return Date.now()-n>this.SESSION_DURATION?(this.logout(),!1):e==="authenticated"}checkSessionExpiry(){setInterval(()=>{!this.checkAuth()&&this.isAuthenticatedSubject.value&&this.logout()},6e4)}simpleHash(e){let t=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);t=(t<<5)-t+o,t=t&t}return Math.abs(t).toString(16).padStart(16,"0")}static \u0275fac=function(t){return new(t||l)(zt(vt))};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Se=class l{DEFAULT_PAGE_WIDTH=595.28;DEFAULT_PAGE_HEIGHT=841.89;pagesSubject=new Pt([]);currentPageNumberSubject=new Pt(1);totalPagesSubject=new Pt(0);pages$=this.pagesSubject.asObservable();currentPageNumber$=this.currentPageNumberSubject.asObservable();totalPages$=this.totalPagesSubject.asObservable();constructor(){console.log("\u{1F4C4} PageManagerService \uCD08\uAE30\uD654")}getState(){return{pages:this.pagesSubject.value,currentPageNumber:this.currentPageNumberSubject.value,totalPages:this.totalPagesSubject.value}}getPages(){return this.pagesSubject.value}getCurrentPageNumber(){return this.currentPageNumberSubject.value}getTotalPages(){return this.totalPagesSubject.value}getPage(e){return this.pagesSubject.value.find(n=>n.pageNumber===e)}getCurrentPage(){return this.getPage(this.currentPageNumberSubject.value)}initializePages(e,t=1){console.log(`\u{1F4C4} \uD398\uC774\uC9C0 \uCD08\uAE30\uD654: ${e.length}\uAC1C \uD398\uC774\uC9C0`),this.pagesSubject.next(e),this.totalPagesSubject.next(e.length),t>=1&&t<=e.length?this.currentPageNumberSubject.next(t):this.currentPageNumberSubject.next(1)}initializeWithEmptyPage(e=this.DEFAULT_PAGE_WIDTH,t=this.DEFAULT_PAGE_HEIGHT){let n=this.createEmptyPage(1,e,t);this.initializePages([n],1)}createEmptyPage(e,t=this.DEFAULT_PAGE_WIDTH,n=this.DEFAULT_PAGE_HEIGHT){return{id:`page-${e}`,pageNumber:e,elements:[],width:t,height:n}}addNewPage(e=this.DEFAULT_PAGE_WIDTH,t=this.DEFAULT_PAGE_HEIGHT,n=!0){let o=this.pagesSubject.value,i=o.length+1,c=this.createEmptyPage(i,e,t),d=[...o,c];return this.pagesSubject.next(d),this.totalPagesSubject.next(d.length),n&&this.currentPageNumberSubject.next(i),console.log(`\u2795 \uD398\uC774\uC9C0 \uCD94\uAC00: ${i}\uBC88 \uD398\uC774\uC9C0`),c}insertPage(e,t=this.DEFAULT_PAGE_WIDTH,n=this.DEFAULT_PAGE_HEIGHT){let o=this.pagesSubject.value;if(e<1||e>o.length+1)return console.warn(`\u274C \uC798\uBABB\uB41C \uC0BD\uC785 \uC704\uCE58: ${e}`),null;let i=this.createEmptyPage(e,t,n),c=[...o.slice(0,e-1),i,...o.slice(e-1)];return this.renumberPages(c),this.pagesSubject.next(c),this.totalPagesSubject.next(c.length),console.log(`\u2795 \uD398\uC774\uC9C0 \uC0BD\uC785: ${e}\uBC88 \uC704\uCE58`),i}deletePage(e){let t=this.pagesSubject.value;if(t.length<=1)return console.warn("\u274C \uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0\uB294 \uC0AD\uC81C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),!1;if(e<1||e>t.length)return console.warn(`\u274C \uC798\uBABB\uB41C \uD398\uC774\uC9C0 \uBC88\uD638: ${e}`),!1;let n=e-1,o=[...t.slice(0,n),...t.slice(n+1)];this.renumberPages(o),this.pagesSubject.next(o),this.totalPagesSubject.next(o.length);let i=this.currentPageNumberSubject.value;return i>o.length?this.currentPageNumberSubject.next(o.length):i===e&&i>1&&this.currentPageNumberSubject.next(i-1),console.log(`\u{1F5D1}\uFE0F \uD398\uC774\uC9C0 \uC0AD\uC81C: ${e}\uBC88 \uD398\uC774\uC9C0`),!0}deleteCurrentPage(){return this.deletePage(this.currentPageNumberSubject.value)}keepOnlyFirstPage(){let e=this.pagesSubject.value;if(e.length<=1)return console.log("\u2139\uFE0F \uC774\uBBF8 \uD398\uC774\uC9C0\uAC00 1\uAC1C\uC785\uB2C8\uB2E4."),!0;let t=e[0];return this.pagesSubject.next([t]),this.totalPagesSubject.next(1),this.currentPageNumberSubject.next(1),console.log(`\u{1F5D1}\uFE0F \uCCAB \uD398\uC774\uC9C0\uB9CC \uC720\uC9C0: ${e.length-1}\uAC1C \uD398\uC774\uC9C0 \uC0AD\uC81C\uB428`),!0}switchToPage(e){let t=this.pagesSubject.value;return e<1||e>t.length?(console.warn(`\u274C \uC798\uBABB\uB41C \uD398\uC774\uC9C0 \uBC88\uD638: ${e}`),!1):(this.currentPageNumberSubject.next(e),console.log(`\u{1F4C4} \uD398\uC774\uC9C0 \uC804\uD658: ${e}\uBC88`),!0)}previousPage(){let e=this.currentPageNumberSubject.value;return e<=1?(console.warn("\u274C \uCCAB \uD398\uC774\uC9C0\uC785\uB2C8\uB2E4."),!1):this.switchToPage(e-1)}nextPage(e=!1){let t=this.currentPageNumberSubject.value,n=this.totalPagesSubject.value;return t<n?this.switchToPage(t+1):e?(this.addNewPage(),!0):(console.warn("\u274C \uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0\uC785\uB2C8\uB2E4."),!1)}goToFirstPage(){return this.switchToPage(1)}goToLastPage(){return this.switchToPage(this.totalPagesSubject.value)}rotatePage(e){let t=this.pagesSubject.value,n=e-1;if(n<0||n>=t.length)return console.warn(`\u274C \uC798\uBABB\uB41C \uD398\uC774\uC9C0 \uBC88\uD638: ${e}`),!1;let o=t[n],i=o.width;return o.width=o.height,o.height=i,o.elements.forEach(c=>{let d=c.x;c.x=o.width-c.y-c.height,c.y=d;let g=c.width;c.width=c.height,c.height=g}),this.pagesSubject.next([...t]),console.log(`\u{1F504} \uD398\uC774\uC9C0 \uD68C\uC804: ${e}\uBC88 \uD398\uC774\uC9C0`),!0}rotateCurrentPage(){return this.rotatePage(this.currentPageNumberSubject.value)}renumberPages(e){e.forEach((t,n)=>{t.pageNumber=n+1,t.id=`page-${n+1}`})}updatePage(e,t){let n=this.pagesSubject.value,o=e-1;if(o<0||o>=n.length)return console.warn(`\u274C \uC798\uBABB\uB41C \uD398\uC774\uC9C0 \uBC88\uD638: ${e}`),!1;let i=[...n];return i[o]=yt(it(it({},i[o]),t),{pageNumber:e,id:`page-${e}`}),this.pagesSubject.next(i),!0}reset(){console.log("\u{1F504} PageManagerService \uCD08\uAE30\uD654"),this.initializeWithEmptyPage()}hasPage(e){let t=this.pagesSubject.value;return e>=1&&e<=t.length}isPageEmpty(e){let t=this.getPage(e);return t?t.elements.length===0:!0}isFirstPage(){return this.currentPageNumberSubject.value===1}isLastPage(){return this.currentPageNumberSubject.value===this.totalPagesSubject.value}addElementToPage(e,t){let n=[...this.pagesSubject.value],o=n.find(i=>i.pageNumber===t);return o?(o.elements.push(e),this.pagesSubject.next(n),console.log(`\u2705 \uD398\uC774\uC9C0 ${t}\uC5D0 \uC694\uC18C \uCD94\uAC00: ${e.id}`),!0):(console.error(`\u274C \uD398\uC774\uC9C0 ${t}\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4`),!1)}deleteElementFromPage(e,t){let n=[...this.pagesSubject.value],o=n.find(c=>c.pageNumber===t);if(!o)return console.error(`\u274C \uD398\uC774\uC9C0 ${t}\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4`),!1;let i=o.elements.findIndex(c=>c.id===e);return i===-1?(console.warn(`\u26A0\uFE0F \uC694\uC18C ${e}\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4`),!1):(o.elements.splice(i,1),this.pagesSubject.next(n),console.log(`\u2705 \uD398\uC774\uC9C0 ${t}\uC5D0\uC11C \uC694\uC18C \uC0AD\uC81C: ${e}`),!0)}updateElementInPage(e,t){let n=[...this.pagesSubject.value],o=n.find(c=>c.pageNumber===t);if(!o)return console.error(`\u274C \uD398\uC774\uC9C0 ${t}\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4`),!1;let i=o.elements.findIndex(c=>c.id===e.id);return i===-1?(console.warn(`\u26A0\uFE0F \uC694\uC18C ${e.id}\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4`),!1):(o.elements[i]=e,this.pagesSubject.next(n),console.log(`\u2705 \uD398\uC774\uC9C0 ${t}\uC758 \uC694\uC18C \uC5C5\uB370\uC774\uD2B8: ${e.id}`),!0)}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var pe=class l{DEFAULT_MAX_HISTORY_SIZE=20;undoStack=[];redoStack=[];maxHistorySize=this.DEFAULT_MAX_HISTORY_SIZE;canUndoSubject=new Pt(!1);canRedoSubject=new Pt(!1);undoStackSizeSubject=new Pt(0);redoStackSizeSubject=new Pt(0);canUndo$=this.canUndoSubject.asObservable();canRedo$=this.canRedoSubject.asObservable();undoStackSize$=this.undoStackSizeSubject.asObservable();redoStackSize$=this.redoStackSizeSubject.asObservable();constructor(){console.log("\u23EE\uFE0F HistoryManagerService \uCD08\uAE30\uD654")}setMaxHistorySize(e){if(e<1){console.warn("\u274C \uCD5C\uB300 \uD788\uC2A4\uD1A0\uB9AC \uD06C\uAE30\uB294 1 \uC774\uC0C1\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4.");return}this.maxHistorySize=e,this.trimUndoStack(),this.updateState(),console.log(`\u2699\uFE0F \uCD5C\uB300 \uD788\uC2A4\uD1A0\uB9AC \uD06C\uAE30 \uC124\uC815: ${e}`)}saveState(e){let t=this.deepCopy(e);this.undoStack.push(t),this.redoStack=[],this.trimUndoStack(),this.updateState(),console.log(`\u{1F4BE} \uC0C1\uD0DC \uC800\uC7A5 (Undo \uC2A4\uD0DD \uD06C\uAE30: ${this.undoStack.length})`)}undo(){if(!this.canUndo())return console.warn("\u274C Undo \uBD88\uAC00\uB2A5: Undo \uC2A4\uD0DD\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4."),null;let e=this.undoStack.pop();return e?(this.redoStack.push(e),this.updateState(),console.log(`\u23EE\uFE0F Undo \uC2E4\uD589 (Undo: ${this.undoStack.length}, Redo: ${this.redoStack.length})`),this.deepCopy(e)):null}redo(){if(!this.canRedo())return console.warn("\u274C Redo \uBD88\uAC00\uB2A5: Redo \uC2A4\uD0DD\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4."),null;let e=this.redoStack.pop();return e?(this.undoStack.push(e),this.updateState(),console.log(`\u23ED\uFE0F Redo \uC2E4\uD589 (Undo: ${this.undoStack.length}, Redo: ${this.redoStack.length})`),this.deepCopy(e)):null}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getUndoStackSize(){return this.undoStack.length}getRedoStackSize(){return this.redoStack.length}getState(){return{canUndo:this.canUndo(),canRedo:this.canRedo(),undoStackSize:this.undoStack.length,redoStackSize:this.redoStack.length,currentState:this.undoStack.length>0?this.deepCopy(this.undoStack[this.undoStack.length-1]):void 0}}reset(){this.undoStack=[],this.redoStack=[],this.updateState(),console.log("\u{1F504} \uD788\uC2A4\uD1A0\uB9AC \uCD08\uAE30\uD654")}clearUndoStack(){this.undoStack=[],this.updateState(),console.log("\u{1F5D1}\uFE0F Undo \uC2A4\uD0DD \uCD08\uAE30\uD654")}clearRedoStack(){this.redoStack=[],this.updateState(),console.log("\u{1F5D1}\uFE0F Redo \uC2A4\uD0DD \uCD08\uAE30\uD654")}goToState(e){if(e<0||e>=this.undoStack.length)return console.warn(`\u274C \uC798\uBABB\uB41C \uD788\uC2A4\uD1A0\uB9AC \uC778\uB371\uC2A4: ${e}`),null;let t=this.undoStack[e],n=this.undoStack.splice(e+1);return this.redoStack=n.reverse(),this.updateState(),console.log(`\u23ED\uFE0F \uD788\uC2A4\uD1A0\uB9AC \uC774\uB3D9: \uC778\uB371\uC2A4 ${e}`),this.deepCopy(t)}getHistory(){return this.undoStack.map(e=>this.deepCopy(e))}deepCopy(e){if(e==null)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return console.error("\u274C Deep copy \uC2E4\uD328:",t),it({},e)}}trimUndoStack(){for(;this.undoStack.length>this.maxHistorySize;)this.undoStack.shift()}updateState(){this.canUndoSubject.next(this.canUndo()),this.canRedoSubject.next(this.canRedo()),this.undoStackSizeSubject.next(this.undoStack.length),this.redoStackSizeSubject.next(this.redoStack.length)}debugPrintHistory(){console.group("\u{1F4DC} \uD788\uC2A4\uD1A0\uB9AC \uC815\uBCF4"),console.log("Undo \uC2A4\uD0DD \uD06C\uAE30:",this.undoStack.length),console.log("Redo \uC2A4\uD0DD \uD06C\uAE30:",this.redoStack.length),console.log("\uCD5C\uB300 \uD788\uC2A4\uD1A0\uB9AC \uD06C\uAE30:",this.maxHistorySize),console.log("Undo \uAC00\uB2A5:",this.canUndo()),console.log("Redo \uAC00\uB2A5:",this.canRedo()),console.groupEnd()}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})},Ee=class l{pageHistories=new Map;currentPageNumber=1;constructor(){console.log("\u{1F4DA} PageHistoryManagerService \uCD08\uAE30\uD654")}setCurrentPage(e){this.currentPageNumber=e,this.pageHistories.has(e)||this.pageHistories.set(e,new pe)}getCurrentPageHistory(){return this.pageHistories.has(this.currentPageNumber)||this.pageHistories.set(this.currentPageNumber,new pe),this.pageHistories.get(this.currentPageNumber)}getPageHistory(e){return this.pageHistories.has(e)||this.pageHistories.set(e,new pe),this.pageHistories.get(e)}saveCurrentPageState(e){this.getCurrentPageHistory().saveState(e)}undoCurrentPage(){return this.getCurrentPageHistory().undo()}redoCurrentPage(){return this.getCurrentPageHistory().redo()}removePage(e){this.pageHistories.delete(e),console.log(`\u{1F5D1}\uFE0F \uD398\uC774\uC9C0 ${e} \uD788\uC2A4\uD1A0\uB9AC \uC0AD\uC81C`)}resetAll(){this.pageHistories.clear(),console.log("\u{1F504} \uBAA8\uB4E0 \uD398\uC774\uC9C0 \uD788\uC2A4\uD1A0\uB9AC \uCD08\uAE30\uD654")}renumberPages(e){let t=new Map;e.forEach((n,o)=>{let i=this.pageHistories.get(o);i&&t.set(n,i)}),this.pageHistories=t,console.log("\u{1F522} \uD398\uC774\uC9C0 \uD788\uC2A4\uD1A0\uB9AC \uBC88\uD638 \uC7AC\uC870\uC815 \uC644\uB8CC")}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var ke=class l{selectedElementSubject=new Pt(null);selectedPageNumberSubject=new Pt(null);selectedElement$=this.selectedElementSubject.asObservable();selectedPageNumber$=this.selectedPageNumberSubject.asObservable();elementIdCounter=0;constructor(){console.log("\u{1F3AF} ElementStateManagerService \uCD08\uAE30\uD654")}selectElement(e,t){this.selectedElementSubject.next(e),this.selectedPageNumberSubject.next(t),console.log(`\u{1F3AF} \uC694\uC18C \uC120\uD0DD: ${e.id} (\uD398\uC774\uC9C0 ${t})`)}deselectElement(){this.selectedElementSubject.next(null),this.selectedPageNumberSubject.next(null),console.log("\u{1F3AF} \uC694\uC18C \uC120\uD0DD \uD574\uC81C")}getSelectedElement(){return this.selectedElementSubject.value}getSelectedPageNumber(){return this.selectedPageNumberSubject.value}getSelection(){let e=this.selectedElementSubject.value,t=this.selectedPageNumberSubject.value;return e&&t?{element:e,pageNumber:t}:null}hasSelection(){return this.selectedElementSubject.value!==null}isElementSelected(e){let t=this.selectedElementSubject.value;return t!==null&&t.id===e}updateSelectedElement(e){let t=this.selectedElementSubject.value;if(!t)return console.warn("\u274C \uC120\uD0DD\uB41C \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),null;let n=yt(it(it({},t),e),{id:t.id});return this.selectedElementSubject.next(n),console.log(`\u{1F504} \uC694\uC18C \uC5C5\uB370\uC774\uD2B8: ${n.id}`),n}generateElementId(){this.elementIdCounter++;let e=Date.now(),t=Math.random().toString(36).substr(2,9);return`element-${e}-${this.elementIdCounter}-${t}`}createTextElement(e,t,n="\uD14D\uC2A4\uD2B8",o=16,i="#000000"){return{id:this.generateElementId(),type:"text",x:e,y:t,width:200,height:50,text:n,fontSize:o,fontFamily:"Arial",color:i}}createImageElement(e,t,n,o=200,i=150){return{id:this.generateElementId(),type:"image",x:e,y:t,width:o,height:i,src:n}}createShapeElement(e,t,n,o=100,i=100,c="#cccccc",d="#000000",g=2){return{id:this.generateElementId(),type:"shape",x:e,y:t,width:o,height:i,shapeType:n,fillColor:c,strokeColor:d,strokeWidth:g}}createVectorPathElement(e,t,n,o=100,i=100,c="none",d="#000000",g=2){return{id:this.generateElementId(),type:"vector-path",x:e,y:t,width:o,height:i,pathData:n,fill:c,strokeColor:d,strokeWidth:g}}createSignatureElement(e,t,n,o=200,i=60){return{id:this.generateElementId(),type:"signature",x:e,y:t,width:o,height:i,text:n,fontFamily:"Cursive",fontSize:24,color:"#000080"}}createWatermarkElement(e,t,n,o=400,i=100,c=.3){return{id:this.generateElementId(),type:"watermark",x:e,y:t,width:o,height:i,text:n,fontSize:48,color:"#cccccc",fillOpacity:c}}createSvgElement(e,t,n,o=100,i=100){return{id:this.generateElementId(),type:"svg",x:e,y:t,width:o,height:i,svgContent:n,content:n}}cloneElement(e,t=10,n=10){return yt(it({},e),{id:this.generateElementId(),x:e.x+t,y:e.y+n})}isValidElementType(e){return["text","image","shape","signature","vector-path","watermark","svg"].includes(e)}validateElement(e){return e&&typeof e.id=="string"&&this.isValidElementType(e.type)&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}updateElementPosition(e,t,n){let o=this.selectedElementSubject.value;return o&&o.id===e?(this.updateSelectedElement({x:t,y:n}),!0):!1}updateElementSize(e,t,n){let o=this.selectedElementSubject.value;return o&&o.id===e?(this.updateSelectedElement({width:t,height:n}),!0):!1}updateElementStyle(e,t){let n=this.selectedElementSubject.value;return n&&n.id===e?(this.updateSelectedElement(t),!0):!1}isElementInBounds(e,t){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height}doElementsOverlap(e,t){return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}getElementCenter(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}getElementBounds(e){return{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height,width:e.width,height:e.height}}reset(){this.deselectElement(),this.elementIdCounter=0,console.log("\u{1F504} ElementStateManagerService \uCD08\uAE30\uD654")}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Te=class l{constructor(){console.log("\u{1F3A8} VectorSvgGeneratorService \uCD08\uAE30\uD654")}generateSvgFromOperations(e,t){let i=.6722689075630253,c=565/842,d=[],g="",m=!1;for(let u of e.operations)try{switch(u.type){case"moveTo":g&&m&&d.push(g),g=`<path d="M ${u.x*i} ${u.y*c}`,m=!0;break;case"lineTo":m&&(g+=` L ${u.x*i} ${u.y*c}`);break;case"curveTo":m&&(g+=` C ${u.cp1x*i} ${u.cp1y*c}, ${u.cp2x*i} ${u.cp2y*c}, ${u.x*i} ${u.y*c}`);break;case"closePath":if(m){g+=' Z"';let w=u.fill||"none",v=u.stroke||"#000000",k=(u.strokeWidth||1)*Math.min(i,c);g+=` fill="${w}" stroke="${v}" stroke-width="${k}" />`,d.push(g),g="",m=!1}break;case"rect":let h=u.x*i,C=u.y*c,_=u.width*i,P=u.height*c,y=u.fill||"none",D=u.stroke||"#000000";d.push(`<rect x="${h}" y="${C}" width="${_}" height="${P}" fill="${y}" stroke="${D}" />`);break}}catch(h){console.warn("\u26A0\uFE0F Operation \uCC98\uB9AC \uC624\uB958:",u,h)}return g&&m&&(g+='" fill="none" stroke="#000000" />',d.push(g)),`
      <svg xmlns="http://www.w3.org/2000/svg" 
           viewBox="0 0 400 565" 
           width="100%" 
           height="100%"
           style="background: #ffffff; border: 1px solid #e2e8f0;">
        
        <!-- \uBC30\uACBD -->
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        
        <!-- \uADF8\uB9AC\uB4DC -->
        <defs>
          <pattern id="grid-${t}" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e2e8f0" stroke-width="0.5" opacity="0.3"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid-${t})" />
        
        <!-- \uBCA1\uD130 \uACBD\uB85C\uB4E4 -->
        ${d.join(`
        `)}
        
        <!-- \uD398\uC774\uC9C0 \uC815\uBCF4 -->
        <text x="10" y="20" font-family="Arial" font-size="12" fill="#64748b" font-weight="600">
          Page ${t}
        </text>
        <text x="10" y="35" font-family="Arial" font-size="10" fill="#94a3b8">
          ${e.operations.length} operations
        </text>
      </svg>
    `}generateSvgFromVectorOperations(e,t,n){console.log(`\u{1F3A8} SVG \uC0DD\uC131 \uC2DC\uC791 - \uC5F0\uC0B0 ${e.length}\uAC1C, \uD06C\uAE30 ${t}x${n}`);let o=(D,w=1)=>{let v=typeof D=="number"?D:parseFloat(D);return isFinite(v)?v.toFixed(w):String(D)},i,c,d,g=tt.analyzeCoordinateRange(e,{width:t,height:n}),m=g.scaleFactor;console.log("\u{1F4CA} \uC88C\uD45C \uBC94\uC704 \uBD84\uC11D \uACB0\uACFC:",g);let u=[],h=0,C="",_=0,P=0;for(let D of e)try{switch(D.type){case"M":let w=D.args||[];_=tt.convertToSvgX(tt.validateCoordinate(w[0],0),t,m),P=tt.convertToSvgY(tt.validateCoordinate(w[1],0),n,m),C+=` M${o(_)},${o(P)}`,h++;break;case"L":{let v=D.args||[],k=tt.convertToSvgX(tt.validateCoordinate(v[0],_),t,m),S=tt.convertToSvgY(tt.validateCoordinate(v[1],P),n,m);C+=` L${o(k)},${o(S)}`,_=k,P=S,h++}break;case"C":{let v=D.args||[],k=tt.convertToSvgX(tt.validateCoordinate(v[0]),t,m),S=tt.convertToSvgY(tt.validateCoordinate(v[1]),n,m),I=tt.convertToSvgX(tt.validateCoordinate(v[2]),t,m),A=tt.convertToSvgY(tt.validateCoordinate(v[3]),n,m);_=tt.convertToSvgX(tt.validateCoordinate(v[4]),t,m),P=tt.convertToSvgY(tt.validateCoordinate(v[5]),n,m),C+=` C${o(k)},${o(S)} ${o(I)},${o(A)} ${o(_)},${o(P)}`,h++}break;case"re":{let v=D.args||[],k=tt.convertToSvgX(tt.validateCoordinate(v[0],0),t,m),S=tt.validateCoordinate(v[1],0),I=Math.abs(tt.validateCoordinate(v[2],50))/m,A=Math.abs(tt.validateCoordinate(v[3],50))/m,N=tt.convertToSvgY(S+A*m,n,m);C+=` M${o(k)},${o(N)} L${o(k+I)},${o(N)} L${o(k+I)},${o(N+A)} L${o(k)},${o(N+A)} Z`,h++}break;case"h":C+=" Z",h++;break;case"S":case"f":case"B":{if(C.trim()){let v=D.fillColor||(D.type==="S"?"none":"#000000"),k=D.strokeColor||(D.type==="f"?"none":"#000000"),S=D.strokeWidth||1;u.push(`<path d="${C.trim()}" fill="${v}" stroke="${k}" stroke-width="${S}" />`),C=""}h++}break;case"Do":{if(i=D.transformMatrix?.[4]||D.coordinates?.x||0,c=D.transformMatrix?.[5]||D.coordinates?.y||0,d=typeof i=="number"&&typeof c=="number"&&isFinite(i)&&isFinite(c),d){let v=tt.convertToSvgX(tt.validateCoordinate(D.transformMatrix[4]),t,m),k=tt.convertToSvgY(tt.validateCoordinate(D.transformMatrix[5]),n,m)}else{let v=tt.convertToSvgX(tt.validateCoordinate(D.coordinates.x),t,m),k=tt.convertToSvgY(tt.validateCoordinate(D.coordinates.y),n,m)}h++}break;default:console.log(`\u26A0\uFE0F \uBBF8\uCC98\uB9AC \uC5F0\uC0B0 \uD0C0\uC785: ${D.type}`)}}catch(w){console.warn("\u274C \uC5F0\uC0B0 \uCC98\uB9AC \uC624\uB958:",D,w)}return C.trim()&&u.push(`<path d="${C.trim()}" fill="none" stroke="#000000" stroke-width="1" />`),console.log(`\u{1F4CA} SVG \uC0DD\uC131 \uACB0\uACFC: ${h}\uAC1C \uC5F0\uC0B0 \uCC98\uB9AC, ${u.length}\uAC1C SVG \uC694\uC18C \uC0DD\uC131`),`
      <svg xmlns="http://www.w3.org/2000/svg" 
           viewBox="0 0 ${t} ${n}" 
           width="100%" 
           height="100%"
           style="background: #ffffff;">
        <g>
          ${u.join(`
          `)}
        </g>
      </svg>
    `}downloadLogData(e,t,n=!1){try{if(console.log("\u{1F4CA} SVG \uC0DD\uC131 \uD1B5\uACC4:",{\uCC98\uB9AC\uC2DC\uAC04:`${e.svgGeneration.statistics.processingTime.toFixed(2)}ms`,\uCD1D\uC5F0\uC0B0\uC218:e.svgGeneration.totalOperations,\uCC98\uB9AC\uB41C\uC5F0\uC0B0:e.svgGeneration.processedOperations.filter(u=>u.processed).length,SVG\uC694\uC18C\uC0DD\uC131:e.svgGeneration.statistics.elementsGenerated,\uC5F0\uC0B0\uD0C0\uC785\uD1B5\uACC4:e.svgGeneration.statistics.byOperationType}),!n){console.log("\u2139\uFE0F SVG \uB514\uBC84\uADF8 \uB85C\uADF8 \uB2E4\uC6B4\uB85C\uB4DC \uBE44\uD65C\uC131\uD654 (\uAC1C\uBC1C \uBAA8\uB4DC\uC5D0\uC11C\uB9CC \uD65C\uC131\uD654)");return}let o=e.svgGeneration.finalSvg||"",i=u=>u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),c=`
<!--
=== SVG \uC0DD\uC131 \uB514\uBC84\uAE45 \uC815\uBCF4 ===
\uC0DD\uC131 \uC2DC\uAC01: ${e.timestamp}
\uCC98\uB9AC \uC2DC\uAC04: ${e.svgGeneration.statistics.processingTime.toFixed(2)}ms
\uCD1D \uC5F0\uC0B0 \uC218: ${e.svgGeneration.totalOperations}
\uCC98\uB9AC\uB41C \uC5F0\uC0B0: ${e.svgGeneration.processedOperations.filter(u=>u.processed).length}
SVG \uC694\uC18C \uC0DD\uC131: ${e.svgGeneration.statistics.elementsGenerated}
\uCE94\uBC84\uC2A4 \uD06C\uAE30: ${e.svgGeneration.dimensions.width}x${e.svgGeneration.dimensions.height}

\uC5F0\uC0B0 \uD0C0\uC785\uBCC4 \uD1B5\uACC4:
${Object.entries(e.svgGeneration.statistics.byOperationType).map(([u,h])=>`  ${u}: ${h}\uAC1C`).join(`
`)}
-->
`;o.includes("<svg")&&(o=o.replace("<svg",c+`
<svg`));let d=new Blob([o],{type:"image/svg+xml"}),g=URL.createObjectURL(d),m=document.createElement("a");m.href=g,m.download=t,m.click(),URL.revokeObjectURL(g),console.log(`\u2705 SVG \uB85C\uADF8 \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${t}`)}catch(o){console.error("\u274C SVG \uB85C\uADF8 \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",o)}}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Ie=class l{SINGLE_PAGE_MODE=!0;constructor(){console.log("\u{1F4DA} PdfStructureParserService \uCD08\uAE30\uD654")}parsePdfBinary(e,t){return E(this,null,function*(){console.log("\u{1F4CA} PDF \uBC14\uC774\uB108\uB9AC \uD30C\uC2F1 \uC2DC\uC791"),this.SINGLE_PAGE_MODE&&console.log("\u{1F512} \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uBD84\uC11D\uD569\uB2C8\uB2E4.");let n={filename:t,fileSize:e.length};n.header=this.parsePdfHeader(e);let o=this.findTrailer(e);if(n.trailer=o.trailer,n.xrefTable=yield this.parseXrefTable(e,o.xrefOffset),n.trailer.root){let i=this.parseReference(n.trailer.root);n.catalog=yield this.parseObjectAt(e,i,n.xrefTable)}if(n.catalog&&n.catalog.pages){let i=this.parseReference(n.catalog.pages);n.pageTree=yield this.parsePageTreeAt(e,i,n.xrefTable)}return n.contentStreams=yield this.collectContentStreamInfo(e,n.pageTree,n.xrefTable),n.resources=yield this.collectResourceInfo(e,n.pageTree,n.xrefTable),n.compression=this.calculateCompressionInfo(n.contentStreams),n})}parsePdfHeader(e){let t=e.slice(0,20),n=new TextDecoder("utf-8").decode(t),o=n.match(/%PDF-(\d\.\d)/);return{version:o?o[1]:"unknown",raw:n.substring(0,10)}}findTrailer(e){let t=new TextDecoder("utf-8"),n=e.slice(-1024),o=t.decode(n),i=o.match(/startxref\s+(\d+)/),c=i?parseInt(i[1]):0,d=o.match(/trailer\s*<<([^>]*)>>/s),g={};if(d){let m=d[1],u=m.match(/\/Size\s+(\d+)/);u&&(g.size=parseInt(u[1]));let h=m.match(/\/Root\s+(\d+)\s+(\d+)\s+R/);h&&(g.root=`${h[1]} ${h[2]} R`);let C=m.match(/\/Info\s+(\d+)\s+(\d+)\s+R/);C&&(g.info=`${C[1]} ${C[2]} R`)}return{xrefOffset:c,trailer:g}}parseXrefTable(e,t){return E(this,null,function*(){let n=new TextDecoder("utf-8"),o=e.slice(t,t+2e3),i=n.decode(o),c=[],d=i.split(`
`),g=!1,m=0;for(let u of d){if(u.trim()==="xref"){g=!0;continue}if(u.trim()==="trailer")break;if(g){let h=u.match(/^(\d+)\s+(\d+)$/);if(h){m=parseInt(h[1]);continue}let C=u.match(/^(\d{10})\s+(\d{5})\s+([nf])$/);C&&c.push({objNum:m++,offset:parseInt(C[1]),generation:parseInt(C[2]),inUse:C[3]==="n"})}}return{entries:c,count:c.length}})}parseReference(e){let t=e.match(/(\d+)\s+(\d+)\s+R/);return t?{objNum:parseInt(t[1]),generation:parseInt(t[2])}:{objNum:0,generation:0}}parseObjectAt(e,t,n){return E(this,null,function*(){let o=n.entries.find(h=>h.objNum===t.objNum);if(!o||!o.inUse)return null;let i=new TextDecoder("utf-8"),c=e.slice(o.offset,o.offset+1e3),d=i.decode(c),g={},m=d.match(/\/Type\s+\/(\w+)/);m&&(g.type=m[1]);let u=d.match(/\/Pages\s+(\d+)\s+(\d+)\s+R/);return u&&(g.pages=`${u[1]} ${u[2]} R`),g})}parsePageTreeAt(e,t,n){return E(this,null,function*(){let o=n.entries.find(h=>h.objNum===t.objNum);if(!o||!o.inUse)return null;let i=new TextDecoder("utf-8"),c=e.slice(o.offset,o.offset+2e3),d=i.decode(c),g={pages:[]},m=d.match(/\/Kids\s*\[([\s\S]*?)\]/);if(m){let C=m[1].matchAll(/(\d+)\s+(\d+)\s+R/g);for(let _ of C)if(g.pages.push({ref:`${_[1]} ${_[2]} R`,objNum:parseInt(_[1]),generation:parseInt(_[2])}),this.SINGLE_PAGE_MODE)break}let u=d.match(/\/Count\s+(\d+)/);return u&&(g.count=parseInt(u[1])),g})}collectContentStreamInfo(e,t,n){return E(this,null,function*(){let o=[];if(!t||!t.pages||t.pages.length===0)return o;let i=t.pages[0],c=n.entries.find(d=>d.objNum===i.objNum);if(c&&c.inUse){let d=new TextDecoder("utf-8"),g=e.slice(c.offset,c.offset+2e3),u=d.decode(g).match(/\/Contents\s+(\d+)\s+(\d+)\s+R/);if(u){let h=parseInt(u[1]),C=n.entries.find(_=>_.objNum===h);if(C&&C.inUse){let _=e.slice(C.offset,C.offset+1e3),P=d.decode(_),y=P.match(/\/Length\s+(\d+)/),D=P.match(/\/Filter\s+\/(\w+)/),w=y?parseInt(y[1]):0,v=D?D[1]:"none";o.push({length:w,filter:v,decodeParams:null}),console.log(`\u2705 \uC2A4\uD2B8\uB9BC \uC815\uBCF4: length=${w}, filter=${v}`)}}}return o.length===0&&console.warn("\u26A0\uFE0F \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),o})}collectResourceInfo(e,t,n){return E(this,null,function*(){return{fonts:[{name:"F1",subtype:"Type1",encoding:"WinAnsiEncoding"},{name:"F2",subtype:"TrueType",encoding:"Identity-H"}],images:[]}})}calculateCompressionInfo(e){let t=e.reduce((o,i)=>o+(i.length||0),0),n=Math.floor(t*.35);return{method:"FlateDecode (Zlib)",originalSize:t,compressedSize:n,ratio:t>0?Math.round((1-n/t)*100):0}}getExamplePdfStructure(e=1){let t=this.SINGLE_PAGE_MODE?1:e;return console.log("\u{1F512} \uC608\uC2DC PDF \uAD6C\uC870 \uC0DD\uC131:",t,"\uD398\uC774\uC9C0"),{version:"1.7",pages:t,objects:150,streams:25,fonts:3,images:8,compression:{method:"FlateDecode",ratio:65},structure:{catalog:{type:"Catalog",pages:"2 0 R"},pageTree:{type:"Pages",count:t,kids:["3 0 R"]},page1:{type:"Page",mediaBox:[0,0,595,842],contents:"4 0 R",resources:"5 0 R"}},metadata:{creator:"Unknown",producer:"Unknown",creationDate:new Date().toISOString(),modDate:new Date().toISOString()}}}setSinglePageMode(e){this.SINGLE_PAGE_MODE=e}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Ae=class l{debugLogs=[];constructor(){console.log("\u{1F3A8} VectorElementConverterService \uCD08\uAE30\uD654")}integrateVectorGraphicsIntoPages(e,t,n){return E(this,null,function*(){let o=t?.pageDetails||t?.pages;if(!t||!o||o.length===0){console.warn("\u26A0\uFE0F \uD1B5\uD569\uD560 \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC2DC\uC791:",{totalPages:e.length,vectorPages:o.length}),n("VECTOR_INTEGRATION","\uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC2DC\uC791",{totalPages:e.length,vectorPages:o.length});for(let i=0;i<e.length;i++){let c=e[i],d=i+1;if(i<o.length){let g=o[i];console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${d} \uBCA1\uD130 \uB370\uC774\uD130:`,{operations:g.operations?.length||0,hasOriginalSvg:!!g.originalSvg,dimensions:g.dimensions});let m=this.convertVectorOperationsToElements(g,d,n);m.length>0?(console.log(`\u2705 \uD398\uC774\uC9C0 ${d}\uC5D0 ${m.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00`),c.elements.push(...m),n("VECTOR_ELEMENTS_ADDED",`\uD398\uC774\uC9C0 ${d}\uC5D0 \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00`,{pageNumber:d,elementCount:m.length,totalElements:c.elements.length})):console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${d}\uC5D0 \uC0DD\uC131\uB41C \uBCA1\uD130 \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`)}}console.log("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC644\uB8CC")})}convertVectorOperationsToElements(e,t,n){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uC5F0\uC0B0 \uBCC0\uD658 \uC2DC\uC791:`,{operationCount:e.operations?.length||0,operations:(e.operations||[]).slice(0,10).map(_=>({type:_.type,argsCount:_.args?.length||0,hasCoordinates:!!_.coordinates}))});let o=[],i="",c=0,d=0,g=!1,m=0,u=[],h=null,C=null;return(e.operations||[]).forEach((_,P)=>{let y=_.args||[],D=_.coordinates;switch(n("VECTOR_OPERATION",`Operation ${P}: ${_.type}`,{type:_.type,args:y,coordinates:D,isVectorGraphic:_.isVectorGraphic}),_.type){case"moveTo":g&&i&&u.length>0&&(this.createVectorElementFromPath(o,i,u,t,m++),u.length=0),D&&D.x!==void 0&&D.y!==void 0?(c=D.x,d=D.y,i=`M ${c} ${d}`,u.push({x:c,y:d}),g=!0):y.length>=2&&typeof y[0]=="number"&&(c=Number(y[0]),d=Number(y[1]),i=`M ${c} ${d}`,u.push({x:c,y:d}),g=!0);break;case"lineTo":if(g){let w,v;D&&D.x!==void 0&&D.y!==void 0?(w=D.x,v=D.y):y.length>=2&&typeof y[0]=="number"&&(w=Number(y[0]),v=Number(y[1])),w!==void 0&&v!==void 0&&(i+=` L ${w} ${v}`,u.push({x:w,y:v}),c=w,d=v)}break;case"curve":case"bezierCurveTo":if(g&&y.length>=6){let w=Number(y[0]),v=Number(y[1]),k=Number(y[2]),S=Number(y[3]),I=Number(y[4]),A=Number(y[5]);i+=` C ${w} ${v} ${k} ${S} ${I} ${A}`,u.push({x:w,y:v},{x:k,y:S},{x:I,y:A}),c=I,d=A}break;case"closePath":g&&(i+=" Z",u.length>0&&(this.createVectorElementFromPath(o,i,u,t,m++),u.length=0),g=!1,i="");break;case"rectangle":if(y.length>=4){let w=this.createRectangleFromVectorArgs(y,t,m++);w&&o.push(w)}break;case"circle":if(y.length>=3){let w=this.createCircleFromVectorArgs(y,t,m++);w&&o.push(w)}break;case"stroke":case"fill":g&&i&&u.length>0&&(this.createVectorElementFromPath(o,i,u,t,m++),u.length=0,g=!1,i="");break}}),g&&i&&u.length>0&&this.createVectorElementFromPath(o,i,u,t,m++),console.log(`\u2705 \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uBCC0\uD658 \uC644\uB8CC: ${o.length}\uAC1C \uC694\uC18C \uC0DD\uC131`),o}createVectorElementFromPath(e,t,n,o,i){if(n.length===0)return;let c=this.calculateBoundingBoxFromPoints(n),d={id:`vector-path-${o}-${i}`,type:"vector-path",x:c.x,y:c.y,width:c.width,height:c.height,pathData:t,strokeColor:"#2c3e50",strokeWidth:2,fillColor:"none",rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-vector-operations",pageNumber:o}};e.push(d)}calculateBoundingBoxFromPoints(e){if(e.length===0)return{x:0,y:0,width:100,height:100};let t=e.map(u=>u.x),n=e.map(u=>u.y),o=Math.min(...t),i=Math.max(...t),c=Math.min(...n),d=Math.max(...n),g=i-o,m=d-c;return{x:o,y:c,width:g>0?g:100,height:m>0?m:100}}createRectangleFromVectorArgs(e,t,n){if(e.length<4)return null;let o=Number(e[0]),i=Number(e[1]),c=Number(e[2]),d=Number(e[3]);return{id:`vector-rect-${t}-${n}`,type:"shape",shapeType:"rectangle",x:o,y:i,width:Math.abs(c),height:Math.abs(d),fillColor:"#e3f2fd",strokeColor:"#2196f3",strokeWidth:2,rotation:0,opacity:.8,metadata:{isVectorGraphic:!0,source:"pdf-rectangle",pageNumber:t}}}createCircleFromVectorArgs(e,t,n){if(e.length<3)return null;let o=Number(e[0]),i=Number(e[1]),c=Number(e[2]);return{id:`vector-circle-${t}-${n}`,type:"shape",shapeType:"circle",x:o-c,y:i-c,width:c*2,height:c*2,fillColor:"#fff3e0",strokeColor:"#ff9800",strokeWidth:2,rotation:0,opacity:.8,metadata:{isVectorGraphic:!0,source:"pdf-circle",pageNumber:t}}}createPagesFromOriginalPdfSvg(e,t,n,o,i,c){return E(this,null,function*(){console.log("\u{1F3A8} \uC6D0\uBCF8 PDF SVG\uB85C\uBD80\uD130 \uD398\uC774\uC9C0 \uC0DD\uC131 \uC2DC\uC791"),c("VectorService","\u{1F3A8} createPagesFromOriginalPdfSvg \uC2DC\uC791"),c("VectorService",`vectorData \uC874\uC7AC: ${!!e}`),c("VectorService",`pdfPages \uCD08\uAE30 \uAE38\uC774: ${n.length}`);let d=e?.pageDetails||e?.pages;if(c("VectorService",`pages \uCD94\uCD9C \uACB0\uACFC: ${!!d}, \uAE38\uC774: ${d?.length||0}`),!e||!d||d.length===0){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),c("VectorService","\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C - \uC870\uAE30 \uC885\uB8CC");return}c("CREATE_PAGES_SVG","\uC6D0\uBCF8 PDF SVG \uD398\uC774\uC9C0 \uC0DD\uC131",{totalPages:d.length});for(let g=0;g<d.length;g++){let m=d[g],u=g+1;console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${u} SVG \uC0DD\uC131 \uC911...`),c("VectorService",`\u{1F4C4} \uD398\uC774\uC9C0 ${u} \uCC98\uB9AC \uC2DC\uC791`),console.log("\u{1F50D} pageData \uAD6C\uC870:",{hasOriginalSvg:!!m.originalSvg,hasOperations:!!m.operations,operationsLength:m.operations?.length||0,keys:Object.keys(m)}),c("VectorService",`\uD398\uC774\uC9C0 ${u} \uB370\uC774\uD130 - originalSvg: ${!!m.originalSvg}, operations: ${m.operations?.length||0}\uAC1C`),c("VectorService",`\uD398\uC774\uC9C0 ${u} \uD0A4: ${Object.keys(m).join(", ")}`);let h={id:`page-${u}`,pageNumber:u,width:o,height:i,elements:[],thumbnail:void 0};if(m.originalSvg){c("VectorService",`\uD398\uC774\uC9C0 ${u}: originalSvg \uACBD\uB85C \uC120\uD0DD`);let C={id:`pdf-svg-${u}`,type:"svg",x:0,y:0,width:o,height:i,svgContent:m.originalSvg,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-original-svg",pageNumber:u}};h.elements.push(C),console.log(`\u2705 \uD398\uC774\uC9C0 ${u}: \uC6D0\uBCF8 SVG \uCD94\uAC00`),c("VectorService",`\u2705 \uD398\uC774\uC9C0 ${u}: originalSvg \uCD94\uAC00 \uC644\uB8CC`)}else if(m.svgContent&&m.svgContent.length>100){c("VectorService",`\uD398\uC774\uC9C0 ${u}: svgContent \uACBD\uB85C \uC120\uD0DD (${m.svgContent.length} bytes)`);let C={id:`pdf-svg-${u}`,type:"svg",x:0,y:0,width:o,height:i,svgContent:m.svgContent,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-svg-content",pageNumber:u}};h.elements.push(C),console.log(`\u2705 \uD398\uC774\uC9C0 ${u}: svgContent SVG \uCD94\uAC00`),c("VectorService",`\u2705 \uD398\uC774\uC9C0 ${u}: svgContent \uCD94\uAC00 \uC644\uB8CC`)}else if(m.operations&&m.operations.length>0){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${u}: operations\uC5D0\uC11C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 (${m.operations.length}\uAC1C \uC5F0\uC0B0)`),c("VectorService",`\u{1F504} \uD398\uC774\uC9C0 ${u}: operations \uBCC0\uD658 \uC2DC\uC791 (${m.operations.length}\uAC1C)`);let C=this.convertVectorOperationsToElements(m,u,c);c("VectorService",`\uD398\uC774\uC9C0 ${u}: \uBCC0\uD658 \uACB0\uACFC ${C.length}\uAC1C \uC694\uC18C`),C.length>0?(h.elements.push(...C),console.log(`\u2705 \uD398\uC774\uC9C0 ${u}: ${C.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00`),c("VectorService",`\u2705 \uD398\uC774\uC9C0 ${u}: ${C.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00 \uC644\uB8CC`)):(console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${u}: \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC2E4\uD328`),c("VectorService",`\u26A0\uFE0F \uD398\uC774\uC9C0 ${u}: \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC2E4\uD328`))}else console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${u}: originalSvg, svgContent, operations \uBAA8\uB450 \uC5C6\uC74C`),c("VectorService",`\u26A0\uFE0F \uD398\uC774\uC9C0 ${u}: originalSvg, svgContent, operations \uBAA8\uB450 \uC5C6\uC74C`);n.push(h),c("VectorService",`\uD398\uC774\uC9C0 ${u}: pdfPages\uC5D0 \uCD94\uAC00, \uD604\uC7AC \uCD1D ${n.length}\uD398\uC774\uC9C0`)}console.log(`\u2705 ${n.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC (\uC6D0\uBCF8 SVG)`),c("VectorService",`\u2705 \uC804\uCCB4 \uC644\uB8CC: ${n.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131`)})}createPagesFromVectorSvg(e,t,n,o,i,c,d){return E(this,null,function*(){console.log("\u{1F3A8} \uBCA1\uD130 SVG\uB85C\uBD80\uD130 \uD398\uC774\uC9C0 \uC0DD\uC131 \uC2DC\uC791");let g=e?.pageDetails||e?.pages;if(!e||!g||g.length===0){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}for(let m=0;m<g.length;m++){let u=g[m],h=m+1,C={id:`page-${h}`,pageNumber:h,width:o,height:i,elements:[],thumbnail:void 0},_=c(u,h);if(_&&_.length>100){let P={id:`vector-svg-${h}`,type:"svg",x:0,y:0,width:o,height:i,svgContent:_,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"generated-svg",pageNumber:h}};C.elements.push(P),console.log(`\u2705 \uD398\uC774\uC9C0 ${h}: \uC0DD\uC131\uB41C SVG \uCD94\uAC00 (${_.length} bytes)`)}n.push(C)}console.log(`\u2705 ${n.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC (\uBCA1\uD130 SVG)`)})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Be=class l{constructor(){console.log("\u{1F50D} PdfAnalysisService \uCD08\uAE30\uD654")}analyzePdfStructure(e,t,n,o,i,c,d,g){return E(this,null,function*(){if(console.log("\u{1F50D} PDF \uAD6C\uC870 \uBD84\uC11D \uC2DC\uC791..."),!e)throw new Error("PDF \uC18C\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");c.startProgress(["\uD14D\uC2A4\uD2B8 \uCD94\uCD9C","\uC774\uBBF8\uC9C0 \uCD94\uCD9C","\uBCA1\uD130 \uADF8\uB798\uD53D \uCD94\uCD9C","\uBD84\uC11D \uB370\uC774\uD130 \uC0DD\uC131"]);let u=yield(yield fetch(e)).blob(),h=new File([u],t||"document.pdf",{type:"application/pdf"}),C=yield n.extractTextStreamAsJson(h);if(d&&C.pages&&C.pages.length>0){C.pages=[C.pages[0]],C.pageCount=1;let D=C.pages[0];C.metadata.totalTextItems=D.textItems.length,C.metadata.totalWords=D.statistics.wordCount,C.metadata.totalCharacters=D.statistics.charCount}c.updateProgress(0);let _=yield o(h);c.updateProgress(1);let P=null;g&&i("VECTOR_EXTRACTION","\uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uCD94\uCD9C \uC2DC\uC791");try{if(P=yield n.extractVectorStreamData(h),d&&P&&P.pageDetails.length>0){console.log("\u{1F512} \uBCA1\uD130 \uB370\uC774\uD130 \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uC720\uC9C0\uD569\uB2C8\uB2E4.");let w=P.pageDetails[0];P.pageDetails=[w],P.pageCount=1,P.totalOperations=w.operations.length}P&&e&&(P.pdfSrc=e);let D={totalOperations:P.totalOperations,totalPaths:P.summary.totalPaths,totalLines:P.summary.totalLines,totalCurves:P.summary.totalCurves,totalRectangles:P.summary.totalRectangles,pageCount:P.pageCount,pagesWithVector:P.pageDetails.length,hasPdfSrc:!!P.pdfSrc};i("VECTOR_EXTRACTION","\uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uCD94\uCD9C \uC644\uB8CC",D),P.pageDetails.forEach(w=>{let v={pageNumber:w.pageNumber,operationCount:w.operations.length,statistics:w.statistics};i("VECTOR_PAGE_DETAIL",`\uD398\uC774\uC9C0 ${w.pageNumber} \uBCA1\uD130 \uB370\uC774\uD130`,v)})}catch(D){i("VECTOR_EXTRACTION","\uBCA1\uD130 \uADF8\uB798\uD53D \uCD94\uCD9C \uC2E4\uD328",{error:D}),P=null}c.updateProgress(2);let y=this.convertTextStreamToStructure(C,h.size,d);return c.updateProgress(3),c.completeProgress(),{textStreamData:C,imageData:_,vectorData:P,structureData:y}})}convertTextStreamToStructure(e,t,n){let o=e.pages[0];return n&&console.log("\u{1F512} \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: PDF \uAD6C\uC870\uB97C \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uAE30\uC900\uC73C\uB85C \uBCC0\uD658\uD569\uB2C8\uB2E4."),{filename:e.fileName,fileSize:t,header:{version:"1.7",binaryMarker:"Present",raw:"%PDF-1.7"},catalog:{type:"Catalog",pages:"2 0 R",metadata:"N/A"},pageTree:{type:"Pages",count:e.pageCount,kids:o?[{type:"Page",mediaBox:[0,0,o.width,o.height],contents:"N/A",resources:"N/A"}]:[]},contentStreams:o?[{length:o.textItems.length*50,filter:"FlateDecode",decodeParams:null,textItems:o.textItems.length,sampleText:o.textItems.slice(0,3).map(i=>i.text).join(" ")}]:[],xrefTable:{startOffset:t-1024,entries:[]},trailer:{size:e.pageCount+10,root:"1 0 R",startXref:t-1024},resources:{fonts:e.metadata.uniqueFonts.map((i,c)=>({name:`F${c+1}`,subtype:"Type1",encoding:"Identity-H",originalName:i})),images:[]},compression:{method:"FlateDecode",originalSize:e.metadata.totalCharacters*2,compressedSize:Math.floor(e.metadata.totalCharacters*.4),ratio:60},textStreamAnalysis:{totalPages:e.pageCount,totalTextItems:e.metadata.totalTextItems,totalWords:e.metadata.totalWords,totalCharacters:e.metadata.totalCharacters,uniqueFonts:e.metadata.uniqueFonts,hasImages:e.metadata.hasImages,hasVectorGraphics:e.metadata.hasVectorGraphics,firstPageSample:o?{pageNumber:o.pageNumber,dimensions:`${Math.round(o.width)} x ${Math.round(o.height)}`,textItemCount:o.textItems.length,sentenceCount:o.sentences.length,wordCount:o.statistics.wordCount,sampleSentences:o.sentences.slice(0,Math.min(5,o.sentences.length)).map(i=>i.text.trim()).filter(i=>i.length>0)}:null}}}extractImagesFromPdf(e,t,n,o,i){return E(this,null,function*(){let c=new Map;if(i.detectChanges(),t?.imageInfo?.images&&t.imageInfo.images.length>0){i.detectChanges();try{i.detectChanges();let d=n.extractFromAnalysisData(t,{preferOriginal:!0});i.detectChanges();for(let g of d.images){let m={id:`image-from-analysis-${Date.now()}-${Math.random()}`,type:"image",x:g.x,y:g.y,width:g.width,height:g.height,src:g.src,coordinateSystem:"svg"};o.info("\uC774\uBBF8\uC9C0\uC88C\uD45C",`\u{1F5BC}\uFE0F \uBD84\uC11D\uB370\uC774\uD130\uC5D0\uC11C \uCD94\uCD9C - \uD398\uC774\uC9C0 ${g.pageNumber}: x=${g.x.toFixed(2)}pt, y=${g.y.toFixed(2)}pt, w=${g.width.toFixed(2)}pt, h=${g.height.toFixed(2)}pt (\uC88C\uD45C\uACC4: PDF)`),c.has(g.pageNumber)||c.set(g.pageNumber,[]),c.get(g.pageNumber).push(m),i.detectChanges()}if(i.detectChanges(),d.totalCount>0)return c}catch(d){o.error("\uC774\uBBF8\uC9C0\uCD94\uCD9C",`\u274C PdfImageExtractorService \uC2E4\uD328: ${d}`)}}if(i.detectChanges(),!e)return c;try{let d=window["pdfjs-dist/build/pdf"];if(!d)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");d.VerbosityLevel&&(d.GlobalWorkerOptions.verbosity=0);let m=yield d.getDocument(e).promise;i.detectChanges();for(let u=1;u<=m.numPages;u++)try{let h=yield m.getPage(u),C=h.getViewport({scale:1}),_=yield h.getOperatorList(),P=[];for(let v=0;v<_.fnArray.length;v++){let k=_.fnArray[v],S=_.argsArray[v];if(k===85||k===86){let I=null,A=[];for(let N=v-1;N>=0&&N>=v-20;N--){let j=_.fnArray[N],U=_.argsArray[N];if((j===12||j===74||j===75)&&A.unshift({fn:j,args:U}),j===11)break}if(A.length>0){let N=(U,F)=>[U[0]*F[0]+U[2]*F[1],U[1]*F[0]+U[3]*F[1],U[0]*F[2]+U[2]*F[3],U[1]*F[2]+U[3]*F[3],U[0]*F[4]+U[2]*F[5]+U[4],U[1]*F[4]+U[3]*F[5]+U[5]],j=A[0].args;for(let U=1;U<A.length;U++)j=N(j,A[U].args);I=j}P.push({name:S[0],transform:I,index:v})}}if(P.length===0)continue;let y=document.createElement("canvas");y.width=C.width,y.height=C.height;let D=y.getContext("2d");if(!D)continue;yield h.render({canvasContext:D,viewport:C}).promise;let w=[];for(let v of P){if(!v.transform)continue;let[k,,,S,I,A]=v.transform.map(Math.abs),N=C.height/2,j=N-A-S,U=(N-A-S)*2,F=document.createElement("canvas");F.width=k*2,F.height=S*2;let G=F.getContext("2d");if(G){G.drawImage(y,I*2,U,k*2,S*2,0,0,k*2,S*2);let L={id:`image-extracted-${Date.now()}-${u}-${v.index}`,type:"image",x:I,y:j,width:k,height:S,src:F.toDataURL("image/png"),coordinateSystem:"svg"};o.info("\uC774\uBBF8\uC9C0\uC88C\uD45C",`\u{1F5BC}\uFE0F PDF.js\uC5D0\uC11C \uCD94\uCD9C - \uD398\uC774\uC9C0 ${u}: x=${I.toFixed(2)}pt, y=${j.toFixed(2)}pt, w=${k.toFixed(2)}pt, h=${S.toFixed(2)}pt (\uC88C\uD45C\uACC4: SVG)`),w.push(L)}}w.length>0&&c.set(u,w)}catch(h){o.error("\uC774\uBBF8\uC9C0\uCD94\uCD9C",`\u274C \uD398\uC774\uC9C0 ${u} \uCD94\uCD9C \uC2E4\uD328: ${h}`)}}catch(d){o.error("\uC774\uBBF8\uC9C0\uCD94\uCD9C",`\u274C PDF.js \uCD94\uCD9C \uC2E4\uD328: ${d}`)}return c})}savePdfAnalysisToCache(e,t,n,o,i,c,d){return E(this,null,function*(){try{let g=`pdf_${e}_${t}`;yield d.savePdfAnalysis({id:g,textStreamData:n,vectorData:o,structureData:i,analysisData:c,timestamp:Date.now(),fileSize:t,fileName:e}),console.log("\u{1F4BE} PDF \uBD84\uC11D \uB370\uC774\uD130 IndexedDB \uC800\uC7A5 \uC644\uB8CC")}catch(g){console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC2E4\uD328:",g)}})}loadPdfAnalysisFromCache(e,t,n){return E(this,null,function*(){try{let o=`pdf_${e}_${t}`,i=yield n.loadPdfAnalysis(o);return i?(console.log("\u{1F4C2} IndexedDB\uC5D0\uC11C PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC"),i):null}catch(o){return console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:",o),null}})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Fe=class l{constructor(){console.log("\u{1F4C4} PageContentBuilderService \uCD08\uAE30\uD654")}initializeNewDocument(e,t){let n=[];return t&&t(),console.log("\u2705 \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC"),n}createPagesFromTextStream(e,t,n){if(!e||!e.pages||e.pages.length===0)return console.warn("\u26A0\uFE0F \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),t;let o=[];return e.pages.forEach((i,c)=>{n&&n(`\uD398\uC774\uC9C0 ${c+1} \uC0DD\uC131 \uC911...`);let d={id:`page-${Date.now()}-${c}`,pageNumber:c+1,width:i.width,height:i.height,elements:[]};i.textItems&&i.textItems.forEach((g,m)=>{if(!g.text||g.text.trim().length===0)return;let u=g.text.trim(),h=g.font?.size>0?g.font.size:12,C=u.length,_=h*.7,P=C*_,y=g.position?.width>0?g.position.width:200,w=Math.max(y,P)*1.15,v=Math.max(100,Math.min(w,600)),k=g.position?.height>0?g.position.height:20,S=Math.ceil(P/v),I=Math.max(k,h*S*1.4),A={id:`text-${Date.now()}-${c}-${m}`,type:"text",x:g.position?.x||0,y:g.position?.y||0,width:v,height:I,text:u,fontSize:h,fontFamily:g.font?.name||"Arial",color:g.color||g.style?.color||"#000000"};d.elements.push(A)}),o.push(d)}),console.log(`\u2705 \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC\uC5D0\uC11C ${o.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC`),o}createPagesFromBasicStructure(e,t,n){if(!e||!e.pages||e.pages.length===0)return console.warn("\u26A0\uFE0F PDF \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),t;let o=[];return e.pages.forEach((i,c)=>{n&&n(`\uD398\uC774\uC9C0 ${c+1} \uC0DD\uC131 \uC911...`);let d={id:`page-${Date.now()}-${c}`,pageNumber:i.pageNumber||c+1,width:i.width||595,height:i.height||842,elements:[]};i.elements&&i.elements.forEach(g=>{d.elements.push(it({},g))}),o.push(d)}),console.log(`\u2705 \uAE30\uBCF8 \uAD6C\uC870\uC5D0\uC11C ${o.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC`),o}createPagesFromStructure(e,t,n,o){return e?this.createPagesFromTextStream(e,n,o):t?this.createPagesFromBasicStructure(t,n,o):(console.warn("\u26A0\uFE0F \uC0AC\uC6A9 \uAC00\uB2A5\uD55C PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),n)}overlayTextOnPages(e,t,n){return E(this,null,function*(){if(console.log("\u{1F504} [\uC11C\uBE44\uC2A4] overlayTextOnPages \uC2DC\uC791"),console.log("\u{1F50D} [\uC11C\uBE44\uC2A4] textStreamRawData:",!!e),console.log("\u{1F50D} [\uC11C\uBE44\uC2A4] pdfPages \uAE38\uC774:",t.length),!e||!e.pages){console.warn("\u26A0\uFE0F [\uC11C\uBE44\uC2A4] \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F50D} [\uC11C\uBE44\uC2A4] \uD14D\uC2A4\uD2B8 \uD398\uC774\uC9C0 \uC218:",e.pages.length);let o=-.9,i=-.1;for(let c=0;c<Math.min(t.length,e.pages.length);c++){let d=t[c],g=e.pages[c];console.log(`\u{1F50D} [\uC11C\uBE44\uC2A4] \uD398\uC774\uC9C0 ${c+1} \uCC98\uB9AC \uC911, textItems \uAC1C\uC218:`,g.textItems?.length||0),n&&n(`\uD398\uC774\uC9C0 ${c+1} \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC911...`);let m=0;g.textItems&&g.textItems.forEach((u,h)=>{if(!u.text||u.text.trim().length===0)return;let C=u.text.trim(),_=u.font?.size>0?u.font.size:12,P;if(u.itemCount&&u.itemCount>1){let N=Math.max(10,_*.5);P=(u.position?.width||200)+N}else{let j=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(C)?_*.75:_*.6,U=C.length*j,F=Math.max(15,_*.8);P=U+F}let y=Math.max(50,_*3);P=Math.max(y,Math.min(P,900));let D=u.position?.height>0?u.position.height:20,w=Math.max(D,_*1.4),v=_*i,k=_*o,S=(u.position?.x||0)+v,I=(u.position?.y||0)+k,A={id:`text-overlay-${Date.now()}-${c}-${h}`,type:"text",text:C,x:S,y:I,width:P,height:w,fontSize:_,fontFamily:u.font?.name||"Arial",color:u.color||u.style?.color||"#000000"};d.elements.push(A),m++,m<=3&&console.log(`\u2705 [\uC11C\uBE44\uC2A4] \uD14D\uC2A4\uD2B8 ${m} \uCD94\uAC00:`,{text:C.substring(0,30),x:S.toFixed(2),y:I.toFixed(2),fontSize:_})}),console.log(`\u2705 [\uC11C\uBE44\uC2A4] \uD398\uC774\uC9C0 ${c+1}\uC5D0 ${m}\uAC1C \uD14D\uC2A4\uD2B8 \uCD94\uAC00\uB428`)}console.log(`\u2705 [\uC11C\uBE44\uC2A4] ${t.length}\uAC1C \uD398\uC774\uC9C0\uC5D0 \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC644\uB8CC`)})}overlayImagesOnPages(e,t,n){return E(this,null,function*(){if(!e||e.size===0){console.warn("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}e.forEach((o,i)=>{n&&n(`\uD398\uC774\uC9C0 ${i} \uC774\uBBF8\uC9C0 \uC624\uBC84\uB808\uC774 \uC911...`);let c=i-1;if(c>=0&&c<t.length){let d=t[c];o.forEach(g=>{let m={id:`image-overlay-${Date.now()}-${Math.random()}`,type:"image",src:g.src,x:g.x,y:g.y,width:g.width,height:g.height};d.elements.push(m)})}}),console.log("\u2705 \uC774\uBBF8\uC9C0 \uC624\uBC84\uB808\uC774 \uC644\uB8CC")})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Ve=class l{constructor(){console.log("\u{1F5BC}\uFE0F PdfThumbnailService \uCD08\uAE30\uD654")}generatePdfThumbnailsOptimized(e,t){return E(this,null,function*(){if(console.log("\u{1F5BC}\uFE0F \uCD5C\uC801\uD654\uB41C PDF \uC378\uB124\uC77C \uC0DD\uC131 \uC2DC\uC791"),!e){console.warn("\u26A0\uFE0F PDF \uC18C\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let n=window["pdfjs-dist/build/pdf"];if(!n)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let i=yield n.getDocument(e).promise;console.log(`\u{1F4C4} PDF \uB85C\uB4DC \uC644\uB8CC: ${i.numPages} \uD398\uC774\uC9C0`);for(let c=1;c<=i.numPages;c++)yield this.generateOptimizedThumbnail(i,c,t);console.log(`\u2705 ${i.numPages}\uAC1C \uD398\uC774\uC9C0 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC`)}catch(n){throw console.error("\u274C PDF \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:",n),n}})}generateOptimizedThumbnail(e,t,n){return E(this,null,function*(){try{let o=yield e.getPage(t),i=yield this.extractNativeThumbnail(o);if(i){console.log(`\u2705 \uD398\uC774\uC9C0 ${t}: \uB124\uC774\uD2F0\uBE0C \uC378\uB124\uC77C \uC0AC\uC6A9`),n&&n(t,i);return}console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${t}: \uACE0\uD488\uC9C8 \uB80C\uB354\uB9C1 \uC378\uB124\uC77C \uC0DD\uC131`);let c=yield this.renderHighQualityThumbnail(o,t);c&&n&&n(t,c)}catch(o){console.error(`\u274C \uD398\uC774\uC9C0 ${t} \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:`,o)}})}extractNativeThumbnail(e){return E(this,null,function*(){try{let t=yield e.getOperatorList();if(t&&t.fnArray&&t.fnArray.length>0){for(let n=0;n<t.fnArray.length;n++)if(t.fnArray[n]===85){let c=t.argsArray[n][0];try{let d=e.objs,g=yield new Promise((m,u)=>{d.get(c,h=>{h?m(h):u(new Error("\uC774\uBBF8\uC9C0\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."))})});if(g){let m=document.createElement("canvas"),u=m.getContext("2d");if(u&&g.width&&g.height){m.width=g.width,m.height=g.height;let h=u.createImageData(m.width,m.height);return h.data.set(g.data),u.putImageData(h,0,0),m.toDataURL("image/jpeg",.7)}}}catch(d){console.warn(`\u26A0\uFE0F \uC774\uBBF8\uC9C0 ${c} \uCD94\uCD9C \uC2E4\uD328:`,d)}}}return null}catch(t){return console.warn("\u26A0\uFE0F \uB124\uC774\uD2F0\uBE0C \uC378\uB124\uC77C \uCD94\uCD9C \uC2E4\uD328:",t),null}})}renderHighQualityThumbnail(e,t){return E(this,null,function*(){try{let n=e.getViewport({scale:1}),o=200,i=Math.min(o/n.width,o/n.height),c=e.getViewport({scale:i}),d=document.createElement("canvas");d.width=c.width,d.height=c.height;let g=d.getContext("2d");if(!g)throw new Error("Canvas \uCEE8\uD14D\uC2A4\uD2B8\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return yield e.render({canvasContext:g,viewport:c}).promise,d.toDataURL("image/jpeg",.7)}catch(n){return console.error(`\u274C \uD398\uC774\uC9C0 ${t} \uACE0\uD488\uC9C8 \uB80C\uB354\uB9C1 \uC2E4\uD328:`,n),null}})}generateSinglePageThumbnail(e,t,n){return E(this,null,function*(){console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${t} \uC378\uB124\uC77C \uC0DD\uC131 \uC2DC\uC791`);try{let o=window["pdfjs-dist/build/pdf"];if(!o)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let c=yield o.getDocument(e).promise;if(t<1||t>c.numPages)throw new Error(`\uD398\uC774\uC9C0 \uBC88\uD638\uAC00 \uBC94\uC704\uB97C \uBC97\uC5B4\uB0AC\uC2B5\uB2C8\uB2E4: ${t}`);yield this.generateOptimizedThumbnail(c,t,n),console.log(`\u2705 \uD398\uC774\uC9C0 ${t} \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC`)}catch(o){throw console.error(`\u274C \uD398\uC774\uC9C0 ${t} \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:`,o),o}})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var $e=class l{constructor(){}saveCurrentDocument(e,t){if(!e){t.showWarning("\uC800\uC7A5\uD560 \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4");return}t.showInfo("\uBB38\uC11C \uC800\uC7A5 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4")}updateRecentDocsCache(e,t,n){return E(this,null,function*(){try{let o=yield e.getRecentDocuments(5);console.log("\uCD5C\uADFC \uBB38\uC11C \uC870\uD68C \uACB0\uACFC:",o.length,"\uAC1C",o.map(c=>({title:c.title,type:c.documentType,pdfSrc:!!c.pdfSrc})));let i=o.map(c=>{let d=c.documentType||(c.pdfSrc?"viewer":"editor"),g=d==="viewer",m=g?"\u{1F4D6}":"\u{1F4DD}",u=g?"\uBDF0\uC5B4":"\uC0DD\uC131",h=g?"PDF \uBDF0\uC5B4\uB85C \uC5F4\uB9B0 \uBB38\uC11C":"\uD3B8\uC9D1\uAE30\uB85C \uC0DD\uC131\uD55C \uBB38\uC11C";return{id:c.id,title:c.title,description:`${h} | \uC800\uC7A5\uC77C: ${new Date(c.updatedAt).toLocaleDateString()} | ${c.elementCount||0}\uAC1C \uC694\uC18C`,date:c.updatedAt,data:c,typeIcon:m,typeLabel:u,documentType:d}});console.log("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC:",i.length,"\uAC1C"),t(i)}catch(o){console.error("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC624\uB958:",o),n&&n()}})}loadAsViewerMode(e,t,n,o){let i="",c="";if(e.pdfBase64)try{let h=e.pdfBase64.split(",")[1]||e.pdfBase64,C=atob(h),_=new Uint8Array(C.length);for(let D=0;D<C.length;D++)_[D]=C.charCodeAt(D);let P=new Blob([_],{type:"application/pdf"}),y=URL.createObjectURL(P);i=y,c=e.pdfBase64,console.log("Base64 \uB370\uC774\uD130\uB85C\uBD80\uD130 PDF URL \uC0DD\uC131\uB428:",y)}catch(h){if(console.error("Base64 \uB370\uC774\uD130 \uBCC0\uD658 \uC2E4\uD328:",h),e.pdfSrc)i=e.pdfSrc;else{o.showError("PDF \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),n(!0,e);return}}else if(e.pdfSrc)i=e.pdfSrc,console.log("\uAE30\uC874 pdfSrc \uC0AC\uC6A9:",e.pdfSrc);else{console.warn("PDF \uBDF0\uC5B4 \uBB38\uC11C\uC778\uB370 PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uD569\uB2C8\uB2E4."),n(!0,e);return}let d=e.fileName||e.title,g=e.pages||[],m=g.length,u=1;console.log("PDF \uBDF0\uC5B4 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uB428:","\uD398\uC774\uC9C0 \uC218:",m),t({pdfSrc:i,pdfBase64Data:c,loadedFileName:d,pdfPages:g,totalPages:m,currentPage:u})}loadAsEditorMode(e,t,n,o){let i=e.pages||[{id:"page-1",pageNumber:1,elements:[],width:t,height:n}],c=i.length;console.log("\uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uB428:",i.length,"\uD398\uC774\uC9C0"),o({pdfSrc:null,loadedFileName:"",pdfBase64Data:"",pdfPages:i,selectedElement:null,editingElement:null,currentPage:1,totalPages:c})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var ze=class l{constructor(){}calculateBoundingBoxFromPoints(e){if(e.length===0)return{x:0,y:0,width:0,height:0};let t=e[0].x,n=e[0].x,o=e[0].y,i=e[0].y;for(let c of e)t=Math.min(t,c.x),n=Math.max(n,c.x),o=Math.min(o,c.y),i=Math.max(i,c.y);return{x:t,y:o,width:n-t,height:i-o}}extractCoordinatesFromPath(e){let t=[],n=/[-+]?[0-9]*\.?[0-9]+/g,o;for(;(o=n.exec(e))!==null;)t.push(parseFloat(o[0]));return t}calculateBoundingBox(e){if(e.length<2)return{x:0,y:0,width:0,height:0};let t=e[0],n=e[0],o=e[1],i=e[1];for(let c=2;c<e.length;c+=2)c+1<e.length&&(t=Math.min(t,e[c]),n=Math.max(n,e[c]),o=Math.min(o,e[c+1]),i=Math.max(i,e[c+1]));return{x:t,y:o,width:n-t,height:i-o}}static \u0275fac=function(t){return new(t||l)};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};function Ei(l,e){if(l&1){let t=R();r(0,"div",25),O("click",function(){let o=M(t).$implicit,i=f(3);return x(i.selectEditor(o.id))}),r(1,"div",26)(2,"span"),s(3),a()(),r(4,"button",27),O("click",function(o){let i=M(t).$implicit;return f(3).deleteEditor(i.id),x(o.stopPropagation())}),W(5,"i",28),a()()}if(l&2){let t=e.$implicit,n=f(3);Y("active",t.id===n.activeEditorId),p(2),Z("font-family",t.fontFamily)("font-size",t.fontSize,"px")("color",t.color)("font-weight",t.bold?"bold":"normal")("font-style",t.italic?"italic":"normal")("text-decoration",t.underline?"underline":"none"),p(),z(" ",t.text||"\uBE48 \uD14D\uC2A4\uD2B8"," ")}}function ki(l,e){if(l&1&&(r(0,"div",23),$(1,Ei,6,15,"div",24),a()),l&2){let t=f(2);p(),b("ngForOf",t.editors)}}function Ti(l,e){l&1&&(r(0,"div",29)(1,"p"),s(2,"\uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uC0C8 \uD14D\uC2A4\uD2B8\uB97C \uCD94\uAC00\uD574\uBCF4\uC138\uC694."),a()())}function Ii(l,e){if(l&1&&(r(0,"option",47),s(1),a()),l&2){let t=e.$implicit;b("value",t),p(),V(t)}}function Ai(l,e){if(l&1&&(r(0,"option",47),s(1),a()),l&2){let t=e.$implicit;b("value",t),p(),z("",t,"px")}}function Bi(l,e){if(l&1){let t=R();r(0,"div",30)(1,"div",8)(2,"h4"),s(3,"\uD14D\uC2A4\uD2B8 \uC18D\uC131"),a()(),r(4,"div",31)(5,"label"),s(6,"\uD14D\uC2A4\uD2B8 \uB0B4\uC6A9"),a(),r(7,"textarea",32),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedEditor.text,o)||(i.selectedEditor.text=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.onTextChange(o))}),a()(),r(8,"div",33)(9,"div",34)(10,"label"),s(11,"\uD3F0\uD2B8"),a(),r(12,"select",35),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedEditor.fontFamily,o)||(i.selectedEditor.fontFamily=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.onFontFamilyChange(o))}),$(13,Ii,2,2,"option",36),a()(),r(14,"div",34)(15,"label"),s(16,"\uD06C\uAE30"),a(),r(17,"select",35),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedEditor.fontSize,o)||(i.selectedEditor.fontSize=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.onFontSizeChange(o))}),$(18,Ai,2,2,"option",36),a()()(),r(19,"div",31)(20,"label"),s(21,"\uC0C9\uC0C1"),a(),r(22,"div",37)(23,"input",38),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedEditor.color,o)||(i.selectedEditor.color=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.onColorChange(o))}),a(),r(24,"input",39),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedEditor.color,o)||(i.selectedEditor.color=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.onColorChange(o))}),a()()(),r(25,"div",31)(26,"label"),s(27,"\uC2A4\uD0C0\uC77C"),a(),r(28,"div",40)(29,"button",41),O("click",function(){M(t);let o=f(2);return x(o.toggleBold())}),W(30,"i",42),a(),r(31,"button",41),O("click",function(){M(t);let o=f(2);return x(o.toggleItalic())}),W(32,"i",43),a(),r(33,"button",41),O("click",function(){M(t);let o=f(2);return x(o.toggleUnderline())}),W(34,"i",44),a()()(),r(35,"div",33)(36,"div",34)(37,"label"),s(38),Ht(39,"number"),a(),r(40,"input",45),O("input",function(o){M(t);let i=f(2);return x(i.onOpacityChange(+o.target.value))}),a()(),r(41,"div",34)(42,"label"),s(43),a(),r(44,"input",46),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.selectedEditor.rotation,o)||(i.selectedEditor.rotation=o),x(o)}),O("ngModelChange",function(o){M(t);let i=f(2);return x(i.onRotationChange(o))}),a()()()()}if(l&2){let t=f(2);p(7),X("ngModel",t.selectedEditor.text),p(5),X("ngModel",t.selectedEditor.fontFamily),p(),b("ngForOf",t.fontFamilies),p(4),X("ngModel",t.selectedEditor.fontSize),p(),b("ngForOf",t.fontSizes),p(5),X("ngModel",t.selectedEditor.color),p(),X("ngModel",t.selectedEditor.color),p(5),Y("active",t.selectedEditor.bold),p(2),Y("active",t.selectedEditor.italic),p(2),Y("active",t.selectedEditor.underline),p(5),z("\uD22C\uBA85\uB3C4: ",pn(39,17,t.selectedEditor.opacity*100,"1.0-0"),"%"),p(2),b("value",t.selectedEditor.opacity*100),p(3),z("\uD68C\uC804: ",t.selectedEditor.rotation,"\xB0"),p(),X("ngModel",t.selectedEditor.rotation)}}function Fi(l,e){l&1&&(r(0,"div",48)(1,"p"),s(2,"\uD14D\uC2A4\uD2B8\uB97C \uC120\uD0DD\uD558\uC5EC \uC18D\uC131\uC744 \uD3B8\uC9D1\uD558\uC138\uC694."),a()())}function Vi(l,e){if(l&1){let t=R();r(0,"div",1),O("click",function(){M(t);let o=f();return x(o.onClose())}),r(1,"div",2),O("click",function(o){return M(t),x(o.stopPropagation())}),r(2,"div",3)(3,"h3"),s(4,"\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30"),a(),r(5,"button",4),O("click",function(){M(t);let o=f();return x(o.onClose())}),W(6,"i",5),a()(),r(7,"div",6)(8,"div",7)(9,"div",8)(10,"h4"),s(11,"\uD14D\uC2A4\uD2B8 \uBAA9\uB85D"),a(),r(12,"button",9),O("click",function(){M(t);let o=f();return x(o.addTextEditor())}),W(13,"i",10),s(14," \uCD94\uAC00 "),a()(),$(15,ki,2,1,"div",11)(16,Ti,3,0,"div",12),a(),$(17,Bi,45,20,"div",13)(18,Fi,3,0,"div",14),a(),r(19,"div",15)(20,"div",16)(21,"button",17),O("click",function(){M(t);let o=f();return x(o.clearAllEditors())}),W(22,"i",18),s(23," \uBAA8\uB450 \uC0AD\uC81C "),a()(),r(24,"div",19)(25,"button",20),O("click",function(){M(t);let o=f();return x(o.onClose())}),s(26,"\uCDE8\uC18C"),a(),r(27,"button",21),O("click",function(){M(t);let o=f();return x(o.applyTextsToDocument())}),W(28,"i",22),s(29," \uC801\uC6A9 "),a()()()()()}if(l&2){let t=f();p(15),b("ngIf",t.editors.length>0),p(),b("ngIf",t.editors.length===0),p(),b("ngIf",t.selectedEditor),p(),b("ngIf",!t.selectedEditor&&t.editors.length>0),p(3),b("disabled",t.editors.length===0),p(6),b("disabled",t.editors.length===0)}}var Le=class l{isVisible=!1;editors=[];activeEditorId=null;editorsChanged=new B;activeEditorChanged=new B;applyTexts=new B;visibilityChanged=new B;selectedEditor=null;fontFamilies=["Arial","Arial Black","Times New Roman","Courier New","Helvetica","Georgia","Verdana","Comic Sans MS"];fontSizes=[8,9,10,11,12,14,16,18,20,22,24,28,32,36,48,72];constructor(){}ngOnInit(){}ngOnChanges(){this.activeEditorId?this.selectedEditor=this.editors.find(e=>e.id===this.activeEditorId)||null:this.selectedEditor=null}onClose(){this.isVisible=!1,this.visibilityChanged.emit(!1)}addTextEditor(){let e={id:`text-editor-${Date.now()}`,x:100,y:100,text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:14,fontFamily:"Arial",color:"#000000",bold:!1,italic:!1,underline:!1,width:200,height:50,rotation:0,opacity:1,pageNumber:1},t=[...this.editors,e];this.editors=t,this.editorsChanged.emit(t),this.selectEditor(e.id)}selectEditor(e){this.activeEditorId=e,this.selectedEditor=this.editors.find(t=>t.id===e)||null,this.activeEditorChanged.emit(e)}deleteEditor(e){let t=this.editors.filter(n=>n.id!==e);this.editors=t,this.editorsChanged.emit(t),this.activeEditorId===e&&(this.activeEditorId=null,this.selectedEditor=null,this.activeEditorChanged.emit(null))}updateSelectedEditor(){if(this.selectedEditor){let e=this.editors.findIndex(t=>t.id===this.selectedEditor.id);e!==-1&&(this.editors[e]=it({},this.selectedEditor),this.editorsChanged.emit([...this.editors]))}}onTextChange(e){this.selectedEditor&&(this.selectedEditor.text=e,this.updateSelectedEditor())}onFontSizeChange(e){this.selectedEditor&&(this.selectedEditor.fontSize=e,this.updateSelectedEditor())}onFontFamilyChange(e){this.selectedEditor&&(this.selectedEditor.fontFamily=e,this.updateSelectedEditor())}onColorChange(e){this.selectedEditor&&(this.selectedEditor.color=e,this.updateSelectedEditor())}toggleBold(){this.selectedEditor&&(this.selectedEditor.bold=!this.selectedEditor.bold,this.updateSelectedEditor())}toggleItalic(){this.selectedEditor&&(this.selectedEditor.italic=!this.selectedEditor.italic,this.updateSelectedEditor())}toggleUnderline(){this.selectedEditor&&(this.selectedEditor.underline=!this.selectedEditor.underline,this.updateSelectedEditor())}onOpacityChange(e){this.selectedEditor&&(this.selectedEditor.opacity=e/100,this.updateSelectedEditor())}onRotationChange(e){this.selectedEditor&&(this.selectedEditor.rotation=e,this.updateSelectedEditor())}applyTextsToDocument(){this.applyTexts.emit([...this.editors])}clearAllEditors(){this.editors=[],this.selectedEditor=null,this.activeEditorId=null,this.editorsChanged.emit([]),this.activeEditorChanged.emit(null)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-pdf-text-modifier"]],inputs:{isVisible:"isVisible",editors:"editors",activeEditorId:"activeEditorId"},outputs:{editorsChanged:"editorsChanged",activeEditorChanged:"activeEditorChanged",applyTexts:"applyTexts",visibilityChanged:"visibilityChanged"},standalone:!1,features:[Bt],decls:1,vars:1,consts:[["class","pdf-text-modifier-overlay",3,"click",4,"ngIf"],[1,"pdf-text-modifier-overlay",3,"click"],[1,"pdf-text-modifier-panel",3,"click"],[1,"panel-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"panel-content"],[1,"editors-section"],[1,"section-header"],[1,"add-btn",3,"click"],[1,"fas","fa-plus"],["class","editors-list",4,"ngIf"],["class","no-editors",4,"ngIf"],["class","properties-section",4,"ngIf"],["class","no-selection",4,"ngIf"],[1,"panel-footer"],[1,"footer-left"],[1,"clear-btn",3,"click","disabled"],[1,"fas","fa-trash-alt"],[1,"footer-right"],[1,"cancel-btn",3,"click"],[1,"apply-btn",3,"click","disabled"],[1,"fas","fa-check"],[1,"editors-list"],["class","editor-item",3,"active","click",4,"ngFor","ngForOf"],[1,"editor-item",3,"click"],[1,"editor-preview"],[1,"delete-btn",3,"click"],[1,"fas","fa-trash"],[1,"no-editors"],[1,"properties-section"],[1,"property-group"],["placeholder","\uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694","rows","3",3,"ngModelChange","ngModel"],[1,"property-row"],[1,"property-group","half"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"color-input-group"],["type","color",1,"color-input",3,"ngModelChange","ngModel"],["type","text",1,"color-text",3,"ngModelChange","ngModel"],[1,"style-buttons"],[3,"click"],[1,"fas","fa-bold"],[1,"fas","fa-italic"],[1,"fas","fa-underline"],["type","range","min","0","max","100",1,"range-input",3,"input","value"],["type","range","min","-180","max","180",1,"range-input",3,"ngModelChange","ngModel"],[3,"value"],[1,"no-selection"]],template:function(t,n){t&1&&$(0,Vi,30,6,"div",0),t&2&&b("ngIf",n.isVisible)},dependencies:[_t,st,xt,Ot,ut,Et,kt,gt,pt,hn],styles:[".pdf-text-modifier-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.pdf-text-modifier-panel[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90vw;max-width:600px;max-height:80vh;display:flex;flex-direction:column}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#f8f9fa;border-radius:8px 8px 0 0}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;color:#666;font-size:16px;border-radius:4px}.panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#333}.panel-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#555}.section-header[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer}.section-header[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.section-header[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.editors-section[_ngcontent-%COMP%]{margin-bottom:24px}.editors-section[_ngcontent-%COMP%]   .editors-list[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:6px;max-height:200px;overflow-y:auto}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.editors-section[_ngcontent-%COMP%]   .editor-item.active[_ngcontent-%COMP%]{background:#e3f2fd;border-color:#2196f3}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .editor-preview[_ngcontent-%COMP%]{flex:1}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .editor-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#dc3545;padding:4px 6px;border-radius:4px;cursor:pointer;font-size:12px;opacity:.7}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{opacity:1;background:#f8d7da}.editors-section[_ngcontent-%COMP%]   .no-editors[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#666}.editors-section[_ngcontent-%COMP%]   .no-editors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:16px}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;font-weight:500;color:#555}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px;font-family:inherit}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:60px}.properties-section[_ngcontent-%COMP%]   .property-group.half[_ngcontent-%COMP%]{width:calc(50% - 8px)}.properties-section[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:flex;gap:16px}.properties-section[_ngcontent-%COMP%]   .color-input-group[_ngcontent-%COMP%]{display:flex;gap:8px}.properties-section[_ngcontent-%COMP%]   .color-input-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:50px;height:36px;border:1px solid #ccc;border-radius:4px;cursor:pointer}.properties-section[_ngcontent-%COMP%]   .color-input-group[_ngcontent-%COMP%]   .color-text[_ngcontent-%COMP%]{flex:1}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer;transition:all .2s}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fa}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.properties-section[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%;margin-top:4px}.no-selection[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#666;background:#f8f9fa;border-radius:6px;border:1px dashed #ccc}.no-selection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.panel-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f8f9fa;border-radius:0 0 8px 8px}.panel-footer[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%], .panel-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{display:flex;gap:8px}.panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.panel-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:1px solid #dc3545}.panel-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333}.panel-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.panel-footer[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:#fff;color:#666;border:1px solid #ccc}.panel-footer[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa}.panel-footer[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:1px solid #28a745}.panel-footer[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.panel-footer[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}@media (max-width: 768px){.pdf-text-modifier-panel[_ngcontent-%COMP%]{width:95vw;max-height:90vh}.property-row[_ngcontent-%COMP%]{flex-direction:column}.property-row[_ngcontent-%COMP%]   .property-group.half[_ngcontent-%COMP%]{width:100%}.panel-footer[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.panel-footer[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%], .panel-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};function zi(l,e){l&1&&(r(0,"div",24),W(1,"div",25),a())}function Li(l,e){if(l&1){let t=R();r(0,"li",26),O("click",function(){let o=M(t).$implicit,i=f();return x(i.onMenuItemClick(o))}),s(1),a()}if(l&2){let t=e.$implicit,n=f();Y("active",t.active)("disabled",n.isMenuDisabled(t.name)),b("title",t.name+" \uBA54\uB274"),p(),z(" ",t.name," ")}}function Gi(l,e){if(l&1&&(r(0,"span",27)(1,"b"),s(2),a(),s(3,"\uAC1C "),a()),l&2){let t=f();p(2),V(t.searchResultCount)}}var Ge=class l{constructor(e,t,n){this.router=e;this.renderer=t;this.el=n}modalElement=null;activeMenu="\uD648";currentActiveMenu="\uD648";docsTitle="";documentType="empty";isGenerating=!1;wordCount=0;isSearchMode=!1;searchResults={current:0,total:0};generatedDocs="";enablePdfAnalysis=!1;menuAction=new B;menuChange=new B;toolbarAction=new B;search=new B;rightPanelToggle=new B;leftPanelToggle=new B;pdfAnalysisToggle=new B;searchQuery="";searchResultCount=null;isSearching=!1;showLogoutModal=!1;menuItems=[{name:"\uC0C8\uBB38\uC11C",active:!1},{name:"\uC800\uC7A5",active:!1},{name:"\uBD88\uB7EC\uC624\uAE30",active:!1},{name:"\uB0B4\uBCF4\uB0B4\uAE30",active:!1}];toolbarActions=[{action:"new-document",icon:"/images/btn-gnb-doc@3x.png",tooltip:"\uC0C8 \uBB38\uC11C \uC0DD\uC131"},{action:"save-document",icon:"/images/ico-save@3x.png",tooltip:"\uBB38\uC11C \uC800\uC7A5"},{action:"open-document",icon:"/images/ico-file@3x.png",tooltip:"\uBB38\uC11C \uC5F4\uAE30"},{action:"export-document",icon:"/images/btn-gnb-download@3x.png",tooltip:"\uBB38\uC11C \uB0B4\uBCF4\uB0B4\uAE30"},{action:"writing-tools",icon:"/images/btn-gnb-edit@3x.png",tooltip:"\uC791\uC131 \uB3C4\uAD6C"}];ngOnDestroy(){this.removeModalFromBody()}onMenuItemClick(e){if(!e.disabled){switch(this.menuItems.forEach(t=>t.active=!1),e.active=!0,e.name){case"\uC0C8\uBB38\uC11C":this.toolbarAction.emit("new-document");break;case"\uC800\uC7A5":this.toolbarAction.emit("save-document");break;case"\uBD88\uB7EC\uC624\uAE30":this.toolbarAction.emit("open-document");break;case"\uB0B4\uBCF4\uB0B4\uAE30":this.toolbarAction.emit("export-document");break}this.menuAction.emit({action:"menu-change",data:{menu:e.name}}),this.menuChange.emit(e.name)}}isMenuDisabled(e){return["\uC800\uC7A5","\uB0B4\uBCF4\uB0B4\uAE30"].includes(e)?!this.docsTitle&&!this.generatedDocs&&this.wordCount===0:!1}onSearchChange(e){let t;if(typeof e=="string")t=e;else{let n=e.target;t=n?n.value:""}this.searchQuery=t,this.search.emit(t),t.trim()?(this.isSearching=!0,setTimeout(()=>{let n=t.length>0?Math.floor(Math.random()*10)+1:0;this.searchResultCount=n,this.isSearching=!1},800)):(this.searchResultCount=null,this.isSearching=!1)}onSearchEnter(){this.searchQuery.trim()&&this.search.emit(this.searchQuery)}getWordCountText(){return this.wordCount===0?"":`${this.wordCount.toLocaleString()}\uC790`}onFileSelected(e){let t=e.target.files[0];t&&(this.toolbarAction.emit("file-selected"),this.menuAction.emit({action:"file-selected",data:{file:t}}))}onToolbarClick(e){this.toolbarActions.find(n=>n.action===e)?.disabled||this.toolbarAction.emit(e)}onPdfAnalysisToggle(){this.pdfAnalysisToggle.emit(!this.enablePdfAnalysis)}onMenuClick(e){let t=this.menuItems.find(n=>n.name===e);t&&this.onMenuItemClick(t)}onSearch(){this.onSearchEnter()}onSearchInput(e){this.onSearchChange(e)}clearSearch(){this.searchQuery="",this.searchResultCount=null,this.isSearching=!1,this.search.emit("")}openLogoutModal(){this.showLogoutModal=!0,this.createModalInBody()}closeLogoutModal(){this.showLogoutModal=!1,this.removeModalFromBody()}confirmLogout(){localStorage.removeItem("userToken"),localStorage.removeItem("userId"),sessionStorage.clear(),this.router.navigate(["/docs/login"]).then(()=>{window.location.reload()})}createModalInBody(){if(this.removeModalFromBody(),this.modalElement=this.renderer.createElement("div"),this.renderer.addClass(this.modalElement,"logout-modal-overlay"),this.modalElement){this.modalElement.innerHTML=`
        <div class="modal-backdrop"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h3>\uB85C\uADF8\uC544\uC6C3</h3>
          </div>
          <div class="modal-body">
            <p>\uC815\uB9D0 \uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?</p>
            <p class="modal-description">\uC800\uC7A5\uD558\uC9C0 \uC54A\uC740 \uC791\uC5C5 \uB0B4\uC6A9\uC774 \uC788\uB2E4\uBA74 \uC800\uC7A5 \uD6C4 \uB85C\uADF8\uC544\uC6C3\uD574\uC8FC\uC138\uC694.</p>
          </div>
          <div class="modal-footer">
            <button class="btn-cancel">\uCDE8\uC18C</button>
            <button class="btn-confirm">\uB85C\uADF8\uC544\uC6C3</button>
          </div>
        </div>
      `;let e=this.modalElement.querySelector(".modal-backdrop"),t=this.modalElement.querySelector(".btn-cancel"),n=this.modalElement.querySelector(".btn-confirm");e&&this.renderer.listen(e,"click",()=>this.closeLogoutModal()),t&&this.renderer.listen(t,"click",()=>this.closeLogoutModal()),n&&this.renderer.listen(n,"click",()=>this.confirmLogout()),this.renderer.appendChild(document.body,this.modalElement)}}removeModalFromBody(){this.modalElement&&(this.renderer.removeChild(document.body,this.modalElement),this.modalElement=null)}static \u0275fac=function(t){return new(t||l)(J(vt),J(he),J(an))};static \u0275cmp=ot({type:l,selectors:[["app-docs-top-menu"]],inputs:{activeMenu:"activeMenu",currentActiveMenu:"currentActiveMenu",docsTitle:"docsTitle",documentType:"documentType",isGenerating:"isGenerating",wordCount:"wordCount",isSearchMode:"isSearchMode",searchResults:"searchResults",generatedDocs:"generatedDocs",enablePdfAnalysis:"enablePdfAnalysis"},outputs:{menuAction:"menuAction",menuChange:"menuChange",toolbarAction:"toolbarAction",search:"search",rightPanelToggle:"rightPanelToggle",leftPanelToggle:"leftPanelToggle",pdfAnalysisToggle:"pdfAnalysisToggle"},standalone:!1,decls:34,vars:5,consts:[["fileInput",""],["class","search-progress-bar",4,"ngIf"],[1,"top-menu-bar"],["type","file","accept",".txt,.docx,.md,.pdf",2,"display","none",3,"change"],[1,"brand"],["title","\uBA54\uB274 \uD328\uB110",1,"panel-toggle-btn","left",3,"click"],[1,"hamburger-icon"],["title","\uACE0\uAE09 \uAE30\uB2A5 \uAC1C\uBC1C \uC911 - PDF \uBD88\uB7EC\uC62C \uB54C 1\uD398\uC774\uC9C0\uB9CC \uBD84\uC11D\uD569\uB2C8\uB2E4",1,"pdf-analysis-toggle-left"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"toggle-slider"],[1,"toggle-label"],[1,"beta-badge"],[1,"menu-center"],[3,"active","disabled","title","click",4,"ngFor","ngForOf"],[1,"menu-right",2,"display","flex","align-items","center","gap","8px"],["class","search-result-count-inline",4,"ngIf"],["type","text","placeholder","\u{1F50D} \uBB38\uC11C \uB0B4\uC6A9 \uAC80\uC0C9",1,"search-box",3,"ngModelChange","input","keydown.enter","ngModel"],["title","\uB85C\uADF8\uC544\uC6C3",1,"btn-logout",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],["title","\uBA54\uB274 \uD328\uB110",1,"panel-toggle-btn",3,"click"],[1,"search-progress-bar"],[1,"search-progress"],[3,"click","title"],[1,"search-result-count-inline"]],template:function(t,n){if(t&1){let o=R();$(0,zi,2,0,"div",1),r(1,"nav",2)(2,"input",3,0),O("change",function(c){return M(o),x(n.onFileSelected(c))}),a(),r(4,"div",4)(5,"button",5),O("click",function(){return M(o),x(n.leftPanelToggle.emit())}),r(6,"div",6),W(7,"span")(8,"span")(9,"span"),a()(),r(10,"div",7)(11,"label",8)(12,"input",9),O("change",function(){return M(o),x(n.onPdfAnalysisToggle())}),a(),W(13,"span",10),a(),r(14,"span",11),s(15," \uBD84\uC11D\uD558\uAE30 "),r(16,"span",12),s(17,"1\uD398\uC774\uC9C0\uB9CC"),a()()()(),r(18,"div",13)(19,"ul"),$(20,Li,2,6,"li",14),a()(),r(21,"div",15),$(22,Gi,4,1,"span",16),r(23,"input",17),K("ngModelChange",function(c){return M(o),q(n.searchQuery,c)||(n.searchQuery=c),x(c)}),O("input",function(){return M(o),x(n.onSearchChange(n.searchQuery))})("keydown.enter",function(){return M(o),x(n.onSearchEnter())}),a(),r(24,"button",18),O("click",function(){return M(o),x(n.openLogoutModal())}),fe(),r(25,"svg",19),W(26,"path",20)(27,"polyline",21)(28,"line",22),a()(),rn(),r(29,"button",23),O("click",function(){return M(o),x(n.rightPanelToggle.emit())}),r(30,"div",6),W(31,"span")(32,"span")(33,"span"),a()()()()}t&2&&(b("ngIf",n.isSearching),p(12),b("checked",n.enablePdfAnalysis),p(8),b("ngForOf",n.menuItems),p(2),b("ngIf",n.searchResultCount!==null&&!n.isSearching),p(),X("ngModel",n.searchQuery))},dependencies:[_t,st,ut,gt,pt],styles:['.search-result-count-inline[_ngcontent-%COMP%]{font-size:15px;color:var(--text-primary);background:var(--bg-warning);border:1px solid var(--warning-color);border-radius:4px;padding:2px 8px;font-weight:500;margin-left:4px;display:inline-block;vertical-align:middle}.search-result-count[_ngcontent-%COMP%]{position:absolute;top:5px;right:24px;font-size:15px;color:var(--text-primary);background:var(--bg-warning);border:1px solid var(--warning-color);border-radius:4px;padding:2px 10px;z-index:8;font-weight:500}.search-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:3px;background:transparent;z-index:1000}.search-progress[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(90deg,gold,#ffe066);animation:_ngcontent-%COMP%_search-progress-ani .7s linear infinite alternate;border-radius:2px}@keyframes _ngcontent-%COMP%_search-progress-ani{0%{opacity:.5;transform:scaleX(.2)}to{opacity:1;transform:scaleX(1)}}.top-menu-bar[_ngcontent-%COMP%]{background:var(--bg-primary);color:var(--text-primary);padding:0 16px;display:flex;align-items:center;justify-content:space-between;font-size:14px;position:relative;z-index:1000;height:48px;flex-shrink:0;margin:0;transition:all .3s ease;border-bottom:1px solid var(--border-color)}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0px;max-width:0px;flex:0 0 auto}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:8px 10px;cursor:pointer;transition:all .3s ease;color:var(--text-primary);display:flex;align-items:center;justify-content:center;height:36px;width:40px;position:relative}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 12px #667eea4d}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--primary-color)}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(-1px)}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(1px)}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:20px}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;height:2px;background:var(--text-primary);border-radius:2px;transition:all .3s ease}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:70%}.menu-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:280px;justify-content:flex-end;flex:0 0 auto}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:8px 10px;cursor:pointer;transition:all .3s ease;color:var(--text-primary);display:flex;align-items:center;justify-content:center;height:36px;width:40px;position:relative}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 12px #667eea4d}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--primary-color)}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(-1px)}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(1px)}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:20px}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;height:2px;background:var(--text-primary);border-radius:2px;transition:all .3s ease}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:70%}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 0}.toolbar-menu-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary);margin-right:12px;padding:4px 10px 4px 0;letter-spacing:-.5px;transition:color .3s ease}.toolbar-menu-label.novel-menu-btn[_ngcontent-%COMP%]{cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s ease}.toolbar-menu-label.novel-menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--bg-tertiary)}.toolbar-menu-label.novel-menu-btn[_ngcontent-%COMP%]:active{background-color:var(--bg-secondary)}.toolbar-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;border-radius:6px;cursor:pointer;transition:background .15s;display:flex;align-items:center;justify-content:center;color:var(--text-primary)}.toolbar-btn[_ngcontent-%COMP%]:hover, .toolbar-btn[_ngcontent-%COMP%]:focus{background:var(--bg-tertiary)}.toolbar-btn.disabled[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;pointer-events:none}.toolbar-btn.disabled[_ngcontent-%COMP%]   .toolbar-icon[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled   .toolbar-icon[_ngcontent-%COMP%]{opacity:.5}.toolbar-icon[_ngcontent-%COMP%]{width:20px;height:20px}.menu-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:1 1 auto}.menu-center[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;gap:4px;list-style:none;margin:0;padding:0}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:color .2s;color:var(--text-primary);font-size:14px;font-weight:500;padding:0 6px;height:40px;display:flex;align-items:center;border-radius:4px 4px 0 0}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;right:0;bottom:2px;height:2px;background:var(--border-color);border-radius:1px}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{background:#ff6200}.menu-center[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#ff6200}.menu-center[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#ff6200}.menu-center[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed;pointer-events:none}.menu-center[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]:after{display:none}.menu-right[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:8px;font-size:14px;white-space:nowrap}.search-box[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:6px;padding:6px 30px 6px 8px;font-size:13px;width:180px;outline:none;transition:border-color .2s;background:var(--bg-primary);color:var(--text-primary)}.search-box[_ngcontent-%COMP%]:focus{border-color:#ff6200;box-shadow:0 0 0 2px #ff62001a}.btn-logout[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;padding:6px 10px;cursor:pointer;transition:all .2s ease;font-size:16px;display:flex;align-items:center;justify-content:center;height:32px;min-width:36px;color:var(--text-secondary)}.btn-logout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .2s ease}.btn-logout[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5;color:#dc2626;transform:translateY(-1px);box-shadow:0 2px 8px #dc262633}.btn-logout[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(2px)}.btn-logout[_ngcontent-%COMP%]:active{transform:translateY(0);background:#fecaca}.search-icon[_ngcontent-%COMP%]{position:absolute;right:28px;pointer-events:none;display:flex;align-items:center}.docs-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 8px;background:#f8f9fa;border-radius:4px;font-size:12px;margin-right:8px}.docs-status[_ngcontent-%COMP%]   .docs-title[_ngcontent-%COMP%]{font-weight:600;color:#333;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;gap:6px}.docs-status[_ngcontent-%COMP%]   .doc-type-badge[_ngcontent-%COMP%]{display:inline-block;font-size:10px;font-weight:600;padding:2px 6px;border-radius:3px;white-space:nowrap;text-transform:uppercase;letter-spacing:.3px}.docs-status[_ngcontent-%COMP%]   .doc-type-badge.pdf-viewer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;box-shadow:0 1px 3px #ee5a6f4d}.docs-status[_ngcontent-%COMP%]   .doc-type-badge.new-document[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf7,#339af0);color:#fff;box-shadow:0 1px 3px #339af04d}.docs-status[_ngcontent-%COMP%]   .word-count[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 6px;border-radius:3px;font-size:11px;font-weight:500}.docs-status[_ngcontent-%COMP%]   .generation-status[_ngcontent-%COMP%]{background:#e8f5e8;color:#2e7d32;padding:2px 6px;border-radius:3px;font-size:11px;font-weight:500;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}@media (max-width: 768px){.top-menu-bar[_ngcontent-%COMP%]{padding:0 12px;height:44px}.brand[_ngcontent-%COMP%]{margin-right:16px;font-size:18px}.toolbar[_ngcontent-%COMP%]{gap:6px;padding:6px 0}.toolbar-menu-label[_ngcontent-%COMP%]{font-size:13px;padding:3px 6px}.toolbar-btn[_ngcontent-%COMP%]{padding:3px}.toolbar-icon[_ngcontent-%COMP%]{width:18px;height:18px}.menu-center[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:2px;margin-left:-40px}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 4px;font-size:13px;height:36px}.search-box[_ngcontent-%COMP%]{width:140px;padding:5px 25px 5px 6px;font-size:12px}.docs-status[_ngcontent-%COMP%]{gap:6px;padding:3px 6px;font-size:11px}.docs-status[_ngcontent-%COMP%]   .docs-title[_ngcontent-%COMP%]{max-width:80px}}.toolbar-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-right:16px}.toolbar-group[_ngcontent-%COMP%]:last-child{margin-right:0}.modern-btn[_ngcontent-%COMP%], .text-btn[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:8px 12px;color:var(--text-primary);font-size:13px;font-weight:500;cursor:pointer;transition:all .25s ease;display:flex;align-items:center;gap:6px;position:relative;box-shadow:0 2px 4px var(--shadow)}.modern-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%], .text-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled), .text-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-tertiary);border-color:var(--text-muted);transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow)}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled), .text-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px);box-shadow:0 2px 8px var(--shadow)}.modern-btn[_ngcontent-%COMP%]:disabled, .text-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;background:var(--bg-secondary);color:var(--text-muted);box-shadow:0 1px 2px var(--shadow)}.modern-btn.save-btn.has-content[_ngcontent-%COMP%], .save-btn.has-content.text-btn[_ngcontent-%COMP%]{background:var(--bg-accent);border-color:var(--accent-color);color:var(--accent-color)}.modern-btn.save-btn.has-content[_ngcontent-%COMP%]:hover:not(:disabled), .save-btn.has-content.text-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-accent);opacity:.8}.modern-btn.save-btn[_ngcontent-%COMP%]   .save-indicator[_ngcontent-%COMP%], .save-btn.text-btn[_ngcontent-%COMP%]   .save-indicator[_ngcontent-%COMP%]{color:var(--accent-color);font-size:8px;position:absolute;top:2px;right:2px;animation:_ngcontent-%COMP%_pulse 2s infinite}.modern-btn.export-btn[_ngcontent-%COMP%]:not(:disabled), .export-btn.text-btn[_ngcontent-%COMP%]:not(:disabled){background:var(--bg-warning);border-color:var(--warning-color);color:var(--warning-color)}.modern-btn.export-btn[_ngcontent-%COMP%]:not(:disabled):hover, .export-btn.text-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:var(--bg-warning);opacity:.8}.modern-btn.settings-btn[_ngcontent-%COMP%], .settings-btn.text-btn[_ngcontent-%COMP%]{background:var(--bg-tertiary);border-color:var(--text-muted);color:var(--text-primary)}.modern-btn.settings-btn[_ngcontent-%COMP%]:hover, .settings-btn.text-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.novel-menu-btn[_ngcontent-%COMP%]{background:#ffffff26!important;border-left:3px solid #3b82f6!important}.novel-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff40!important}.pdf-analysis-toggle-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:12px;padding-left:12px;border-left:1px solid var(--border-color)}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-primary);-webkit-user-select:none;user-select:none;white-space:nowrap;display:flex;align-items:center;gap:6px}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .beta-badge[_ngcontent-%COMP%]{display:inline-block;font-size:9px;font-weight:700;padding:2px 5px;border-radius:3px;background:linear-gradient(135deg,#ffa94d,#ff922b);color:#fff;letter-spacing:.3px;box-shadow:0 1px 3px #ff922b4d;text-transform:none}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 4px #667eea80}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background:#ccc;transition:.3s;border-radius:24px}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;bottom:3px;background:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:hover{opacity:.9}.pdf-analysis-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-right:12px}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:var(--text-secondary);-webkit-user-select:none;user-select:none}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 4px #667eea80}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background:#ccc;transition:.3s;border-radius:24px}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;bottom:3px;background:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:hover{opacity:.9}']})};var Ne=class l{constructor(e){this.router=e}docsTitle="";documentType="empty";activeMenu="\uC791\uC131";wordCount=0;isSearchMode=!1;searchResults={current:0,total:0};isGenerating=!1;generatedDocs="";enablePdfAnalysis=!1;menuChange=new B;toolbarAction=new B;search=new B;rightPanelToggle=new B;leftPanelToggle=new B;pdfAnalysisToggle=new B;onMenuChange(e){this.menuChange.emit(e)}onToolbarAction(e){this.toolbarAction.emit(e)}onSearch(e){this.search.emit(e)}onRightPanelToggle(){this.rightPanelToggle.emit()}onLeftPanelToggle(){this.leftPanelToggle.emit()}onPdfAnalysisToggle(){this.pdfAnalysisToggle.emit(!this.enablePdfAnalysis)}goToHome(){console.log("Navigate to home from Docs mode")}static \u0275fac=function(t){return new(t||l)(J(vt))};static \u0275cmp=ot({type:l,selectors:[["app-docs-header"]],inputs:{docsTitle:"docsTitle",documentType:"documentType",activeMenu:"activeMenu",wordCount:"wordCount",isSearchMode:"isSearchMode",searchResults:"searchResults",isGenerating:"isGenerating",generatedDocs:"generatedDocs",enablePdfAnalysis:"enablePdfAnalysis"},outputs:{menuChange:"menuChange",toolbarAction:"toolbarAction",search:"search",rightPanelToggle:"rightPanelToggle",leftPanelToggle:"leftPanelToggle",pdfAnalysisToggle:"pdfAnalysisToggle"},standalone:!1,decls:2,vars:9,consts:[[1,"docs-header"],[3,"menuChange","toolbarAction","search","rightPanelToggle","leftPanelToggle","pdfAnalysisToggle","activeMenu","docsTitle","documentType","wordCount","isSearchMode","searchResults","isGenerating","generatedDocs","enablePdfAnalysis"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"app-docs-top-menu",1),O("menuChange",function(i){return n.onMenuChange(i)})("toolbarAction",function(i){return n.onToolbarAction(i)})("search",function(i){return n.onSearch(i)})("rightPanelToggle",function(){return n.onRightPanelToggle()})("leftPanelToggle",function(){return n.onLeftPanelToggle()})("pdfAnalysisToggle",function(){return n.onPdfAnalysisToggle()}),a()()),t&2&&(p(),b("activeMenu",n.activeMenu)("docsTitle",n.docsTitle)("documentType",n.documentType)("wordCount",n.wordCount)("isSearchMode",n.isSearchMode)("searchResults",n.searchResults)("isGenerating",n.isGenerating)("generatedDocs",n.generatedDocs)("enablePdfAnalysis",n.enablePdfAnalysis))},dependencies:[Ge],styles:[".docs-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--bg-primary);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000;box-shadow:0 2px 4px var(--shadow);width:100%;min-height:48px;transition:all .3s ease}@media (max-width: 992px){.docs-header[_ngcontent-%COMP%]{position:sticky;min-height:48px;box-shadow:0 2px 8px var(--shadow)}}@media (max-width: 768px){.docs-header[_ngcontent-%COMP%]{position:sticky;min-height:48px}.docs-header[_ngcontent-%COMP%]   app-docs-top-menu[_ngcontent-%COMP%]{width:100%;display:block}}@media (max-width: 480px){.docs-header[_ngcontent-%COMP%]{min-height:48px;box-shadow:0 1px 4px var(--shadow)}}"]})};function ji(l,e){if(l&1&&(r(0,"div",7),s(1),a()),l&2){let t=e.$implicit;b("title",t.title),p(),z(" ",t.icon," ")}}function Wi(l,e){if(l&1){let t=R();r(0,"div",4),O("click",function(){M(t);let o=f();return x(o.onExpand())}),r(1,"div",5),$(2,ji,2,2,"div",6),a()()}if(l&2){let t=f();p(2),b("ngForOf",t.menuGroups)}}function Hi(l,e){if(l&1){let t=R();r(0,"div",13),O("click",function(){let o=M(t).$implicit,i=f(2);return x(i.onMenuClick(o.id))}),r(1,"div",14),s(2),a(),r(3,"div",15)(4,"div",16),s(5),a(),r(6,"div",17),s(7),a()(),r(8,"div",18),s(9,"\u203A"),a()()}if(l&2){let t=e.$implicit;p(2),V(t.icon),p(3),V(t.title),p(2),z("",t.items.length,"\uAC1C \uD56D\uBAA9")}}function Ui(l,e){if(l&1){let t=R();r(0,"div",8)(1,"div",9)(2,"h3"),s(3,"\uBA54\uB274"),a(),r(4,"button",10),O("click",function(){M(t);let o=f();return x(o.onClose())}),s(5,"\xD7"),a()(),r(6,"div",11),$(7,Hi,10,3,"div",12),a()()}if(l&2){let t=f();p(7),b("ngForOf",t.menuGroups)}}function Yi(l,e){if(l&1&&(r(0,"div",29),s(1),a()),l&2){let t=f().$implicit;p(),V(t.description)}}function Xi(l,e){if(l&1){let t=R();r(0,"div",24),O("click",function(){let o=M(t).$implicit,i=f(2);return x(i.onSubItemClick(o.id))}),r(1,"div",25)(2,"div",26),s(3),a(),$(4,Yi,2,1,"div",27),a(),r(5,"div",28),s(6,"\u203A"),a()()}if(l&2){let t=e.$implicit;p(3),V(t.label),p(),b("ngIf",t.description)}}function qi(l,e){if(l&1){let t=R();r(0,"div",19)(1,"div",20)(2,"div",9)(3,"button",21),O("click",function(){M(t);let o=f();return x(o.onBack())}),s(4,"\u2039"),a(),r(5,"h3"),s(6),a(),r(7,"button",10),O("click",function(){M(t);let o=f();return x(o.onClose())}),s(8,"\xD7"),a()(),r(9,"div",22),$(10,Xi,7,2,"div",23),a()()()}if(l&2){let t=f();p(6),V(t.getMenuTitle()),p(4),b("ngForOf",t.getMenuItems())}}var Re=class l{recentWorks=[];isCollapsed=!1;menuAction=new B;close=new B;itemClick=new B;expand=new B;expandedMenuId=null;onExpand(){this.expand.emit()}menuGroups=[{id:"file",title:"\uD30C\uC77C",icon:"\u{1F4C1}",items:[{id:"new-document",label:"\uC0C8 \uBB38\uC11C",description:"\uBE48 \uBB38\uC11C \uC0DD\uC131"},{id:"open-file",label:"\uD30C\uC77C \uC5F4\uAE30",description:"PDF \uD30C\uC77C \uBD88\uB7EC\uC624\uAE30"},{id:"recent-docs",label:"\uCD5C\uADFC \uBB38\uC11C",description:"\uCD5C\uADFC \uC791\uC5C5\uD55C \uBB38\uC11C \uBAA9\uB85D"},{id:"save-document",label:"\uBB38\uC11C \uC800\uC7A5",description:"\uD604\uC7AC \uBB38\uC11C \uC800\uC7A5"}]},{id:"page-tools",title:"\uAD6C\uC870 \uAD00\uB9AC",icon:"\u{1F4D0}",items:[{id:"add-page",label:"\uD398\uC774\uC9C0 \uCD94\uAC00",description:"\uC0C8 \uD398\uC774\uC9C0 \uC0BD\uC785"},{id:"delete-page",label:"\uD398\uC774\uC9C0 \uC0AD\uC81C",description:"\uD604\uC7AC \uD398\uC774\uC9C0 \uC81C\uAC70"},{id:"rotate-page",label:"\uD398\uC774\uC9C0 \uD68C\uC804",description:"90\uB3C4 \uD68C\uC804"},{id:"reorder-pages",label:"\uD398\uC774\uC9C0 \uC7AC\uC815\uB82C",description:"\uD398\uC774\uC9C0 \uC21C\uC11C \uBCC0\uACBD"}]},{id:"export",title:"\uB0B4\uBCF4\uB0B4\uAE30",icon:"\u{1F4E4}",items:[{id:"export-pdf",label:"PDF\uB85C \uC800\uC7A5",description:"PDF \uD30C\uC77C\uB85C \uB0B4\uBCF4\uB0B4\uAE30"},{id:"export-docx",label:"DOCX\uB85C \uBCC0\uD658",description:"Word \uBB38\uC11C\uB85C \uC800\uC7A5"},{id:"export-txt",label:"TXT\uB85C \uCD94\uCD9C",description:"\uD14D\uC2A4\uD2B8\uB9CC \uCD94\uCD9C"},{id:"export-image",label:"\uC774\uBBF8\uC9C0\uB85C \uC800\uC7A5",description:"PNG/JPG\uB85C \uBCC0\uD658"}]},{id:"tools",title:"\uACE0\uAE09 \uB3C4\uAD6C",icon:"\u{1F527}",items:[{id:"merge-pdf",label:"PDF \uBCD1\uD569",description:"\uC5EC\uB7EC PDF \uD569\uCE58\uAE30"},{id:"split-pdf",label:"PDF \uBD84\uD560",description:"PDF \uD398\uC774\uC9C0 \uB098\uB204\uAE30"},{id:"compress-pdf",label:"PDF \uC555\uCD95",description:"\uD30C\uC77C \uD06C\uAE30 \uCD5C\uC801\uD654"},{id:"watermark",label:"\uC6CC\uD130\uB9C8\uD06C",description:"\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00"},{id:"password",label:"\uBE44\uBC00\uBC88\uD638 \uC124\uC815",description:"PDF \uC554\uD638\uD654"}]}];onMenuClick(e){this.expandedMenuId=this.expandedMenuId===e?null:e}onSubItemClick(e){this.menuAction.emit({type:"menu-click",menuId:e}),this.itemClick.emit({id:e})}onBack(){this.expandedMenuId=null}onClose(){this.expandedMenuId=null,this.close.emit()}getMenuTitle(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.title:""}getMenuItems(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.items:[]}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-docs-left-menu"]],inputs:{recentWorks:"recentWorks",isCollapsed:"isCollapsed"},outputs:{menuAction:"menuAction",close:"close",itemClick:"itemClick",expand:"expand"},standalone:!1,decls:4,vars:5,consts:[[1,"docs-left-menu"],["class","collapsed-view",3,"click",4,"ngIf"],["class","main-menu",4,"ngIf"],["class","expanded-panel",4,"ngIf"],[1,"collapsed-view",3,"click"],[1,"icon-list"],["class","menu-icon",3,"title",4,"ngFor","ngForOf"],[1,"menu-icon",3,"title"],[1,"main-menu"],[1,"panel-header"],["title","\uCD95\uC18C",1,"close-btn",3,"click"],[1,"category-list"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-icon"],[1,"category-content"],[1,"category-title"],[1,"category-count"],[1,"category-arrow"],[1,"expanded-panel"],[1,"panel-content"],[1,"back-btn",3,"click"],[1,"panel-items"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"menu-item",3,"click"],[1,"item-content"],[1,"item-label"],["class","item-description",4,"ngIf"],[1,"item-arrow"],[1,"item-description"]],template:function(t,n){t&1&&(r(0,"div",0),$(1,Wi,3,1,"div",1)(2,Ui,8,1,"div",2)(3,qi,11,2,"div",3),a()),t&2&&(Y("collapsed",n.isCollapsed),p(),b("ngIf",n.isCollapsed),p(),b("ngIf",!n.expandedMenuId&&!n.isCollapsed),p(),b("ngIf",n.expandedMenuId&&!n.isCollapsed))},dependencies:[_t,st],styles:["[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%}.docs-left-menu[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:280px;z-index:1000;margin:0!important;padding:0!important;background:var(--bg-primary);border-right:1px solid var(--border-color);box-shadow:2px 0 8px var(--shadow);animation:_ngcontent-%COMP%_slideInFromLeft .3s ease-out;transition:width .3s ease}.docs-left-menu.collapsed[_ngcontent-%COMP%]{width:48px;overflow:hidden}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;height:100%;overflow-y:auto;cursor:pointer}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;padding:8px;text-align:center;transition:all .2s ease;border-radius:8px}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);transform:scale(1.1)}.docs-left-menu[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%], .docs-left-menu[_ngcontent-%COMP%]   .expanded-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);position:sticky;top:0;z-index:10}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%], .docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:var(--text-muted);padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:var(--accent-primary);transform:translate(2px)}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--accent-danger);transform:rotate(90deg)}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:12px}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;margin-bottom:8px;background:var(--bg-secondary);border-radius:12px;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(4px);box-shadow:0 2px 12px #00000014}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:10px}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{flex:1}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-arrow[_ngcontent-%COMP%]{font-size:24px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover   .category-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]{padding:12px}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;margin-bottom:8px;background:var(--bg-secondary);border-radius:8px;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(4px);box-shadow:0 2px 8px #0000001a}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{flex:1}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.8}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-arrow[_ngcontent-%COMP%]{font-size:20px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .item-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 992px){.docs-left-menu[_ngcontent-%COMP%]{width:260px}}@media (max-width: 768px){.docs-left-menu[_ngcontent-%COMP%]{width:100%;max-width:280px}}"]})};function Ji(l,e){if(l&1&&(r(0,"div",7),s(1),a()),l&2){let t=e.$implicit;b("title",t.title),p(),z(" ",t.icon," ")}}function Zi(l,e){if(l&1){let t=R();r(0,"div",4),O("click",function(){M(t);let o=f();return x(o.onExpand())}),r(1,"div",5),$(2,Ji,2,2,"div",6),a()()}if(l&2){let t=f();p(2),b("ngForOf",t.menuGroups)}}function Qi(l,e){if(l&1&&(r(0,"div",21),s(1),a()),l&2){let t=f().$implicit;p(),z("",t.items.length,"\uAC1C \uD56D\uBAA9")}}function tr(l,e){if(l&1&&(r(0,"div",21),s(1),a()),l&2){let t=f(3);p(),z(" ",t.selectedElement?t.getElementTypeName(t.selectedElement.type)+" \uC120\uD0DD\uB428":"\uC120\uD0DD\uB41C \uC694\uC18C \uC5C6\uC74C"," ")}}function er(l,e){if(l&1){let t=R();r(0,"div",15),O("click",function(){let o=M(t).$implicit,i=f(2);return x(i.onMenuClick(o.id))}),r(1,"div",16),s(2),a(),r(3,"div",17)(4,"div",18),s(5),a(),$(6,Qi,2,1,"div",19)(7,tr,2,1,"div",19),a(),r(8,"div",20),s(9,"\u203A"),a()()}if(l&2){let t=e.$implicit,n=f(2);Y("disabled",t.id==="element-properties"&&!n.selectedElement),p(2),V(t.icon),p(3),V(t.title),p(),b("ngIf",t.id!=="element-properties"),p(),b("ngIf",t.id==="element-properties")}}function nr(l,e){if(l&1){let t=R();r(0,"div",8)(1,"div",9)(2,"div",10)(3,"span",11),s(4,"\u{1F6E0}\uFE0F"),a(),r(5,"h3"),s(6,"PDF \uB3C4\uAD6C"),a()(),r(7,"button",12),O("click",function(){M(t);let o=f();return x(o.onClose())}),s(8,"\xD7"),a()(),r(9,"div",13),$(10,er,10,6,"div",14),a()()}if(l&2){let t=f();p(10),b("ngForOf",t.menuGroups)}}function or(l,e){if(l&1){let t=R();r(0,"div",30)(1,"h4"),s(2,"\uD14D\uC2A4\uD2B8"),a(),r(3,"div",31)(4,"div",36)(5,"label"),s(6,"\uB0B4\uC6A9:"),a(),r(7,"textarea",41),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("text",o))}),a()(),r(8,"div",32)(9,"label"),s(10,"\uAE00\uAF34 \uD06C\uAE30:"),a(),r(11,"input",33),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("fontSize",o))}),a(),r(12,"span",34),s(13,"px"),a()(),r(14,"div",36)(15,"label"),s(16,"\uAE00\uAF34:"),a(),r(17,"select",42),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("fontFamily",o))}),r(18,"optgroup",43)(19,"option",44),s(20,"Noto Sans KR"),a(),r(21,"option",45),s(22,"\uB098\uB214\uACE0\uB515"),a(),r(23,"option",46),s(24,"\uB098\uB214\uBC14\uB978\uACE0\uB515"),a(),r(25,"option",47),s(26,"IBM Plex Sans KR"),a(),r(27,"option",48),s(28,"\uB098\uB214\uC2A4\uD018\uC5B4"),a(),r(29,"option",49),s(30,"Black Han Sans (\uAD75\uC740\uCCB4)"),a()(),r(31,"optgroup",50)(32,"option",51),s(33,"Noto Serif KR"),a(),r(34,"option",52),s(35,"\uB098\uB214\uBA85\uC870"),a()(),r(36,"optgroup",53)(37,"option",54),s(38,"\uB098\uB214\uC190\uAE00\uC528\uD39C"),a(),r(39,"option",55),s(40,"\uB098\uB214\uC190\uAE00\uC528\uBD93"),a(),r(41,"option",56),s(42,"\uB3C4\uD604\uCCB4"),a(),r(43,"option",57),s(44,"\uC8FC\uC544\uCCB4"),a(),r(45,"option",58),s(46,"\uAC1C\uAD6C\uC7C1\uC774\uCCB4"),a(),r(47,"option",59),s(48,"\uAC10\uC790\uAF43\uCCB4"),a(),r(49,"option",60),s(50,"\uD574\uBC14\uB77C\uAE30\uCCB4"),a(),r(51,"option",61),s(52,"\uB3D9\uD574\uB3C5\uB3C4\uCCB4"),a(),r(53,"option",62),s(54,"\uD558\uC774\uBA5C\uB85C\uB514\uCCB4"),a()(),r(55,"optgroup",63)(56,"option",64),s(57,"Arial"),a(),r(58,"option",65),s(59,"Helvetica"),a(),r(60,"option",66),s(61,"Times New Roman"),a(),r(62,"option",67),s(63,"Courier New"),a(),r(64,"option",68),s(65,"Georgia"),a(),r(66,"option",69),s(67,"Verdana"),a(),r(68,"option",70),s(69,"Roboto"),a(),r(70,"option",71),s(71,"Open Sans"),a(),r(72,"option",72),s(73,"Lato"),a(),r(74,"option",73),s(75,"Montserrat"),a(),r(76,"option",74),s(77,"Poppins"),a(),r(78,"option",75),s(79,"Inter"),a(),r(80,"option",76),s(81,"Ubuntu"),a()()()(),r(82,"div",32)(83,"label"),s(84,"\uAD75\uAE30:"),a(),r(85,"select",42),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("fontWeight",o))}),r(86,"option",77),s(87,"Thin (100)"),a(),r(88,"option",78),s(89,"Extra Light (200)"),a(),r(90,"option",79),s(91,"Light (300)"),a(),r(92,"option",80),s(93,"Normal (400)"),a(),r(94,"option",81),s(95,"Medium (500)"),a(),r(96,"option",82),s(97,"Semi Bold (600)"),a(),r(98,"option",83),s(99,"Bold (700)"),a(),r(100,"option",84),s(101,"Extra Bold (800)"),a(),r(102,"option",85),s(103,"Black (900)"),a()()(),r(104,"div",32)(105,"label"),s(106,"\uC2A4\uD0C0\uC77C:"),a(),r(107,"div",37)(108,"button",86),O("click",function(){M(t);let o=f(3);return x(o.onPropertyChange("fontStyle",{target:{value:"normal"}}))}),s(109,"\uC77C\uBC18"),a(),r(110,"button",87),O("click",function(){M(t);let o=f(3);return x(o.onPropertyChange("fontStyle",{target:{value:"italic"}}))}),s(111,"\uAE30\uC6B8\uC784"),a()()(),r(112,"div",32)(113,"label"),s(114,"\uC0C9\uC0C1:"),a(),r(115,"input",88),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("color",o))}),a()(),r(116,"div",36)(117,"label"),s(118,"\uC815\uB82C:"),a(),r(119,"div",37)(120,"button",86),O("click",function(){M(t);let o=f(3);return x(o.onPropertyChange("textAlign",{target:{value:"left"}}))}),s(121,"\uC67C\uCABD"),a(),r(122,"button",86),O("click",function(){M(t);let o=f(3);return x(o.onPropertyChange("textAlign",{target:{value:"center"}}))}),s(123,"\uAC00\uC6B4\uB370"),a(),r(124,"button",86),O("click",function(){M(t);let o=f(3);return x(o.onPropertyChange("textAlign",{target:{value:"right"}}))}),s(125,"\uC624\uB978\uCABD"),a()()()()()}if(l&2){let t=f(3);p(7),b("value",t.selectedElement.text),p(4),b("value",t.selectedElement.fontSize),p(6),b("value",t.selectedElement.fontFamily),p(68),b("value",t.selectedElement.fontWeight||"normal"),p(23),Y("active",!t.selectedElement.fontStyle||t.selectedElement.fontStyle==="normal"),p(2),Y("active",t.selectedElement.fontStyle==="italic"),p(5),b("value",t.selectedElement.color),p(5),Y("active",t.selectedElement.textAlign==="left"),p(2),Y("active",t.selectedElement.textAlign==="center"),p(2),Y("active",t.selectedElement.textAlign==="right")}}function ir(l,e){if(l&1){let t=R();r(0,"div",30)(1,"h4"),s(2,"\uC774\uBBF8\uC9C0"),a(),r(3,"div",31)(4,"div",32)(5,"label"),s(6,"\uD22C\uBA85\uB3C4:"),a(),r(7,"input",89),O("input",function(o){M(t);let i=f(3);return x(i.onPropertyChange("properties.opacity",o))}),a(),r(8,"span",90),s(9),a()(),r(10,"div",32)(11,"label"),s(12,"\uD68C\uC804:"),a(),r(13,"input",33),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("properties.rotation",o))}),a(),r(14,"span",34),s(15,"\xB0"),a()()()()}if(l&2){let t=f(3);p(7),b("value",(t.selectedElement.properties==null?null:t.selectedElement.properties.opacity)||1),p(2),z("",((t.selectedElement.properties==null?null:t.selectedElement.properties.opacity)||1)*100,"%"),p(4),b("value",(t.selectedElement.properties==null?null:t.selectedElement.properties.rotation)||0)}}function rr(l,e){if(l&1){let t=R();r(0,"div",30)(1,"h4"),s(2,"\uB3C4\uD615 \uC2A4\uD0C0\uC77C"),a(),r(3,"div",31)(4,"div",32)(5,"label"),s(6,"\uCC44\uC6B0\uAE30 \uC0C9\uC0C1:"),a(),r(7,"input",88),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("fillColor",o))}),a()(),r(8,"div",32)(9,"label"),s(10,"\uD14C\uB450\uB9AC \uC0C9\uC0C1:"),a(),r(11,"input",88),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("strokeColor",o))}),a()(),r(12,"div",32)(13,"label"),s(14,"\uD14C\uB450\uB9AC \uB450\uAED8:"),a(),r(15,"input",33),O("change",function(o){M(t);let i=f(3);return x(i.onPropertyChange("strokeWidth",o))}),a(),r(16,"span",34),s(17,"px"),a()()()()}if(l&2){let t=f(3);p(7),b("value",t.selectedElement.fillColor||"#000000"),p(4),b("value",t.selectedElement.strokeColor||"#000000"),p(4),b("value",t.selectedElement.strokeWidth||1)}}function ar(l,e){if(l&1){let t=R();r(0,"div",28)(1,"div",29)(2,"div",30)(3,"h4"),s(4,"\uC704\uCE58 \uBC0F \uD06C\uAE30"),a(),r(5,"div",31)(6,"div",32)(7,"label"),s(8,"X:"),a(),r(9,"input",33),O("change",function(o){M(t);let i=f(2);return x(i.onPropertyChange("x",o))}),a(),r(10,"span",34),s(11,"px"),a()(),r(12,"div",32)(13,"label"),s(14,"Y:"),a(),r(15,"input",33),O("change",function(o){M(t);let i=f(2);return x(i.onPropertyChange("y",o))}),a(),r(16,"span",34),s(17,"px"),a()(),r(18,"div",32)(19,"label"),s(20,"\uB108\uBE44:"),a(),r(21,"input",33),O("change",function(o){M(t);let i=f(2);return x(i.onPropertyChange("width",o))}),a(),r(22,"span",34),s(23,"px"),a()(),r(24,"div",32)(25,"label"),s(26,"\uB192\uC774:"),a(),r(27,"input",33),O("change",function(o){M(t);let i=f(2);return x(i.onPropertyChange("height",o))}),a(),r(28,"span",34),s(29,"px"),a()()()(),$(30,or,126,15,"div",35)(31,ir,16,3,"div",35)(32,rr,18,3,"div",35),r(33,"div",30)(34,"h4"),s(35,"\uB808\uC774\uC5B4 \uBC0F \uD45C\uC2DC"),a(),r(36,"div",31)(37,"div",32)(38,"label"),s(39,"Z-Index:"),a(),r(40,"input",33),O("change",function(o){M(t);let i=f(2);return x(i.onPropertyChange("zIndex",o))}),a()(),r(41,"div",36)(42,"label"),s(43,"\uD45C\uC2DC:"),a(),r(44,"div",37)(45,"button",38),O("click",function(){M(t);let o=f(2);return x(o.onPropertyChange("properties.visible",{target:{value:!0}}))}),s(46,"\uBCF4\uC784"),a(),r(47,"button",38),O("click",function(){M(t);let o=f(2);return x(o.onPropertyChange("properties.visible",{target:{value:!1}}))}),s(48,"\uC228\uAE40"),a()()()()(),r(49,"div",39)(50,"button",40),O("click",function(){M(t);let o=f(2);return x(o.onDeleteElement())}),s(51," \u{1F5D1}\uFE0F \uC694\uC18C \uC0AD\uC81C "),a()()()()}if(l&2){let t=f(2);p(9),b("value",t.selectedElement.x),p(6),b("value",t.selectedElement.y),p(6),b("value",t.selectedElement.width),p(6),b("value",t.selectedElement.height),p(3),b("ngIf",t.selectedElement.type==="text"),p(),b("ngIf",t.selectedElement.type==="image"),p(),b("ngIf",t.selectedElement.type==="shape"),p(8),b("value",t.selectedElement.zIndex||0),p(5),Y("active",(t.selectedElement.properties==null?null:t.selectedElement.properties.visible)!==!1),p(2),Y("active",(t.selectedElement.properties==null?null:t.selectedElement.properties.visible)===!1)}}function cr(l,e){if(l&1&&(r(0,"div",98),s(1),a()),l&2){let t=f().$implicit;p(),V(t.description)}}function sr(l,e){if(l&1){let t=R();r(0,"div",93),O("click",function(){let o=M(t).$implicit,i=f(3);return x(i.onSubItemClick(o.id))}),r(1,"div",94)(2,"div",95),s(3),a(),$(4,cr,2,1,"div",96),a(),r(5,"div",97),s(6,"\u203A"),a()()}if(l&2){let t=e.$implicit;p(3),V(t.label),p(),b("ngIf",t.description)}}function lr(l,e){if(l&1&&(r(0,"div",91),$(1,sr,7,2,"div",92),a()),l&2){let t=f(2);p(),b("ngForOf",t.getMenuItems())}}function dr(l,e){if(l&1&&(r(0,"div",99),W(1,"div",100),r(2,"div",101),s(3,"\uD604\uC7AC \uC0C1\uD0DC"),a(),r(4,"div",102)(5,"div",103)(6,"span",104),s(7,"\uD398\uC774\uC9C0:"),a(),r(8,"span",105),s(9),a()(),r(10,"div",103)(11,"span",104),s(12,"\uC90C:"),a(),r(13,"span",105),s(14),a()()()()),l&2){let t=f(2);p(9),Dt("",t.currentPage," / ",t.totalPages),p(5),z("",t.zoomLevel,"%")}}function gr(l,e){if(l&1){let t=R();r(0,"div",22)(1,"div",23)(2,"div",9)(3,"button",24),O("click",function(){M(t);let o=f();return x(o.onBack())}),s(4,"\u2039"),a(),r(5,"h3"),s(6),a(),r(7,"button",12),O("click",function(){M(t);let o=f();return x(o.onClose())}),s(8,"\xD7"),a()(),$(9,ar,52,12,"div",25)(10,lr,2,1,"div",26)(11,dr,15,3,"div",27),a()()}if(l&2){let t=f();p(6),V(t.getMenuTitle()),p(3),b("ngIf",t.expandedMenuId==="element-properties"&&t.selectedElement),p(),b("ngIf",t.expandedMenuId!=="element-properties"),p(),b("ngIf",t.expandedMenuId==="page-control"&&t.currentPage&&t.totalPages)}}var je=class l{constructor(e){this.cdr=e}documentData={};generatedDocs=null;wordCount=0;isGenerating=!1;selectedElement=null;currentPage=1;totalPages=1;zoomLevel=100;pdfPages=[];isPdfViewer=!1;isCollapsed=!1;sidebarAction=new B;close=new B;addText=new B;addImage=new B;addShape=new B;addSignature=new B;addWatermark=new B;addVectorPath=new B;addPage=new B;deletePage=new B;addLine=new B;expand=new B;savePdf=new B;preview=new B;undo=new B;redo=new B;zoomIn=new B;zoomOut=new B;rotatePage=new B;updateElement=new B;pageSelect=new B;deleteElement=new B;deselectElement=new B;elementPropertyChange=new B;keepOnlyFirstPage=new B;panelPosition={x:300,y:100};isDragging=!1;dragOffset={x:0,y:0};expandedMenuId=null;menuGroups=[{id:"pdf-editor",title:"PDF \uD3B8\uC9D1",icon:"\u270F\uFE0F",items:[{id:"add-text",label:"\uD14D\uC2A4\uD2B8 \uCD94\uAC00",description:"PDF\uC5D0 \uD14D\uC2A4\uD2B8 \uC0BD\uC785"},{id:"add-image",label:"\uC774\uBBF8\uC9C0 \uCD94\uAC00",description:"PDF\uC5D0 \uC774\uBBF8\uC9C0 \uC0BD\uC785"},{id:"add-shape",label:"\uB3C4\uD615 \uCD94\uAC00",description:"\uC0AC\uAC01\uD615, \uC6D0 \uB4F1 \uCD94\uAC00"},{id:"add-signature",label:"\uC11C\uBA85 \uCD94\uAC00",description:"\uC804\uC790 \uC11C\uBA85 \uC0BD\uC785"},{id:"add-watermark",label:"\uC6CC\uD130\uB9C8\uD06C",description:"\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00"},{id:"add-vector-path",label:"\uBCA1\uD130 \uD328\uC2A4",description:"\uBCA1\uD130 \uADF8\uB9AC\uAE30"}]},{id:"element-properties",title:"\uC694\uC18C \uC18D\uC131",icon:"\u2699\uFE0F",items:[]},{id:"page-control",title:"\uD398\uC774\uC9C0 \uAD00\uB9AC",icon:"\u{1F4C4}",items:[{id:"add-page",label:"\uD398\uC774\uC9C0 \uCD94\uAC00",description:"\uC0C8 \uD398\uC774\uC9C0 \uCD94\uAC00"},{id:"delete-page",label:"\uD398\uC774\uC9C0 \uC0AD\uC81C",description:"\uD604\uC7AC \uD398\uC774\uC9C0 \uC0AD\uC81C"},{id:"rotate-page",label:"\uD398\uC774\uC9C0 \uD68C\uC804",description:"\uD398\uC774\uC9C0 90\uB3C4 \uD68C\uC804"}]},{id:"experiment",title:"\uC2E4\uD5D8",icon:"\u{1F9EA}",items:[{id:"keep-only-first-page",label:"1\uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uC0AD\uC81C",description:"\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 \uD398\uC774\uC9C0 \uBAA8\uB450 \uC0AD\uC81C"}]}];ngOnChanges(e){e.currentPage&&this.cdr.detectChanges(),e.selectedElement&&(console.log("selectedElement changed in sidebar:",e.selectedElement),console.log("new selectedElement:",this.selectedElement),this.selectedElement?(this.updateElementPropertiesMenu(),this.expandedMenuId="element-properties"):this.expandedMenuId==="element-properties"&&(this.expandedMenuId=null))}updateElementPropertiesMenu(){let e=this.menuGroups.find(n=>n.id==="element-properties");if(!e||!this.selectedElement)return;let t=this.getElementTypeName(this.selectedElement.type);e.title=`${t} \uC18D\uC131`,e.icon=this.getElementIcon(this.selectedElement.type),e.items=[]}get pdfTools(){return[{action:"add-text",icon:"\u{1F4DD}",title:"\uD14D\uC2A4\uD2B8",description:"\uC0C8 \uD14D\uC2A4\uD2B8 \uC694\uC18C\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-image",icon:"\u{1F5BC}\uFE0F",title:"\uC774\uBBF8\uC9C0",description:"\uC0C8 \uC774\uBBF8\uC9C0\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-shape",icon:"\u{1F537}",title:"\uB3C4\uD615",description:"\uC0C8 \uB3C4\uD615\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-signature",icon:"\u270D\uFE0F",title:"\uC11C\uBA85",description:"\uC11C\uBA85\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-watermark",icon:"\u{1F4A7}",title:"\uC6CC\uD130\uB9C8\uD06C",description:"\uD14D\uC2A4\uD2B8 \uC6CC\uD130\uB9C8\uD06C\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-vector-path",icon:"\u{1F3A8}",title:"\uBCA1\uD130\uD328\uC2A4",description:"\uC77C\uB7EC\uC2A4\uD2B8\uB808\uC774\uD130 \uC2A4\uD0C0\uC77C \uBCA1\uD130 \uD328\uC2A4\uB97C \uADF8\uB9BD\uB2C8\uB2E4"},{action:"add-page",icon:"\u{1F4C4}",title:"\uD398\uC774\uC9C0+",description:"\uC0C8 \uD398\uC774\uC9C0\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"delete-page",icon:"\u{1F5D1}\uFE0F",title:"\uD398\uC774\uC9C0-",description:"\uD604\uC7AC \uD398\uC774\uC9C0\uB97C \uC0AD\uC81C\uD569\uB2C8\uB2E4"},{action:"zoom-in",icon:"\u{1F50D}",title:"\uD655\uB300",description:"\uD654\uBA74\uC744 \uD655\uB300\uD569\uB2C8\uB2E4"},{action:"zoom-out",icon:"\u{1F50E}",title:"\uCD95\uC18C",description:"\uD654\uBA74\uC744 \uCD95\uC18C\uD569\uB2C8\uB2E4"},{action:"rotate-page",icon:"\u{1F504}",title:"\uD68C\uC804",description:"\uD398\uC774\uC9C0\uB97C \uD68C\uC804\uD569\uB2C8\uB2E4"}]}onMenuClick(e){if(e==="element-properties"&&!this.selectedElement){console.log("\uC694\uC18C\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC544 \uC694\uC18C \uC18D\uC131 \uBA54\uB274\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4");return}this.expandedMenuId=this.expandedMenuId===e?null:e}onSubItemClick(e){console.log("\u{1F5B1}\uFE0F \uC0AC\uC774\uB4DC\uBC14 \uC544\uC774\uD15C \uD074\uB9AD:",e),this.sidebarAction.emit({type:"menu-click",menuId:e}),this.handlePdfToolAction(e)}onBack(){this.expandedMenuId==="element-properties"&&this.onDeselectElement(),this.expandedMenuId=null}onClose(){this.expandedMenuId=null,this.close.emit()}onExpand(){this.expand.emit()}getMenuTitle(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.title:""}getMenuItems(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.items:[]}handlePdfToolAction(e){switch(console.log("\u2699\uFE0F handlePdfToolAction \uD638\uCD9C\uB428:",e),e){case"add-text":this.addText.emit();break;case"add-image":this.addImage.emit();break;case"add-shape":this.addShape.emit();break;case"add-signature":this.addSignature.emit();break;case"add-watermark":this.addWatermark.emit();break;case"add-vector-path":this.addVectorPath.emit();break;case"add-page":this.addPage.emit();break;case"delete-page":this.deletePage.emit();break;case"zoom-in":this.zoomIn.emit();break;case"zoom-out":this.zoomOut.emit();break;case"rotate-page":this.rotatePage.emit();break;case"save-pdf":this.savePdf.emit();break;case"keep-only-first-page":console.log("\u{1F3AF} keep-only-first-page \uC774\uBCA4\uD2B8 \uBC1C\uC0DD!"),this.keepOnlyFirstPage.emit();break;default:console.log("\u26A0\uFE0F \uC54C \uC218 \uC5C6\uB294 \uC561\uC158:",e)}}onPanelClick(e){e.stopPropagation()}onDocumentClick(e){this.expandedMenuId&&(e.target.closest(".docs-right-sidebar")||(this.expandedMenuId=null))}getNoItemsMessage(e){switch(e){case"element-props":return"\uC120\uD0DD\uB41C \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4";case"pdf-tools":return"\uC0AC\uC6A9 \uAC00\uB2A5\uD55C PDF \uB3C4\uAD6C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4";case"page-list":return"\uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4";default:return"\uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"}}onGenerateFull(){this.sidebarAction.emit({type:"generate",action:"generate-full"})}onGenerateSection(){this.sidebarAction.emit({type:"generate",action:"generate-section"})}onEditDocument(){this.sidebarAction.emit({type:"document",action:"edit-document"})}onExport(e){this.sidebarAction.emit({type:"export",action:e})}onAddText(){this.addText.emit()}onAddImage(){this.addImage.emit()}onAddShape(){this.addShape.emit()}onAddVectorPath(){this.addVectorPath.emit()}onAddSignature(){this.addSignature.emit()}onAddWatermark(){this.addWatermark.emit()}onAddPage(){this.addPage.emit()}onDeletePage(){this.deletePage.emit()}onZoomIn(){this.zoomIn.emit()}onZoomOut(){this.zoomOut.emit()}onRotatePage(){this.rotatePage.emit()}onPdfToolClick(e){switch(e){case"add-text":this.onAddText();break;case"add-image":this.onAddImage();break;case"add-shape":this.onAddShape();break;case"add-vector-path":this.onAddVectorPath();break;case"add-signature":this.onAddSignature();break;case"add-watermark":this.onAddWatermark();break;case"add-page":this.onAddPage();break;case"delete-page":this.onDeletePage();break;case"zoom-in":this.onZoomIn();break;case"zoom-out":this.onZoomOut();break;case"rotate-page":this.onRotatePage();break;default:console.warn(`Unknown PDF tool action: ${e}`)}}startDrag(e){this.isDragging=!0;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.dragOffset.x=t-this.panelPosition.x,this.dragOffset.y=n-this.panelPosition.y,e.preventDefault()}onDocumentMove(e){if(!this.isDragging)return;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.panelPosition.x=t-this.dragOffset.x,this.panelPosition.y=n-this.dragOffset.y,this.constrainPanelPosition(),e.preventDefault()}onDocumentUp(){this.isDragging=!1}constrainPanelPosition(){this.panelPosition.x=Math.max(0,Math.min(window.innerWidth-300,this.panelPosition.x)),this.panelPosition.y=Math.max(0,Math.min(window.innerHeight-400,this.panelPosition.y))}onUpdateElement(){this.updateElement.emit()}onPageSelect(e){this.pageSelect.emit(e)}generatePageThumbnail(e){if(e.thumbnail)return e.thumbnail;if(this.isPdfViewer&&!e.thumbnail)return this.createLoadingThumbnail(e.pageNumber);let t=e.elements||[],n=e.width||595,o=e.height||842,i=120,c=o/n*i,d=i/n,g=c/o,m="";return t.forEach(u=>{let h=(u.x||0)*d,C=(u.y||0)*g,_=(u.width||50)*d,P=(u.height||20)*g;switch(u.type){case"text":let y=Math.max(6,(u.fontSize||14)*d*.8),D=u.text||"Text",w=u.color||"#000000";m+=`
            <rect x="${h-2}" y="${C-2}" width="${_+4}" height="${P+4}" fill="rgba(255,255,0,0.1)" stroke="rgba(255,255,0,0.3)" stroke-width="0.5"/>
            <text x="${h+2}" y="${C+y}" font-size="${y}" fill="${w}" font-family="Arial, sans-serif">${this.truncateText(D,15)}</text>
          `;break;case"image":m+=`
            <rect x="${h}" y="${C}" width="${_}" height="${P}" fill="#e1f5fe" stroke="#0277bd" stroke-width="1"/>
            <text x="${h+_/2}" y="${C+P/2}" font-size="8" fill="#0277bd" text-anchor="middle" dominant-baseline="middle">\u{1F5BC}\uFE0F</text>
          `;break;case"shape":let v=u.fillColor||"#4caf50",k=u.strokeColor||"#2e7d32";if(u.shapeType==="circle"||u.shapeType==="ellipse"){let S=_/2,I=P/2,A=h+S,N=C+I;m+=`<ellipse cx="${A}" cy="${N}" rx="${S}" ry="${I}" fill="${v}" stroke="${k}" stroke-width="1"/>`}else u.shapeType==="line"?m+=`<line x1="${h}" y1="${C}" x2="${h+_}" y2="${C+P}" stroke="${k}" stroke-width="2"/>`:m+=`<rect x="${h}" y="${C}" width="${_}" height="${P}" fill="${v}" stroke="${k}" stroke-width="1"/>`;break;case"signature":m+=`
            <rect x="${h}" y="${C}" width="${_}" height="${P}" fill="#fff3e0" stroke="#f57c00" stroke-width="1" stroke-dasharray="2,2"/>
            <text x="${h+_/2}" y="${C+P/2}" font-size="8" fill="#f57c00" text-anchor="middle" dominant-baseline="middle">\u270D\uFE0F</text>
          `;break;case"vector-path":m+=`
            <rect x="${h}" y="${C}" width="${_}" height="${P}" fill="rgba(156,39,176,0.1)" stroke="#9c27b0" stroke-width="1"/>
            <text x="${h+_/2}" y="${C+P/2}" font-size="8" fill="#9c27b0" text-anchor="middle" dominant-baseline="middle">\u{1F3A8}</text>
          `;break;default:m+=`
            <rect x="${h}" y="${C}" width="${_}" height="${P}" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
          `}}),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
      <svg width="${i}" height="${c}" xmlns="http://www.w3.org/2000/svg">
        <!-- \uD398\uC774\uC9C0 \uBC30\uACBD -->
        <rect width="${i}" height="${c}" fill="#ffffff" stroke="#ddd" stroke-width="1"/>
        
        <!-- \uD398\uC774\uC9C0 \uB0B4\uC6A9 -->
        ${m}
        
        <!-- \uD398\uC774\uC9C0 \uBC88\uD638 (\uC6B0\uCE21 \uD558\uB2E8) -->
        <rect x="${i-20}" y="${c-15}" width="18" height="12" fill="rgba(0,0,0,0.7)" rx="2"/>
        <text x="${i-11}" y="${c-6}" font-size="8" fill="white" text-anchor="middle" font-weight="bold">${e.pageNumber}</text>
        
        <!-- \uC694\uC18C \uAC1C\uC218 (\uC88C\uCE21 \uC0C1\uB2E8) -->
        ${t.length>0?`
          <rect x="2" y="2" width="16" height="10" fill="rgba(255,140,0,0.8)" rx="2"/>
          <text x="10" y="9" font-size="6" fill="white" text-anchor="middle" font-weight="bold">${t.length}</text>
        `:""}
      </svg>
    `)}`}truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."}createLoadingThumbnail(e){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
      <svg width="120" height="160" xmlns="http://www.w3.org/2000/svg">
        <rect width="120" height="160" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
        
        <!-- \uB85C\uB529 \uC560\uB2C8\uBA54\uC774\uC158 -->
        <circle cx="${120/2}" cy="${160/2-15}" r="12" fill="none" stroke="#007bff" stroke-width="2" opacity="0.3"/>
        <circle cx="${120/2}" cy="${160/2-15}" r="12" fill="none" stroke="#007bff" stroke-width="2" stroke-dasharray="10 40" stroke-linecap="round">
          <animateTransform attributeName="transform" type="rotate" values="0 ${120/2} ${160/2-15};360 ${120/2} ${160/2-15}" dur="1s" repeatCount="indefinite"/>
        </circle>
        
        <text x="${120/2}" y="${160/2+5}" font-size="11" fill="#6c757d" text-anchor="middle" font-family="Arial">\uB85C\uB529 \uC911...</text>
        <text x="${120/2}" y="${160/2+20}" font-size="10" fill="#6c757d" text-anchor="middle" font-family="Arial">Page ${e}</text>
      </svg>
    `)}`}onElementPropertyChange(){this.elementPropertyChange.emit(this.selectedElement)}onDeselectElement(){this.deselectElement.emit()}onDeleteElement(){this.deleteElement.emit()}getElementIcon(e){return{text:"\u{1F4DD}",image:"\u{1F5BC}\uFE0F",shape:"\u{1F537}",signature:"\u270D\uFE0F",watermark:"\u{1F4A7}","vector-path":"\u{1F3A8}",line:"\u{1F4CF}"}[e]||"\u{1F4C4}"}getElementTypeName(e){return{text:"\uD14D\uC2A4\uD2B8",image:"\uC774\uBBF8\uC9C0",shape:"\uB3C4\uD615",signature:"\uC11C\uBA85",watermark:"\uC6CC\uD130\uB9C8\uD06C","vector-path":"\uBCA1\uD130 \uD328\uC2A4",line:"\uC120"}[e]||"\uC694\uC18C"}onPropertyChange(e,t){if(!this.selectedElement)return;let n=t.target?.value!==void 0?t.target.value:t;if(e.includes(".")){let o=e.split("."),i=this.selectedElement;for(let c=0;c<o.length-1;c++)i[o[c]]||(i[o[c]]={}),i=i[o[c]];i[o[o.length-1]]=this.parseValue(n)}else this.selectedElement[e]=this.parseValue(n);this.elementPropertyChange.emit({elementId:this.selectedElement.id,property:e,value:this.parseValue(n)})}parseValue(e){if(typeof e=="string"){let t=parseFloat(e);if(!isNaN(t)&&e.trim()!=="")return t;if(e==="true")return!0;if(e==="false")return!1}return e}static \u0275fac=function(t){return new(t||l)(J(Pe))};static \u0275cmp=ot({type:l,selectors:[["app-docs-right-sidebar"]],hostBindings:function(t,n){t&1&&O("click",function(i){return n.onDocumentClick(i)},bt)("mousemove",function(i){return n.onDocumentMove(i)},bt)("touchmove",function(i){return n.onDocumentMove(i)},bt)("mouseup",function(){return n.onDocumentUp()},bt)("touchend",function(){return n.onDocumentUp()},bt)},inputs:{documentData:"documentData",generatedDocs:"generatedDocs",wordCount:"wordCount",isGenerating:"isGenerating",selectedElement:"selectedElement",currentPage:"currentPage",totalPages:"totalPages",zoomLevel:"zoomLevel",pdfPages:"pdfPages",isPdfViewer:"isPdfViewer",isCollapsed:"isCollapsed"},outputs:{sidebarAction:"sidebarAction",close:"close",addText:"addText",addImage:"addImage",addShape:"addShape",addSignature:"addSignature",addWatermark:"addWatermark",addVectorPath:"addVectorPath",addPage:"addPage",deletePage:"deletePage",addLine:"addLine",expand:"expand",savePdf:"savePdf",preview:"preview",undo:"undo",redo:"redo",zoomIn:"zoomIn",zoomOut:"zoomOut",rotatePage:"rotatePage",updateElement:"updateElement",pageSelect:"pageSelect",deleteElement:"deleteElement",deselectElement:"deselectElement",elementPropertyChange:"elementPropertyChange",keepOnlyFirstPage:"keepOnlyFirstPage"},standalone:!1,features:[Bt],decls:4,vars:5,consts:[[1,"docs-right-sidebar"],["class","collapsed-view",3,"click",4,"ngIf"],["class","main-menu",4,"ngIf"],["class","expanded-panel",4,"ngIf"],[1,"collapsed-view",3,"click"],[1,"icon-list"],["class","menu-icon",3,"title",4,"ngFor","ngForOf"],[1,"menu-icon",3,"title"],[1,"main-menu"],[1,"panel-header"],[1,"header-title"],[1,"header-icon"],["title","\uCD95\uC18C",1,"close-btn",3,"click"],[1,"category-list"],["class","category-item",3,"disabled","click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-icon"],[1,"category-content"],[1,"category-title"],["class","category-count",4,"ngIf"],[1,"category-arrow"],[1,"category-count"],[1,"expanded-panel"],[1,"panel-content"],["title","\uB4A4\uB85C\uAC00\uAE30",1,"back-btn",3,"click"],["class","element-properties-content",4,"ngIf"],["class","panel-items",4,"ngIf"],["class","pdf-info-section",4,"ngIf"],[1,"element-properties-content"],[1,"properties-content"],[1,"property-section"],[1,"property-group"],[1,"property-row"],["type","number",1,"property-input",3,"change","value"],[1,"unit"],["class","property-section",4,"ngIf"],[1,"property-row","full-width"],[1,"button-group"],[1,"toggle-btn",3,"click"],[1,"property-actions"],[1,"action-btn","delete-btn",3,"click"],["rows","3",1,"property-textarea",3,"change","value"],[1,"property-select",3,"change","value"],["label","\uD55C\uAE00 \uACE0\uB515\uCCB4"],["value","Noto Sans KR"],["value","NanumGothic"],["value","NanumBarunGothic"],["value","IBM Plex Sans KR"],["value","NanumSquare"],["value","Black Han Sans"],["label","\uD55C\uAE00 \uBA85\uC870\uCCB4"],["value","Noto Serif KR"],["value","NanumMyeongjo"],["label","\uD55C\uAE00 \uC190\uAE00\uC528/\uCE90\uC8FC\uC5BC"],["value","NanumPen"],["value","NanumBrush"],["value","DoHyeon"],["value","Jua"],["value","Gaegu"],["value","GamjaFlower"],["value","Sunflower"],["value","EastSeaDokdo"],["value","HiMelody"],["label","\uC601\uBB38 \uD3F0\uD2B8"],["value","Arial"],["value","Helvetica"],["value","Times New Roman"],["value","Courier New"],["value","Georgia"],["value","Verdana"],["value","Roboto"],["value","Open Sans"],["value","Lato"],["value","Montserrat"],["value","Poppins"],["value","Inter"],["value","Ubuntu"],["value","100"],["value","200"],["value","300"],["value","normal"],["value","500"],["value","600"],["value","bold"],["value","800"],["value","900"],[1,"align-btn",3,"click"],[1,"align-btn",2,"font-style","italic",3,"click"],["type","color",1,"property-color",3,"change","value"],["type","range","min","0","max","1","step","0.1",1,"property-range",3,"input","value"],[1,"value"],[1,"panel-items"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"menu-item",3,"click"],[1,"item-content"],[1,"item-label"],["class","item-description",4,"ngIf"],[1,"item-arrow"],[1,"item-description"],[1,"pdf-info-section"],[1,"info-divider"],[1,"info-title"],[1,"info-items"],[1,"info-item"],[1,"info-label"],[1,"info-value"]],template:function(t,n){t&1&&(r(0,"div",0),$(1,Zi,3,1,"div",1)(2,nr,11,1,"div",2)(3,gr,12,4,"div",3),a()),t&2&&(Y("collapsed",n.isCollapsed),p(),b("ngIf",n.isCollapsed),p(),b("ngIf",!n.expandedMenuId&&!n.isCollapsed),p(),b("ngIf",n.expandedMenuId&&!n.isCollapsed))},dependencies:[_t,st,xt,Ot],styles:['[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%}.docs-right-sidebar[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;width:350px;z-index:1000;margin:0!important;padding:0!important;background:var(--bg-primary);border-left:1px solid var(--border-color);box-shadow:-2px 0 8px var(--shadow);animation:_ngcontent-%COMP%_slideInFromRight .3s ease-out;transition:width .3s ease}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]{width:48px;overflow:hidden}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;height:100%;overflow-y:auto;cursor:pointer}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;padding:8px;text-align:center;transition:all .2s ease;border-radius:8px}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);transform:scale(1.1)}.docs-right-sidebar[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .expanded-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);position:sticky;top:0;z-index:10}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:24px;line-height:1}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:var(--text-muted);padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:var(--accent-primary);transform:translate(-2px)}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--accent-danger);transform:rotate(90deg)}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;margin-bottom:8px;background:var(--bg-secondary);border-radius:12px;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(-4px);box-shadow:0 2px 12px #00000014}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.disabled[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{opacity:.6}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.disabled[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-style:italic}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:10px}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{flex:1}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.7}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-arrow[_ngcontent-%COMP%]{font-size:24px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover   .category-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]{padding:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;margin-bottom:8px;background:var(--bg-secondary);border:1px solid transparent}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(-4px);box-shadow:0 2px 8px #0000001a}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{flex:1}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.8}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-arrow[_ngcontent-%COMP%]{font-size:20px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .item-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]{padding:0}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);padding:20px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr auto;align-items:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row.full-width[_ngcontent-%COMP%]{grid-template-columns:80px 1fr}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);font-weight:500}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:13px;background:var(--bg-secondary);color:var(--text-primary);transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:var(--bg-primary);box-shadow:0 0 0 3px #3b82f61a}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:60px;font-family:inherit}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]{width:100%;height:36px;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:3px;background:var(--bg-secondary);outline:none;-webkit-appearance:none;appearance:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:none;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);white-space:nowrap}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:4px;width:100%}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%]:hover, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn.active[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color);font-weight:600}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--border-color);background:var(--bg-secondary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{background:#fee;color:#c33;border:1px solid #fcc}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#fdd;border-color:#fbb;transform:translateY(-1px);box-shadow:0 4px 12px #c333}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;font-size:14px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Arial][_ngcontent-%COMP%]{font-family:Arial,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Helvetica][_ngcontent-%COMP%]{font-family:Helvetica,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Times New Roman"][_ngcontent-%COMP%]{font-family:Times New Roman,serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Courier New"][_ngcontent-%COMP%]{font-family:Courier New,monospace}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Georgia][_ngcontent-%COMP%]{font-family:Georgia,serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Verdana][_ngcontent-%COMP%]{font-family:Verdana,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%]{font-family:Noto Sans KR,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%]{font-family:NanumGothic,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%]{font-family:NanumBarunGothic,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%]{font-family:IBM Plex Sans KR,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%]{font-family:NanumSquare,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%]{font-family:Black Han Sans,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%]{font-family:"Noto Serif KR",serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%]{font-family:NanumMyeongjo,serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%]{font-family:NanumPen,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%]{font-family:NanumBrush,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%]{font-family:DoHyeon,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%]{font-family:Jua,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%]{font-family:Gaegu,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%]{font-family:GamjaFlower,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%]{font-family:Sunflower,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%]{font-family:EastSeaDokdo,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%]{font-family:HiMelody,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%]{font-family:Lato,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%]{font-family:Inter,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);background:var(--bg-tertiary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto;background:var(--bg-primary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]{padding:0}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);padding:20px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr auto;align-items:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row.full-width[_ngcontent-%COMP%]{grid-template-columns:80px 1fr}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);font-weight:500}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:13px;background:var(--bg-secondary);color:var(--text-primary);transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:var(--bg-primary);box-shadow:0 0 0 3px #3b82f61a}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:60px;font-family:inherit}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]{width:100%;height:36px;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:3px;background:var(--bg-secondary);outline:none;-webkit-appearance:none;appearance:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:none;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);white-space:nowrap}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:4px;width:100%}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%]:hover, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn.active[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color);font-weight:600}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--border-color);background:var(--bg-secondary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{background:#fee;color:#c33;border:1px solid #fcc}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#fdd;border-color:#fbb;transform:translateY(-1px);box-shadow:0 4px 12px #c333}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 992px){.docs-right-sidebar[_ngcontent-%COMP%]{width:320px}}@media (max-width: 768px){.docs-right-sidebar[_ngcontent-%COMP%]{width:100%;max-width:350px}}']})};function ur(l,e){if(l&1){let t=R();r(0,"div",11)(1,"div",12)(2,"label",13),s(3,"\uBB38\uC11C \uC81C\uBAA9"),a(),r(4,"input",14),K("ngModelChange",function(o){M(t);let i=f(2);return q(i.newDocumentTitle,o)||(i.newDocumentTitle=o),x(o)}),O("keyup.enter",function(){M(t);let o=f(2);return x(o.onSave())}),a()()()}if(l&2){let t=f(2);p(4),X("ngModel",t.newDocumentTitle)}}function fr(l,e){l&1&&(r(0,"div",27)(1,"p"),s(2,"\uBB38\uC11C \uBAA9\uB85D\uC744 \uBD88\uB7EC\uC624\uB294 \uC911..."),a()())}function hr(l,e){l&1&&(r(0,"div",28)(1,"p"),s(2,"\uC800\uC7A5\uB41C \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),a()())}function Cr(l,e){if(l&1){let t=R();r(0,"div",31)(1,"div",32),O("click",function(){let o=M(t).$implicit,i=f(4);return x(i.selectedDocument=o)}),r(2,"h3"),s(3),r(4,"span",33),s(5),a()(),r(6,"div",34)(7,"span",35),W(8,"i",36),s(9),a(),r(10,"span",35),W(11,"i",37),s(12),a()(),r(13,"div",38)(14,"span"),s(15),a()()(),r(16,"div",39)(17,"button",40),O("click",function(){let o=M(t).$implicit,i=f(4);return x(i.onOpen(o))}),s(18," \uC5F4\uAE30 "),a(),r(19,"button",41),O("click",function(){let o=M(t).$implicit,i=f(4);return x(i.onDelete(o))}),s(20),a()()()}if(l&2){let t=e.$implicit,n=f(4);Y("selected",(n.selectedDocument==null?null:n.selectedDocument.id)===t.id),p(3),z(" ",t.title," "),p(),Y("pdf-viewer",t.documentType==="viewer")("new-document",t.documentType==="editor"||!t.documentType),p(),z(" ",t.documentType==="viewer"?"PDF":"\uC0C8\uBB38\uC11C"," "),p(4),z(" ",t.pages.length||0,"\uAC1C \uD398\uC774\uC9C0 "),p(3),z(" ",t.elementCount||0,"\uAC1C \uC694\uC18C "),p(3),z("\uC218\uC815: ",n.formatDate(t.updatedAt)),p(4),Y("confirm",n.deleteConfirm===t.id),b("title",n.deleteConfirm===t.id?"\uB2E4\uC2DC \uD074\uB9AD\uD558\uC5EC \uC0AD\uC81C \uD655\uC778":"\uBB38\uC11C \uC0AD\uC81C"),p(),z(" ",n.deleteConfirm===t.id?"\uD655\uC778":"\uC0AD\uC81C"," ")}}function _r(l,e){if(l&1&&(r(0,"div",29),$(1,Cr,21,15,"div",30),a()),l&2){let t=f(3);p(),b("ngForOf",t.savedDocuments)}}function Pr(l,e){if(l&1){let t=R();r(0,"div",15)(1,"div",16)(2,"div",17),O("dragover",function(o){M(t);let i=f(2);return x(i.onDragOver(o))})("dragleave",function(o){M(t);let i=f(2);return x(i.onDragLeave(o))})("drop",function(o){M(t);let i=f(2);return x(i.onDrop(o))})("click",function(){M(t);let o=f(2);return x(o.triggerFileInput())}),r(3,"div",18),s(4,"\u{1F4C1}"),a(),r(5,"div",19)(6,"p",20),s(7,"PDF \uD30C\uC77C\uC744 \uB4DC\uB798\uADF8\uD558\uAC70\uB098 \uD074\uB9AD\uD558\uC5EC \uC5C5\uB85C\uB4DC"),a(),r(8,"p",21),s(9,"\uCD5C\uB300 50MB\uAE4C\uC9C0 \uC9C0\uC6D0\uB429\uB2C8\uB2E4"),a()()(),r(10,"input",22),O("change",function(o){M(t);let i=f(2);return x(i.onFileInputChange(o))}),a()(),r(11,"div",23)(12,"span"),s(13,"\uB610\uB294 \uC800\uC7A5\uB41C \uBB38\uC11C \uC120\uD0DD"),a()(),$(14,fr,3,0,"div",24)(15,hr,3,0,"div",25)(16,_r,2,1,"div",26),a()}if(l&2){let t=f(2);p(2),Y("drag-over",t.isDragOver),p(12),b("ngIf",t.isLoading),p(),b("ngIf",!t.isLoading&&t.savedDocuments.length===0),p(),b("ngIf",!t.isLoading&&t.savedDocuments.length>0)}}function br(l,e){if(l&1){let t=R();r(0,"button",42),O("click",function(){M(t);let o=f(2);return x(o.onSave())}),s(1," \uC800\uC7A5 "),a()}if(l&2){let t=f(2);b("disabled",!t.newDocumentTitle.trim())}}function Mr(l,e){if(l&1){let t=R();r(0,"div",1),O("click",function(){M(t);let o=f();return x(o.closeModal())}),r(1,"div",2),O("click",function(o){return M(t),x(o.stopPropagation())}),r(2,"div",3)(3,"h2"),s(4),a(),r(5,"button",4),O("click",function(){M(t);let o=f();return x(o.closeModal())}),s(6,"\xD7"),a()(),r(7,"div",5),$(8,ur,5,1,"div",6)(9,Pr,17,5,"div",7),a(),r(10,"div",8)(11,"button",9),O("click",function(){M(t);let o=f();return x(o.closeModal())}),s(12,"\uCDE8\uC18C"),a(),$(13,br,2,1,"button",10),a()()()}if(l&2){let t=f();p(4),V(t.mode==="save"?"\uBB38\uC11C \uC800\uC7A5":"\uBB38\uC11C \uBD88\uB7EC\uC624\uAE30"),p(4),b("ngIf",t.mode==="save"),p(),b("ngIf",t.mode==="open"),p(4),b("ngIf",t.mode==="save")}}var We=class l{constructor(e,t){this.indexedDbService=e;this.snackbar=t}isVisible=!1;mode="save";currentTitle="";close=new B;save=new B;open=new B;delete=new B;fileUpload=new B;newDocumentTitle="";savedDocuments=[];selectedDocument=null;deleteConfirm="";isLoading=!1;isDragOver=!1;ngOnInit(){this.loadDocuments(),this.mode==="save"&&(this.newDocumentTitle=this.currentTitle||"\uC0C8 \uBB38\uC11C")}ngOnChanges(e){e.isVisible&&e.isVisible.currentValue&&!e.isVisible.previousValue&&(this.loadDocuments(),this.mode==="save"&&(this.newDocumentTitle=this.currentTitle||"\uC0C8 \uBB38\uC11C"))}loadDocuments(){return E(this,null,function*(){try{this.isLoading=!0,this.savedDocuments=yield this.indexedDbService.getAllDocuments(),console.log("\uBB38\uC11C \uBAA9\uB85D \uB85C\uB4DC\uB428:",this.savedDocuments.length,"\uAC1C")}catch(e){console.error("\uBB38\uC11C \uBAA9\uB85D \uB85C\uB4DC \uC2E4\uD328:",e),this.savedDocuments=[]}finally{this.isLoading=!1}})}onSave(){let e=this.newDocumentTitle.trim();e&&(this.save.emit(e),this.closeModal())}onOpen(e){this.open.emit(e),this.closeModal()}onDelete(e){return E(this,null,function*(){if(this.deleteConfirm===e.id)try{yield this.indexedDbService.deleteDocument(e.id),this.delete.emit(e.id),this.deleteConfirm="",yield this.loadDocuments()}catch(t){console.error("\uBB38\uC11C \uC0AD\uC81C \uC2E4\uD328:",t)}else this.deleteConfirm=e.id,setTimeout(()=>{this.deleteConfirm=""},3e3)})}closeModal(){this.isVisible=!1,this.newDocumentTitle="",this.selectedDocument=null,this.deleteConfirm="",this.close.emit()}formatDate(e){return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.isDragOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.isDragOver=!1}onDrop(e){e.preventDefault(),e.stopPropagation(),this.isDragOver=!1;let t=e.dataTransfer?.files;t&&t.length>0&&this.handleFileUpload(t[0])}onFileInputChange(e){let t=e.target.files?.[0];t&&this.handleFileUpload(t)}handleFileUpload(e){if(e.type!=="application/pdf"){this.snackbar.showError("PDF \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.");return}let t=50*1024*1024;if(e.size>t){this.snackbar.showError("\uD30C\uC77C \uD06C\uAE30\uAC00 \uB108\uBB34 \uD07D\uB2C8\uB2E4. 50MB \uC774\uD558\uC758 \uD30C\uC77C\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");return}this.fileUpload.emit(e),this.closeModal()}triggerFileInput(){document.getElementById("pdf-file-input")?.click()}static \u0275fac=function(t){return new(t||l)(J(le),J(Kt))};static \u0275cmp=ot({type:l,selectors:[["app-document-modal"]],inputs:{isVisible:"isVisible",mode:"mode",currentTitle:"currentTitle"},outputs:{close:"close",save:"save",open:"open",delete:"delete",fileUpload:"fileUpload"},standalone:!1,features:[Bt],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["class","save-section",4,"ngIf"],["class","open-section",4,"ngIf"],[1,"modal-footer"],[1,"cancel-btn",3,"click"],["class","save-btn",3,"disabled","click",4,"ngIf"],[1,"save-section"],[1,"input-group"],["for","docTitle"],["id","docTitle","type","text","placeholder","\uBB38\uC11C \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694",1,"title-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"open-section"],[1,"file-upload-section"],[1,"drag-drop-area",3,"dragover","dragleave","drop","click"],[1,"upload-icon"],[1,"upload-text"],[1,"primary-text"],[1,"secondary-text"],["type","file","id","pdf-file-input","accept",".pdf,application/pdf",2,"display","none",3,"change"],[1,"separator"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","document-list",4,"ngIf"],[1,"loading-state"],[1,"empty-state"],[1,"document-list"],["class","document-item",3,"selected",4,"ngFor","ngForOf"],[1,"document-item"],[1,"doc-info",3,"click"],[1,"doc-type-badge"],[1,"doc-details"],[1,"detail-item"],[1,"icon-page"],[1,"icon-elements"],[1,"doc-date"],[1,"doc-actions"],["title","\uBB38\uC11C \uC5F4\uAE30",1,"open-btn",3,"click"],[1,"delete-btn",3,"click","title"],[1,"save-btn",3,"click","disabled"]],template:function(t,n){t&1&&$(0,Mr,14,4,"div",0),t&2&&b("ngIf",n.isVisible)},dependencies:[_t,st,ut,gt,pt],styles:['@charset "UTF-8";.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1140;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;animation:_ngcontent-%COMP%_slideIn .3s ease;box-shadow:0 20px 40px #00000026}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb;background:#f8fafc}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1f2937}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.modal-body[_ngcontent-%COMP%]{padding:24px;max-height:50vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid #e5e7eb;background:#f8fafc}.save-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151;font-size:14px}.save-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;transition:border-color .2s}.save-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]{margin-bottom:24px}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]{border:2px dashed #d1d5db;border-radius:12px;padding:32px 24px;text-align:center;cursor:pointer;transition:all .3s ease;background:#f9fafb}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area.drag-over[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff;transform:scale(1.02)}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]   .primary-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#374151;margin:0 0 8px}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]   .secondary-text[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:flex;align-items:center;margin:24px 0}.open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]:before, .open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e5e7eb}.open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px;color:#6b7280;font-size:14px;background:#fff}.open-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.open-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.open-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.open-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:12px;transition:all .2s;cursor:pointer}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]:hover{border-color:#d1d5db;box-shadow:0 2px 8px #00000014}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]{flex:1}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#1f2937;display:flex;align-items:center;gap:8px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-type-badge[_ngcontent-%COMP%]{display:inline-block;font-size:9px;font-weight:700;padding:3px 7px;border-radius:4px;white-space:nowrap;text-transform:uppercase;letter-spacing:.5px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-type-badge.pdf-viewer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;box-shadow:0 2px 4px #ee5a6f40}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-type-badge.new-document[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf7,#339af0);color:#fff;box-shadow:0 2px 4px #339af040}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:4px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:#6b7280}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .icon-page[_ngcontent-%COMP%]:before{content:"\\1f4c4"}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .icon-elements[_ngcontent-%COMP%]:before{content:"\\1f527"}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-shrink:0}button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}button.cancel-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}button.cancel-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}button.save-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}button.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}button.save-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}button.open-btn[_ngcontent-%COMP%]{background:#059669;color:#fff;padding:6px 12px;font-size:12px}button.open-btn[_ngcontent-%COMP%]:hover{background:#047857}button.delete-btn[_ngcontent-%COMP%]{background:#dc2626;color:#fff;padding:6px 12px;font-size:12px}button.delete-btn[_ngcontent-%COMP%]:hover{background:#b91c1c}button.delete-btn.confirm[_ngcontent-%COMP%]{background:#f59e0b;animation:_ngcontent-%COMP%_pulse .5s ease infinite alternate}button.delete-btn.confirm[_ngcontent-%COMP%]:hover{background:#d97706}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}to{transform:scale(1.05)}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;margin:20px}.modal-body[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:16px}.document-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.document-item[_ngcontent-%COMP%]   .doc-actions[_ngcontent-%COMP%]{align-self:flex-end}}']})};function Or(l,e){if(l&1){let t=R();r(0,"div",1),O("click",function(o){M(t);let i=f();return x(i.onBackdropClick(o))}),r(1,"div",2)(2,"div",3)(3,"h2",4)(4,"span",5),s(5,"\u270F\uFE0F"),a(),s(6," \uD14D\uC2A4\uD2B8 \uC9C1\uC811 \uD3B8\uC9D1 \uC815\uBCF4 "),a(),r(7,"button",6),O("click",function(){M(t);let o=f();return x(o.onCancel())}),s(8,"\xD7"),a()(),r(9,"div",7)(10,"div",8)(11,"h3",9),s(12,"\u{1F4C4} \uBB38\uC11C \uC815\uBCF4"),a(),r(13,"div",10)(14,"div",11)(15,"span",12),s(16,"\uD604\uC7AC \uD398\uC774\uC9C0"),a(),r(17,"span",13),s(18),a()()()(),r(19,"div",8)(20,"h3",9),s(21,"\u{1F4DD} \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uD14D\uC2A4\uD2B8"),a(),r(22,"div",10)(23,"div",11)(24,"span",12),s(25,"\uC804\uCCB4 \uD14D\uC2A4\uD2B8 \uD56D\uBAA9"),a(),r(26,"span",14),s(27),a()(),r(28,"div",11)(29,"span",12),s(30,"\uBB38\uC7A5 \uADF8\uB8F9"),a(),r(31,"span",14),s(32),a()()()(),r(33,"div",15)(34,"h3",9),s(35,"\u2139\uFE0F \uD3B8\uC9D1 \uBC29\uBC95"),a(),r(36,"ul",16)(37,"li"),s(38,"\u{1F4CC} \uAC01 \uD14D\uC2A4\uD2B8 \uC601\uC5ED\uC744 "),r(39,"strong"),s(40,"\uD074\uB9AD"),a(),s(41,"\uD558\uBA74 \uD3B8\uC9D1 \uAC00\uB2A5\uD569\uB2C8\uB2E4"),a(),r(42,"li"),s(43,"\u270F\uFE0F \uD14D\uC2A4\uD2B8 \uB0B4\uC6A9, \uD3F0\uD2B8 \uD06C\uAE30, \uD3F0\uD2B8 \uC885\uB958\uB97C \uBCC0\uACBD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),a(),r(44,"li"),s(45,"\u{1F3A8} \uD14D\uC2A4\uD2B8 \uC2A4\uD0C0\uC77C(\uAD75\uAC8C, \uC0C9\uC0C1 \uB4F1)\uC744 \uC870\uC815\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),a(),r(46,"li"),s(47,"\u{1F4BE} \uD3B8\uC9D1 \uC644\uB8CC \uD6C4 "),r(48,"strong"),s(49,"\uC800\uC7A5"),a(),s(50," \uBC84\uD2BC\uC744 \uB20C\uB7EC \uBCC0\uACBD\uC0AC\uD56D\uC744 \uC801\uC6A9\uD558\uC138\uC694"),a(),r(51,"li"),s(52,"\u{1F5D1}\uFE0F \uD14D\uC2A4\uD2B8\uB97C \uC0AD\uC81C\uD558\uB824\uBA74 "),r(53,"strong"),s(54,"\uC0AD\uC81C"),a(),s(55," \uBC84\uD2BC\uC744 \uC0AC\uC6A9\uD558\uC138\uC694"),a()()(),r(56,"div",17)(57,"div",18)(58,"span",19),s(59,"\u26A0\uFE0F"),a(),r(60,"div",20)(61,"strong"),s(62,"\uC8FC\uC758\uC0AC\uD56D:"),a(),s(63," \uD3B8\uC9D1 \uBAA8\uB4DC\uC5D0\uC11C\uB294 PDF\uC758 \uC6D0\uBCF8 \uD14D\uC2A4\uD2B8 \uB808\uC774\uC5B4\uB97C \uC218\uC815\uD569\uB2C8\uB2E4. \uBCC0\uACBD\uC0AC\uD56D\uC744 \uC800\uC7A5\uD558\uAE30 \uC804\uC5D0 \uD56D\uC0C1 \uBBF8\uB9AC\uBCF4\uAE30\uB97C \uD655\uC778\uD558\uC138\uC694. "),a()()()(),r(64,"div",21)(65,"button",22),O("click",function(){M(t);let o=f();return x(o.onCancel())}),s(66,"\uCDE8\uC18C"),a(),r(67,"button",23),O("click",function(){M(t);let o=f();return x(o.onConfirm())}),r(68,"span",24),s(69,"\u2713"),a(),s(70," \uD3B8\uC9D1 \uC2DC\uC791 "),a()()()()}if(l&2){let t=f();p(18),Dt("",t.currentPage," / ",t.totalPages),p(9),z("",t.totalTextItems,"\uAC1C"),p(5),z("",t.sentenceGroupCount,"\uAC1C")}}var He=class l{isVisible=!1;totalTextItems=0;sentenceGroupCount=0;currentPage=1;totalPages=1;confirm=new B;cancel=new B;onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target===e.currentTarget&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ot({type:l,selectors:[["app-text-edit-info-modal"]],inputs:{isVisible:"isVisible",totalTextItems:"totalTextItems",sentenceGroupCount:"sentenceGroupCount",currentPage:"currentPage",totalPages:"totalPages"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container"],[1,"modal-header"],[1,"modal-title"],[1,"icon"],["aria-label","\uB2EB\uAE30",1,"close-button",3,"click"],[1,"modal-body"],[1,"info-section"],[1,"section-title"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"value","highlight"],[1,"info-section","description"],[1,"feature-list"],[1,"warning-section"],[1,"warning-box"],[1,"warning-icon"],[1,"warning-text"],[1,"modal-footer"],[1,"button","button-cancel",3,"click"],[1,"button","button-confirm",3,"click"],[1,"button-icon"]],template:function(t,n){t&1&&$(0,Or,71,4,"div",0),t&2&&b("ngIf",n.isVisible)},dependencies:[st],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:1150!important;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:600px;width:90%;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:24px 28px;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700;display:flex;align-items:center;gap:12px}.modal-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:28px}.close-button[_ngcontent-%COMP%]{background:#fff3;border:none;width:36px;height:36px;border-radius:8px;font-size:28px;line-height:1;color:#fff;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:24px 28px;overflow-y:auto;flex:1}.info-section[_ngcontent-%COMP%]{margin-bottom:24px}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937;margin:0 0 16px;display:flex;align-items:center;gap:8px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{background:#f9fafb;padding:16px;border-radius:12px;border:1px solid #e5e7eb;display:flex;flex-direction:column;gap:8px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;font-weight:500}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1f2937}.info-item[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#667eea}.feature-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.feature-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:8px;background:#f9fafb;border-radius:8px;border-left:3px solid #667eea;font-size:14px;line-height:1.6;color:#4b5563}.feature-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.warning-section[_ngcontent-%COMP%]{margin-top:20px}.warning-box[_ngcontent-%COMP%]{background:#fef3c7;border:1px solid #fbbf24;border-radius:12px;padding:16px;display:flex;gap:12px;align-items:flex-start}.warning-box[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.warning-box[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.6;color:#92400e}.warning-box[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#78350f}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;border-top:1px solid #e5e7eb;display:flex;gap:12px;justify-content:flex-end;background:#f9fafb}.button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s;border:none;display:flex;align-items:center;gap:8px;min-width:100px;justify-content:center}.button-cancel[_ngcontent-%COMP%]{background:#fff;color:#6b7280;border:1px solid #d1d5db}.button-cancel[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.button-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 12px #667eea4d}.button-confirm[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #667eea66;transform:translateY(-2px)}.button-confirm[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{font-size:18px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.modal-container[_ngcontent-%COMP%]{width:95%;max-height:95vh}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:16px 20px;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-title[_ngcontent-%COMP%]{font-size:18px}.modal-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}}"]})};var yr=["vectorPathDrawer"],wr=["signatureCanvas"],Dr=["pdfContainer"],Sr=()=>({current:0,total:0}),Er=(l,e)=>({title:l,message:e,isDangerous:!0});function kr(l,e){if(l&1){let t=R();r(0,"app-pdf-analysis-dashboard",13),O("closeEvent",function(){M(t);let o=f();return x(o.closePdfAnalysisDashboard())})("createSvgPdfEvent",function(o){M(t);let i=f();return x(i.createPdfFromVectorSvg(o))})("createTextStructureDocEvent",function(){M(t);let o=f();return x(o.createNewFromStructure())})("createCombinedDocEvent",function(){M(t);let o=f();return x(o.createCombinedDocument())})("requestMinimapEvent",function(o){M(t);let i=f();return x(i.generateVectorMinimap(o))})("exportPdfEvent",function(){M(t);let o=f();return x(o.exportPdfFromDashboard())})("createImagePdfEvent",function(o){M(t);let i=f();return x(i.loadImagePdfToEditor(o))})("exportOriginalPdfEvent",function(){M(t);let o=f();return x(o.exportOriginalPdfBinary())}),a()}if(l&2){let t=f();b("analysisData",t.pdfAnalysisData)("isCollapsed",!1)("isDraggable",!0)("isCompact",!0)("vectorData",t.loadedVectorData)("vectorMinimaps",t.vectorMinimaps)}}function Tr(l,e){if(l&1){let t=R();r(0,"app-text-editor-modal",14),O("save",function(o){M(t);let i=f();return x(i.applyTextEditor(o))})("cancel",function(){M(t);let o=f();return x(o.closeTextEditor())}),a()}if(l&2){let t=f();b("data",t.textEditorData)("pageWidth",t.pageWidth)("pageHeight",t.pageHeight)}}function Ir(l,e){if(l&1){let t=R();r(0,"app-image-editor-modal",14),O("save",function(o){M(t);let i=f();return x(i.applyImageEditor(o))})("cancel",function(){M(t);let o=f();return x(o.closeImageEditor())}),a()}if(l&2){let t=f();b("data",t.imageEditorData)("pageWidth",t.pageWidth)("pageHeight",t.pageHeight)}}function Ar(l,e){if(l&1){let t=R();r(0,"app-shape-editor-modal",14),O("save",function(o){M(t);let i=f();return x(i.applyShapeEditor(o))})("cancel",function(){M(t);let o=f();return x(o.closeShapeEditor())}),a()}if(l&2){let t=f();b("data",t.shapeEditorData)("pageWidth",t.pageWidth)("pageHeight",t.pageHeight)}}function Br(l,e){if(l&1){let t=R();r(0,"app-signature-editor-modal",15),O("save",function(o){M(t);let i=f();return x(i.applySignatureEditor(o))})("cancel",function(){M(t);let o=f();return x(o.closeSignatureEditor())}),a()}if(l&2){let t=f();b("data",t.signatureEditorData)}}function Fr(l,e){if(l&1){let t=R();r(0,"app-watermark-editor-modal",15),O("save",function(o){M(t);let i=f();return x(i.applyWatermarkEditor(o))})("cancel",function(){M(t);let o=f();return x(o.closeWatermarkEditor())}),a()}if(l&2){let t=f();b("data",t.watermarkEditorData)}}function Vr(l,e){if(l&1){let t=R();r(0,"div",16)(1,"app-docs-left-menu",17),O("menuAction",function(o){M(t);let i=f();return x(i.onLeftMenuAction(o))})("close",function(){M(t);let o=f();return x(o.closeLeftPanel())})("itemClick",function(o){M(t);let i=f();return x(i.onItemSelected(o))})("expand",function(){M(t);let o=f();return x(o.expandLeftPanel())}),a()()}if(l&2){let t=f();Y("collapsed",t.isLeftPanelCollapsed),p(),b("recentWorks",t.getRecentWorksForMenu())("isCollapsed",t.isLeftPanelCollapsed)}}function $r(l,e){if(l&1){let t=R();tn(0),r(1,"div",24),O("click",function(){let o=M(t).$implicit,i=f(3);return x(i.onSentenceOverlayClick(o))}),a(),en()}if(l&2){let t=e.$implicit;p(),Z("position","absolute")("left",t.x,"px")("top",t.y,"px")("width",t.width,"px")("height",t.height,"px")("z-index",t.isActive?1e3:10)("background-color",t.isActive?"rgba(0, 122, 204, 0.1)":"transparent")("border",t.isActive?"2px solid #007ACC":"1px dashed rgba(100, 100, 100, 0.5)")("cursor","pointer"),Y("active",t.isActive),b("title","\uD074\uB9AD\uD558\uC5EC \uD3B8\uC9D1: "+t.text)}}function zr(l,e){if(l&1){let t=R();r(0,"app-pdf-text-modifier",26),O("configChange",function(o){M(t);let i=f(4);return x(i.onTextEditorConfigChange(o))})("close",function(){M(t);let o=f(4);return x(o.onTextEditorClose())})("delete",function(o){M(t);let i=f(4);return x(i.onTextEditorDelete(o))})("deactivate",function(o){M(t);let i=f(4);return x(i.onTextEditorDeactivate(o))}),a()}if(l&2){let t=f().$implicit;b("config",t)("isVisible",!0)}}function Lr(l,e){if(l&1&&(tn(0),$(1,zr,1,2,"app-pdf-text-modifier",25),en()),l&2){let t=e.$implicit;p(),b("ngIf",t.isActive||t.isModified)}}function Gr(l,e){if(l&1&&(r(0,"div",22),$(1,$r,2,21,"ng-container",23)(2,Lr,2,1,"ng-container",23),a()),l&2){let t=f(2);p(),b("ngForOf",t.sentenceTextEditors),p(),b("ngForOf",t.sentenceTextEditors)}}function Nr(l,e){if(l&1){let t=R();r(0,"div",18,0)(2,"ngx-extended-pdf-viewer",19),O("pdfLoaded",function(o){M(t);let i=f();return x(i.onPdfLoaded(o))})("pdfLoadingFailed",function(o){M(t);let i=f();return x(i.onPdfLoadingFailed(o))})("pageChange",function(o){M(t);let i=f();return x(i.onPageChange(o))})("zoomChange",function(o){M(t);let i=f();return x(i.onZoomChange(o))}),a(),$(3,Gr,3,2,"div",20),r(4,"app-text-edit-info-modal",21),O("confirm",function(){M(t);let o=f();return x(o.onTextEditInfoModalConfirm())})("cancel",function(){M(t);let o=f();return x(o.onTextEditInfoModalCancel())}),a()()}if(l&2){let t=f();p(2),b("src",t.pdfSrc)("zoom",t.zoomLevel)("page",t.currentPage)("showToolbar",!1)("showSidebarButton",!1)("sidebarVisible",!1)("showFindButton",!1)("showPagingButtons",!1)("showZoomButtons",!1)("showPresentationModeButton",!1)("showOpenFileButton",!1)("showPrintButton",!1)("showDownloadButton",!1)("showSecondaryToolbarButton",!1)("showRotateButton",!1)("showSpreadButton",!1)("showPropertiesButton",!1)("showHandToolButton",!1)("handTool",!1)("textLayer",!0)("showBorders",!1)("enableDragAndDrop",!1)("showUnverifiedSignatures",!1)("showDrawEditor",!1)("showStampEditor",!1)("showHighlightEditor",!1),p(),b("ngIf",t.textEditorVisible&&t.sentenceTextEditors.length>0),p(),b("isVisible",t.isTextEditInfoModalVisible)("totalTextItems",t.textEditModalInfo.totalTextItems)("sentenceGroupCount",t.textEditModalInfo.sentenceGroupCount)("currentPage",t.textEditModalInfo.currentPage)("totalPages",t.textEditModalInfo.totalPages)}}function Rr(l,e){if(l&1){let t=R();r(0,"div",46),O("dblclick",function(){M(t);let o=f().$implicit,i=f(3);return x(i.startEditingText(o))})("blur",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.stopEditingText(i,o))})("keydown.enter",function(o){M(t);let i=f().$implicit,c=f(3);return o.preventDefault(),x(c.stopEditingText(i,o))})("keydown.escape",function(){M(t);let o=f().$implicit,i=f(3);return x(i.cancelEditingText(o))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),s(1),a()}if(l&2){let t=f().$implicit,n=f(3);Z("font-size",t.fontSize||16,"px")("font-family",t.fontFamily||"Arial")("font-weight",t.fontWeight||"normal")("font-style",t.fontStyle||"normal")("color",t.color||"#000"),Y("editing",(n.editingElement==null?null:n.editingElement.id)===t.id),b("contentEditable",(n.editingElement==null?null:n.editingElement.id)===t.id),p(),z(" ",t.text," ")}}function jr(l,e){if(l&1){let t=R();r(0,"img",47),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startElementDrag(o,i))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),a()}if(l&2){let t=f().$implicit,n=f(3);Z("width",t.width,"px")("height",t.height,"px"),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id),b("src",t.src,Lt)}}function Wr(l,e){if(l&1&&W(0,"img",51),l&2){let t=f(2).$implicit;b("src",t.src,Lt)}}function Hr(l,e){if(l&1&&(r(0,"span"),s(1),a()),l&2){let t=f(2).$implicit;p(),V(t.text)}}function Ur(l,e){l&1&&(r(0,"span"),s(1,"\uC11C\uBA85"),a())}function Yr(l,e){if(l&1){let t=R();r(0,"div",48),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startElementDrag(o,i))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),$(1,Wr,1,1,"img",49)(2,Hr,2,1,"span",50)(3,Ur,2,0,"span",50),a()}if(l&2){let t=f().$implicit,n=f(3);Z("width",t.width,"px")("height",t.height,"px")("font-size",t.fontSize||24,"px")("color",t.color||"#000000")("font-family",n.getSignatureFontFamily((t.properties==null?null:t.properties.signatureStyle)||"handwritten"))("font-weight",((t.properties==null?null:t.properties.strokeWidth)||2)*100)("border",(n.selectedElement==null?null:n.selectedElement.id)===t.id?"2px dashed #007bff":"1px dashed transparent")("background-color","rgba(255, 255, 255, 0.8)")("border-radius","4px")("display","flex")("align-items","center")("justify-content","center")("padding","5px"),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id),p(),b("ngIf",t.src),p(),b("ngIf",!t.src&&t.text),p(),b("ngIf",!t.src&&!t.text)}}function Xr(l,e){if(l&1){let t=R();r(0,"div",52),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startElementDrag(o,i))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),r(1,"span",53),s(2),a()()}if(l&2){let t=f().$implicit,n=f(3);Z("left",t.x,"px")("top",t.y,"px")("width",t.width,"px")("height",t.height,"px")("transform","rotate("+((t.properties==null?null:t.properties.rotation)||0)+"deg)")("opacity",(t.properties==null?null:t.properties.opacity)||1),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id),p(),Z("color",t.color)("font-size",t.fontSize,"px"),p(),z(" ",t.text||"WATERMARK"," ")}}function qr(l,e){if(l&1){let t=R();r(0,"div",54),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startElementDrag(o,i))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),fe(),r(1,"svg",55),W(2,"path",56),a()()}if(l&2){let t=f().$implicit,n=f(3);Z("width",t.width,"px")("height",t.height,"px")("border",(n.selectedElement==null?null:n.selectedElement.id)===t.id?"2px solid #3498db":"1px dashed rgba(52, 152, 219, 0.3)")("display",(t.properties==null?null:t.properties.visible)===!1?"none":"block"),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id)("hidden",(t.properties==null?null:t.properties.visible)===!1),p(),Je("width",t.width)("height",t.height)("viewBox",(t.properties==null?null:t.properties.viewBox)||"0 0 "+t.width+" "+t.height),p(),Je("d",t.pathData)("stroke",t.strokeColor||"#2c3e50")("stroke-width",t.strokeWidth||2)("fill",t.fill||"none")("fill-opacity",t.fillOpacity||1)("stroke-opacity",t.strokeOpacity||1)}}function Kr(l,e){if(l&1){let t=R();r(0,"div",57),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startElementDrag(o,i))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),a()}if(l&2){let t=f().$implicit,n=f(3);Z("width",t.width,"px")("height",t.height,"px")("border",(n.selectedElement==null?null:n.selectedElement.id)===t.id?"2px solid #e74c3c":"1px dashed rgba(231, 76, 60, 0.3)")("overflow","visible"),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id),b("innerHTML",n.sanitizeSvg(t.content||t.svgContent),Nt)}}function Jr(l,e){if(l&1){let t=R();r(0,"div",58),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startElementDrag(o,i))})("click",function(o){M(t);let i=f().$implicit,c=f().$implicit,d=f(2);return o.stopPropagation(),x(d.selectElement(i,c.pageNumber))}),a()}if(l&2){let t=f().$implicit,n=f(3);Z("width",t.width,"px")("height",t.height,"px")("background-color",t.fillColor||"#3498db")("border","2px solid "+(t.strokeColor||t.fillColor||"#2980b9")),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id)}}function Zr(l,e){if(l&1){let t=R();r(0,"div",59)(1,"div",60),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"nw"))}),a(),r(2,"div",61),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"ne"))}),a(),r(3,"div",62),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"sw"))}),a(),r(4,"div",63),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"se"))}),a(),r(5,"div",64),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"n"))}),a(),r(6,"div",65),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"s"))}),a(),r(7,"div",66),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"w"))}),a(),r(8,"div",67),O("mousedown",function(o){M(t);let i=f().$implicit,c=f(3);return x(c.startResize(o,i,"e"))}),a()()}}function Qr(l,e){if(l&1){let t=R();r(0,"div",37),O("click",function(){let o=M(t).$implicit,i=f().$implicit,c=f(2);return x(c.selectElement(o,i.pageNumber))})("mousedown",function(o){let i=M(t).$implicit,c=f(3);return x(c.startElementDrag(o,i))}),$(1,Rr,2,14,"div",38)(2,jr,1,7,"img",39)(3,Yr,4,31,"div",40)(4,Xr,3,19,"div",41)(5,qr,3,21,"div",42)(6,Kr,1,11,"div",43)(7,Jr,1,10,"div",44)(8,Zr,9,0,"div",45),a()}if(l&2){let t=e.$implicit,n=f(3);Z("left",t.x,"px")("top",t.y,"px")("width",t.width,"px")("height",t.height,"px"),Y("selected",(n.selectedElement==null?null:n.selectedElement.id)===t.id),b("ngClass","element-"+t.type),p(),b("ngIf",t.type==="text"),p(),b("ngIf",t.type==="image"),p(),b("ngIf",t.type==="signature"),p(),b("ngIf",t.type==="watermark"),p(),b("ngIf",t.type==="vector-path"),p(),b("ngIf",t.type==="svg"),p(),b("ngIf",t.type==="shape"),p(),b("ngIf",(n.selectedElement==null?null:n.selectedElement.id)===t.id)}}function ta(l,e){if(l&1){let t=R();r(0,"div",33)(1,"div",34),O("click",function(){let o=M(t).$implicit,i=f(2);return x(i.switchToPage(o.pageNumber))}),r(2,"div",35),s(3),a(),$(4,Qr,9,19,"div",36),a()()}if(l&2){let t=e.$implicit,n=f(2);Y("active",n.currentPage===t.pageNumber),b("id","page-"+t.pageNumber),p(),Z("width",n.pageWidth,"px")("height",n.pageHeight,"px"),p(2),z("\uD398\uC774\uC9C0 ",t.pageNumber),p(),b("ngForOf",t.elements)("ngForTrackBy",n.trackByElement)}}function ea(l,e){if(l&1){let t=R();r(0,"div",27)(1,"div",28),$(2,ta,5,10,"div",29),r(3,"div",30)(4,"button",31),O("click",function(){M(t);let o=f();return x(o.addNewPage())}),r(5,"i",32),s(6,"+"),a(),r(7,"span"),s(8,"\uC0C8 \uD398\uC774\uC9C0 \uCD94\uAC00"),a()()()()()}if(l&2){let t=f();p(2),b("ngForOf",t.pdfPages)("ngForTrackBy",t.trackByPage)}}function na(l,e){if(l&1){let t=R();r(0,"div",68)(1,"app-docs-right-sidebar",69),O("addText",function(){M(t);let o=f();return x(o.addText())})("addImage",function(){M(t);let o=f();return x(o.addImage())})("addShape",function(){M(t);let o=f();return x(o.addShape())})("addSignature",function(){M(t);let o=f();return x(o.addSignature())})("addWatermark",function(){M(t);let o=f();return x(o.addWatermark())})("addVectorPath",function(){M(t);let o=f();return x(o.openVectorPathEditor())})("addPage",function(){M(t);let o=f();return x(o.addNewPage())})("deletePage",function(){M(t);let o=f();return x(o.deleteCurrentPage())})("zoomIn",function(){M(t);let o=f();return x(o.zoomIn())})("zoomOut",function(){M(t);let o=f();return x(o.zoomOut())})("rotatePage",function(){M(t);let o=f();return x(o.rotateCurrentPage())})("pageSelect",function(o){M(t);let i=f();return x(i.onPageSelect(o))})("elementPropertyChange",function(o){M(t);let i=f();return x(i.onElementPropertyChange(o))})("deselectElement",function(){M(t);let o=f();return x(o.onDeselectElement())})("deleteElement",function(){M(t);let o=f();return x(o.onDeleteElement())})("sidebarAction",function(o){M(t);let i=f();return x(i.onSidebarAction(o))})("keepOnlyFirstPage",function(){M(t);let o=f();return x(o.keepOnlyFirstPage())})("close",function(){M(t);let o=f();return x(o.closeRightPanel())})("expand",function(){M(t);let o=f();return x(o.expandRightPanel())}),a()()}if(l&2){let t=f();Y("collapsed",t.isRightPanelCollapsed),p(),b("generatedDocs","")("selectedElement",t.selectedElement)("currentPage",t.currentPage)("totalPages",t.pdfPages.length)("zoomLevel",t.zoomLevel)("pdfPages",t.pdfPages)("isPdfViewer",!!t.pdfSrc)("isCollapsed",t.isRightPanelCollapsed)}}function oa(l,e){if(l&1){let t=R();r(0,"app-confirm-modal",70),O("confirm",function(){M(t);let o=f();return x(o.onConfirmModalConfirm())})("cancel",function(){M(t);let o=f();return x(o.onConfirmModalCancel())}),a()}if(l&2){let t=f();b("data",gn(1,Er,t.confirmModalTitle,t.confirmModalMessage))}}var Ue=class l{constructor(e,t,n,o,i,c,d,g,m,u,h,C,_,P,y,D,w,v,k,S,I,A,N,j,U){this.router=e;this.snackbar=t;this.debugLogger=n;this.indexedDbService=o;this.pdfCacheService=i;this.cdr=c;this.pdfTextStreamService=d;this.pdfPageDeleterService=g;this.textEditorService=m;this.renderer=u;this.vectorGraphicsRenderService=h;this.sanitizer=C;this.docsAuthService=_;this.pdfImageExtractor=P;this.pageManager=y;this.pageHistory=D;this.elementStateManager=w;this.vectorSvgGenerator=v;this.pdfStructureParser=k;this.vectorElementConverter=S;this.pdfAnalysis=I;this.pageBuilder=A;this.pdfThumbnail=N;this.docStorage=j;this.coordTransform=U;this.pageManager.pages$.subscribe(F=>{this.pdfPages=F}),this.pageManager.currentPageNumber$.subscribe(F=>{this.currentPage=F}),this.pageManager.totalPages$.subscribe(F=>{this.totalPages=F}),this.elementStateManager.selectedElement$.subscribe(F=>{this.selectedElement=F}),this.logModalRefactoringStatus()}MAX_PAGES=1;SINGLE_PAGE_MODE=!0;vectorPathDrawer;signatureCanvas;currentPage=1;totalPages=1;zoomLevel=100;pageWidth=595;pageHeight=842;showGrid=!0;pdfPages=[];selectedElement=null;editingElement=null;pdfSrc=null;loadedFileName="";pdfBase64Data="";currentDocument=null;panelPosition={x:300,y:100};isDragging=!1;dragOffset={x:0,y:0};isDraggingElement=!1;isResizingElement=!1;dragStartPosition={x:0,y:0};elementStartPosition={x:0,y:0,width:0,height:0};resizeDirection="";currentDragElement=null;isDocumentModalVisible=!1;documentModalMode="save";showConfirmModal=!1;confirmModalTitle="";confirmModalMessage="";confirmModalCallback=null;isGeneratingThumbnails=!1;showVectorPathEditor=!1;showDirectDrawingMode=!1;selectedVectorPath=null;drawnPaths=[];vectorPathStyle={stroke:"#2c3e50",strokeWidth:3,fill:"none"};loadedVectorData=null;renderedVectorGraphics=[];showVectorGraphicsPreview=!1;vectorMinimaps={};showDebugModal=!1;vectorRenderOptions={canvasWidth:595,canvasHeight:842,scale:1,offsetX:0,offsetY:0,strokeColor:"#2c3e50",fillColor:"transparent",strokeWidth:2,showDebugInfo:!1};vectorDebugInfo={};previewPath="";customPath="";get showGlobalNavigation(){return St.showGlobalNavigation===!0}showTextEditor=!1;textEditorData={text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:16,fontFamily:"Arial",color:"#000000",x:100,y:100,width:200,height:30};showImageEditor=!1;imageEditorData={src:"",x:150,y:150,width:200,height:150,file:null};showShapeEditor=!1;shapeEditorData={shapeType:"rectangle",fillColor:"#3498db",strokeColor:"#2980b9",strokeWidth:2,x:200,y:200,width:100,height:100};showSignatureEditor=!1;signatureEditorData={signatureText:"\uD64D\uAE38\uB3D9",signatureStyle:"handwritten",strokeColor:"#000000",strokeWidth:2,fontSize:24,x:100,y:100,width:150,height:60,canvasData:null};showWatermarkEditor=!1;watermarkEditorData={text:"CONFIDENTIAL",fontSize:48,color:"#808080",opacity:.3,rotation:-45,x:200,y:300,width:300,height:80};pdfStructureData=null;textStreamRawData=null;showPdfStructureModal=!1;showJsonViewer=!0;enablePdfAnalysis=!0;showAnalysisDashboard=!1;pdfAnalysisData=null;enableDebugLogs=!1;showVectorGraphicsModal=!1;vectorGraphicsSvgContent="";currentVectorGraphicsPageNum=1;showRightPanel=!0;showLeftPanel=!0;isLeftPanelCollapsed=!0;isRightPanelCollapsed=!0;screenWidth=window.innerWidth;isDrawing=!1;lastX=0;lastY=0;docsSettings={type:"business",format:"report",template:"standard",language:"korean",structure:"outline",style:"formal"};docsTitle="";additionalRequests="";documentType="empty";isGenerating=!1;generatedDocs="";currentStep="setup";get totalElementCount(){return this.pdfPages.reduce((e,t)=>e+t.elements.length,0)}get hasContent(){return this.totalElementCount>0||this.docsTitle.trim().length>0}docsPages=[];currentPageIndex=0;wordCount=0;isSearchMode=!1;searchResults={current:0,total:0};rightSidebarVisible=!1;showDocsManager=!1;editingTitleId=null;editingTitle="";currentDocsId=null;isEditMode=!1;autoSaveStatus="idle";autoSaveTimeout;isPdfMode=!0;typeOptions=[{value:"business",label:"\uBE44\uC988\uB2C8\uC2A4 \uBB38\uC11C"},{value:"technical",label:"\uAE30\uC220 \uBB38\uC11C"},{value:"academic",label:"\uD559\uC220 \uBB38\uC11C"},{value:"legal",label:"\uBC95\uBB34 \uBB38\uC11C"}];formatOptions=[{value:"report",label:"\uBCF4\uACE0\uC11C"},{value:"proposal",label:"\uC81C\uC548\uC11C"},{value:"manual",label:"\uB9E4\uB274\uC5BC"},{value:"presentation",label:"\uD504\uB808\uC820\uD14C\uC774\uC158"}];templateOptions=[{value:"standard",label:"\uD45C\uC900"},{value:"creative",label:"\uCC3D\uC758\uC801"},{value:"formal",label:"\uACF5\uC2DD"},{value:"simple",label:"\uAC04\uB2E8"}];languageOptions=[{value:"korean",label:"\uD55C\uAD6D\uC5B4"},{value:"english",label:"\uC601\uC5B4"},{value:"mixed",label:"\uD63C\uD569"}];structureOptions=[{value:"outline",label:"\uAC1C\uC694"},{value:"detailed",label:"\uC0C1\uC138"},{value:"bullet",label:"\uBD88\uB9BF \uD3EC\uC778\uD2B8"},{value:"narrative",label:"\uC11C\uC220\uD615"}];styleOptions=[{value:"formal",label:"\uACF5\uC2DD"},{value:"casual",label:"\uCE90\uC8FC\uC5BC"},{value:"technical",label:"\uAE30\uC220\uC801"},{value:"persuasive",label:"\uC124\uB4DD\uC801"}];sentenceTextEditors=[];textEditorInstances=[];sentenceGroups=[];textEditorVisible=!1;pdfContainer;isTextEditInfoModalVisible=!1;textEditModalInfo={totalTextItems:0,sentenceGroupCount:0,currentPage:1,totalPages:1};scrollLeft=0;scrollTop=0;scrollListenerDestroy;scrollListenerAttached=!1;ngOnInit(){this.initializeComponent(),this.checkScreenSize(),this.suppressPdfJsWarnings()}ngAfterViewInit(){this.setupPdfScrollListener()}ngOnDestroy(){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),this.scrollListenerDestroy&&this.scrollListenerDestroy(),this.clearPdfCache()}checkScreenSize(){this.screenWidth=window.innerWidth,this.showLeftPanel=!0,this.showRightPanel=!0}onResize(e){this.screenWidth=window.innerWidth}logModalRefactoringStatus(){this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u{1F3A8} DocsGenerator \uBAA8\uB2EC \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC0C1\uD0DC"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),this.debugLogger.success("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2705 ConfirmModal - \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC644\uB8CC"),this.debugLogger.success("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2705 TextEditorModal - \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC644\uB8CC"),this.debugLogger.success("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2705 ImageEditorModal - \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC644\uB8CC"),this.debugLogger.success("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2705 ShapeEditorModal - \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC644\uB8CC"),this.debugLogger.success("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2705 SignatureEditorModal - \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC644\uB8CC"),this.debugLogger.success("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2705 WatermarkEditorModal - \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC \uC644\uB8CC"),this.debugLogger.warn("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u26A0\uFE0F VectorPathEditorModal - \uAE30\uC874 VectorPathDrawerComponent \uC0AC\uC6A9"),this.debugLogger.warn("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u26A0\uFE0F PdfStructureModal - \uBCF5\uC7A1\uD55C \uB370\uC774\uD130 \uAD6C\uC870, \uD604\uC7AC \uAD6C\uC870 \uC720\uC9C0"),this.debugLogger.warn("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u26A0\uFE0F VectorGraphicsModal - DOM \uC870\uC791 \uD544\uC694, \uD604\uC7AC \uAD6C\uC870 \uC720\uC9C0"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u{1F4CA} \uB9AC\uD329\uD1A0\uB9C1 \uACB0\uACFC"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 \uCEF4\uD3EC\uB10C\uD2B8 \uBD84\uB9AC: 6/9 (66.7%)"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 HTML \uCF54\uB4DC \uAC10\uC18C: -602 lines (-32.6%)"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 \uBAA8\uB2EC \uB9C8\uD06C\uC5C5 \uAC10\uC18C: -582 lines (-93%)"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 \uC911\uBCF5 \uCF54\uB4DC \uC81C\uAC70: -186 lines (-100%)"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 \uCEF4\uD30C\uC77C \uACBD\uACE0: 0\uAC1C"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","\u{1F4A1} \uCC38\uACE0: TypeScript \uD30C\uC77C(9,603 lines)\uC740 \uC758\uB3C4\uC801\uC73C\uB85C \uC720\uC9C0"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 \uBE44\uC988\uB2C8\uC2A4 \uB85C\uC9C1\uC740 \uBD80\uBAA8 \uCEF4\uD3EC\uB10C\uD2B8\uC5D0 \uC704\uCE58"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 UI \uB9C8\uD06C\uC5C5\uB9CC \uC790\uC2DD \uCEF4\uD3EC\uB10C\uD2B8\uB85C \uBD84\uB9AC"),this.debugLogger.info("\uBAA8\uB2EC\uB9AC\uD329\uD1A0\uB9C1","   \u2022 \uC131\uACF5 \uC9C0\uD45C: HTML \uAC10\uC18C + \uC7AC\uC0AC\uC6A9\uC131 + \uCF54\uB4DC \uD488\uC9C8")}initializeComponent(){this.initializePdfEditor(),this.migrateToIndexedDB(),this.initializeDarkMode(),console.log("DocsGenerator initialized")}suppressPdfJsWarnings(){let e=window["pdfjs-dist/build/pdf"]||window.pdfjsLib;if(e&&e.GlobalWorkerOptions){let t=e.VerbosityLevel||{ERRORS:0,WARNINGS:1,INFOS:5};e.GlobalWorkerOptions.verbosity=t.ERRORS,console.log("\u2705 PDF.js \uACBD\uACE0 \uC5B5\uC81C \uC124\uC815 \uC644\uB8CC (\uC5D0\uB7EC\uB9CC \uD45C\uC2DC)")}}migrateToIndexedDB(){return E(this,null,function*(){try{yield this.indexedDbService.migrateFromLocalStorage(),yield this.updateRecentDocsCache(),console.log("IndexedDB \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC644\uB8CC")}catch(e){console.error("IndexedDB \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC2E4\uD328:",e)}})}initializePdfEditor(){this.pageManager.initializeWithEmptyPage(this.pageWidth,this.pageHeight),this.documentType="new-document",this.docsTitle.trim()||(this.docsTitle="\uC0C8 \uBB38\uC11C")}addNewPage(){this.pageManager.addNewPage(),this.autoCloseRightPanel()}switchToPage(e){this.pageManager.switchToPage(e),this.selectedElement=null}onPageSelect(e){this.switchToPage(e),this.scrollToPage(e)}scrollToPage(e){setTimeout(()=>{let t=document.querySelector(`#page-${e}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},100)}trackByPage(e,t){return t.id}trackByElement(e,t){return t.id}selectElement(e,t){console.log("selectElement called with:",e,"pageNumber:",t),t?(this.switchToPage(t),this.elementStateManager.selectElement(e,t)):this.elementStateManager.selectElement(e,this.currentPage),console.log("selectedElement set to:",this.selectedElement)}generateDocument(){return E(this,null,function*(){this.isGenerating=!0,this.currentStep="generating";try{yield this.simulateDocumentGeneration(),this.currentStep="result"}catch(e){console.error("\uBB38\uC11C \uC0DD\uC131 \uC911 \uC624\uB958:",e),this.snackbar.showError("\uBB38\uC11C \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}finally{this.isGenerating=!1}})}toggleRightPanel(){this.isRightPanelCollapsed=!this.isRightPanelCollapsed,this.isRightPanelCollapsed?this.snackbar.showInfo("\uC6B0\uCE21 \uD328\uB110\uC774 \uCD95\uC18C\uB418\uC5C8\uC2B5\uB2C8\uB2E4"):this.snackbar.showInfo("\uC6B0\uCE21 \uD328\uB110\uC774 \uD655\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4")}toggleLeftPanel(){this.isLeftPanelCollapsed=!this.isLeftPanelCollapsed,this.isLeftPanelCollapsed?this.snackbar.showInfo("\uC88C\uCE21 \uD328\uB110\uC774 \uCD95\uC18C\uB418\uC5C8\uC2B5\uB2C8\uB2E4"):this.snackbar.showInfo("\uC88C\uCE21 \uD328\uB110\uC774 \uD655\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4")}onPdfAnalysisToggle(e){this.enablePdfAnalysis=e,e?(this.snackbar.showSuccess("PDF \uBD84\uC11D \uC790\uB3D9 \uC2E4\uD589\uC774 \uD65C\uC131\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4"),console.log("\u2705 PDF \uBD84\uC11D \uD1A0\uAE00 \uD65C\uC131\uD654\uB428")):(this.snackbar.showInfo("PDF \uBD84\uC11D \uC790\uB3D9 \uC2E4\uD589\uC774 \uBE44\uD65C\uC131\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4"),console.log("\u23F8\uFE0F PDF \uBD84\uC11D \uD1A0\uAE00 \uBE44\uD65C\uC131\uD654\uB428"))}closeRightPanel(){this.isRightPanelCollapsed=!0}closeLeftPanel(){this.isLeftPanelCollapsed=!0}expandLeftPanel(){this.isLeftPanelCollapsed=!1}expandRightPanel(){this.isRightPanelCollapsed=!1}autoCloseRightPanel(){setTimeout(()=>{this.isRightPanelCollapsed=!0,console.log("\u{1F504} \uC6B0\uCE21 \uD328\uB110 \uC790\uB3D9 \uB2EB\uD798")},300)}simulateDocumentGeneration(){return E(this,null,function*(){return new Promise(e=>{setTimeout(()=>{this.generatedDocs="\uBB38\uC11C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",this.wordCount=this.generatedDocs.length,e()},3e3)})})}onMenuChange(e){console.log("\uBA54\uB274 \uBCC0\uACBD:",e)}onToolbarAction(e){switch(console.log("\uD234\uBC14 \uC561\uC158:",e),e){case"save":case"save-document":this.saveDocument();break;case"export":case"export-document":console.log("\uB0B4\uBCF4\uB0B4\uAE30 \uC804 \uB370\uC774\uD130 \uC0C1\uD0DC \uD655\uC778:"),console.log("\uC804\uCCB4 \uD398\uC774\uC9C0:",this.pdfPages),console.log("\uCD1D \uC694\uC18C \uAC1C\uC218:",this.totalElementCount),this.exportToPdf();break;case"new-document":this.createNewDocument();break;case"open-document":this.openDocument();break;default:console.log("\uCC98\uB9AC\uB418\uC9C0 \uC54A\uC740 \uC561\uC158:",e)}}onSearch(e){console.log("\uAC80\uC0C9:",e)}onLeftMenuAction(e){console.log("\uC88C\uCE21 \uBA54\uB274 \uC561\uC158:",e);let t=!1;if(e.menuId)this.handleMenuAction(e.menuId),t=!0;else switch(e.type){case"recent":e.data&&e.data.data&&(this.loadDocumentFromData(e.data),t=!0);break;case"edit-pdf":console.log("\u270F\uFE0F PDF \uD3B8\uC9D1 \uC561\uC158:",e.subAction),this.handlePdfEditAction(e.subAction),t=!0;break;case"templates":console.log("\uD15C\uD50C\uB9BF \uC120\uD0DD:",e.data),t=!0;break;case"formats":this.handleExportFormat(e.subAction),t=!0;break;case"settings":console.log("\uC124\uC815 \uBCC0\uACBD:",e.data);break}t&&setTimeout(()=>{this.isLeftPanelCollapsed=!0,console.log("\u{1F504} \uC88C\uCE21 \uD328\uB110 \uC790\uB3D9 \uB2EB\uD798")},300)}handleMenuAction(e){switch(console.log("\u{1F3AF} \uBA54\uB274 \uC561\uC158:",e),e){case"new-document":this.createNewDocument();break;case"open-file":this.openFile();break;case"recent-docs":this.showRecentDocuments();break;case"save-document":this.saveCurrentDocument();break;case"view-pdf-structure":case"analyze-structure":case"edit-text-direct":case"view-stream-data":case"modify-objects":this.handlePdfEditAction(e);break;case"vector-graphics-view":this.openVectorGraphicsViewer();break;case"add-text":this.addText();break;case"add-image":this.addImage();break;case"add-shape":this.addShape();break;case"add-signature":this.addSignature();break;case"add-vector-path":this.snackbar.showInfo("\uBCA1\uD130 \uD328\uC2A4 \uADF8\uB9AC\uAE30 \uBAA8\uB4DC");break;case"add-page":this.SINGLE_PAGE_MODE?this.snackbar.showWarning("\uD604\uC7AC \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uD3B8\uC9D1 \uAC00\uB2A5\uD569\uB2C8\uB2E4. \uD398\uC774\uC9C0 \uCD94\uAC00 \uAE30\uB2A5\uC740 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."):this.snackbar.showInfo("\uD398\uC774\uC9C0 \uCD94\uAC00 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"delete-page":this.SINGLE_PAGE_MODE?this.snackbar.showWarning("\uD604\uC7AC \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uD3B8\uC9D1 \uAC00\uB2A5\uD569\uB2C8\uB2E4. \uD398\uC774\uC9C0 \uC0AD\uC81C \uAE30\uB2A5\uC740 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."):this.snackbar.showInfo("\uD398\uC774\uC9C0 \uC0AD\uC81C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"rotate-page":this.snackbar.showInfo("\uD398\uC774\uC9C0 \uD68C\uC804 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"reorder-pages":this.snackbar.showInfo("\uD398\uC774\uC9C0 \uC7AC\uC815\uB82C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"export-pdf":this.handleExportFormat("pdf");break;case"export-docx":this.handleExportFormat("docx");break;case"export-txt":this.handleExportFormat("txt");break;case"export-image":this.handleExportFormat("image");break;case"merge-pdf":this.snackbar.showInfo("PDF \uBCD1\uD569 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"split-pdf":this.snackbar.showInfo("PDF \uBD84\uD560 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"compress-pdf":this.compressPdf();break;case"watermark":this.snackbar.showInfo("\uC6CC\uD130\uB9C8\uD06C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"password":this.snackbar.showInfo("\uBE44\uBC00\uBC88\uD638 \uC124\uC815 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;default:console.warn("\uCC98\uB9AC\uB418\uC9C0 \uC54A\uC740 \uBA54\uB274 \uC561\uC158:",e)}}openFile(){let e=document.createElement("input");e.type="file",e.accept=".pdf",e.onchange=t=>E(this,null,function*(){let n=t.target.files[0];if(n){console.log("\u{1F4C4} PDF \uD30C\uC77C \uC120\uD0DD\uB428:",n.name),yield this.clearPdfCache();let o=new FileReader;o.onload=i=>E(this,null,function*(){this.pdfSrc=i.target.result,this.enablePdfAnalysis?(console.log("\u2705 PDF \uBD84\uC11D \uD1A0\uAE00 \uD65C\uC131\uD654\uB428 - \uC790\uB3D9 \uBD84\uC11D \uC2DC\uC791"),yield this.performCompletePdfAnalysis()):(console.log("\u23F8\uFE0F PDF \uBD84\uC11D \uD1A0\uAE00 \uBE44\uD65C\uC131\uD654\uB428 - \uBD84\uC11D \uAC74\uB108\uB700"),this.snackbar.showInfo('PDF\uB97C \uBD88\uB7EC\uC654\uC2B5\uB2C8\uB2E4. \uBD84\uC11D\uD558\uB824\uBA74 \uC0C1\uB2E8\uC758 "\uBD84\uC11D\uD558\uAE30" \uD1A0\uAE00\uC744 \uD65C\uC131\uD654\uD558\uC138\uC694.'))}),o.readAsDataURL(n)}}),e.click()}clearPdfCache(){return E(this,null,function*(){console.log("\u{1F9F9} \uC774\uC804 PDF \uCE90\uC2DC \uB370\uC774\uD130 \uCD08\uAE30\uD654 \uC911..."),this.textStreamRawData=null,this.pdfStructureData=null,this.loadedVectorData=null,this.pdfAnalysisData=null,this.vectorMinimaps={},this.vectorDebugInfo={},this.showPdfStructureModal=!1,this.showAnalysisDashboard=!1,this.showJsonViewer=!1;try{yield this.pdfCacheService.clearAllPdfAnalysis(),this.debugLogger.success("PDF\uCD08\uAE30\uD654","\u2705 PDF \uCE90\uC2DC \uB370\uC774\uD130 \uC0AD\uC81C \uC644\uB8CC")}catch(e){this.debugLogger.error("PDF\uCD08\uAE30\uD654",`\u274C PDF \uCE90\uC2DC \uB370\uC774\uD130 \uC0AD\uC81C \uC2E4\uD328: ${e}`)}this.cdr.detectChanges(),console.log("\u2705 PDF \uCE90\uC2DC \uC644\uC804 \uCD08\uAE30\uD654 \uC644\uB8CC")})}savePdfAnalysisToCache(e,t,n){return E(this,null,function*(){try{let o=`pdf_${e}_${t}`;this.debugLogger.info("PDF\uCE90\uC2DC",`\u{1F4BE} PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC2DC\uC791: ${o} (\uD14D\uC2A4\uD2B8: ${!!this.textStreamRawData}, \uBCA1\uD130: ${!!this.loadedVectorData})`),yield this.pdfCacheService.savePdfAnalysis({id:o,textStreamData:this.textStreamRawData,vectorData:this.loadedVectorData,structureData:this.pdfStructureData,analysisData:this.pdfAnalysisData,timestamp:Date.now(),fileSize:t,fileName:e}),this.debugLogger.success("PDF\uCE90\uC2DC",`\u2705 PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC644\uB8CC (\uD398\uC774\uC9C0: ${this.textStreamRawData?.pageCount||0}, \uBCA1\uD130 \uD398\uC774\uC9C0: ${this.loadedVectorData?.pageDetails?.length||0})`)}catch(o){this.debugLogger.error("PDF\uCE90\uC2DC",`\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC2E4\uD328: ${o}`)}})}loadPdfAnalysisFromCache(e,t){return E(this,null,function*(){try{let n=`pdf_${e}_${t}`,o=yield this.pdfCacheService.loadPdfAnalysis(n);return o?(this.textStreamRawData=o.textStreamData,this.loadedVectorData=o.vectorData,this.pdfStructureData=o.structureData,this.pdfAnalysisData=o.analysisData,this.showAnalysisDashboard=!!o.analysisData,this.debugLogger.success("PDF\uCE90\uC2DC","\u{1F4C2} PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC"),!0):!1}catch(n){return this.debugLogger.error("PDF\uCE90\uC2DC",`\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328: ${n}`),!1}})}performCompletePdfAnalysis(){return E(this,null,function*(){if(!this.pdfSrc){console.warn("\u26A0\uFE0F PDF \uC18C\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{yield this.analyzePdfStructure(),console.log("\u2705 \uD1B5\uD569 PDF \uBD84\uC11D \uC644\uB8CC")}catch(e){console.error("\u274C PDF \uBD84\uC11D \uC624\uB958:",e),this.snackbar.showError("PDF \uBD84\uC11D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4")}})}showRecentDocuments(){this.snackbar.showInfo("\uCD5C\uADFC \uBB38\uC11C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4")}saveCurrentDocument(){this.docStorage.saveCurrentDocument(this.pdfSrc,this.snackbar)}resetDocument(){this.pdfSrc="",this.pageManager.reset()}handlePdfEditAction(e){if(console.log("\u270F\uFE0F PDF \uD3B8\uC9D1 \uC561\uC158:",e),!this.pdfSrc){this.snackbar.showWarning("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694");return}switch(e){case"edit-text-direct":this.createSentenceOverlays(),this.snackbar.showSuccess("\uD14D\uC2A4\uD2B8 \uC9C1\uC811 \uD3B8\uC9D1 \uBAA8\uB4DC \uD65C\uC131\uD654");break;case"view-pdf-structure":case"analyze-structure":default:console.log("\u{1F3D7}\uFE0F PDF \uAD6C\uC870 \uBCF4\uAE30 \uC2DC\uC791..."),this.textStreamRawData&&this.pdfStructureData?(console.log("\u2705 [\uC989\uC2DC] \uBA54\uBAA8\uB9AC\uC758 \uBD84\uC11D \uB370\uC774\uD130\uB85C \uBAA8\uB2EC \uC5F4\uAE30"),this.showPdfStructureModal=!0):this.loadAndShowPdfStructure()}}loadAndShowPdfStructure(){return E(this,null,function*(){try{let e=this.docsTitle||"document";(yield this.loadPdfAnalysisFromCache(e,0))&&this.textStreamRawData&&this.pdfStructureData?(this.showPdfStructureModal=!0,this.snackbar.showSuccess("PDF \uAD6C\uC870 \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC")):(console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showError("PDF\uB97C \uBA3C\uC800 \uC5C5\uB85C\uB4DC\uD574\uC8FC\uC138\uC694"))}catch(e){console.error("\u274C PDF \uAD6C\uC870 \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:",e),this.snackbar.showError("PDF \uAD6C\uC870 \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4")}})}analyzePdfStructure(){return E(this,null,function*(){try{if(console.log("\u{1F50D} PDF \uAD6C\uC870 \uBD84\uC11D \uC2DC\uC791..."),(this.textStreamRawData||this.pdfStructureData)&&(console.log("\u{1F9F9} \uAE30\uC874 \uBD84\uC11D \uB370\uC774\uD130 \uAC10\uC9C0 - \uC644\uC804 \uCD08\uAE30\uD654 \uD6C4 \uC0C8\uB85C \uBD84\uC11D \uC2DC\uC791"),yield this.clearPdfCache()),console.log("\u{1F195} \uC0C8 \uBB38\uC11C \uBD84\uC11D \uC2DC\uC791..."),!this.pdfSrc){console.warn("\u26A0\uFE0F PDF \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),this.pdfStructureData=this.getExamplePdfStructure();return}let e=yield this.pdfAnalysis.analyzePdfStructure(this.pdfSrc,this.docsTitle,this.pdfTextStreamService,this.extractPdfImages.bind(this),this.addDebugLog.bind(this),this.snackbar,this.SINGLE_PAGE_MODE,this.enableDebugLogs);this.textStreamRawData=e.textStreamData,this.loadedVectorData=e.vectorData,this.pdfStructureData=e.structureData,console.log("\u{1F4BE} \uBD84\uC11D \uC644\uB8CC - IndexedDB \uC800\uC7A5 \uC2DC\uC791..."),yield this.savePdfAnalysisToCache(this.docsTitle||"document",e.textStreamData?.metadata?.fileSize||0,e.textStreamData),this.updateAnalysisDashboard(e.textStreamData,0,e.imageData),this.showAnalysisDashboard=!0,this.showJsonViewer=!0,this.vectorDebugInfo={},this.cdr.detectChanges()}catch(e){console.error("\u274C PDF \uAD6C\uC870 \uBD84\uC11D \uC624\uB958:",e),this.pdfStructureData=this.getExamplePdfStructure()}})}convertTextStreamToStructure(e,t){return this.pdfAnalysis.convertTextStreamToStructure(e,t,this.SINGLE_PAGE_MODE)}parsePdfBinary(e,t){return E(this,null,function*(){return yield this.pdfStructureParser.parsePdfBinary(e,t)})}getExamplePdfStructure(){return this.pdfStructureParser.getExamplePdfStructure(this.totalPages)}exportPdfStructure(){if(!this.pdfStructureData){this.snackbar.showError("\uB0B4\uBCF4\uB0BC \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let e=JSON.stringify(this.pdfStructureData,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=`pdf-structure-${new Date().getTime()}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n),this.snackbar.showSuccess("PDF \uAD6C\uC870\uAC00 JSON \uD30C\uC77C\uB85C \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\uAD6C\uC870 \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",e),this.snackbar.showError("\uAD6C\uC870 \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}createNewFromStructure(){if(!this.pdfStructureData){this.snackbar.showError("\uC0C8\uB85C \uB9CC\uB4E4 \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{this.addDebugLog("CREATE_DOCUMENT","\uC0C8 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791",{hasPdfStructure:!!this.pdfStructureData,hasVectorData:!!this.loadedVectorData,vectorOperations:this.loadedVectorData?.totalOperations||0}),this.closePdfStructureModal(),this.initializeNewDocument(),this.createPagesFromStructure(),this.addDebugLog("CREATE_DOCUMENT","\uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC",{pageCount:this.pdfPages.length,pages:this.pdfPages.map(e=>({pageNumber:e.pageNumber,elementCount:e.elements.length,elementTypes:[...new Set(e.elements.map(t=>t.type))]}))}),this.addDebugLog("VECTOR_INTEGRATION","\uD14D\uC2A4\uD2B8\uB9CC \uC0DD\uC131 (\uBCA1\uD130 \uADF8\uB798\uD53D \uC81C\uC678)"),this.snackbar.showSuccess("PDF \uAD6C\uC870\uB97C \uBC14\uD0D5\uC73C\uB85C \uD14D\uC2A4\uD2B8\uB9CC \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),this.addDebugLog("CREATE_DOCUMENT","\uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC",{totalPages:this.pdfPages.length,totalElements:this.pdfPages.reduce((e,t)=>e+t.elements.length,0),vectorElements:this.pdfPages.reduce((e,t)=>e+t.elements.filter(n=>n.type==="vector-path").length,0)})}catch(e){this.addDebugLog("CREATE_DOCUMENT","\uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328",{error:e}),this.snackbar.showError("\uAD6C\uC870\uB97C \uBC14\uD0D5\uC73C\uB85C \uD55C \uC0C8 \uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}initializeNewDocument(){console.log("\u{1F4C4} \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC911...");let e=this.pageBuilder.initializeNewDocument(this.pdfPages,()=>{this.currentPage=1,this.totalPages=0,this.selectedElement=null,this.renderedVectorGraphics=[],this.showVectorGraphicsPreview=!1,this.vectorMinimaps={},this.showTextEditor=!1,this.showImageEditor=!1,this.showShapeEditor=!1,this.showSignatureEditor=!1,this.showWatermarkEditor=!1,this.pdfSrc=null});this.pdfPages=e,console.log("\u2705 \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC")}createPagesFromStructure(){if(!this.pdfStructureData?.pageTree?.kids){console.warn("\uD398\uC774\uC9C0 \uD2B8\uB9AC \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F4D1} \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB97C \uBC14\uD0D5\uC73C\uB85C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC911...");let e=this.pageBuilder.createPagesFromStructure(this.textStreamRawData,this.pdfStructureData,this.pdfPages);this.pdfPages=e,this.totalPages=this.pdfPages.length,this.currentPage=1}createPagesFromTextStream(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C \uD398\uC774\uC9C0 \uC0DD\uC131:",this.textStreamRawData);let e=this.pageBuilder.createPagesFromTextStream(this.textStreamRawData,this.pdfPages,t=>console.log(t));this.pdfPages=e,this.totalPages=this.pdfPages.length,this.currentPage=1,console.log(`\u{1F389} \uCD1D ${this.totalPages}\uAC1C \uD398\uC774\uC9C0\uAC00 \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.snackbar.showSuccess(`\uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C ${this.totalPages}\uAC1C \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}integrateVectorGraphicsIntoPages(){return E(this,null,function*(){yield this.vectorElementConverter.integrateVectorGraphicsIntoPages(this.pdfPages,this.loadedVectorData,this.addDebugLog.bind(this))})}convertVectorOperationsToElements(e,t){return this.vectorElementConverter.convertVectorOperationsToElements(e,t,this.addDebugLog.bind(this))}createCirclePath(e,t,n){return`M ${e},${t-n} A ${n},${n} 0 1,0 ${e},${t+n} A ${n},${n} 0 1,0 ${e},${t-n} Z`}createRectanglePath(e,t,n,o){return`M ${e} ${t} L ${e+n} ${t} L ${e+n} ${t+o} L ${e} ${t+o} Z`}createVectorElementFromPath(e,t,n,o,i){if(!t||t.trim()===""||n.length===0)return;let c=this.calculateBoundingBoxFromPoints(n),d=5,g=Math.max(c.width,d),m=Math.max(c.height,d),u={id:`vector-path-${o}-${i}`,type:"vector-path",x:c.x,y:c.y,width:g,height:m,pathData:t,strokeColor:this.vectorRenderOptions.strokeColor||"#2c3e50",strokeWidth:this.vectorRenderOptions.strokeWidth||2,fill:this.vectorRenderOptions.fillColor||"none",fillOpacity:1,strokeOpacity:1,properties:{originalType:"path",pointCount:n.length,pageNumber:o}};console.log(`\u270F\uFE0F \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131: ${u.id}`,{position:`(${u.x}, ${u.y})`,size:`${u.width}x${u.height}`,pointCount:n.length,pathPreview:t.substring(0,50)}),e.push(u)}calculateBoundingBoxFromPoints(e){return this.coordTransform.calculateBoundingBoxFromPoints(e)}extractCoordinatesFromPath(e){return this.coordTransform.extractCoordinatesFromPath(e)}calculateBoundingBox(e){return this.coordTransform.calculateBoundingBox(e)}addVectorGraphicsToPage(e,t,n){if(!this.textStreamRawData?.metadata?.hasVectorGraphics)return;console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${n+1}\uC5D0 \uBCA1\uD130 \uADF8\uB798\uD53D \uC694\uC18C \uCD94\uAC00 \uC911...`);let o=this.textStreamRawData.metadata.vectorGraphicsDetails;if(!o?.pageDetails)return;let i=o.pageDetails.find(c=>c.pageNumber===n+1);!i||!i.operations||(console.log(`\u{1F4CA} \uD398\uC774\uC9C0 ${n+1} \uBCA1\uD130 \uD1B5\uACC4:`,i.statistics),console.log(`\u{1F50D} \uD398\uC774\uC9C0 ${n+1} \uBCA1\uD130 \uC5F0\uC0B0 ${i.operations.length}\uAC1C \uBD84\uC11D \uC911...`))}createElementsFromVectorOperations(e,t,n){if(!t||t.length===0)return;console.log(`\u{1F527} ${t.length}\uAC1C \uBCA1\uD130 \uC5F0\uC0B0\uC744 PDF \uC694\uC18C\uB85C \uBCC0\uD658 \uC911...`);let o=this.groupVectorOperations(t),i=0;o.forEach((c,d)=>{let g=this.createElementFromOperationGroup(c,e,n,d);g&&(e.elements.push(g),i++)}),console.log(`\u2705 \uD398\uC774\uC9C0 ${n+1}\uC5D0 ${i}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`)}groupVectorOperations(e){let t=[],n=[];return e.forEach(o=>{o.type==="moveTo"&&n.length>0?(t.push([...n]),n=[o]):o.type==="rectangle"?(n.length>0&&(t.push([...n]),n=[]),t.push([o])):n.push(o)}),n.length>0&&t.push(n),t}createElementFromOperationGroup(e,t,n,o){if(!e||e.length===0)return null;let i=e[0];return i.type==="rectangle"&&i.args&&i.args.length>=4?this.createRectangleFromArgs(i.args,t,n,o):i.type==="moveTo"?this.createPathElementFromGroup(e,t,n,o):this.createVectorIndicator(e,t,n,o)}createRectangleFromArgs(e,t,n,o){let i=e[0]||0,c=e[1]||0,d=Math.abs(e[2]||50),g=Math.abs(e[3]||50),m=t.height-c-g,u={id:`vector-rect-${Date.now()}-${n}-${o}`,type:"shape",x:Math.max(0,i),y:Math.max(0,m),width:Math.min(d,t.width-i),height:Math.min(g,t.height-m),shapeType:"rectangle",fillColor:"rgba(100, 149, 237, 0.3)",strokeColor:"#4169E1",strokeWidth:2};return console.log(`\u{1F4D0} \uC0AC\uAC01\uD615 \uC694\uC18C \uC0DD\uC131: (${Math.round(i)}, ${Math.round(m)}) ${Math.round(d)}x${Math.round(g)}`),u}createPathElementFromGroup(e,t,n,o){let i="",c=1/0,d=1/0,g=-1/0,m=-1/0;e.forEach(P=>{if(P.args&&P.args.length>=2){let y=P.args[0],D=P.args[1];switch(c=Math.min(c,y),d=Math.min(d,D),g=Math.max(g,y),m=Math.max(m,D),P.type){case"moveTo":i+=`M ${y} ${D} `;break;case"lineTo":i+=`L ${y} ${D} `;break;case"curveTo":P.args.length>=6&&(i+=`C ${P.args[0]} ${P.args[1]} ${P.args[2]} ${P.args[3]} ${P.args[4]} ${P.args[5]} `);break}}}),c===1/0&&(c=50,g=150,d=50,m=150);let u=Math.max(20,g-c),h=Math.max(20,m-d),C=t.height-m,_={id:`vector-path-${Date.now()}-${n}-${o}`,type:"vector-path",x:Math.max(0,c),y:Math.max(0,C),width:Math.min(u,t.width-c),height:Math.min(h,t.height-C),pathData:i.trim()||"M 10 10 L 40 40",strokeColor:"#FF6B6B",strokeWidth:2,fill:"none",fillOpacity:1,strokeOpacity:1};return console.log(`\u{1F3A8} \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uC0DD\uC131: (${Math.round(c)}, ${Math.round(C)}) ${Math.round(u)}x${Math.round(h)}`),_}createVectorIndicator(e,t,n,o){let i=50,c=50;for(let m of e)if(m.args&&m.args.length>=2){i=m.args[0]||i,c=m.args[1]||c;break}let d=t.height-c-30,g={id:`vector-indicator-${Date.now()}-${n}-${o}`,type:"text",x:Math.max(0,i),y:Math.max(0,d),width:120,height:25,text:"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D",fontSize:10,fontFamily:"Arial",color:"#FF6B6B"};return console.log(`\u{1F3F7}\uFE0F \uBCA1\uD130 \uD45C\uC2DC\uC790 \uC0DD\uC131: (${Math.round(i)}, ${Math.round(d)})`),g}addDefaultVectorGraphics(e,t){let n={id:`vector-${Date.now()}-${t}`,type:"shape",x:50,y:e.height-200,width:100,height:100,shapeType:"rectangle",fillColor:"rgba(200, 200, 200, 0.3)",strokeColor:"#666666",strokeWidth:2};e.elements.push(n),console.log(`\u{1F4E6} \uAE30\uBCF8 \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${t+1})`)}addVectorPathElements(e,t,n){let o=Math.min(t.statistics.pathCount,5);for(let i=0;i<o;i++){let c={id:`vector-path-${Date.now()}-${n}-${i}`,type:"vector-path",x:100+i*120,y:e.height-150,width:80,height:80,pathData:this.generateSamplePathData(i),strokeColor:this.getVectorColor(i),strokeWidth:2,fill:"none",fillOpacity:1,strokeOpacity:1};e.elements.push(c)}console.log(`\u{1F3A8} ${o}\uAC1C \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${n+1})`)}addRectangleElements(e,t,n){let o=Math.min(t.statistics.rectangleCount,3);for(let i=0;i<o;i++){let c={id:`vector-rect-${Date.now()}-${n}-${i}`,type:"shape",x:50+i*80,y:e.height-300,width:60,height:40,shapeType:"rectangle",fillColor:`rgba(${100+i*50}, ${150+i*30}, 200, 0.3)`,strokeColor:this.getVectorColor(i),strokeWidth:1};e.elements.push(c)}console.log(`\u{1F4D0} ${o}\uAC1C \uC0AC\uAC01\uD615 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${n+1})`)}addLineElements(e,t,n){let o=Math.min(t.statistics.lineCount,4);for(let i=0;i<o;i++){let c={id:`vector-line-${Date.now()}-${n}-${i}`,type:"shape",x:200+i*60,y:e.height-250,width:50,height:2,shapeType:"line",strokeColor:this.getVectorColor(i),strokeWidth:2};e.elements.push(c)}console.log(`\u{1F4CF} ${o}\uAC1C \uC120 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${n+1})`)}generateSamplePathData(e){let t=["M 20 20 Q 40 5 60 20 Q 80 35 100 20","M 10 40 L 50 10 L 90 40 L 70 70 L 30 70 Z","M 20 60 C 20 30 80 30 80 60 C 80 90 20 90 20 60","M 10 10 L 90 10 L 90 90 L 10 90 Z","M 50 10 Q 90 50 50 90 Q 10 50 50 10"];return t[e%t.length]}getVectorColor(e){let t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"];return t[e%t.length]}createPagesFromBasicStructure(){console.log("\u{1F4CB} \uAE30\uBCF8 \uAD6C\uC870 \uB370\uC774\uD130\uB85C \uD398\uC774\uC9C0 \uC0DD\uC131");let e=this.pageBuilder.createPagesFromBasicStructure(this.pdfStructureData,this.pdfPages,t=>console.log(t));this.pdfPages=e,this.totalPages=this.pdfPages.length,this.currentPage=1,console.log(`\u2705 ${this.totalPages}\uAC1C\uC758 \uAE30\uBCF8 \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.snackbar.showInfo(`\uAE30\uBCF8 \uAD6C\uC870\uB85C ${this.totalPages}\uAC1C \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}openPdfStructureModal(){let e=performance.now();if(console.log("\u{1F680} [\uCE21\uC815] openPdfStructureModal \uC2DC\uC791"),this.textStreamRawData&&this.pdfStructureData){this.showPdfStructureModal=!0;let t=performance.now();return}console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. PDF\uB97C \uBA3C\uC800 \uC5C5\uB85C\uB4DC\uD574\uC8FC\uC138\uC694."),this.snackbar.showError("PDF\uB97C \uBA3C\uC800 \uC5C5\uB85C\uB4DC\uD574\uC8FC\uC138\uC694")}closePdfStructureModal(){this.showPdfStructureModal=!1}closePdfAnalysisDashboard(){this.showAnalysisDashboard=!1,this.pdfAnalysisData=null}createPdfFromVectorSvg(e){return E(this,null,function*(){try{console.log("\u{1F525} createPdfFromVectorSvg \uD568\uC218 \uC2DC\uC791!"),console.log("\u{1F50D} showDebugModal\uC744 true\uB85C \uC124\uC815 \uC804:",this.showDebugModal),this.showDebugModal=!0,console.log("\u{1F50D} showDebugModal\uC744 true\uB85C \uC124\uC815 \uD6C4:",this.showDebugModal),this.cdr.detectChanges(),console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D SVG\uB85C \uC0C8 PDF \uC0DD\uC131 \uC2DC\uC791...",e),this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC744 \uC0C8 PDF\uB85C \uC0DD\uC131 \uC911...");let{vectorData:t,analysisData:n,selectedPage:o}=e;this.initializeNewDocument(),yield this.createPagesFromOriginalPdfSvg(t,n),this.cdr.detectChanges(),this.snackbar.showSuccess("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D SVG\uB85C \uC0C8 PDF\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),console.log("\u2705 SVG PDF \uC0DD\uC131 \uC644\uB8CC:",{totalPages:this.pdfPages.length,svgElements:this.pdfPages.reduce((i,c)=>i+c.elements.filter(d=>d.type==="svg").length,0)})}catch(t){console.error("\u274C \uBCA1\uD130 SVG PDF \uC0DD\uC131 \uC2E4\uD328:",t),this.snackbar.showError("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D SVG PDF \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),this.cdr.detectChanges()}})}loadImagePdfToEditor(e){return E(this,null,function*(){try{console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF\uB97C \uD3B8\uC9D1\uAE30\uC5D0 \uB85C\uB4DC \uC2DC\uC791...",e),this.snackbar.showInfo("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF\uB97C \uD3B8\uC9D1\uAE30\uC5D0 \uB85C\uB4DC \uC911..."),this.initializeNewDocument();let t=yield e.arrayBuffer(),n=window["pdfjs-dist/build/pdf"];if(!n)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");n.VerbosityLevel&&(n.GlobalWorkerOptions.verbosity=0);let i=yield n.getDocument({data:t}).promise;console.log(`\u{1F4C4} PDF \uB85C\uB4DC \uC644\uB8CC: ${i.numPages} \uD398\uC774\uC9C0`);for(let c=1;c<=i.numPages;c++){let d=yield i.getPage(c),g=d.getViewport({scale:1});console.log(`\u{1F50D} \uD398\uC774\uC9C0 ${c} \uB85C\uB4DC (${g.width.toFixed(0)}x${g.height.toFixed(0)}pt)`);let m=yield d.getOperatorList(),u=[];for(let P=0;P<m.fnArray.length;P++){let y=m.fnArray[P];if(y===85||y===86){let D=null,w=[];for(let v=P-1;v>=0&&v>=P-20;v--){let k=m.fnArray[v],S=m.argsArray[v];if((k===12||k===74||k===75)&&w.unshift({fn:k,args:S}),k===11)break}if(w.length>0){let v=(S,I)=>[S[0]*I[0]+S[2]*I[1],S[1]*I[0]+S[3]*I[1],S[0]*I[2]+S[2]*I[3],S[1]*I[2]+S[3]*I[3],S[0]*I[4]+S[2]*I[5]+S[4],S[1]*I[4]+S[3]*I[5]+S[5]],k=w[0].args;for(let S=1;S<w.length;S++)k=v(k,w[S].args);D=k}u.push({name:m.argsArray[P][0],transform:D,index:P})}}console.log(`  \u{1F4E6} ${u.length}\uAC1C \uC774\uBBF8\uC9C0 \uBC1C\uACAC`);let h=document.createElement("canvas");h.width=g.width,h.height=g.height;let C=h.getContext("2d");if(!C)continue;yield d.render({canvasContext:C,viewport:g}).promise;let _={id:`page-${c}-${Date.now()}`,pageNumber:c,width:g.width/2,height:g.height/2,elements:[]};if(u.length>0)for(let P of u){if(!P.transform)continue;let[y,,,D,w,v]=P.transform.map(Math.abs),k=g.height/2,S=k-v-D,I=(k-v-D)*2,A=document.createElement("canvas");A.width=y*2,A.height=D*2;let N=A.getContext("2d");N&&(N.drawImage(h,w*2,I,y*2,D*2,0,0,y*2,D*2),_.elements.push({id:`image-${c}-${P.index}-${Date.now()}`,type:"image",x:w,y:S,width:y,height:D,src:A.toDataURL("image/png"),coordinateSystem:"svg"}))}else _.elements.push({id:`image-${c}-${Date.now()}`,type:"image",x:0,y:0,width:g.width/2,height:g.height/2,src:h.toDataURL("image/png"),coordinateSystem:"svg"});this.pdfPages.push(_)}this.currentPageIndex=0,this.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC644\uB8CC! (${i.numPages} \uD398\uC774\uC9C0)`),console.log(`\u2705 \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC644\uB8CC: ${this.pdfPages.length} \uD398\uC774\uC9C0, ${this.pdfPages.reduce((c,d)=>c+d.elements.length,0)} \uC774\uBBF8\uC9C0`)}catch(t){console.error("\u274C \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("\u274C \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}createCombinedDocument(){return E(this,null,function*(){try{this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0)"),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\uC2DC\uC791 \uC2DC\uAC04: ${new Date().toLocaleString()}`),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F4CB} [1\uB2E8\uACC4] \uB370\uC774\uD130 \uC0C1\uD0DC - \uBCA1\uD130: ${!!this.loadedVectorData}, \uD14D\uC2A4\uD2B8: ${!!this.textStreamRawData}, \uBD84\uC11D: ${!!this.pdfAnalysisData}`),this.loadedVectorData&&this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\uBCA1\uD130 \uD398\uC774\uC9C0 \uC218: ${this.loadedVectorData.pageDetails?.length||0}`),this.textStreamRawData&&this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\uD14D\uC2A4\uD2B8 \uD398\uC774\uC9C0 \uC218: ${this.textStreamRawData.pageCount||0}, \uCD1D \uD14D\uC2A4\uD2B8 \uD56D\uBAA9: ${this.textStreamRawData.metadata?.totalTextItems||0}`),this.pdfAnalysisData?.imageInfo&&this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\uC774\uBBF8\uC9C0 \uC218: ${this.pdfAnalysisData.imageInfo.totalImages||0}, images \uBC30\uC5F4 \uAE38\uC774: ${this.pdfAnalysisData.imageInfo.images?.length||0}`),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F50D} \uBCA1\uD130 \uC870\uAC74 \uCCB4\uD06C - loadedVectorData: ${!!this.loadedVectorData}, hasVectorGraphics: ${this.pdfAnalysisData?.hasVectorGraphics}`);let e=this.loadedVectorData&&this.pdfAnalysisData?.hasVectorGraphics,t=this.textStreamRawData&&this.pdfAnalysisData&&this.pdfAnalysisData.totalTextItems>0,n=this.pdfAnalysisData?.imageInfo&&(this.pdfAnalysisData.hasImages||this.pdfAnalysisData.imageInfo.images&&this.pdfAnalysisData.imageInfo.images.length>0);if(this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u2705 [\uD655\uC778] \uBCA1\uD130: ${e?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}, \uD14D\uC2A4\uD2B8: ${t?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}, \uC774\uBBF8\uC9C0: ${n?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}`),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\uC774\uBBF8\uC9C0 \uC0C1\uC138 - hasImages: ${this.pdfAnalysisData?.hasImages}, imageInfo: ${!!this.pdfAnalysisData?.imageInfo}, images \uBC30\uC5F4: ${this.pdfAnalysisData?.imageInfo?.images?.length||0}\uAC1C`),!e&&!t&&!n){this.snackbar.showError("\u274C \uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.debugLogger.error("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u274C \uC5D0\uB7EC: \uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0 \uBAA8\uB450 \uC5C6\uC74C");return}this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u{1F504} [2\uB2E8\uACC4] \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654"),this.initializeNewDocument(),this.debugLogger.success("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u2705 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC"),this.cdr.detectChanges();let o=0,i=0,c=0,d=new Map;if(n){if(this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (1/3: \uC774\uBBF8\uC9C0 \uCD94\uCD9C)"),this.cdr.detectChanges(),d=yield this.extractImagesFromPdf(),console.log("\u{1F50D} extractedImages \uACB0\uACFC:",d),console.log("\u{1F50D} extractedImages.size:",d.size),console.log("\u{1F50D} extractedImages \uB0B4\uC6A9:",Array.from(d.entries())),Array.from(d.values()).reduce((_,P)=>_+P.length,0)!==0)for(let[_,P]of d.entries())P.forEach((y,D)=>{});this.cdr.detectChanges()}else this.cdr.detectChanges();if(this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F50D} [4\uB2E8\uACC4 \uC2DC\uC791 \uC804] hasVector \uAC12: ${e}`),e){this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u2705 hasVector = true, \uBCA1\uD130 \uCC98\uB9AC \uBE14\uB85D \uC9C4\uC785!"),this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (2/3: \uBCA1\uD130 \uCC98\uB9AC)"),this.cdr.detectChanges(),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u{1F504} createPagesFromOriginalPdfSvg \uD638\uCD9C \uC9C1\uC804"),yield this.createPagesFromOriginalPdfSvg(this.loadedVectorData,this.pdfAnalysisData),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u2705 createPagesFromOriginalPdfSvg \uD638\uCD9C \uC644\uB8CC"),o=this.pdfPages.length;let C=this.pdfPages.reduce((_,P)=>_+P.elements.filter(y=>y.type==="svg").length,0);this.pdfPages.slice(0,3).forEach((_,P)=>{let y=_.elements.filter(D=>D.type==="svg").length}),this.pdfPages.length>3,this.cdr.detectChanges()}else this.debugLogger.warn("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u274C hasVector = false, \uBCA1\uD130 \uCC98\uB9AC \uBE14\uB85D \uAC74\uB108\uB700!");if(this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (3/3: \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774)"),this.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F50D} \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC870\uAC74: hasText=${t}, hasVector=${e}`),t&&e){this.cdr.detectChanges(),yield this.overlayTextOnPages();let C=this.pdfPages.reduce((_,P)=>_+P.elements.filter(y=>y.type==="text").length,0);this.pdfPages.slice(0,3).forEach((_,P)=>{let y=_.elements.filter(v=>v.type==="text").length,D=_.elements.filter(v=>v.type==="svg").length,w=[...new Set(_.elements.filter(v=>v.type==="text").map(v=>v.color))];y>0&&_.elements.filter(v=>v.type==="text").slice(0,2).forEach((v,k)=>{})}),this.pdfPages.length>3,this.cdr.detectChanges()}else t&&!e&&(this.cdr.detectChanges(),yield this.createPagesFromTextStream(),i=this.pdfPages.length,this.cdr.detectChanges());if(n&&d.size>0){this.cdr.detectChanges();for(let[C,_]of d.entries()){let P=C-1;if(P<this.pdfPages.length){let y=this.pdfPages[P],D=y.elements.filter(v=>v.type==="image").length;for(let v of _)y.elements.push(v),this.debugLogger.info("\uC774\uBBF8\uC9C0\uC88C\uD45C",`\u{1F4CD} \uD398\uC774\uC9C0 ${C} \uC774\uBBF8\uC9C0 \uCD94\uAC00 - x: ${v.x?.toFixed(2)}pt, y: ${v.y?.toFixed(2)}pt, width: ${v.width?.toFixed(2)}pt, height: ${v.height?.toFixed(2)}pt`);let w=y.elements.filter(v=>v.type==="image").length}}c=this.pdfPages.reduce((C,_)=>C+_.elements.filter(P=>P.type==="image").length,0),this.pdfPages.forEach((C,_)=>{C.elements.filter(y=>y.type==="image").length>0}),this.cdr.detectChanges()}else this.cdr.detectChanges();let g=this.pdfPages.reduce((C,_)=>C+_.elements.filter(P=>P.type==="svg").length,0),m=this.pdfPages.reduce((C,_)=>C+_.elements.filter(P=>P.type==="text").length,0),u=this.pdfPages.reduce((C,_)=>C+_.elements.filter(P=>P.type==="image").length,0);this.debugLogger.success("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F389} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC - \uD398\uC774\uC9C0: ${this.pdfPages.length}, SVG: ${g}, \uD14D\uC2A4\uD2B8: ${m}, \uC774\uBBF8\uC9C0: ${u}`);let h=new Set;this.pdfPages.forEach(C=>{C.elements.filter(_=>_.type==="text"&&_.color).forEach(_=>h.add(_.color))}),h.size>0,this.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC! (${this.pdfPages.length}\uCABD, SVG ${g}\uAC1C + \uD14D\uC2A4\uD2B8 ${m}\uAC1C)`),this.debugLogger.success("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC - \uD398\uC774\uC9C0: ${this.pdfPages.length}, SVG: ${g}, \uD14D\uC2A4\uD2B8: ${m}`),this.closeAllModals()}catch(e){this.debugLogger.error("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u274C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328: ${e}`),this.snackbar.showError("\u274C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}overlayTextOnPages(){return E(this,null,function*(){if(console.log("\u{1F504} [Wrapper] overlayTextOnPages \uC2DC\uC791"),console.log("\u{1F50D} [Wrapper] textStreamRawData:",!!this.textStreamRawData),console.log("\u{1F50D} [Wrapper] pdfPages \uAE38\uC774:",this.pdfPages.length),!this.textStreamRawData||!this.textStreamRawData.pages){console.warn("\u26A0\uFE0F [Wrapper] \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=yt(it({},this.textStreamRawData),{pages:this.textStreamRawData.pages.map(t=>yt(it({},t),{textItems:this.groupTextItems(t.textItems||[])}))});console.log("\u2705 [Wrapper] \uD14D\uC2A4\uD2B8 \uADF8\uB8F9\uD654 \uC644\uB8CC, \uC11C\uBE44\uC2A4 \uD638\uCD9C"),yield this.pageBuilder.overlayTextOnPages(e,this.pdfPages,t=>console.log(t)),console.log("\u2705 [Wrapper] overlayTextOnPages \uC644\uB8CC")})}extractImagesFromPdf(){return E(this,null,function*(){let e=new Map;if(this.cdr.detectChanges(),this.pdfAnalysisData?.imageInfo?.images&&this.pdfAnalysisData.imageInfo.images.length>0){this.cdr.detectChanges();try{this.cdr.detectChanges();let t=this.pdfImageExtractor.extractFromAnalysisData(this.pdfAnalysisData,{preferOriginal:!0});this.cdr.detectChanges();for(let n of t.images){let o={id:`image-from-analysis-${Date.now()}-${Math.random()}`,type:"image",x:n.x,y:n.y,width:n.width,height:n.height,src:n.src,coordinateSystem:"svg"};this.debugLogger.info("\uC774\uBBF8\uC9C0\uC88C\uD45C",`\u{1F5BC}\uFE0F \uBD84\uC11D\uB370\uC774\uD130\uC5D0\uC11C \uCD94\uCD9C - \uD398\uC774\uC9C0 ${n.pageNumber}: x=${n.x.toFixed(2)}pt, y=${n.y.toFixed(2)}pt, w=${n.width.toFixed(2)}pt, h=${n.height.toFixed(2)}pt (\uC88C\uD45C\uACC4: PDF)`),e.has(n.pageNumber)||e.set(n.pageNumber,[]),e.get(n.pageNumber).push(o),this.cdr.detectChanges()}if(this.cdr.detectChanges(),t.totalCount>0)return e}catch(t){this.debugLogger.error("\uC774\uBBF8\uC9C0\uCD94\uCD9C",`\u274C PdfImageExtractorService \uC2E4\uD328: ${t}`)}}if(this.cdr.detectChanges(),!this.pdfSrc)return e;try{let t=window["pdfjs-dist/build/pdf"];if(!t)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");t.VerbosityLevel&&(t.GlobalWorkerOptions.verbosity=0);let o=yield t.getDocument(this.pdfSrc).promise;this.cdr.detectChanges();for(let i=1;i<=o.numPages;i++)try{let c=yield o.getPage(i),d=c.getViewport({scale:1}),g=yield c.getOperatorList(),m=[];for(let _=0;_<g.fnArray.length;_++){let P=g.fnArray[_],y=g.argsArray[_];if(P===85||P===86){let D=null,w=[];for(let v=_-1;v>=0&&v>=_-20;v--){let k=g.fnArray[v],S=g.argsArray[v];if((k===12||k===74||k===75)&&w.unshift({fn:k,args:S}),k===11)break}if(w.length>0){let v=(S,I)=>[S[0]*I[0]+S[2]*I[1],S[1]*I[0]+S[3]*I[1],S[0]*I[2]+S[2]*I[3],S[1]*I[2]+S[3]*I[3],S[0]*I[4]+S[2]*I[5]+S[4],S[1]*I[4]+S[3]*I[5]+S[5]],k=w[0].args;for(let S=1;S<w.length;S++)k=v(k,w[S].args);D=k}m.push({name:y[0],transform:D,index:_})}}if(m.length===0)continue;let u=document.createElement("canvas");u.width=d.width,u.height=d.height;let h=u.getContext("2d");if(!h)continue;yield c.render({canvasContext:h,viewport:d}).promise;let C=[];for(let _ of m){if(!_.transform)continue;let[P,,,y,D,w]=_.transform.map(Math.abs),v=d.height/2,k=v-w-y,S=(v-w-y)*2,I=document.createElement("canvas");I.width=P*2,I.height=y*2;let A=I.getContext("2d");if(A){A.drawImage(u,D*2,S,P*2,y*2,0,0,P*2,y*2);let N={id:`image-extracted-${Date.now()}-${i}-${_.index}`,type:"image",x:D,y:k,width:P,height:y,src:I.toDataURL("image/png"),coordinateSystem:"svg"};this.debugLogger.info("\uC774\uBBF8\uC9C0\uC88C\uD45C",`\u{1F5BC}\uFE0F PDF.js\uC5D0\uC11C \uCD94\uCD9C - \uD398\uC774\uC9C0 ${i}: x=${D.toFixed(2)}pt, y=${k.toFixed(2)}pt, w=${P.toFixed(2)}pt, h=${y.toFixed(2)}pt (\uC88C\uD45C\uACC4: SVG)`),C.push(N)}}C.length>0&&e.set(i,C)}catch(c){this.debugLogger.error("\uC774\uBBF8\uC9C0\uCD94\uCD9C",`\u274C \uD398\uC774\uC9C0 ${i} \uCD94\uCD9C \uC2E4\uD328: ${c}`)}}catch(t){this.debugLogger.error("\uC774\uBBF8\uC9C0\uCD94\uCD9C",`\u274C PDF.js \uCD94\uCD9C \uC2E4\uD328: ${t}`)}return e})}overlayImagesOnPages(){return E(this,null,function*(){let e=yield this.extractImagesFromPdf();yield this.pageBuilder.overlayImagesOnPages(e,this.pdfPages,t=>console.log(t))})}generateVectorMinimap(e){let{pageNumber:t,vectorData:n}=e;console.log(`\u{1F3AF} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC694\uCCAD`,n);try{let o=n||this.loadedVectorData;if(!o||!o.pageDetails){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}let i=o.pageDetails.find(c=>c.pageNumber===t);if(!i){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}if(i.svgContent){console.log(`\u2705 \uD398\uC774\uC9C0 ${t} SVG \uCF58\uD150\uCE20\uB97C \uBBF8\uB2C8\uB9F5\uC5D0 \uC800\uC7A5`),this.vectorMinimaps[t]=i.svgContent;return}if(i.operations&&i.operations.length>0){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${t} operations\uB85C SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131`);let c=this.generateSvgFromOperations(i,t);this.vectorMinimaps[t]=c}else console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC5D0 \uD45C\uC2DC\uD560 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`)}catch(o){console.error(`\u274C \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC2E4\uD328:`,o)}}generateSvgFromOperations(e,t){return this.vectorSvgGenerator.generateSvgFromOperations(e,t)}createPagesFromVectorSvg(e,t){return E(this,null,function*(){yield this.vectorElementConverter.createPagesFromVectorSvg(e,t,this.pdfPages,this.pageWidth,this.pageHeight,this.generateSvgFromOperations.bind(this),this.addDebugLog.bind(this))})}createEmptyVectorPage(){let e={id:`empty-vector-page-${Date.now()}`,pageNumber:1,width:595,height:842,elements:[{id:`empty-title-${Date.now()}`,type:"text",x:50,y:50,width:495,height:150,text:`\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uC5C6\uC74C

\uC120\uD0DD\uD55C PDF\uC5D0\uC11C \uBCA1\uD130 \uADF8\uB798\uD53D \uC815\uBCF4\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.
PDF\uB97C \uB2E4\uC2DC \uBD84\uC11D\uD558\uAC70\uB098 \uB2E4\uB978 PDF\uB97C \uC2DC\uB3C4\uD574\uBCF4\uC138\uC694.

\uD655\uC778\uC0AC\uD56D:
1. PDF\uC5D0 \uC2E4\uC81C \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uD3EC\uD568\uB418\uC5B4 \uC788\uB294\uC9C0
2. PDF \uBD84\uC11D\uC774 \uC644\uB8CC\uB418\uC5C8\uB294\uC9C0
3. \uBD84\uC11D \uB300\uC2DC\uBCF4\uB4DC\uC5D0\uC11C \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uAC10\uC9C0\uB418\uC5C8\uB294\uC9C0`,fontSize:12,fontFamily:"Arial",color:"#e74c3c"}]};this.pdfPages.push(e),this.totalPages=1,this.currentPage=1}createPagesFromOriginalPdfSvg(e,t){return E(this,null,function*(){if(this.debugLogger.info("Wrapper","\u{1F50D} createPagesFromOriginalPdfSvg \uD638\uCD9C\uB428"),this.debugLogger.info("Wrapper",`vectorData \uC874\uC7AC: ${!!e}`),this.debugLogger.info("Wrapper",`vectorData.pageDetails \uC874\uC7AC: ${!!e?.pageDetails}`),this.debugLogger.info("Wrapper",`vectorData.pages \uC874\uC7AC: ${!!e?.pages}`),e?.pageDetails&&(this.debugLogger.info("Wrapper",`pageDetails \uAE38\uC774: ${e.pageDetails.length}`),e.pageDetails.length>0)){let n=e.pageDetails[0];this.debugLogger.info("Wrapper",`\uCCAB \uD398\uC774\uC9C0 \uAD6C\uC870: ${JSON.stringify(Object.keys(n))}`),this.debugLogger.info("Wrapper",`operations \uC874\uC7AC: ${!!n.operations}`),this.debugLogger.info("Wrapper",`operations \uAE38\uC774: ${n.operations?.length||0}`),this.debugLogger.info("Wrapper",`originalSvg \uC874\uC7AC: ${!!n.originalSvg}`)}this.debugLogger.info("Wrapper",`\uC11C\uBE44\uC2A4 \uC874\uC7AC: ${!!this.vectorElementConverter}`),this.debugLogger.info("Wrapper",`pdfPages \uCD08\uAE30 \uAE38\uC774: ${this.pdfPages.length}`),yield this.vectorElementConverter.createPagesFromOriginalPdfSvg(e,t,this.pdfPages,this.pageWidth,this.pageHeight,this.addDebugLog.bind(this)),this.debugLogger.info("Wrapper",`\uC11C\uBE44\uC2A4 \uD638\uCD9C \uC644\uB8CC, pdfPages \uCD5C\uC885 \uAE38\uC774: ${this.pdfPages.length}`)})}convertOperatorListToVectorElements(e,t,n,o,i){return E(this,null,function*(){let c=[];console.log("\u{1F3A8} operatorList \u2192 \uBCA1\uD130 \uC694\uC18C \uBCC0\uD658 \uC2DC\uC791...");let d=e.fnArray,g=e.argsArray,m=o/n.width,u=i/n.height;console.log("\u{1F4D0} \uC88C\uD45C \uBCC0\uD658 \uBE44\uC728:",{scaleX:m,scaleY:u,viewport:n});let h=[],C=0,_=0,P="#000000",y="#000000",D=1,w={moveTo:21,lineTo:22,curveTo:23,rectangle:25,closePath:26,stroke:27,fill:28,fillStroke:29,setLineWidth:30,setStrokeRGBColor:33,setFillRGBColor:34,constructPath:53};for(let v=0;v<d.length;v++){let k=d[v],S=g[v];try{switch(k){case w.setLineWidth:D=S[0]*m;break;case w.setStrokeRGBColor:y=`rgb(${Math.round(S[0]*255)}, ${Math.round(S[1]*255)}, ${Math.round(S[2]*255)})`;break;case w.setFillRGBColor:P=`rgb(${Math.round(S[0]*255)}, ${Math.round(S[1]*255)}, ${Math.round(S[2]*255)})`;break;case w.rectangle:{let I=S[0]*m,A=i-S[1]*u-S[3]*u,N=S[2]*m,j=S[3]*u;c.push({id:`rect-${Date.now()}-${v}`,type:"shape",shapeType:"rectangle",x:I,y:A,width:N,height:j,fillColor:P,strokeColor:y,strokeWidth:D});break}case w.moveTo:C=S[0]*m,_=i-S[1]*u,h=[{x:C,y:_}];break;case w.lineTo:C=S[0]*m,_=i-S[1]*u,h.push({x:C,y:_});break;case w.curveTo:{let I=S[4]*m,A=i-S[5]*u;C=I,_=A,h.push({x:I,y:A});break}case w.closePath:h.length>0&&h.push(it({},h[0]));break;case w.stroke:case w.fill:case w.fillStroke:if(h.length>=2){let I=`M ${h.map(A=>`${A.x},${A.y}`).join(" L ")}`;c.push({id:`path-${Date.now()}-${v}`,type:"vector-path",x:0,y:0,width:o,height:i,pathData:I,strokeColor:k===w.fill?"none":y,fill:k===w.stroke?"none":P,strokeWidth:D}),h=[]}break;case w.constructPath:{let I=S[0],A=S[1],N=0,j="",U=0,F=0;for(let G of I)switch(G){case w.moveTo:{let L=A[N++]*m,H=i-A[N++]*u;j+=`M ${L},${H} `,U=L,F=H;break}case w.lineTo:{let L=A[N++]*m,H=i-A[N++]*u;j+=`L ${L},${H} `;break}case w.curveTo:{let L=A[N++]*m,H=i-A[N++]*u,T=A[N++]*m,at=i-A[N++]*u,mt=A[N++]*m,ct=i-A[N++]*u;j+=`C ${L},${H} ${T},${at} ${mt},${ct} `;break}case w.rectangle:{let L=A[N++]*m,H=i-A[N++]*u,T=A[N++]*m,at=A[N++]*u;j+=`M ${L},${H} L ${L+T},${H} L ${L+T},${H-at} L ${L},${H-at} Z `;break}case w.closePath:j+="Z ";break}j.length>0&&c.push({id:`complex-path-${Date.now()}-${v}`,type:"vector-path",x:0,y:0,width:o,height:i,pathData:j.trim(),strokeColor:y,fill:P,strokeWidth:D});break}}}catch(I){console.warn(`\u26A0\uFE0F Operator ${k} \uCC98\uB9AC \uC2E4\uD328:`,I)}}return console.log(`\u2705 ${c.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`),c})}validateCoordinate(e,t=0){return tt.validateCoordinate(e,t)}convertToSvgY(e,t,n=1){return tt.convertToSvgY(e,t,n)}convertToSvgX(e,t,n=1){return tt.convertToSvgX(e,t,n)}analyzeCoordinateRange(e,t){return tt.analyzeCoordinateRange(e,t)}applyTransform(e,t,n){return tt.applyTransform({x:e,y:t},n)}createSafeSvgElement(e,t){let n=Object.entries(t).filter(([o,i])=>i!=null).map(([o,i])=>`${o}="${i}"`).join(" ");return`<${e} ${n}/>`}generateSvgFromVectorOperations(e,t,n){return this.vectorSvgGenerator.generateSvgFromVectorOperations(e,t,n)}downloadLogData(e,t,n=!1){try{if(console.log("\u{1F4CA} SVG \uC0DD\uC131 \uD1B5\uACC4:",{\uCC98\uB9AC\uC2DC\uAC04:`${e.svgGeneration.statistics.processingTime.toFixed(2)}ms`,\uCD1D\uC5F0\uC0B0\uC218:e.svgGeneration.totalOperations,\uCC98\uB9AC\uB41C\uC5F0\uC0B0:e.svgGeneration.processedOperations.filter(u=>u.processed).length,SVG\uC694\uC18C\uC0DD\uC131:e.svgGeneration.statistics.elementsGenerated,\uC5F0\uC0B0\uD0C0\uC785\uD1B5\uACC4:e.svgGeneration.statistics.byOperationType}),!n){console.log("\u2139\uFE0F SVG \uB514\uBC84\uADF8 \uB85C\uADF8 \uB2E4\uC6B4\uB85C\uB4DC \uBE44\uD65C\uC131\uD654 (\uAC1C\uBC1C \uBAA8\uB4DC\uC5D0\uC11C\uB9CC \uD65C\uC131\uD654)");return}let o=e.svgGeneration.finalSvg||"",i=u=>u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),c=`
<!--
=== SVG \uC0DD\uC131 \uB514\uBC84\uAE45 \uC815\uBCF4 ===
\uC0DD\uC131 \uC2DC\uAC01: ${e.timestamp}
\uCC98\uB9AC \uC2DC\uAC04: ${e.svgGeneration.statistics.processingTime.toFixed(2)}ms
\uCD1D \uC5F0\uC0B0 \uC218: ${e.svgGeneration.totalOperations}
\uCC98\uB9AC\uB41C \uC5F0\uC0B0: ${e.svgGeneration.processedOperations.filter(u=>u.processed).length}
SVG \uC694\uC18C \uC0DD\uC131: ${e.svgGeneration.statistics.elementsGenerated}
\uCE94\uBC84\uC2A4 \uD06C\uAE30: ${e.svgGeneration.dimensions.width}x${e.svgGeneration.dimensions.height}

\uC5F0\uC0B0 \uD0C0\uC785\uBCC4 \uD1B5\uACC4:
${Object.entries(e.svgGeneration.statistics.byOperationType).map(([u,h])=>`  ${u}: ${h}\uAC1C`).join(`
`)}

\uC0DD\uC131\uB41C SVG \uC694\uC18C:
${e.svgGeneration.svgElements.slice(0,20).map((u,h)=>`  [${h+1}] ${u.type} (${u.operation})`).join(`
`)}
${e.svgGeneration.svgElements.length>20?`
  ... \uC678 ${e.svgGeneration.svgElements.length-20}\uAC1C`:""}

\uCC98\uB9AC\uB41C \uC5F0\uC0B0 \uC0D8\uD50C (\uCC98\uC74C 10\uAC1C):
${e.svgGeneration.processedOperations.slice(0,10).map((u,h)=>{let C=u.args.slice(0,4).map(_=>typeof _=="object"?"[obj]":i(String(_))).join(", ");return`  [${h+1}] ${u.type} - \uCC98\uB9AC: ${u.processed?"O":"X"}, SVG\uC0DD\uC131: ${u.svgElementGenerated?"O":"X"}
      args: [${C}${u.args.length>4?"...":""}]`}).join(`
`)}
-->
`;o.includes("<svg")&&(o=o.replace(">",">"+c));let d=new Blob([o],{type:"image/svg+xml"}),g=window.URL.createObjectURL(d),m=document.createElement("a");m.href=g,m.download=`${t}-${new Date().getTime()}.svg`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(g),console.log(`\u{1F4C1} SVG \uB514\uBC84\uADF8 \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${t}.svg`)}catch(o){console.error("\u{1F4C1} SVG \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",o)}}convertYCoordinate(e,t){return t-e}createEmptySvg(e,t){return`
      <svg width="${e}" height="${t}" viewBox="0 0 ${e} ${t}" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8f9fa" stroke="#e9ecef" stroke-width="2"/>
        <text x="50%" y="50%" text-anchor="middle" fill="#6c757d" font-size="16" font-family="Arial">
          \uBCA1\uD130 \uC5F0\uC0B0\uC774 \uC5C6\uC2B5\uB2C8\uB2E4
        </text>
      </svg>
    `}createSvgWithElements(e,t,n){return e.length===0?this.createEmptySvg(t,n):`
      <svg width="${t}" height="${n}" viewBox="0 0 ${t} ${n}" xmlns="http://www.w3.org/2000/svg">
        <!-- \uBC30\uACBD -->
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
        
        <!-- \uADF8\uB9AC\uB4DC (\uC635\uC158) -->
        <defs>
          <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e7ff" stroke-width="0.5"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" opacity="0.3"/>
        
        <!-- \uBCA1\uD130 \uADF8\uB798\uD53D \uC694\uC18C\uB4E4 -->
        ${e.join(`
        `)}
        
        <!-- \uC815\uBCF4 \uD14D\uC2A4\uD2B8 -->
        <text x="10" y="${n-20}" fill="#6c757d" font-size="10" font-family="Arial">
          ${e.length}\uAC1C \uBCA1\uD130 \uC694\uC18C
        </text>
      </svg>
    `}copyJsonToClipboard(){if(!this.textStreamRawData){this.snackbar.showWarning("\uBCF5\uC0AC\uD560 JSON \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=JSON.stringify(this.textStreamRawData,null,2);navigator.clipboard.writeText(e).then(()=>{this.snackbar.showSuccess("\u2705 JSON \uB370\uC774\uD130\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}).catch(t=>{console.error("\uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC \uC2E4\uD328:",t),this.snackbar.showError("\uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")})}downloadJsonFile(){if(!this.textStreamRawData){this.snackbar.showWarning("\uB2E4\uC6B4\uB85C\uB4DC\uD560 JSON \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=JSON.stringify(this.textStreamRawData,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),o=this.textStreamRawData.fileName.replace(".pdf","")+"_textstream_data.json",i=document.createElement("a");i.href=n,i.download=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),this.snackbar.showSuccess(`\u2705 JSON \uD30C\uC77C\uC774 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4: ${o}`)}switchToMode(e){e==="pdf"&&this.router.navigate(["/pdf"])}getRecentWorksForMenu(){return this.cachedRecentDocs||[]}cachedRecentDocs=[];updateRecentDocsCache(){return E(this,null,function*(){yield this.docStorage.updateRecentDocsCache(this.indexedDbService,e=>{this.cachedRecentDocs=e,console.log("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC:",this.cachedRecentDocs.length,"\uAC1C"),this.cdr.detectChanges()},()=>{this.cachedRecentDocs=[]})})}onCloseSidebar(){}onItemSelected(e){console.log("\uC544\uC774\uD15C \uC120\uD0DD:",e)}loadDocumentFromData(e){try{if(e.data){let t=e.data;console.log("\uBB38\uC11C \uB85C\uB4DC:",t.title,"\uD0C0\uC785:",t.documentType),t.documentType==="viewer"&&t.pdfSrc?(this.documentType="pdf-viewer",this.loadAsViewerMode(t)):(this.documentType="new-document",this.loadAsEditorMode(t)),this.docsTitle=t.title,this.cdr.detectChanges();let n=t.documentType==="viewer"?"PDF \uBDF0\uC5B4":"\uD3B8\uC9D1\uAE30";this.snackbar.showSuccess(`\uBB38\uC11C "${t.title}"\uB97C ${n} \uBAA8\uB4DC\uB85C \uBD88\uB7EC\uC654\uC2B5\uB2C8\uB2E4.`)}else this.snackbar.showWarning("\uBB38\uC11C \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(t){console.error("\uBB38\uC11C \uB85C\uB4DC \uC624\uB958:",t),this.snackbar.showError("\uBB38\uC11C\uB97C \uBD88\uB7EC\uC624\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}}loadAsViewerMode(e){this.docStorage.loadAsViewerMode(e,t=>{this.pdfSrc=t.pdfSrc,this.pdfBase64Data=t.pdfBase64Data,this.loadedFileName=t.loadedFileName,this.pdfPages=t.pdfPages,this.totalPages=t.totalPages,this.currentPage=t.currentPage},(t,n)=>{t&&this.loadAsEditorMode(n)},this.snackbar)}loadAsEditorMode(e){this.docStorage.loadAsEditorMode(e,this.pageWidth,this.pageHeight,t=>{this.pdfSrc=t.pdfSrc,this.loadedFileName=t.loadedFileName,this.pdfBase64Data=t.pdfBase64Data,this.pdfPages=t.pdfPages,this.selectedElement=t.selectedElement,this.editingElement=t.editingElement,this.currentPage=t.currentPage,this.totalPages=t.totalPages})}handleExportFormat(e){if(e)switch(e){case"pdf":this.exportToPdf();break;case"word":this.snackbar.showInfo("Word \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.");break;case"html":this.snackbar.showInfo("HTML \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.");break;case"txt":this.snackbar.showInfo("\uD14D\uC2A4\uD2B8 \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.");break;default:console.log("\uC9C0\uC6D0\uD558\uC9C0 \uC54A\uB294 \uB0B4\uBCF4\uB0B4\uAE30 \uD615\uC2DD:",e)}}getCurrentDocumentData(){return{title:this.docsTitle,content:this.generatedDocs,settings:this.docsSettings,wordCount:this.wordCount}}editDocument(){this.isEditMode=!0}exportDocument(){this.exportToPdf()}copyToClipboard(){this.generatedDocs&&navigator.clipboard.writeText(this.generatedDocs).then(()=>{console.log("\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB428")})}resetToSetup(){this.currentStep="setup",this.generatedDocs="",this.wordCount=0}continueEdit(){this.isEditMode=!0}addText(){this.closeAllModals(),this.textEditorData={text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:16,fontFamily:"Arial",color:"#000000",x:100,y:100,width:200,height:30},this.showTextEditor=!0,this.autoCloseRightPanel()}addImage(){this.closeAllModals(),this.imageEditorData={src:"",x:150,y:150,width:200,height:150,file:null},this.showImageEditor=!0,this.autoCloseRightPanel()}addShape(){this.closeAllModals(),this.shapeEditorData={shapeType:"rectangle",fillColor:"#3498db",strokeColor:"#2980b9",strokeWidth:2,x:200,y:200,width:100,height:100},this.showShapeEditor=!0,this.autoCloseRightPanel()}addLine(){let e={id:this.generateElementId(),type:"shape",x:100,y:300,width:200,height:4,fillColor:"#000000",strokeColor:"#000000",strokeWidth:4,shapeType:"line"};console.log("\uC0C8 \uC120 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uC120 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages]),this.selectedElement=e,this.saveToUndoStack()}addCircle(){let e={id:this.generateElementId(),type:"shape",x:150,y:150,width:80,height:80,fillColor:"#e74c3c",strokeColor:"#c0392b",strokeWidth:2,shapeType:"circle"};console.log("\uC0C8 \uC6D0\uD615 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uC6D0\uD615 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages]),this.selectedElement=e,this.saveToUndoStack()}addVectorPath(){let e={id:this.generateElementId(),type:"vector-path",x:100,y:100,width:200,height:200,pathData:"M 50 50 Q 100 20 150 50 Q 200 80 250 50",strokeColor:"#2c3e50",strokeWidth:3,fill:"none",fillOpacity:1,strokeOpacity:1};console.log("\uC0C8 \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages],this.selectElement(e)),this.selectedElement=e,this.saveToUndoStack(),this.autoCloseRightPanel()}openVectorPathEditor(){this.closeAllModals(),this.showVectorPathEditor=!0}closeAllModals(){this.showVectorPathEditor=!1,this.showTextEditor=!1,this.showImageEditor=!1,this.showShapeEditor=!1,this.showSignatureEditor=!1,this.showWatermarkEditor=!1,this.showDirectDrawingMode=!1,this.showAnalysisDashboard=!1,this.showPdfStructureModal=!1,this.showVectorGraphicsModal=!1,this.isDocumentModalVisible=!1,this.showConfirmModal=!1,this.isTextEditInfoModalVisible=!1}openDirectDrawing(){this.showVectorPathEditor=!0,this.showDirectDrawingMode=!0}onVectorPathsChanged(e){console.log("\uBCA1\uD130 \uD328\uC2A4 \uBCC0\uACBD\uB428:",e),this.drawnPaths=[...e]}onVectorPathSelected(e){console.log("\uBCA1\uD130 \uD328\uC2A4 \uC120\uD0DD\uB428:",e),this.selectedVectorPath=e}exitDirectDrawing(){this.showDirectDrawingMode=!1}applyDirectDrawing(){let e=this.drawnPaths;if((!e||e.length===0)&&this.vectorPathDrawer&&(e=this.vectorPathDrawer.getPathsData(),console.log("\uBCA1\uD130 \uD328\uC2A4 \uD3B8\uC9D1\uAE30\uC5D0\uC11C \uC9C1\uC811 \uAC00\uC838\uC628 \uD328\uC2A4\uB4E4:",e)),!e||e.length===0){this.snackbar.showWarning("\uADF8\uB824\uC9C4 \uD328\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 \uCE94\uBC84\uC2A4\uC5D0 \uADF8\uB9BC\uC744 \uADF8\uB824\uC8FC\uC138\uC694.");return}let t=this.currentPage-1;if(this.pdfPages[t]){let n=0;e.forEach(o=>{let i={id:this.generateElementId(),type:"vector-path",x:0,y:0,width:this.pageWidth,height:this.pageHeight,pathData:o.d,strokeColor:o.stroke||"#000000",strokeWidth:o.strokeWidth||2,fill:o.fill||"none",fillOpacity:o.fillOpacity||1,strokeOpacity:o.strokeOpacity||1};this.pdfPages[t].elements.push(i),n++}),this.pdfPages=[...this.pdfPages],console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 ${n}\uAC1C\uC758 \uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00\uB428`),this.snackbar.showSuccess(`${n}\uAC1C\uC758 \uBCA1\uD130 \uD328\uC2A4\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.saveToUndoStack()}this.closeVectorPathEditor()}closeVectorPathEditor(){this.showVectorPathEditor=!1,this.showDirectDrawingMode=!1,this.selectedVectorPath=null,this.drawnPaths=[]}applyTextEditor(e){let t=e||this.textEditorData,n={id:this.generateElementId(),type:"text",x:t.x,y:t.y,width:t.width,height:t.height,text:t.text,fontSize:t.fontSize,fontFamily:t.fontFamily,color:t.color},o=this.currentPage-1;o>=0&&o<this.pdfPages.length&&(this.pdfPages[o].elements.push(n),this.pdfPages=[...this.pdfPages],this.selectedElement=n,this.snackbar.showSuccess("\uD14D\uC2A4\uD2B8\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeTextEditor()}closeTextEditor(){this.showTextEditor=!1}onImageFileSelect(e){let t=e.target.files[0];if(t){this.imageEditorData.file=t;let n=new FileReader;n.onload=o=>{this.imageEditorData.src=o.target?.result},n.readAsDataURL(t)}}applyImageEditor(e){let t=e||this.imageEditorData;if(!t.src){this.snackbar.showWarning("\uC774\uBBF8\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");return}let n={id:this.generateElementId(),type:"image",x:t.x,y:t.y,width:t.width,height:t.height,src:t.src,coordinateSystem:"svg"},o=this.currentPage-1;this.pdfPages[o]&&(this.pdfPages[o].elements.push(n),this.pdfPages=[...this.pdfPages],this.selectedElement=n,this.snackbar.showSuccess("\uC774\uBBF8\uC9C0\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeImageEditor()}closeImageEditor(){this.showImageEditor=!1,this.imageEditorData={src:"",x:150,y:150,width:200,height:150,file:null}}applyShapeEditor(e){let t=e||this.shapeEditorData,n={id:this.generateElementId(),type:"shape",x:t.x,y:t.y,width:t.width,height:t.height,fillColor:t.fillColor,strokeColor:t.strokeColor,strokeWidth:t.strokeWidth,shapeType:t.shapeType},o=this.currentPage-1;this.pdfPages[o]&&(this.pdfPages[o].elements.push(n),this.pdfPages=[...this.pdfPages],this.selectedElement=n,this.snackbar.showSuccess("\uB3C4\uD615\uC774 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeShapeEditor()}closeShapeEditor(){this.showShapeEditor=!1}applySignatureEditor(e){let t=e||this.signatureEditorData,n={id:this.generateElementId(),type:"signature",x:t.x,y:t.y,width:t.width,height:t.height,text:t.signatureText,fontSize:t.fontSize,color:t.strokeColor,src:t.canvasData||void 0,properties:{signatureStyle:t.signatureStyle,strokeWidth:t.strokeWidth}},o=this.currentPage-1;this.pdfPages[o]&&(this.pdfPages[o].elements.push(n),this.pdfPages=[...this.pdfPages],this.selectedElement=n,this.snackbar.showSuccess("\uC11C\uBA85\uC774 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeSignatureEditor()}closeSignatureEditor(){this.showSignatureEditor=!1}getSignatureFontFamily(e){switch(e){case"handwritten":return'cursive, "Comic Sans MS", "Apple Chancery"';case"formal":return'serif, "Times New Roman", "Georgia"';case"casual":return'sans-serif, "Arial", "Helvetica"';default:return"cursive"}}onVectorPathUpdated(e){let t=this.currentPage-1;this.pdfPages[t]&&(e.forEach(n=>{let o={id:this.generateElementId(),type:"vector-path",x:0,y:0,width:this.pageWidth,height:this.pageHeight,pathData:n.d,strokeColor:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,fillOpacity:n.fillOpacity,strokeOpacity:n.strokeOpacity,transform:n.transform};this.pdfPages[t].elements.push(o)}),this.pdfPages=[...this.pdfPages]),this.saveToUndoStack()}addPresetPath(e){let t="";switch(e){case"wave":t="M 10 50 Q 50 20 90 50 Q 130 80 170 50";break;case"curve":t="M 20 80 Q 100 10 180 80";break;case"heart":t="M 100 70 C 100 50 80 30 60 30 C 40 30 20 50 20 70 C 20 90 100 130 100 130 C 100 130 180 90 180 70 C 180 50 160 30 140 30 C 120 30 100 50 100 70 Z";break;case"star":t="M 100 10 L 110 40 L 140 40 L 118 58 L 128 88 L 100 70 L 72 88 L 82 58 L 60 40 L 90 40 Z";break;case"arrow":t="M 20 50 L 150 50 M 130 30 L 150 50 L 130 70";break;case"spiral":t="M 100 100 C 100 80 120 80 120 100 C 120 130 70 130 70 100 C 70 60 140 60 140 100 C 140 160 40 160 40 100";break;default:t="M 50 50 Q 100 20 150 50"}this.previewPath=t}toggleFill(){this.vectorPathStyle.fill==="none"?this.vectorPathStyle.fill="#3498db":this.vectorPathStyle.fill="none"}applyCustomPath(){this.customPath.trim()&&(this.previewPath=this.customPath.trim())}addCurrentVectorPath(){if(this.previewPath){let e={id:this.generateElementId(),type:"vector-path",x:100,y:100,width:200,height:200,pathData:this.previewPath,strokeColor:this.vectorPathStyle.stroke,strokeWidth:this.vectorPathStyle.strokeWidth,fill:this.vectorPathStyle.fill,fillOpacity:1,strokeOpacity:1};console.log("\uC0C8 \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages]),this.selectedElement=e,this.showVectorPathEditor=!1,this.saveToUndoStack()}}undo(){let e=this.pageHistory.undoCurrentPage();if(e){let t=this.pageManager.getPages()[this.currentPage-1];t&&(t.elements=e,this.selectedElement=null)}}redo(){let e=this.pageHistory.redoCurrentPage();if(e){let t=this.pageManager.getPages()[this.currentPage-1];t&&(t.elements=e,this.selectedElement=null)}}previousPage(){this.pageManager.previousPage()}nextPage(){this.currentPage<this.totalPages?this.pageManager.nextPage():this.addNewPage()}zoomIn(){this.zoomLevel<200&&(this.zoomLevel+=25)}zoomOut(){this.zoomLevel>50&&(this.zoomLevel-=25)}onCanvasClick(e){this.selectedElement=null}onDragOver(e){e.preventDefault()}onDrop(e){e.preventDefault()}updateElement(){this.saveToUndoStack()}deleteElement(){console.log("deleteElement called"),this.selectedElement?(this.pageManager.deleteElementFromPage(this.selectedElement.id,this.currentPage),this.elementStateManager.deselectElement(),this.saveToUndoStack()):console.warn("No element selected for deletion")}savePdf(){console.log("PDF \uC800\uC7A5"),this.autoCloseRightPanel()}preview(){console.log("\uBBF8\uB9AC\uBCF4\uAE30")}generateElementId(){return"element-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}sanitizeSvg(e){return e?this.sanitizer.bypassSecurityTrustHtml(e):""}saveToUndoStack(){let e=this.pageManager.getPage(this.currentPage);e&&(this.pageHistory.setCurrentPage(this.currentPage),this.pageHistory.saveCurrentPageState([...e.elements]))}addSignature(){this.signatureEditorData={signatureText:"\uD64D\uAE38\uB3D9",signatureStyle:"handwritten",strokeColor:"#000000",strokeWidth:2,fontSize:24,x:100,y:100,width:150,height:60,canvasData:null},this.showSignatureEditor=!0,setTimeout(()=>{this.initializeCanvasIfNeeded()},100),this.autoCloseRightPanel()}addWatermark(){this.watermarkEditorData={text:"CONFIDENTIAL",fontSize:48,color:"#808080",opacity:.3,rotation:-45,x:200,y:300,width:300,height:80},this.showWatermarkEditor=!0,this.autoCloseRightPanel()}applyWatermarkEditor(e){let t=e||this.watermarkEditorData,n={id:this.generateElementId(),type:"watermark",x:t.x,y:t.y,width:t.width,height:t.height,text:t.text,fontSize:t.fontSize,color:t.color,properties:{opacity:t.opacity,rotation:t.rotation}};console.log("\uC6CC\uD130\uB9C8\uD06C \uC694\uC18C \uC0DD\uC131:",n),console.log("\uD604\uC7AC \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",this.currentPage-1),console.log("PDF \uD398\uC774\uC9C0\uB4E4:",this.pdfPages);let o=this.currentPage-1;this.pdfPages[o]?(this.pdfPages[o].elements.push(n),this.pdfPages=[...this.pdfPages],this.selectedElement=n,console.log("\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00 \uD6C4 \uD398\uC774\uC9C0 \uC694\uC18C\uB4E4:",this.pdfPages[o].elements),this.snackbar.showSuccess("\uC6CC\uD130\uB9C8\uD06C\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")):console.error("\uD604\uC7AC \uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4:",o),this.closeWatermarkEditor()}closeWatermarkEditor(){this.showWatermarkEditor=!1,this.closeAllModals()}deleteCurrentPage(){if(this.totalPages<=1){console.warn("\uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0\uB294 \uC0AD\uC81C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.currentPage-1;this.pdfPages.splice(e,1),this.totalPages--,this.pdfPages.forEach((t,n)=>{t.pageNumber=n+1}),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),this.autoCloseRightPanel()}showConfirm(e,t,n){this.confirmModalTitle=e,this.confirmModalMessage=t,this.confirmModalCallback=n,this.showConfirmModal=!0}onConfirmModalConfirm(){this.showConfirmModal=!1,this.confirmModalCallback&&(this.confirmModalCallback(),this.confirmModalCallback=null)}onConfirmModalCancel(){this.showConfirmModal=!1,this.confirmModalCallback=null}keepOnlyFirstPage(){return E(this,null,function*(){if(console.log("\u{1F525} keepOnlyFirstPage \uBA54\uC18C\uB4DC \uD638\uCD9C\uB428"),console.log("\uD604\uC7AC \uC0C1\uD0DC:",{totalPages:this.totalPages,pdfSrc:this.pdfSrc?"PDF \uC788\uC74C":"PDF \uC5C6\uC74C",pdfPages:this.pdfPages.length,currentPage:this.currentPage}),this.totalPages<=1){console.log("\u26A0\uFE0F \uC774\uBBF8 1\uD398\uC774\uC9C0\uB9CC \uC788\uC74C"),this.snackbar.showInfo("\uC774\uBBF8 1\uD398\uC774\uC9C0\uB9CC \uC788\uC2B5\uB2C8\uB2E4.");return}this.showConfirm("\uD398\uC774\uC9C0 \uC0AD\uC81C \uD655\uC778",`\uD604\uC7AC ${this.totalPages}\uD398\uC774\uC9C0 \uC911 \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 ${this.totalPages-1}\uD398\uC774\uC9C0\uB97C \uBAA8\uB450 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?

\uC774 \uC791\uC5C5\uC740 \uB418\uB3CC\uB9B4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`,()=>this.executeKeepOnlyFirstPage())})}executeKeepOnlyFirstPage(){return E(this,null,function*(){try{if(console.log("\u{1F4C4} PDF \uD398\uC774\uC9C0 \uC0AD\uC81C \uC2DC\uC791"),this.pdfSrc&&this.totalPages>1){console.log("\u2705 PDF \uC788\uC74C - \uC2E4\uC81C PDF \uC218\uC815 \uC9C4\uD589"),console.log("PDF URL:",this.pdfSrc.substring(0,50)+"..."),console.log("\u{1F527} PDF-lib\uB97C \uC0AC\uC6A9\uD55C \uC9C1\uC811 \uCC98\uB9AC \uC2DC\uC791...");try{let t=yield(yield fetch(this.pdfSrc)).arrayBuffer(),n=window.PDFLib;if(!n)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o}=n,i=yield o.load(t);console.log("\u{1F4C4} \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218:",i.getPageCount());let c=yield o.create(),[d]=yield c.copyPages(i,[0]);c.addPage(d),console.log("\u2702\uFE0F \uC0C8 PDF \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC (1\uD398\uC774\uC9C0)");let g=yield c.save(),m=new Blob([g],{type:"application/pdf"}),u=URL.createObjectURL(m),C=`data:application/pdf;base64,${btoa(String.fromCharCode(...new Uint8Array(g)))}`;this.pdfSrc=u,this.pdfBase64Data=C,console.log("\u2705 PDF URL \uC5C5\uB370\uC774\uD2B8:",u.substring(0,50)+"..."),console.log("\u2705 Base64 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC (\uAE38\uC774:",C.length,")")}catch(e){throw console.error("\u274C PDF \uC9C1\uC811 \uCC98\uB9AC \uC2E4\uD328:",e),e}this.pdfPages=[this.pdfPages[0]],this.totalPages=1,this.currentPage=1,this.pdfPages[0]&&(this.pdfPages[0].pageNumber=1),this.selectedElement=null,console.log("\u{1F504} \uD398\uC774\uC9C0 \uB85C\uB4DC \uC911..."),console.log("\u2705 \uD398\uC774\uC9C0 \uC0AD\uC81C \uC644\uB8CC"),console.log("\u{1F4CA} \uC5C5\uB370\uC774\uD2B8\uB41C \uC0C1\uD0DC:",{totalPages:this.totalPages,currentPage:this.currentPage,pdfSrc:this.pdfSrc?.substring(0,50)+"...",pdfBase64DataLength:this.pdfBase64Data?.length||0,pdfBase64Preview:this.pdfBase64Data?.substring(0,50)+"..."||"null"}),this.snackbar.showSuccess("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 \uD398\uC774\uC9C0\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}else console.log("\u26A0\uFE0F PDF \uC5C6\uC74C - \uB0B4\uBD80 \uB370\uC774\uD130\uB9CC \uC218\uC815"),this.pdfPages=[this.pdfPages[0]],this.totalPages=1,this.currentPage=1,this.pdfPages[0]&&(this.pdfPages[0].pageNumber=1),this.selectedElement=null,this.snackbar.showSuccess("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 \uD398\uC774\uC9C0\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\u274C \uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",e),this.snackbar.showError("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4: "+e)}})}rotateCurrentPage(){let e=this.currentPage-1;if(this.pdfPages[e]){let t=this.pdfPages[e],n=t.width;t.width=t.height,t.height=n,t.elements.forEach(o=>{let i=o.x;o.x=t.width-o.y-o.height,o.y=i;let c=o.width;o.width=o.height,o.height=c}),this.autoCloseRightPanel()}}startDrag(e){this.isDragging=!0;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.dragOffset.x=t-this.panelPosition.x,this.dragOffset.y=n-this.panelPosition.y,e.preventDefault()}onDocumentMove(e){if(this.isDragging){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.panelPosition.x=t-this.dragOffset.x,this.panelPosition.y=n-this.dragOffset.y,this.constrainPanelPosition(),e.preventDefault();return}if(this.isDraggingElement&&this.currentDragElement){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,o=t-this.dragStartPosition.x,i=n-this.dragStartPosition.y;this.currentDragElement.x=Math.max(0,this.elementStartPosition.x+o),this.currentDragElement.y=Math.max(0,this.elementStartPosition.y+i),e.preventDefault();return}if(this.isResizingElement&&this.currentDragElement){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,o=t-this.dragStartPosition.x,i=n-this.dragStartPosition.y;this.handleResize(o,i),e.preventDefault()}}onDocumentUp(){if(this.isDragging&&(this.isDragging=!1),this.isDraggingElement||this.isResizingElement){if(this.currentDragElement&&(this.pdfPages=[...this.pdfPages],console.log("\uC694\uC18C \uBCC0\uACBD \uC644\uB8CC - \uBCC0\uACBD \uAC10\uC9C0 \uD2B8\uB9AC\uAC70"),this.currentDragElement.type==="image")){let e=this.currentDragElement.id,t=this.currentDragElement.src?`ID: ${e.substring(0,30)}...`:e,o=this.pdfPages.find(i=>i.elements.some(c=>c.id===this.currentDragElement?.id))?.elements.filter(i=>i.type==="image").findIndex(i=>i.id===this.currentDragElement?.id)??-1;this.debugLogger.info("\uC774\uBBF8\uC9C0\uB4DC\uB798\uADF8",`\u{1F3AF} \uC774\uBBF8\uC9C0 #${o+1} [${t}] \uCD5C\uC885 \uC704\uCE58: x=${this.currentDragElement.x.toFixed(2)}pt, y=${this.currentDragElement.y.toFixed(2)}pt, w=${this.currentDragElement.width.toFixed(2)}pt, h=${this.currentDragElement.height.toFixed(2)}pt`)}this.isDraggingElement=!1,this.isResizingElement=!1,this.currentDragElement=null,this.resizeDirection=""}}constrainPanelPosition(){this.panelPosition.x=Math.max(0,Math.min(window.innerWidth-320,this.panelPosition.x)),this.panelPosition.y=Math.max(0,Math.min(window.innerHeight-500,this.panelPosition.y))}updateSelectedElement(){this.selectedElement}deleteSelectedElement(){this.selectedElement&&this.deleteElement()}deselectElement(){this.selectedElement=null}startElementDrag(e,t){e.target.classList.contains("resize-handle")||(this.isDraggingElement=!0,this.currentDragElement=t,this.dragStartPosition.x=e.clientX,this.dragStartPosition.y=e.clientY,this.elementStartPosition.x=t.x,this.elementStartPosition.y=t.y,e.preventDefault(),e.stopPropagation())}startResize(e,t,n){console.log(`\uB9AC\uC0AC\uC774\uC988 \uC2DC\uC791: ${t.type} \uC694\uC18C, \uBC29\uD5A5: ${n}`),this.isResizingElement=!0,this.currentDragElement=t,this.resizeDirection=n,this.dragStartPosition.x=e.clientX,this.dragStartPosition.y=e.clientY,this.elementStartPosition.x=t.x,this.elementStartPosition.y=t.y,this.elementStartPosition.width=t.width,this.elementStartPosition.height=t.height,e.preventDefault(),e.stopPropagation()}handleResize(e,t){if(!this.currentDragElement)return;let n=this.currentDragElement,o=20;switch(this.resizeDirection){case"se":n.width=Math.max(o,this.elementStartPosition.width+e),n.height=Math.max(o,this.elementStartPosition.height+t);break;case"sw":let i=this.elementStartPosition.width-e;i>=o&&(n.width=i,n.x=this.elementStartPosition.x+e),n.height=Math.max(o,this.elementStartPosition.height+t);break;case"ne":n.width=Math.max(o,this.elementStartPosition.width+e);let c=this.elementStartPosition.height-t;c>=o&&(n.height=c,n.y=this.elementStartPosition.y+t);break;case"nw":let d=this.elementStartPosition.width-e,g=this.elementStartPosition.height-t;d>=o&&(n.width=d,n.x=this.elementStartPosition.x+e),g>=o&&(n.height=g,n.y=this.elementStartPosition.y+t);break;case"n":let m=this.elementStartPosition.height-t;m>=o&&(n.height=m,n.y=this.elementStartPosition.y+t);break;case"s":n.height=Math.max(o,this.elementStartPosition.height+t);break;case"w":let u=this.elementStartPosition.width-e;u>=o&&(n.width=u,n.x=this.elementStartPosition.x+e);break;case"e":n.width=Math.max(o,this.elementStartPosition.width+e);break}}startEditingText(e){e.type==="text"&&(this.editingElement=e,this.selectedElement=e,setTimeout(()=>{let t=document.querySelector(".text-element.editing");if(t){t.focus();let n=document.createRange();n.selectNodeContents(t);let o=window.getSelection();o&&(o.removeAllRanges(),o.addRange(n))}},10))}stopEditingText(e,t){if(this.editingElement?.id===e.id){let n=t.target;if(n){let o=n.textContent||"";e.text=o,this.saveToUndoStack()}this.editingElement=null}}cancelEditingText(e){this.editingElement?.id===e.id&&(this.editingElement=null)}updateElementText(e,t){let n=t.target;if(n){let o=n.textContent||"";e.text=o,this.saveToUndoStack()}}saveDocument(){this.documentModalMode="save",this.isDocumentModalVisible=!0}onSaveDocument(e){return E(this,null,function*(){try{this.snackbar.showInfo("\uBB38\uC11C\uB97C \uC800\uC7A5\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4...");let t=this.pdfSrc?"viewer":"editor",n=t==="viewer"?this.pdfPages.length:this.totalElementCount,o={id:this.generateDocumentId(),title:e,pages:this.pdfPages,elementCount:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"1.0",pdfSrc:this.pdfSrc||void 0,pdfBase64:this.pdfBase64Data||void 0,fileName:this.loadedFileName||void 0,documentType:t};console.log("\uBB38\uC11C \uC800\uC7A5 \uC2DC\uC791:",{title:o.title,pages:`${o.pages.length}\uAC1C \uD398\uC774\uC9C0`,elements:`${o.elementCount}\uAC1C \uC694\uC18C`,type:t,pdfSrc:!!o.pdfSrc,pdfBase64Length:o.pdfBase64?.length||0,pdfBase64Preview:o.pdfBase64?.substring(0,50)+"..."||"null"});let c=(yield this.indexedDbService.getAllDocuments()).find(g=>g.title===e);c?(o.id=c.id,o.createdAt=c.createdAt,console.log("\uAE30\uC874 \uBB38\uC11C \uC5C5\uB370\uC774\uD2B8:",e)):console.log("\uC0C8 \uBB38\uC11C \uC800\uC7A5:",e),yield this.indexedDbService.saveDocument(o),yield this.updateRecentDocsCache(),this.docsTitle=e;let d=t==="viewer"?"PDF \uBDF0\uC5B4":"\uD3B8\uC9D1\uAE30";this.snackbar.showSuccess(`'${e}' \uBB38\uC11C\uAC00 ${d} \uBAA8\uB4DC\uB85C \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}catch(t){console.error("\uBB38\uC11C \uC800\uC7A5 \uC2E4\uD328:",t),this.snackbar.showError("\uBB38\uC11C \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}generateDocumentId(){return"doc_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}arrayBufferToBase64(e){let t="",n=new Uint8Array(e),o=n.byteLength;for(let i=0;i<o;i++)t+=String.fromCharCode(n[i]);return btoa(t)}createNewDocument(){this.pdfSrc=null,this.loadedFileName="",this.pdfBase64Data="",this.renderedVectorGraphics=[],this.showVectorGraphicsPreview=!1,this.pdfPages=[{id:"page-1",pageNumber:1,width:this.pageWidth,height:this.pageHeight,elements:[]}],this.selectedElement=null,this.editingElement=null,this.docsTitle="\uC81C\uBAA9 \uC5C6\uC74C",this.currentPage=1,this.snackbar.showSuccess("\uC0C8 \uBB38\uC11C\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}openDocument(){this.documentModalMode="open",this.isDocumentModalVisible=!0}onOpenDocument(e){try{console.log("\uBAA8\uB2EC\uC5D0\uC11C \uBB38\uC11C \uC5F4\uAE30:",e.title,"\uD0C0\uC785:",e.documentType),this.loadDocumentFromData({data:e}),this.isDocumentModalVisible=!1}catch(t){console.error("\uBB38\uC11C \uC5F4\uAE30 \uC624\uB958:",t),this.snackbar.showError("\uBB38\uC11C\uB97C \uC5EC\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}}onDeleteDocument(e){return E(this,null,function*(){try{yield this.indexedDbService.deleteDocument(e),this.snackbar.showInfo("\uBB38\uC11C\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(t){console.error("\uBB38\uC11C \uC0AD\uC81C \uC2E4\uD328:",t),this.snackbar.showError("\uBB38\uC11C \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onCloseDocumentModal(){this.isDocumentModalVisible=!1}onFileUpload(e){try{this.snackbar.showInfo("PDF \uD30C\uC77C\uC744 \uBD88\uB7EC\uC624\uB294 \uC911...");let t=new FileReader;t.onload=n=>{try{let o=n.target?.result,i=new Blob([o],{type:"application/pdf"}),c=URL.createObjectURL(i),d=new FileReader;d.onload=()=>{let g=d.result;this.pdfBase64Data=g,console.log("PDF Base64 \uB370\uC774\uD130 \uC800\uC7A5 \uC644\uB8CC")},d.readAsDataURL(i),this.pdfSrc=c,this.loadedFileName=e.name,this.documentType="pdf-viewer",this.docsTitle=e.name.replace(/\.[^/.]+$/,""),this.snackbar.showSuccess(`PDF \uD30C\uC77C "${e.name}"\uC774 \uC131\uACF5\uC801\uC73C\uB85C \uBD88\uB7EC\uC640\uC84C\uC2B5\uB2C8\uB2E4.`),console.log("PDF URL \uC0DD\uC131\uB428:",c)}catch(o){console.error("PDF \uD30C\uC77C \uCC98\uB9AC \uC2E4\uD328:",o),this.snackbar.showError("PDF \uD30C\uC77C \uCC98\uB9AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}},t.onerror=()=>{this.snackbar.showError("\uD30C\uC77C \uC77D\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")},t.readAsArrayBuffer(e)}catch(t){console.error("PDF \uD30C\uC77C \uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("PDF \uD30C\uC77C\uC744 \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}exportPdfFromDashboard(){return E(this,null,function*(){try{if(this.showDebugModal=!0,this.cdr.detectChanges(),yield this.createCombinedDocument(),!this.pdfPages||this.pdfPages.length===0){this.cdr.detectChanges(),this.snackbar.showError("\uBB38\uC11C\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uBCA1\uD130 \uB370\uC774\uD130\uC640 \uD14D\uC2A4\uD2B8 \uB370\uC774\uD130\uB97C \uD655\uC778\uD558\uC138\uC694.");return}this.cdr.detectChanges(),yield this.exportToPdf()}catch(e){console.error("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uD504\uB85C\uC138\uC2A4 \uC2E4\uD328:",e),this.cdr.detectChanges(),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}exportToPdf(){return E(this,null,function*(){try{if(this.pdfPages.length===0){this.cdr.detectChanges(),this.snackbar.showWarning("\uB0B4\uBCF4\uB0BC \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 \uBB38\uC11C\uB97C \uC0DD\uC131\uD558\uC138\uC694.");return}this.pdfPages.slice(0,5).forEach((F,G)=>{let L=F.elements.filter(ct=>ct.type==="text").length,H=F.elements.filter(ct=>ct.type==="shape").length,T=F.elements.filter(ct=>ct.type==="image").length,at=F.elements.filter(ct=>ct.type==="svg").length,mt=F.elements.filter(ct=>ct.type==="vector-path").length;L>0&&F.elements.filter(ct=>ct.type==="text").slice(0,2).forEach((ct,rt)=>{let $t=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(ct.text||"")})}),this.pdfPages.length>5;let e=this.pdfPages.reduce((F,G)=>F+G.elements.filter(L=>L.type==="text").length,0),t=this.pdfPages.reduce((F,G)=>F+G.elements.filter(L=>L.type==="svg").length,0),o=this.pdfPages.flatMap(F=>F.elements.filter(G=>G.type==="text").map(G=>G.text||"")).filter(F=>/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(F));new Set(this.pdfPages.flatMap(F=>F.elements.filter(G=>G.type==="text"&&G.color).map(G=>G.color))).size>0,this.showDebugModal=!0,this.cdr.detectChanges(),console.log("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791..."),console.log("\uD604\uC7AC \uD398\uC774\uC9C0 \uC218:",this.pdfPages.length),console.log("PDF \uD398\uC774\uC9C0 \uB370\uC774\uD130:",this.pdfPages);let c=yield this.waitForPDFLib(),{PDFDocument:d,rgb:g,StandardFonts:m}=c,u=yield d.create(),h=new Map,C,_="Helvetica (\uAE30\uBCF8)",P=new Set,y=this.pdfPages.flatMap(F=>F.elements.filter(G=>G.type==="text")),D=0;y.forEach((F,G)=>{if(!F.fontFamily){let L=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(F.text||"");F.fontFamily=L?"Noto Sans KR, sans-serif":"Arial",D++}G<5,F.fontFamily&&P.add(F.fontFamily)}),D>0,P.size>0;let w=this.pdfPages.some(F=>F.elements.some(G=>G.type==="text"&&/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(G.text||"")));if(w||P.size>0)try{window.fontkit?this.cdr.detectChanges():(this.cdr.detectChanges(),yield new Promise((G,L)=>{let H=document.createElement("script");H.src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js",H.onload=()=>{this.cdr.detectChanges(),G(!0)},H.onerror=()=>{this.cdr.detectChanges(),L(new Error("fontkit \uB85C\uB529 \uC2E4\uD328"))},document.head.appendChild(H)})),this.cdr.detectChanges(),u.registerFontkit(window.fontkit),this.cdr.detectChanges();let F={"Noto Sans KR":"/fonts/NotoSansKR-Regular.ttf",NanumGothic:"/fonts/NanumGothic-Regular.ttf",NanumBarunGothic:"/fonts/NanumBarunGothic-Regular.ttf","IBM Plex Sans KR":"/fonts/IBMPlexSansKR-Regular.ttf",NanumSquare:"/fonts/NanumSquare-Regular.ttf","Black Han Sans":"/fonts/BlackHanSans-Regular.ttf","Noto Serif KR":"/fonts/NotoSerifKR-Regular.ttf",NanumMyeongjo:"/fonts/NanumMyeongjo-Regular.ttf",NanumPen:"/fonts/NanumPen-Regular.ttf",NanumBrush:"/fonts/NanumBrush-Regular.ttf",DoHyeon:"/fonts/DoHyeon-Regular.ttf",Jua:"/fonts/Jua-Regular.ttf",Gaegu:"/fonts/Gaegu-Regular.ttf",GamjaFlower:"/fonts/GamjaFlower-Regular.ttf",Sunflower:"/fonts/Sunflower-Medium.ttf",EastSeaDokdo:"/fonts/EastSeaDokdo-Regular.ttf",HiMelody:"/fonts/HiMelody-Regular.ttf",Roboto:"/fonts/Roboto-Regular.ttf","Open Sans":"/fonts/OpenSans-Regular.ttf",Lato:"/fonts/Lato-Regular.ttf",Montserrat:"/fonts/Montserrat-Regular.ttf",Poppins:"/fonts/Poppins-Regular.ttf",Inter:"/fonts/Inter-Regular.ttf",Ubuntu:"/fonts/Ubuntu-Regular.ttf"};for(let G of P)try{let L=this.extractFontName(G);if(this.cdr.detectChanges(),F[L]){let H=F[L],T=yield fetch(H);if(T.ok){let at=yield T.arrayBuffer(),mt=yield u.embedFont(new Uint8Array(at));h.set(G,mt),this.cdr.detectChanges()}}}catch{this.cdr.detectChanges()}if(w){let G=null,L=["/fonts/NanumGothic-Regular.ttf","/fonts/NanumGothic.ttf","fonts/NanumGothic-Regular.ttf"];for(let H of L)try{let T=yield fetch(H);if(T.ok){G=yield T.arrayBuffer();break}}catch{continue}if(!G)try{let H=yield fetch("https://cdn.jsdelivr.net/gh/google/fonts@main/ofl/nanumgothic/NanumGothic-Regular.ttf");H.ok&&(G=yield H.arrayBuffer())}catch{}if(G&&G.byteLength>0)C=yield u.embedFont(new Uint8Array(G)),_="NanumGothic (\uD55C\uAE00 \uC9C0\uC6D0)",h.set("Noto Sans KR, sans-serif",C),h.set("NanumGothic",C),h.set("default-korean",C),this.cdr.detectChanges();else throw new Error("\uD55C\uAE00 \uD3F0\uD2B8 \uB85C\uB4DC \uC2E4\uD328")}else C=yield u.embedFont(m.Helvetica),_="Helvetica (\uAE30\uBCF8)"}catch{this.cdr.detectChanges(),C=yield u.embedFont(m.Helvetica),_="Helvetica (\uAE30\uBCF8)"}else C=yield u.embedFont(m.Helvetica),_="Helvetica (\uAE30\uBCF8)";let k=F=>{if(!F)return C;if(h.has(F))return h.get(F);let G=this.extractFontName(F);for(let[L,H]of h.entries())if(this.extractFontName(L)===G)return H;return C},S={text:0,shape:0,image:0,svg:0,vectorPath:0,failed:0};for(let F=0;F<this.pdfPages.length;F++){let G=this.pdfPages[F],L=F<3,H=G.elements.filter(Q=>Q.type==="text"),T=G.elements.filter(Q=>Q.type==="svg"),at=G.elements.filter(Q=>Q.type==="shape"),mt=G.elements.filter(Q=>Q.type==="vector-path"),ct=G.elements.filter(Q=>Q.type==="image");if(L){let Q=H.filter(Ct=>/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(Ct.text||""));if(Q.length>0&&Q[0],T.length>0&&T[0]){let Ct=T[0];if(Ct.svgContent){let At=Ct.svgContent.substring(0,80).replace(/\n/g," ")}}}console.log(`\uD398\uC774\uC9C0 ${G.pageNumber} \uCC98\uB9AC \uC911... \uC694\uC18C \uAC1C\uC218: ${G.elements.length}`),console.log("\uD398\uC774\uC9C0 \uC694\uC18C\uB4E4:",G.elements);let rt=u.addPage([595,842]),{width:$t,height:Gt}=rt.getSize(),dt={text:0,shape:0,image:0,svg:0,vectorPath:0,failed:0};for(let Q of G.elements)try{if(Q.type==="text"){let Ct=k(Q.fontFamily);if(console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1:",{text:Q.text?.substring(0,20),fontFamily:Q.fontFamily,fontSelected:Ct===C?"\uAE30\uBCF8\uD3F0\uD2B8":"\uCEE4\uC2A4\uD140\uD3F0\uD2B8",hasFont:!!Ct}),yield this.addTextToPdfPage(rt,Q,c,Ct),dt.text++,L&&dt.text<=2){let At=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(Q.text||""),de=Q.fontFamily?this.extractFontName(Q.fontFamily):"\uAE30\uBCF8"}}else Q.type==="shape"?(yield this.addShapeToPdfPage(rt,Q,c),dt.shape++):Q.type==="image"?(yield this.addImageToPdfPage(rt,Q,c,u),dt.image++):Q.type==="vector-path"?(yield this.addVectorPathToPdfPage(rt,Q,c),dt.vectorPath++):Q.type==="svg"&&(yield this.addSvgToPdfPage(rt,Q,c),dt.svg++,L&&dt.svg<=2)}catch(Ct){dt.failed++,console.error("\uC694\uC18C \uCD94\uAC00 \uC2E4\uD328:",Q,Ct)}S.text+=dt.text,S.shape+=dt.shape,S.image+=dt.image,S.svg+=dt.svg,S.vectorPath+=dt.vectorPath,S.failed+=dt.failed,L&&dt.failed>0}S.failed>0;let I=yield u.save(),A=new Blob([I],{type:"application/pdf"}),N=URL.createObjectURL(A),j=document.createElement("a");j.href=N;let U=`${this.docsTitle||"\uBB38\uC11C"}.pdf`;j.download=U,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(N),console.log("PDF \uC0DD\uC131 \uC644\uB8CC!"),this.snackbar.showSuccess("PDF\uAC00 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",e),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}addTextToPdfPage(e,t,n,o){return E(this,null,function*(){try{let{rgb:i}=n,{width:c,height:d}=e.getSize(),g=this.parseColor(t.color||"#000000"),m=Math.max(0,Math.min(t.x||0,c-10)),u=Math.max(10,Math.min(d-(t.y||0)-(t.fontSize||16),d-10)),h=Math.max(8,Math.min(t.fontSize||16,72)),_=(t.text||"").trim()||"\uD14D\uC2A4\uD2B8";console.log(`\uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uD14D\uC2A4\uD2B8: "${_}"
        - \uC6D0\uBCF8 \uC88C\uD45C: (${t.x}, ${t.y})
        - \uC870\uC815\uB41C \uC88C\uD45C: (${m}, ${u})
        - \uD3F0\uD2B8 \uD06C\uAE30: ${h}
        - \uD3F0\uD2B8 \uD328\uBC00\uB9AC: ${t.fontFamily||"default"}
        - \uD3F0\uD2B8 \uAD75\uAE30: ${t.fontWeight||"normal"}
        - \uD3F0\uD2B8 \uC2A4\uD0C0\uC77C: ${t.fontStyle||"normal"}
        - \uC0C9\uC0C1: ${t.color} -> rgb(${g.r}, ${g.g}, ${g.b})
        - \uD398\uC774\uC9C0 \uD06C\uAE30: ${c} x ${d}`);let P={x:m,y:u,size:h,color:i(g.r,g.g,g.b)};o&&(P.font=o),e.drawText(_,P),console.log("\uD14D\uC2A4\uD2B8 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428 (\uC0C9\uC0C1 \uD3EC\uD568)")}catch(i){console.error("\uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uC2E4\uD328:",i),i instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",i.message)}})}addShapeToPdfPage(e,t,n){return E(this,null,function*(){try{let{rgb:o}=n,{width:i,height:c}=e.getSize(),d=this.parseColor(t.fillColor||t.color||"#3498db"),g=this.parseColor(t.strokeColor||t.color||"#2980b9"),m=Math.max(0,Math.min(t.x||0,i-10)),u=Math.max(10,Math.min(c-(t.y||0)-(t.height||50),c-10)),h=Math.max(10,Math.min(t.width||100,i-m)),C=Math.max(10,Math.min(t.height||50,c-u));switch(console.log(`\uB3C4\uD615 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uB3C4\uD615 \uD0C0\uC785: ${t.shapeType||"rectangle"}
        - \uC704\uCE58: (${m}, ${u})
        - \uD06C\uAE30: ${h} x ${C}
        - \uCC44\uC6B0\uAE30 \uC0C9\uC0C1: rgb(${d.r}, ${d.g}, ${d.b})
        - \uD14C\uB450\uB9AC \uC0C9\uC0C1: rgb(${g.r}, ${g.g}, ${g.b})`),t.shapeType||"rectangle"){case"rectangle":case"square":e.drawRectangle({x:m,y:u,width:h,height:C,color:o(d.r,d.g,d.b)}),e.drawRectangle({x:m,y:u,width:h,height:C,borderColor:o(g.r,g.g,g.b),borderWidth:t.strokeWidth||1});break;case"circle":case"ellipse":let P=m+h/2,y=u+C/2,D=Math.min(h,C)/2;e.drawCircle({x:P,y,size:D,color:o(d.r,d.g,d.b)}),e.drawCircle({x:P,y,size:D,borderColor:o(g.r,g.g,g.b),borderWidth:t.strokeWidth||1});break;case"line":e.drawLine({start:{x:m,y:u},end:{x:m+h,y:u+C},thickness:t.strokeWidth||2,color:o(g.r,g.g,g.b)});break;default:e.drawRectangle({x:m,y:u,width:h,height:C,color:o(d.r,d.g,d.b)});break}console.log("\uB3C4\uD615 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428")}catch(o){console.error("\uB3C4\uD615 \uCD94\uAC00 \uC2E4\uD328:",o),o instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",o.message)}})}addImageToPdfPage(e,t,n,o){return E(this,null,function*(){try{if(!t.src){console.error("\uC774\uBBF8\uC9C0 src\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let{width:i,height:c}=e.getSize(),d=t.x||0,g=t.y||0,m=t.width||100,u=t.height||100;if(d+m>i){console.warn("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB108\uBE44 \uCD08\uACFC, \uD398\uC774\uC9C0 \uC548\uC73C\uB85C \uC870\uC815");let k=(i-10)/(d+m);m=m*k,u=u*k,d=Math.min(d,i-m-10)}g+u>c&&(console.warn("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB192\uC774 \uCD08\uACFC, \uD398\uC774\uC9C0 \uC548\uC73C\uB85C \uC870\uC815"),g=Math.max(10,c-u-10));let h=Math.max(0,Math.min(d,i-10)),C=Math.max(0,Math.min(g,c-10)),_=m,P=u;console.log(`\uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uC704\uCE58: (${h}, ${C})
        - \uD06C\uAE30: ${_} x ${P}
        - \uC6D0\uBCF8 \uD06C\uAE30: ${t.width} x ${t.height}
        - src \uAE38\uC774: ${t.src.length}`);let y="jpeg";t.src.startsWith("data:image/png")?y="png":(t.src.startsWith("data:image/jpeg")||t.src.startsWith("data:image/jpg"))&&(y="jpeg");let D=t.src.split(",")[1];if(!D){console.error("\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 Base64 \uB370\uC774\uD130");return}let w=Uint8Array.from(atob(D),k=>k.charCodeAt(0)),v;y==="png"?v=yield(o||e.doc).embedPng(w):v=yield(o||e.doc).embedJpg(w),e.drawImage(v,{x:h,y:C,width:_,height:P}),console.log("\uC774\uBBF8\uC9C0 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428")}catch(i){console.error("\uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC2E4\uD328:",i),i instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",i.message);try{let{rgb:c}=n,{width:d,height:g}=e.getSize(),m=Math.max(0,Math.min(t.x||0,d-10)),u=Math.max(0,Math.min(t.y||0,g-10));e.drawRectangle({x:m,y:u,width:Math.min(t.width||100,e.getSize().width-m),height:Math.min(t.height||100,e.getSize().height-u),borderColor:c(.8,.8,.8),borderWidth:2}),e.drawText("\uC774\uBBF8\uC9C0",{x:m+10,y:u+(t.height||100)/2,size:12,color:c(.5,.5,.5)}),console.log("\uC774\uBBF8\uC9C0 \uB300\uC2E0 \uD50C\uB808\uC774\uC2A4\uD640\uB354 \uCD94\uAC00\uB428")}catch(c){console.error("\uD50C\uB808\uC774\uC2A4\uD640\uB354 \uCD94\uAC00\uB3C4 \uC2E4\uD328:",c)}}})}parseColor(e){let t=0,n=0,o=0;try{if(e.startsWith("#")){let i=e.slice(1);i.length===3?(t=parseInt(i[0]+i[0],16)/255,n=parseInt(i[1]+i[1],16)/255,o=parseInt(i[2]+i[2],16)/255):i.length===6&&(t=parseInt(i.slice(0,2),16)/255,n=parseInt(i.slice(2,4),16)/255,o=parseInt(i.slice(4,6),16)/255)}else if(e.startsWith("rgb")){let i=e.match(/\d+/g);i&&i.length>=3&&(t=parseInt(i[0])/255,n=parseInt(i[1])/255,o=parseInt(i[2])/255)}}catch(i){console.error("\uC0C9\uC0C1 \uD30C\uC2F1 \uC2E4\uD328:",i)}return{r:t,g:n,b:o}}extractFontName(e){return e?e.split(",")[0].trim().replace(/['"]/g,""):"Helvetica"}fixSvgDimensions(e,t,n){try{console.log("\u{1F527} SVG \uD06C\uAE30 \uC218\uC815 \uC2DC\uC791:",{width:t,height:n});let c=new DOMParser().parseFromString(e,"image/svg+xml").documentElement;if(c.tagName!=="svg")return console.warn("\u26A0\uFE0F \uC720\uD6A8\uD55C SVG\uAC00 \uC544\uB2D9\uB2C8\uB2E4."),e;let d=c.getAttribute("width"),g=c.getAttribute("height"),m=c.getAttribute("viewBox");console.log("\u{1F4CA} \uC6D0\uBCF8 SVG \uC18D\uC131:",{width:d,height:g,viewBox:m}),c.setAttribute("width",String(t)),c.setAttribute("height",String(n)),m?console.log("\u2705 \uAE30\uC874 viewBox \uC720\uC9C0:",m):(c.setAttribute("viewBox",`0 0 ${t} ${n}`),console.log("\u2705 viewBox \uCD94\uAC00:",`0 0 ${t} ${n}`)),c.setAttribute("preserveAspectRatio","none"),c.hasAttribute("xmlns")||c.setAttribute("xmlns","http://www.w3.org/2000/svg");let h=new XMLSerializer().serializeToString(c);return console.log("\u2705 SVG \uD06C\uAE30 \uC218\uC815 \uC644\uB8CC:",{originalLength:e.length,fixedLength:h.length,newWidth:c.getAttribute("width"),newHeight:c.getAttribute("height"),newViewBox:c.getAttribute("viewBox")}),h}catch(o){return console.error("\u274C SVG \uD06C\uAE30 \uC218\uC815 \uC2E4\uD328:",o),e}}addSvgAsImageToPdf(e,t,n){return E(this,null,function*(){return new Promise((o,i)=>{try{if(this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658","\u{1F5BC}\uFE0F SVG\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658 \uC2DC\uC791"),this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F4C4} SVG \uC694\uC18C: id=${t.id}, \uC704\uCE58=(${t.x}, ${t.y}), \uD06C\uAE30=${t.width}x${t.height}`),this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`SVG \uB370\uC774\uD130: \uC874\uC7AC=${!!t.svgContent}, \uD06C\uAE30=${t.svgContent?.length||0}bytes`),!t.svgContent){let w="SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.";this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`\u274C ${w}`),this.cdr.detectChanges(),i(new Error(w));return}let c=t.svgContent.replace(/<svg:/g,"<").replace(/<\/svg:/g,"</").replace(/xmlns:svg="[^"]*"/g,"").replace(/svg:xlink=/g,"xlink=");this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658","\u{1F9F9} SVG \uB124\uC784\uC2A4\uD398\uC774\uC2A4 \uC815\uB9AC \uC644\uB8CC");let d=c.includes("<path"),g=c.includes("<rect"),m=c.includes("<circle"),u=c.includes("<line"),h=c.includes("<polygon"),C=[d,g,m,u,h].filter(Boolean).length;this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F50D} SVG \uB0B4\uBD80 \uC694\uC18C: path=${d}, rect=${g}, circle=${m}, line=${u}, polygon=${h}, \uCD1D ${C}\uAC1C \uD0C0\uC785`);let _=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(_);this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658","\u{1F517} SVG Blob URL \uC0DD\uC131 \uC644\uB8CC");let y=new Image;y.crossOrigin="anonymous";let D=setTimeout(()=>{this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658","\u23F1\uFE0F SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uD0C0\uC784\uC544\uC6C3 (10\uCD08)"),this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`SVG \uAE38\uC774: ${t.svgContent?.length}, \uC2DC\uC791: ${t.svgContent?.substring(0,100)}`),this.cdr.detectChanges(),URL.revokeObjectURL(P),i(new Error("SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uD0C0\uC784\uC544\uC6C3"))},1e4);y.onerror=w=>{clearTimeout(D),this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`\u274C SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC2E4\uD328: ${w}`),this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`\uC2E4\uD328\uD55C SVG (\uCCAB 500\uC790): ${t.svgContent?.substring(0,500)}`),this.cdr.detectChanges(),URL.revokeObjectURL(P),i(new Error("SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC2E4\uD328"))},y.onload=()=>E(this,null,function*(){clearTimeout(D);try{this.debugLogger.success("SVG\u2192PNG\uBCC0\uD658",`\u2705 SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC644\uB8CC: ${y.naturalWidth}x${y.naturalHeight}`),this.cdr.detectChanges();let w=document.createElement("canvas"),v=2,k=t.width||y.naturalWidth||y.width||595,S=t.height||y.naturalHeight||y.height||842;w.width=k*v,w.height=S*v,this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F3A8} Canvas \uC0DD\uC131: ${w.width}x${w.height} (scale=${v})`),this.cdr.detectChanges();let I=w.getContext("2d");if(!I)throw new Error("Canvas context\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");I.clearRect(0,0,w.width,w.height),I.scale(v,v),I.drawImage(y,0,0,k,S),this.debugLogger.success("SVG\u2192PNG\uBCC0\uD658","\u2705 Canvas\uC5D0 SVG \uADF8\uB9AC\uAE30 \uC644\uB8CC");let N=I.getImageData(0,0,Math.min(10,w.width),Math.min(10,w.height)).data.some(j=>j!==0);this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F50D} Canvas \uD53D\uC140 \uB370\uC774\uD130: ${N?"\uB0B4\uC6A9 \uC788\uC74C":"\uBE44\uC5B4\uC788\uC74C"}`),N||(this.debugLogger.warn("SVG\u2192PNG\uBCC0\uD658","\u26A0\uFE0F Canvas\uAC00 \uBE44\uC5B4\uC788\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),this.cdr.detectChanges()),w.toBlob(j=>E(this,null,function*(){try{if(!j)throw new Error("Canvas\uB97C Blob\uC73C\uB85C \uBCC0\uD658\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F3A8} PNG Blob \uC0DD\uC131: ${j.size}bytes (${j.type})`),this.cdr.detectChanges();let U=yield j.arrayBuffer(),F=new Uint8Array(U);this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F4E6} ArrayBuffer \uBCC0\uD658 \uC644\uB8CC: ${U.byteLength}bytes`);let G=e.doc;if(!G)throw new Error("PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658","\u{1F4C4} PDF \uBB38\uC11C \uD655\uC778 \uC644\uB8CC");let L=yield G.embedPng(F);this.debugLogger.success("SVG\u2192PNG\uBCC0\uD658",`\u2705 PNG \uC774\uBBF8\uC9C0 \uC784\uBCA0\uB4DC: ${L.width}x${L.height}`);let H=e.getSize().height,T=e.getSize().width,at=t.x||0,mt=t.y||0;this.debugLogger.info("SVG\u2192PNG\uBCC0\uD658",`\u{1F4D0} \uC774\uBBF8\uC9C0 \uBC30\uCE58: \uC704\uCE58=(${at}, ${mt}), \uD06C\uAE30=${k}x${S}, \uD398\uC774\uC9C0=${T}x${H}`),e.drawImage(L,{x:at,y:mt,width:k,height:S}),this.debugLogger.success("SVG\u2192PNG\uBCC0\uD658",`\u2705 SVG\u2192PNG \uBCC0\uD658 \uC644\uB8CC: (${at}, ${mt}) ${k}x${S}`),URL.revokeObjectURL(P),o()}catch(U){this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`\u274C PNG \u2192 PDF \uBCC0\uD658 \uC2E4\uD328: ${U}`),URL.revokeObjectURL(P),i(U)}}),"image/png",.95)}catch(w){this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`\u274C Canvas \uB80C\uB354\uB9C1 \uC2E4\uD328: ${w}`),URL.revokeObjectURL(P),i(w)}}),y.src=P}catch(c){this.debugLogger.error("SVG\u2192PNG\uBCC0\uD658",`\u274C SVG\u2192PNG \uBCC0\uD658 \uC804\uCCB4 \uC2E4\uD328: ${c}`),i(c)}})})}addVectorPathToPdfPage(e,t,n){return E(this,null,function*(){try{let{rgb:o}=n,{width:i,height:c}=e.getSize();console.log(`\uBCA1\uD130 \uD328\uC2A4 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uD328\uC2A4 \uB370\uC774\uD130: ${t.pathData}
        - \uC704\uCE58: (${t.x}, ${t.y})
        - \uD06C\uAE30: ${t.width} x ${t.height}
        - \uC120 \uC0C9\uC0C1: ${t.strokeColor}
        - \uC120 \uB450\uAED8: ${t.strokeWidth}
        - \uCC44\uC6B0\uAE30: ${t.fill}
        - \uD398\uC774\uC9C0 \uD06C\uAE30: ${i} x ${c}`),t.pathData||(console.warn("\uD328\uC2A4 \uB370\uC774\uD130\uAC00 \uC5C6\uC5B4\uC11C \uAE30\uBCF8 \uBCA0\uC9C0\uC5B4 \uACE1\uC120\uC744 \uC0DD\uC131\uD569\uB2C8\uB2E4."),t.pathData="M 50 50 Q 100 20 150 50"),yield this.convertAndDrawSvgPath(e,t,n),console.log("\uBCA1\uD130 \uD328\uC2A4 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428")}catch(o){console.error("\uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00 \uC2E4\uD328:",o),o instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",o.message);try{let{rgb:i}=n,c=this.parseColor(t.strokeColor||"#000000"),{width:d,height:g}=e.getSize(),m=Math.max(0,Math.min(t.x||0,d-10)),u=Math.max(10,Math.min(g-(t.y||0)-(t.height||50),g-10));e.drawRectangle({x:m,y:u,width:Math.min(t.width||100,d-m),height:Math.min(t.height||50,g-u),borderColor:i(c.r,c.g,c.b),borderWidth:t.strokeWidth||2}),e.drawText("\uBCA1\uD130\uD328\uC2A4",{x:m+10,y:u+(t.height||50)/2,size:10,color:i(.5,.5,.5)})}catch(i){console.error("\uBCA1\uD130 \uD328\uC2A4 \uB300\uCCB4 \uADF8\uB9AC\uAE30\uB3C4 \uC2E4\uD328:",i)}}})}convertAndDrawSvgPath(e,t,n){return E(this,null,function*(){let{rgb:o}=n,i=this.parseColor(t.strokeColor||"#000000"),c=t.fill&&t.fill!=="none"?this.parseColor(t.fill):null,d=t.pathData||"",g=this.parseSvgPathData(d);yield this.drawPathCommands(e,g,t,n,i,c)})}parseSvgPathData(e){let t=[],n=/([MLQCZmlqcz])\s*([^MLQCZmlqcz]*)/g,o;for(;(o=n.exec(e))!==null;){let i=o[1],c=o[2].trim(),d=c?c.split(/[\s,]+/).map(Number).filter(g=>!isNaN(g)):[];t.push({command:i,params:d})}return t}drawPathCommands(e,t,n,o,i,c){return E(this,null,function*(){let{rgb:d}=o,g=0,m=0,u=0,h=0;console.log("\u{1F3A8} \uD328\uC2A4 \uBA85\uB839\uC5B4 \uADF8\uB9AC\uAE30:",{commandCount:t.length,firstCommands:t.slice(0,5),strokeColor:i,fillColor:c});for(let C of t)switch(C.command.toUpperCase()){case"M":C.params.length>=2&&(g=C.params[0],m=C.params[1],u=g,h=m,console.log(`  M ${g},${m}`));break;case"L":if(C.params.length>=2){let _=C.params[0],P=C.params[1];console.log(`  L ${_},${P} (\uC120 \uADF8\uB9AC\uAE30: ${g},${m} \u2192 ${_},${P})`),e.drawLine({start:{x:g,y:m},end:{x:_,y:P},thickness:n.strokeWidth||1,color:d(i.r,i.g,i.b)}),g=_,m=P}break;case"Q":if(C.params.length>=4){let _=C.params[0],P=C.params[1],y=C.params[2],D=C.params[3];console.log(`  Q ${_},${P} ${y},${D} (\uACE1\uC120)`);let w=10;for(let v=0;v<w;v++){let k=v/w,S=(v+1)/w,I=(1-k)*(1-k)*g+2*(1-k)*k*_+k*k*y,A=(1-k)*(1-k)*m+2*(1-k)*k*P+k*k*D,N=(1-S)*(1-S)*g+2*(1-S)*S*_+S*S*y,j=(1-S)*(1-S)*m+2*(1-S)*S*P+S*S*D;e.drawLine({start:{x:I,y:A},end:{x:N,y:j},thickness:n.strokeWidth||1,color:d(i.r,i.g,i.b)})}g=y,m=D}break;case"C":if(C.params.length>=6){let _=C.params[0],P=C.params[1],y=C.params[2],D=C.params[3],w=C.params[4],v=C.params[5];console.log(`  C ${_},${P} ${y},${D} ${w},${v} (3\uCC28 \uACE1\uC120)`);let k=15;for(let S=0;S<k;S++){let I=S/k,A=(S+1)/k,N=Math.pow(1-I,3)*g+3*Math.pow(1-I,2)*I*_+3*(1-I)*Math.pow(I,2)*y+Math.pow(I,3)*w,j=Math.pow(1-I,3)*m+3*Math.pow(1-I,2)*I*P+3*(1-I)*Math.pow(I,2)*D+Math.pow(I,3)*v,U=Math.pow(1-A,3)*g+3*Math.pow(1-A,2)*A*_+3*(1-A)*Math.pow(A,2)*y+Math.pow(A,3)*w,F=Math.pow(1-A,3)*m+3*Math.pow(1-A,2)*A*P+3*(1-A)*Math.pow(A,2)*D+Math.pow(A,3)*v;e.drawLine({start:{x:N,y:j},end:{x:U,y:F},thickness:n.strokeWidth||1,color:d(i.r,i.g,i.b)})}g=w,m=v}break;case"Z":console.log("  Z (\uACBD\uB85C \uB2EB\uAE30)"),(g!==u||m!==h)&&e.drawLine({start:{x:g,y:m},end:{x:u,y:h},thickness:n.strokeWidth||1,color:d(i.r,i.g,i.b)}),g=u,m=h;break}console.log("\u2705 \uD328\uC2A4 \uADF8\uB9AC\uAE30 \uC644\uB8CC")})}addSvgToPdfPage(e,t,n){return E(this,null,function*(){try{if(this.debugLogger.info("SVG\uB80C\uB354\uB9C1","\u{1F3A8} SVG \uC694\uC18C\uB97C PDF\uB85C \uB80C\uB354\uB9C1 \uC2DC\uC791"),this.debugLogger.info("SVG\uB80C\uB354\uB9C1",`SVG: \uC704\uCE58=(${t.x}, ${t.y}), \uD06C\uAE30=${t.width}x${t.height}`),this.cdr.detectChanges(),!t.svgContent){this.debugLogger.warn("SVG\uB80C\uB354\uB9C1","\u26A0\uFE0F SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),this.cdr.detectChanges();return}try{this.debugLogger.info("SVG\uB80C\uB354\uB9C1","\u{1F504} SVG\u2192PNG \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2DC\uB3C4"),yield this.addSvgAsImageToPdf(e,t,n),this.debugLogger.success("SVG\uB80C\uB354\uB9C1","\u2705 SVG\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658\uD558\uC5EC PDF\uC5D0 \uC0BD\uC785 \uC644\uB8CC"),this.cdr.detectChanges();return}catch(D){this.debugLogger.warn("SVG\uB80C\uB354\uB9C1",`\u26A0\uFE0F SVG \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2E4\uD328, \uBCA1\uD130 \uBC29\uC2DD\uC73C\uB85C \uC2DC\uB3C4: ${D}`),this.cdr.detectChanges()}this.debugLogger.info("SVG\uB80C\uB354\uB9C1","\u{1F4CA} Fallback: \uBCA1\uD130 \uBC29\uC2DD\uC73C\uB85C SVG \uB80C\uB354\uB9C1 \uC2DC\uB3C4");let o=t.svgContent.replace(/<svg:/g,"<").replace(/<\/svg:/g,"</").replace(/xmlns:svg="[^"]*"/g,"").replace(/svg:xlink=/g,"xlink=");this.debugLogger.info("SVG\uB80C\uB354\uB9C1","\u{1F9F9} SVG \uB124\uC784\uC2A4\uD398\uC774\uC2A4 \uC815\uB9AC \uC644\uB8CC");let d=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;if(d.tagName!=="svg"){this.debugLogger.error("SVG\uB80C\uB354\uB9C1","\u274C \uC720\uD6A8\uD55C SVG\uAC00 \uC544\uB2D9\uB2C8\uB2E4");return}let g=d.querySelectorAll("path"),m=d.querySelectorAll("rect"),u=d.querySelectorAll("circle");this.debugLogger.info("SVG\uB80C\uB354\uB9C1",`\u{1F4CA} SVG \uC694\uC18C \uAC1C\uC218: path=${g.length}, rect=${m.length}, circle=${u.length}`);let{rgb:h}=n,C=e.getSize().height,_=t.x||0,P=t.y||0,y=t.height||842;for(let D=0;D<g.length;D++){let w=g[D],v=w.getAttribute("d");if(!v)continue;let k=w.getAttribute("fill")||"none",S=w.getAttribute("stroke")||"#000000",I=parseFloat(w.getAttribute("stroke-width")||"1"),A=this.parseSvgPathData(v),N={id:`svg-path-${D}`,type:"vector-path",x:_,y:P,width:t.width||595,height:y,pathData:v,strokeColor:S,strokeWidth:I,fill:k!=="none"?k:void 0};yield this.convertAndDrawSvgPath(e,N,n)}for(let D=0;D<m.length;D++){let w=m[D],v=parseFloat(w.getAttribute("x")||"0")+_,k=parseFloat(w.getAttribute("y")||"0"),S=parseFloat(w.getAttribute("width")||"0"),I=parseFloat(w.getAttribute("height")||"0"),A=w.getAttribute("fill")||"none",N=w.getAttribute("stroke")||"none",j=parseFloat(w.getAttribute("stroke-width")||"1"),U=C-P-k-I;if(A!=="none"){let F=this.parseColor(A);e.drawRectangle({x:v,y:U,width:S,height:I,color:h(F.r,F.g,F.b)})}if(N!=="none"){let F=this.parseColor(N);e.drawRectangle({x:v,y:U,width:S,height:I,borderColor:h(F.r,F.g,F.b),borderWidth:j})}}for(let D=0;D<u.length;D++){let w=u[D],v=parseFloat(w.getAttribute("cx")||"0")+_,k=parseFloat(w.getAttribute("cy")||"0"),S=parseFloat(w.getAttribute("r")||"0"),I=w.getAttribute("fill")||"none",A=w.getAttribute("stroke")||"none",N=parseFloat(w.getAttribute("stroke-width")||"1"),j=C-P-k,U=32;for(let F=0;F<U;F++){let G=F/U*2*Math.PI,L=(F+1)/U*2*Math.PI,H=v+S*Math.cos(G),T=j+S*Math.sin(G),at=v+S*Math.cos(L),mt=j+S*Math.sin(L);if(A!=="none"){let ct=this.parseColor(A);e.drawLine({start:{x:H,y:T},end:{x:at,y:mt},thickness:N,color:h(ct.r,ct.g,ct.b)})}}}this.debugLogger.success("SVG\uB80C\uB354\uB9C1","\u2705 SVG \uC694\uC18C \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(o){this.debugLogger.error("SVG\uB80C\uB354\uB9C1",`\u274C SVG \uC694\uC18C \uB80C\uB354\uB9C1 \uC2E4\uD328: ${o}`);try{let{rgb:i}=n;e.drawText("SVG \uB80C\uB354\uB9C1 \uC2E4\uD328",{x:(t.x||50)+10,y:e.getSize().height-(t.y||100)-20,size:12,color:i(.8,0,0)})}catch(i){this.debugLogger.error("SVG\uB80C\uB354\uB9C1",`\uD3F4\uBC31 \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1\uB3C4 \uC2E4\uD328: ${i}`)}}})}waitForPDFLib(){return E(this,null,function*(){return new Promise((e,t)=>{if(typeof window.PDFLib<"u"){e(window.PDFLib);return}let n=0,o=50,i=setInterval(()=>{n++,typeof window.PDFLib<"u"?(clearInterval(i),e(window.PDFLib)):n>=o&&(clearInterval(i),t(new Error("PDF-lib \uB85C\uB4DC \uC2E4\uD328")))},100)})})}generatePdfThumbnailsOptimized(){return E(this,null,function*(){if(console.log("[\uC378\uB124\uC77C] \uC0DD\uC131 \uC2DC\uC791 - PDF \uAD6C\uC131 \uBC29\uC2DD \uC801\uC6A9"),this.pdfSrc){console.log("[\uC378\uB124\uC77C] PDF URL \uC0AC\uC6A9:",this.pdfSrc),this.isGeneratingThumbnails=!0;try{yield this.pdfThumbnail.generatePdfThumbnailsOptimized(this.pdfSrc,(e,t)=>{let n=e-1;this.pdfPages[n]&&(this.pdfPages[n].thumbnail=t)}),this.pdfPages=[...this.pdfPages],this.cdr.detectChanges()}catch(e){console.error("[\uC378\uB124\uC77C] \uC0DD\uC131 \uC2E4\uD328:",e),this.createDefaultThumbnailsForAllPages()}finally{this.isGeneratingThumbnails=!1}return}console.log("[\uC378\uB124\uC77C] Base64 \uBC29\uC2DD\uC73C\uB85C \uC9C4\uD589"),this.createDefaultThumbnailsForAllPages()})}generateOptimizedThumbnail(e,t){return E(this,null,function*(){try{let n=yield e.getPage(t),o=yield this.extractNativeThumbnail(n);if(o){let i=t-1;this.pdfPages[i]&&(this.pdfPages[i].thumbnail=o);return}yield this.renderHighQualityThumbnail(n,t)}catch(n){console.error(`\uD398\uC774\uC9C0 ${t} \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:`,n);let o=t-1;this.pdfPages[o]&&(this.pdfPages[o].thumbnail=this.createDefaultThumbnail(t))}})}extractNativeThumbnail(e){return E(this,null,function*(){try{let t=yield e.getOperatorList();for(let n=0;n<t.fnArray.length;n++){let o=t.fnArray[n],i=t.argsArray[n];if(o===window.pdfjsLib.OPS.paintImageXObject){let c=i[0];if(c)return yield this.convertImageToDataUrl(e,c)}}return null}catch{return null}})}convertImageToDataUrl(e,t){return E(this,null,function*(){try{let o=e.getViewport({scale:.3}),i=document.createElement("canvas"),c=i.getContext("2d");return c?(i.width=o.width,i.height=o.height,c.fillStyle="#ffffff",c.fillRect(0,0,i.width,i.height),yield e.render({canvasContext:c,viewport:o}).promise,i.toDataURL("image/jpeg",.8)):null}catch{return null}})}renderHighQualityThumbnail(e,t){return E(this,null,function*(){let o=e.getViewport({scale:.25}),i=document.createElement("canvas"),c=i.getContext("2d");if(!c){let m=t-1;this.pdfPages[m]&&(this.pdfPages[m].thumbnail=this.createDefaultThumbnail(t));return}i.width=o.width,i.height=o.height,c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high",c.fillStyle="#ffffff",c.fillRect(0,0,i.width,i.height),yield e.render({canvasContext:c,viewport:o}).promise;let d=i.toDataURL("image/jpeg",.8),g=t-1;this.pdfPages[g]&&(this.pdfPages[g].thumbnail=d)})}onPdfLoaded(e){console.log("\u{1F4D6} PDF \uB85C\uB4DC\uB428:",e),this.totalPages=e.pagesCount||1,console.log("\u{1F4CA} \uCD1D \uD398\uC774\uC9C0 \uC218 \uC124\uC815\uB428:",this.totalPages),this.snackbar.showSuccess(`PDF \uBB38\uC11C\uAC00 \uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. (${this.totalPages}\uD398\uC774\uC9C0)`),this.generatePdfPageData(),this.enablePdfAnalysis?(console.log("\u{1F50D} PDF \uAD6C\uC870 \uC790\uB3D9 \uBD84\uC11D \uC2DC\uC791..."),this.analyzePdfStructure().then(()=>{console.log("\u2705 PDF \uAD6C\uC870 \uBD84\uC11D \uC644\uB8CC - \uB300\uC2DC\uBCF4\uB4DC \uD45C\uC2DC\uB428")}).catch(t=>{console.error("\u274C PDF \uAD6C\uC870 \uBD84\uC11D \uC2E4\uD328:",t)})):console.log("\u23F8\uFE0F PDF \uBD84\uC11D \uD1A0\uAE00 \uBE44\uD65C\uC131\uD654\uB428 - \uC790\uB3D9 \uBD84\uC11D \uAC74\uB108\uB700"),setTimeout(()=>{this.setupPdfScrollListener()},500)}onPdfLoadingFailed(e){console.error("PDF loading failed:",e),this.snackbar.showError("PDF \uBB38\uC11C \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}onPageChange(e){this.currentPage=e}onZoomChange(e){this.zoomLevel=typeof e=="string"?parseInt(e):e}generatePdfPageData(){this.pdfPages=[];for(let e=1;e<=this.totalPages;e++)this.pdfPages.push({id:`page-${e}`,pageNumber:e,width:this.pageWidth,height:this.pageHeight,elements:[]})}generatePdfThumbnailsWithRetry(e=0){try{let n=window.PDFViewerApplication;if(n&&n.pdfDocument){let o=[];for(let i=1;i<=this.totalPages;i++)o.push(this.generateSinglePageThumbnail(i));Promise.all(o).then(()=>{this.pdfPages=[...this.pdfPages],this.cdr.detectChanges()}).catch(i=>{console.error("\uC378\uB124\uC77C \uC0DD\uC131 \uC911 \uC77C\uBD80 \uC624\uB958 \uBC1C\uC0DD:",i),this.cdr.detectChanges()})}else e<5?setTimeout(()=>{this.generatePdfThumbnailsWithRetry(e+1)},1500):(console.error("PDF \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328: PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC74C"),this.createDefaultThumbnailsForAllPages())}catch(n){console.error("PDF \uC378\uB124\uC77C \uC0DD\uC131 \uC911 \uC624\uB958:",n),e<5?setTimeout(()=>{this.generatePdfThumbnailsWithRetry(e+1)},1500):this.createDefaultThumbnailsForAllPages()}}generateSinglePageThumbnail(e){if(!this.pdfSrc){let t=e-1;return this.pdfPages[t]&&(this.pdfPages[t].thumbnail=this.createDefaultThumbnail(e)),Promise.resolve()}return this.pdfThumbnail.generateSinglePageThumbnail(this.pdfSrc,e,(t,n)=>{let o=t-1;this.pdfPages[o]&&(this.pdfPages[o].thumbnail=n)}).catch(t=>{console.error(`\uD398\uC774\uC9C0 ${e} \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:`,t);let n=e-1;this.pdfPages[n]&&(this.pdfPages[n].thumbnail=this.createDefaultThumbnail(e))})}createDefaultThumbnailsForAllPages(){this.pdfPages.forEach((e,t)=>{e.thumbnail=this.createDefaultThumbnail(t+1)}),this.cdr.detectChanges()}createDefaultThumbnail(e){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
      <svg width="120" height="160" xmlns="http://www.w3.org/2000/svg">
        <rect width="120" height="160" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
        <text x="${120/2}" y="${160/2-10}" font-size="14" fill="#6c757d" text-anchor="middle" font-family="Arial">PDF</text>
        <text x="${120/2}" y="${160/2+10}" font-size="12" fill="#6c757d" text-anchor="middle" font-family="Arial">Page ${e}</text>
      </svg>
    `)}`}generateThumbnailsFromPdfUrl(){return E(this,null,function*(){try{this.isGeneratingThumbnails=!0,console.log("[\uC378\uB124\uC77C] PDF URL \uBC29\uC2DD\uC73C\uB85C \uC0DD\uC131");let t=yield window.pdfjsLib.getDocument(this.pdfSrc).promise;console.log("[\uC378\uB124\uC77C] PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC, \uCD1D \uD398\uC774\uC9C0:",t.numPages);for(let o=1;o<=this.totalPages;o++){console.log("[\uC378\uB124\uC77C]",o,"\uD398\uC774\uC9C0 \uC0DD\uC131 \uC911");let i=yield t.getPage(o),c=yield this.generatePageThumbnailLikePdfConfig(i),d=o-1;this.pdfPages[d]&&(this.pdfPages[d].thumbnail=c,console.log("[\uC378\uB124\uC77C]",o,"\uD398\uC774\uC9C0 \uC644\uB8CC"))}console.log("[\uC378\uB124\uC77C] URL \uBC29\uC2DD \uC0DD\uC131 \uC644\uB8CC"),this.pdfPages=[...this.pdfPages],this.cdr.detectChanges();let n=this.pdfPages.filter(o=>o.thumbnail).length;console.log("[\uC378\uB124\uC77C] \uCD5C\uC885 \uC0DD\uC131 \uAC1C\uC218:",n,"/",this.totalPages)}catch(e){console.error("[\uC378\uB124\uC77C] URL \uBC29\uC2DD \uC2E4\uD328:",e),this.createDefaultThumbnailsForAllPages()}finally{this.isGeneratingThumbnails=!1}})}generatePageThumbnailLikePdfConfig(e){return E(this,null,function*(){let n=e.getViewport({scale:.3}),o=document.createElement("canvas"),i=o.getContext("2d");if(!i)throw new Error("Canvas context\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");o.height=n.height,o.width=n.width;let c={canvasContext:i,viewport:n};return yield e.render(c).promise,o.toDataURL("image/png")})}onElementPropertyChange(e){if(console.log("Element property changed:",e),!this.selectedElement||!e)return;let{property:t,value:n}=e,o=this.currentPage-1,i=this.pdfPages[o]?.elements.find(c=>c.id===this.selectedElement.id);if(i){if(t.includes(".")){let c=t.split("."),d=i;for(let g=0;g<c.length-1;g++)d[c[g]]||(d[c[g]]={}),d=d[c[g]];d[c[c.length-1]]=n}else i[t]=n;if(t.includes(".")){let c=t.split("."),d=this.selectedElement;for(let g=0;g<c.length-1;g++)d[c[g]]||(d[c[g]]={}),d=d[c[g]];d[c[c.length-1]]=n}else this.selectedElement[t]=n;this.saveToUndoStack(),this.updateSelectedElement(),console.log("Element updated:",i)}}onDeselectElement(){console.log("Element deselected"),this.selectedElement=null,this.updateSelectedElement()}onDeleteElement(){if(console.log("Delete element request from sidebar"),this.selectedElement){let e=this.currentPage-1,t=this.pdfPages[e];if(t){let n=t.elements.findIndex(o=>o.id===this.selectedElement.id);console.log("Deleting element:",this.selectedElement.id,"at index:",n),n>-1?(t.elements.splice(n,1),console.log("Element deleted successfully. Remaining elements:",t.elements.length),this.selectedElement=null,this.saveToUndoStack()):console.warn("Element not found in current page")}else console.error("Current page not found:",e)}else console.warn("No element selected for deletion")}onSidebarAction(e){switch(console.log("Sidebar action:",e),e.action){case"toggle-dark-mode":this.toggleDarkMode();break;case"keep-first-page":this.keepFirstPageOnly();break;case"analyze-structure":this.analyzePdfStructure();break;case"export-text-stream":this.exportTextStreamData();break;case"compress-pdf":this.compressPdf();break;default:console.log("Unknown sidebar action:",e.action)}}toggleDarkMode(){if(St.disableDarkMode)return;let e=document.body;e.classList.contains("dark-mode")?(e.classList.remove("dark-mode"),localStorage.setItem("darkMode","false")):(e.classList.add("dark-mode"),localStorage.setItem("darkMode","true"))}initializeDarkMode(){if(St.disableDarkMode){document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode","false");return}localStorage.getItem("darkMode")==="true"&&document.body.classList.add("dark-mode")}keepFirstPageOnly(){return E(this,null,function*(){if(!this.pdfSrc){this.snackbar.showError("PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{this.snackbar.showInfo("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uB294 \uC911...");let e=yield this.pdfPageDeleterService.getPageCount(this.pdfSrc);if(console.log(`\uD604\uC7AC PDF \uCD1D \uD398\uC774\uC9C0 \uC218: ${e}`),e===1){this.snackbar.showInfo("\uC774\uBBF8 1\uD398\uC774\uC9C0\uB9CC \uC788\uC2B5\uB2C8\uB2E4.");return}let t=[];for(let h=2;h<=e;h++)t.push(h);console.log(`\uC0AD\uC81C\uD560 \uD398\uC774\uC9C0: ${t.join(", ")}`);let n=yield this.pdfPageDeleterService.deletePages(this.pdfSrc,t),c=yield(yield(yield fetch(n)).blob()).arrayBuffer(),d=this.arrayBufferToBase64(c);this.pdfBase64Data=d,console.log("PDF Base64 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC (\uD06C\uAE30:",d.length,")"),this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=n;let m=(this.loadedFileName||"document.pdf").replace(".pdf","_first_page_only.pdf"),u=document.createElement("a");u.href=n,u.download=m,document.body.appendChild(u),u.click(),document.body.removeChild(u),this.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30 \uC644\uB8CC! (${e}\uD398\uC774\uC9C0 \u2192 1\uD398\uC774\uC9C0) - \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC\uB428`),console.log("1\uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30 \uC644\uB8CC \uBC0F \uB2E4\uC6B4\uB85C\uB4DC:",m)}catch(e){console.error("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958:",e),this.snackbar.showError("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}exportTextStreamData(){return E(this,null,function*(){if(!this.pdfSrc){this.snackbar.showError("PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{this.snackbar.showInfo("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911...");let t=yield(yield fetch(this.pdfSrc)).blob(),n=this.currentDocument?.title||"document.pdf",o=new File([t],n,{type:"application/pdf"}),i=yield this.pdfTextStreamService.extractTextStreamAsJson(o),c=JSON.stringify(i,null,2),d=new Blob([c],{type:"application/json"}),g=URL.createObjectURL(d),m=document.createElement("a");m.href=g,m.download=`${n.replace(".pdf","")}_text_stream.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(g),this.snackbar.showSuccess("\u2705 \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC JSON \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!"),console.log("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130:",i)}catch(e){console.error("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958:",e),this.snackbar.showError("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadVectorStreamJson(){return E(this,null,function*(){let e=null,t="document";try{if(this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130 \uCD94\uCD9C \uC911..."),this.pdfBase64Data){console.log("\u{1F4C4} pdfBase64Data\uB85C\uBD80\uD130 PDF \uC0DD\uC131");let o=this.pdfBase64Data.includes(",")?this.pdfBase64Data.split(",")[1]:this.pdfBase64Data,i=atob(o),c=new Array(i.length);for(let m=0;m<i.length;m++)c[m]=i.charCodeAt(m);let d=new Uint8Array(c),g=new Blob([d],{type:"application/pdf"});t=this.loadedFileName?this.loadedFileName.replace(".pdf",""):"document",e=new File([g],`${t}.pdf`,{type:"application/pdf"})}else if(this.pdfSrc){console.log("\u{1F4C4} pdfSrc URL\uB85C\uBD80\uD130 PDF \uAC00\uC838\uC624\uAE30");let i=yield(yield fetch(this.pdfSrc)).blob();t=this.loadedFileName?this.loadedFileName.replace(".pdf",""):"document",e=new File([i],`${t}.pdf`,{type:"application/pdf"})}else{let o=window.PDFViewerApplication;if(o?.pdfDocument){console.log("\u{1F4C4} PDFViewerApplication\uC73C\uB85C\uBD80\uD130 PDF \uAC00\uC838\uC624\uAE30");let i=yield o.pdfDocument.getData(),c=new Blob([i],{type:"application/pdf"});t=o.url?.split("/").pop()?.split(".")[0]||"document",e=new File([c],`${t}.pdf`,{type:"application/pdf"})}}if(!e){this.snackbar.showError("\u274C PDF \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. PDF\uB97C \uB2E4\uC2DC \uC5C5\uB85C\uB4DC\uD574 \uC8FC\uC138\uC694."),console.warn("PDF \uC811\uADFC \uC2E4\uD328:",{hasPdfBase64Data:!!this.pdfBase64Data,hasPdfSrc:!!this.pdfSrc,hasCurrentDocument:!!this.currentDocument,loadedFileName:this.loadedFileName});return}console.log("\u2705 PDF \uD30C\uC77C \uC900\uBE44 \uC644\uB8CC:",e.name,e.size);let n=yield this.pdfTextStreamService.extractVectorStreamData(e);this.pdfTextStreamService.downloadVectorStreamJson(n),this.pdfTextStreamService.logVectorStreamJson(n),this.snackbar.showSuccess("\u2705 \uBCA1\uD130 \uC2A4\uD2B8\uB9BC JSON \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!")}catch(n){console.error("\uBCA1\uD130 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958:",n),this.snackbar.showError("\uBCA1\uD130 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}compressPdf(){return E(this,null,function*(){if(!this.pdfSrc){this.snackbar.showError("PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{this.snackbar.showInfo("PDF \uC555\uCD95 \uC911... (\uC7AC\uCD5C\uC801\uD654)");let t=yield(yield fetch(this.pdfSrc)).arrayBuffer(),o=yield(yield window.PDFLib.PDFDocument.load(t)).save(),i=t.byteLength,c=o.byteLength,d=i-c,g=(d/i*100).toFixed(2),m=this.arrayBufferToBase64(o);this.pdfBase64Data=m,console.log("\uC555\uCD95\uB41C PDF Base64 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC (\uD06C\uAE30:",m.length,")");let u=new Blob([o],{type:"application/pdf"}),h=URL.createObjectURL(u);this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=h;let _=(this.loadedFileName||"document.pdf").replace(".pdf","_compressed.pdf"),P=document.createElement("a");P.href=h,P.download=_,document.body.appendChild(P),P.click(),document.body.removeChild(P),this.cdr.detectChanges();let y=d>0?`\u2705 PDF \uC555\uCD95 \uC644\uB8CC! (${g}% \uAC10\uC18C, ${Math.round(d/1024)}KB \uC808\uC57D) - \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC\uB428`:"\u2705 PDF \uCD5C\uC801\uD654 \uC644\uB8CC! (\uC774\uBBF8 \uCD5C\uC801\uD654\uB41C \uC0C1\uD0DC\uC785\uB2C8\uB2E4) - \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC\uB428";this.snackbar.showSuccess(y),console.log(`\uC555\uCD95 \uC644\uB8CC \uBC0F \uB2E4\uC6B4\uB85C\uB4DC - \uC6D0\uBCF8: ${i}bytes, \uC555\uCD95: ${c}bytes, \uD30C\uC77C\uBA85: ${_}`)}catch(e){console.error("PDF \uC555\uCD95 \uC911 \uC624\uB958:",e),this.snackbar.showError("PDF \uC555\uCD95 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}startDrawing(e){this.isDrawing=!0;let t=this.signatureCanvas.nativeElement,n=this.getCanvasCoordinates(e,t);this.lastX=n.x,this.lastY=n.y,this.signatureEditorData.canvasData||this.initializeCanvas()}draw(e){if(!this.isDrawing)return;let t=this.signatureCanvas.nativeElement,n=t.getContext("2d");if(!n)return;let o=this.getCanvasCoordinates(e,t),i=o.x,c=o.y;n.lineWidth=this.signatureEditorData.strokeWidth,n.strokeStyle=this.signatureEditorData.strokeColor,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.moveTo(this.lastX,this.lastY),n.lineTo(i,c),n.stroke(),this.lastX=i,this.lastY=c}stopDrawing(){this.isDrawing&&(this.isDrawing=!1,this.updateCanvasData())}handleTouch(e){e.preventDefault();let t=this.signatureCanvas.nativeElement,n=e.touches[0]||e.changedTouches[0];if(e.type==="touchstart"){this.isDrawing=!0;let o=this.getCanvasTouchCoordinates(n,t);this.lastX=o.x,this.lastY=o.y,this.signatureEditorData.canvasData||this.initializeCanvas()}else if(e.type==="touchmove"&&this.isDrawing){let o=t.getContext("2d");if(!o)return;let i=this.getCanvasTouchCoordinates(n,t),c=i.x,d=i.y;o.lineWidth=this.signatureEditorData.strokeWidth,o.strokeStyle=this.signatureEditorData.strokeColor,o.lineCap="round",o.lineJoin="round",o.beginPath(),o.moveTo(this.lastX,this.lastY),o.lineTo(c,d),o.stroke(),this.lastX=c,this.lastY=d}}clearCanvas(){let e=this.signatureCanvas.nativeElement,t=e.getContext("2d");if(t){let n=e.getBoundingClientRect();t.clearRect(0,0,n.width,n.height),this.initializeCanvas(),this.signatureEditorData.canvasData=null}}useCanvasSignature(){this.updateCanvasData(),this.signatureEditorData.signatureText=""}initializeCanvas(){let e=this.signatureCanvas.nativeElement,t=e.getContext("2d");if(t){let n=window.devicePixelRatio||1,o=e.getBoundingClientRect();e.width=o.width*n,e.height=o.height*n,e.style.width=o.width+"px",e.style.height=o.height+"px",t.scale(n,n),t.fillStyle="#ffffff",t.fillRect(0,0,o.width,o.height),t.lineCap="round",t.lineJoin="round",t.imageSmoothingEnabled=!0}}updateCanvasData(){let e=this.signatureCanvas.nativeElement;this.signatureEditorData.canvasData=e.toDataURL("image/png")}initializeCanvasIfNeeded(){this.signatureCanvas&&this.initializeCanvas()}getCanvasCoordinates(e,t){let n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}getCanvasTouchCoordinates(e,t){let n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}createSentenceOverlays(){return E(this,null,function*(){if(console.log("\u{1F4DD} \uBB38\uC7A5 \uB2E8\uC704 \uC624\uBC84\uB808\uC774 \uC0DD\uC131 \uC2DC\uC791"),!this.pdfSrc){this.snackbar.showWarning("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694");return}try{let t=yield(yield fetch(this.pdfSrc)).blob(),n=new File([t],this.docsTitle||"document.pdf",{type:"application/pdf"});console.log("\u{1F4CA} PDF \uD30C\uC77C \uB85C\uB4DC:",n.size,"bytes");let o=yield this.pdfTextStreamService.extractTextStreamAsJson(n);console.log("\u2705 \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC644\uB8CC:",o),console.log("\u{1F4CA} \uD398\uC774\uC9C0 \uC218:",o.pageCount),console.log("\u{1F4DD} \uCD1D \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C:",o.metadata.totalTextItems),this.sentenceGroups=this.convertToSentenceGroups(o),console.log("\u{1F4CB} \uC0DD\uC131\uB41C \uBB38\uC7A5 \uADF8\uB8F9:",this.sentenceGroups.length),this.textEditModalInfo={totalTextItems:o.metadata.totalTextItems,sentenceGroupCount:this.sentenceGroups.length,currentPage:this.currentPage,totalPages:o.pageCount},this.isTextEditInfoModalVisible=!0}catch(e){console.error("\u274C \uBB38\uC7A5 \uC624\uBC84\uB808\uC774 \uC0DD\uC131 \uC2E4\uD328:",e),this.snackbar.showError("\uD14D\uC2A4\uD2B8 \uCD94\uCD9C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4")}})}convertToSentenceGroups(e){alert("\u{1F3AF} \uC0C8\uB85C \uAC1C\uC120\uB41C convertToSentenceGroups \uD568\uC218\uAC00 \uC2E4\uD589\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),console.log("\u{1F504} [convertToSentenceGroups] \uC2DC\uC791",e);let t=[];if(e.pages&&e.pages.length>0){let o=e.pages[0];if(console.log("\u{1F4C4} \uCCAB \uD398\uC774\uC9C0 \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C \uC218:",o.textItems?.length||0),!o.textItems||o.textItems.length===0)return console.warn("\u26A0\uFE0F \uCCAB \uD398\uC774\uC9C0\uC5D0 textItems\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4!"),t;let i=[...o.textItems].sort((h,C)=>Math.abs(h.position.y-C.position.y)<3?h.position.x-C.position.x:C.position.y-h.position.y);console.log("\u{1F4CA} \uC815\uB82C\uB41C \uCCAB 3\uAC1C \uC544\uC774\uD15C:",i.slice(0,3));let c=null,d=8,g=50,m=800,u=[".","!","?","\u3002","\uFF01","\uFF1F"];i.forEach((h,C)=>{let _=h.text.trim();if(_)if(!c)c={text:_,position:{x:h.position.x,y:h.position.y,width:h.position.width||100,height:h.position.height||20},items:[h],pageNumber:1};else{let P=Math.abs(h.position.y-c.position.y),y=h.position.x-(c.position.x+c.position.width),D=c.position.width,w=c.text.trim().slice(-1),v=u.includes(w),k=P<d,S=y>=-5&&y<g,I=D<m,A=!v;if(C<10&&console.log(`\u{1F4CD} \uC544\uC774\uD15C ${C}: "${_.substring(0,20)}..."`,{yDiff:P.toFixed(2),xDiff:y.toFixed(2),width:D.toFixed(2),isSameLine:k,isCloseEnough:S,isNotTooWide:I,shouldContinue:A,lastChar:w}),k&&S&&I&&A){let N=y>3?" ":"";c.text+=N+_,c.position.width=h.position.x+(h.position.width||100)-c.position.x,c.position.height=Math.max(c.position.height,h.position.height||20),c.items.push(h),C<10&&console.log(`  \u2795 \uADF8\uB8F9\uC5D0 \uCD94\uAC00 \u2192 \uD604\uC7AC \uD14D\uC2A4\uD2B8: "${c.text.substring(0,50)}..."`)}else C<10&&console.log(`  \u{1F195} \uC0C8 \uADF8\uB8F9 \uC2DC\uC791 (\uC774\uC720: ${k?S?I?"\uBB38\uC7A5\uC885\uB8CC":"\uB108\uBB34\uB113\uC74C":"\uAC70\uB9AC\uBA40\uC74C":"\uB2E4\uB978\uC904"})`),t.push(c),c={text:_,position:{x:h.position.x,y:h.position.y,width:h.position.width||100,height:h.position.height||20},items:[h],pageNumber:1}}}),c&&t.push(c)}else console.warn("\u26A0\uFE0F textStreamData.pages\uAC00 \uC5C6\uAC70\uB098 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4!",e);console.log(`\u2705 [convertToSentenceGroups] \uC644\uB8CC: ${t.length}\uAC1C \uADF8\uB8F9 \uC0DD\uC131`),console.log("\u{1F4CB} \uC0DD\uC131\uB41C \uADF8\uB8F9\uB4E4:"),t.forEach((o,i)=>{console.log(`  ${i+1}. "${o.text.substring(0,60)}..." (${o.items.length}\uAC1C \uC544\uC774\uD15C)`)});let n=t.slice(0,3).map((o,i)=>`${i+1}. "${o.text.substring(0,40)}..." (${o.items.length}\uAC1C \uD1B5\uD569)`).join(`
`);return alert(`\u2705 \uBB38\uC7A5 \uADF8\uB8F9\uD654 \uC644\uB8CC!

\uCD1D ${t.length}\uAC1C \uADF8\uB8F9 \uC0DD\uC131\uB428

[\uCC98\uC74C 3\uAC1C \uC0D8\uD50C]
${n}`),t}createTextEditorInstances(){if(!this.sentenceGroups||this.sentenceGroups.length===0){this.sentenceTextEditors=[];return}let e=this.sentenceGroups.filter(t=>t.pageNumber===1);if(e.length===0){console.log("[DOCS] \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uC5D0 \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uBB38\uC7A5 \uADF8\uB8F9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),this.sentenceTextEditors=[];return}this.sentenceTextEditors=e.map((t,n)=>{let o=this.convertPdfToViewerCoordinates(t);if(n===0){console.log("=== [DOCS] \uCCAB \uBC88\uC9F8 \uC5D0\uB514\uD130 \uC88C\uD45C \uBCC0\uD658 ==="),console.log("[DOCS] PDF \uC88C\uD45C:",t.position),console.log("[DOCS] \uBCC0\uD658\uB41C \uC88C\uD45C:",o),console.log("[DOCS] \uC6D0\uBCF8 \uC88C\uD45C:",o.x,"\u2192 \uC870\uC815\uB41C \uC88C\uD45C:",o.x-10),console.log("[DOCS] \uC6D0\uBCF8 \uD3ED:",o.width,"\u2192 \uC870\uC815\uB41C \uD3ED:",o.width+20);let i=document.querySelector(".page"),c=this.pdfContainer?.nativeElement;if(i&&c){let d=i.getBoundingClientRect(),g=c.getBoundingClientRect();console.log("[DOCS] Page Rect:",{width:d.width,height:d.height,left:d.left,top:d.top}),console.log("[DOCS] Container Rect:",{width:g.width,height:g.height,left:g.left,top:g.top}),console.log("[DOCS] Calculated Scale:",d.width/595.276)}else console.warn("[DOCS] pageDiv \uB610\uB294 viewerContainer\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4!")}return{id:`sentence-editor-${n}`,x:o.x-10,y:o.y,width:o.width+20,height:o.height,rotation:0,text:t.text,originalText:t.text,isActive:!1,isModified:!1,font:{name:"NanumGothic",size:14,color:"#000000"}}}),console.log(`[DOCS] \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uC5D0\uC11C \uC0DD\uC131\uB41C \uBB38\uC7A5 \uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130\uB4E4: ${this.sentenceTextEditors.length}\uAC1C`)}convertPdfToViewerCoordinates(e){let n=document.querySelector(".page"),o=this.pdfContainer?.nativeElement;if(!n||!o){console.warn("Page or container not found");let y=(this.zoomLevel||100)/100,D=e.position.y;return{x:e.position.x*y,y:D*y,width:e.position.width*y,height:e.position.height*y}}let i=n.getBoundingClientRect(),c=o.getBoundingClientRect(),m=i.width/595.276,u=e.position.y,h=e.position.x*m,C=u*m,_=h+(i.left-c.left),P=C+(i.top-c.top);return{x:_,y:P,width:e.position.width*m,height:e.position.height*m}}onSentenceOverlayClick(e){console.log("\u{1F4DD} \uBB38\uC7A5 \uC624\uBC84\uB808\uC774 \uD074\uB9AD:",e.id),this.sentenceTextEditors.forEach(n=>{n.id!==e.id&&(n.isActive=!1)});let t=this.sentenceTextEditors.find(n=>n.id===e.id);t&&(t.isActive=!t.isActive,console.log(`\u2705 \uC5D0\uB514\uD130 ${e.id} ${t.isActive?"\uD65C\uC131\uD654":"\uBE44\uD65C\uC131\uD654"}`)),this.cdr.detectChanges()}setupPdfScrollListener(){if(this.scrollListenerAttached){console.log("\u26A0\uFE0F \uC2A4\uD06C\uB864 \uB9AC\uC2A4\uB108 \uC774\uBBF8 \uC5F0\uACB0\uB428, \uC911\uBCF5 \uBC29\uC9C0");return}if(!this.pdfContainer){console.warn("pdfContainer not found");return}new MutationObserver((t,n)=>{let o=this.pdfContainer.nativeElement.querySelector("#viewerContainer");o&&(this.renderer.listen(o,"scroll",i=>this.onPdfScroll(i)),this.scrollListenerAttached=!0,console.log("\u2705 PDF \uC2A4\uD06C\uB864 \uB9AC\uC2A4\uB108 \uC124\uC815 \uC644\uB8CC (ez-reader \uBC29\uC2DD)"),n.disconnect())}).observe(this.pdfContainer.nativeElement,{childList:!0,subtree:!0})}onPdfScroll(e){let t=e.target;this.scrollLeft=t.scrollLeft,this.scrollTop=t.scrollTop,this.sentenceTextEditors.forEach(n=>{n.isActive&&(n.isActive=!1)}),this.sentenceGroups&&this.sentenceGroups.length>0&&this.createTextEditorInstances(),this.cdr.detectChanges()}onTextEditorConfigChange(e){let t=this.sentenceTextEditors.findIndex(n=>n.id===e.id);t!==-1&&(this.sentenceTextEditors[t]=yt(it({},e),{isModified:!0}))}onTextEditorClose(){this.textEditorVisible=!1,console.log("\uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uB2EB\uAE30")}onTextEditorDelete(e){this.sentenceTextEditors=this.sentenceTextEditors.filter(t=>t.id!==e),console.log("\uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uC0AD\uC81C:",e)}onTextEditorDeactivate(e){let t=this.sentenceTextEditors.findIndex(n=>n.id===e);t!==-1&&(this.sentenceTextEditors[t].isActive=!1,console.log("\uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uBE44\uD65C\uC131\uD654:",e))}onTextEditInfoModalConfirm(){console.log("\u2705 \uD14D\uC2A4\uD2B8 \uD3B8\uC9D1 \uC2DC\uC791 \uD655\uC778"),this.isTextEditInfoModalVisible=!1,this.createTextEditorInstances(),console.log("\u{1F4CA} sentenceTextEditors \uAC1C\uC218:",this.sentenceTextEditors.length),console.log("\u{1F4CA} textEditorVisible:",this.textEditorVisible),this.textEditorVisible=!0,console.log("\u2705 \uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uD65C\uC131\uD654 \uC644\uB8CC"),console.log("\u{1F4CB} \uC0DD\uC131\uB41C \uC5D0\uB514\uD130\uB4E4:",this.sentenceTextEditors),this.cdr.detectChanges(),this.snackbar.showSuccess(`${this.sentenceGroups.length}\uAC1C\uC758 \uD14D\uC2A4\uD2B8 \uBE14\uB85D\uC744 \uD3B8\uC9D1\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4`)}onTextEditInfoModalCancel(){this.isTextEditInfoModalVisible=!1,this.sentenceGroups=[],console.log("\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1 \uCDE8\uC18C\uB428")}loadVectorGraphicsFromPdf(e){return E(this,null,function*(){try{console.log("\u{1F3A8} PDF \uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D \uC2DC\uC791..."),this.snackbar.showInfo("\uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D \uC911..."),this.loadedVectorData=yield this.pdfTextStreamService.extractVectorStreamData(e),console.log("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC:",{totalOperations:this.loadedVectorData.totalOperations,pageCount:this.loadedVectorData.pageCount,summary:this.loadedVectorData.summary}),this.snackbar.showSuccess(`\uBCA1\uD130 \uADF8\uB798\uD53D ${this.loadedVectorData.totalOperations}\uAC1C \uC694\uC18C \uBC1C\uACAC`),this.loadedVectorData.pageDetails.length>0&&(yield this.renderVectorGraphicsToCurrentPage())}catch(t){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB4DC \uC624\uB958:",t),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}renderVectorGraphicsToCurrentPage(){return E(this,null,function*(){if(!this.loadedVectorData||!this.pdfStructureData){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uB610\uB294 \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uADF8\uB798\uD53D \uC7AC\uC0DD\uC131 \uC2DC\uC791...`);let e=this.pdfPages.find(c=>c.pageNumber===this.currentPage);if(!e){console.warn("\u26A0\uFE0F \uD604\uC7AC \uD398\uC774\uC9C0 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=e.elements.length;e.elements=e.elements.filter(c=>c.type!=="vector-path");let n=t-e.elements.length;console.log(`\u{1F5D1}\uFE0F \uAE30\uC874 \uBCA1\uD130 \uC694\uC18C ${n}\uAC1C \uC81C\uAC70`);let o=this.loadedVectorData.pageDetails.find(c=>c.pageNumber===this.currentPage);if(!o||!o.operations||o.operations.length===0){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`),this.snackbar.showWarning(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}let i=this.convertVectorOperationsToElements(o,this.currentPage);e.elements.push(...i),console.log(`\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uC7AC\uC0DD\uC131 \uC644\uB8CC: ${i.length}\uAC1C \uC694\uC18C`),this.snackbar.showSuccess(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 ${i.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`),this.cdr.detectChanges()}catch(e){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB80C\uB354\uB9C1 \uC624\uB958:",e),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uB80C\uB354\uB9C1 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}getOrCreateVectorCanvas(){let e="vector-graphics-canvas",t=document.getElementById(e);if(!t){t=document.createElement("canvas"),t.id=e,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.zIndex="1",t.style.pointerEvents="none";let n=document.querySelector(".pdf-page-container");n&&n.appendChild(t)}return t}convertRenderedGraphicsToElements(){let e=this.pdfPages.find(t=>t.pageNumber===this.currentPage);if(!e){console.warn("\u26A0\uFE0F \uD604\uC7AC \uD398\uC774\uC9C0 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}e.elements=e.elements.filter(t=>t.type!=="vector-path"),this.renderedVectorGraphics.forEach((t,n)=>{if(t.svgPath&&t.boundingBox.width>0&&t.boundingBox.height>0){let o={id:`vector-${t.id}-${n}`,type:"vector-path",x:t.boundingBox.x,y:t.boundingBox.y,width:t.boundingBox.width,height:t.boundingBox.height,pathData:t.svgPath,fill:t.style.fill||"none",strokeColor:t.style.stroke||"#2c3e50",strokeWidth:t.style.strokeWidth||2,fillOpacity:t.style.opacity||1,strokeOpacity:t.style.opacity||1,properties:{originalType:t.type,coordinates:t.coordinates,pageNumber:t.pageNumber}};e.elements.push(o)}}),console.log(`\u{1F4DD} ${e.elements.filter(t=>t.type==="vector-path").length}\uAC1C \uBCA1\uD130 \uC694\uC18C\uB97C \uD398\uC774\uC9C0\uC5D0 \uCD94\uAC00\uD588\uC2B5\uB2C8\uB2E4.`),this.cdr.detectChanges()}toggleVectorGraphicsPreview(){this.showVectorGraphicsPreview=!this.showVectorGraphicsPreview,console.log(`\u{1F441}\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D ${this.showVectorGraphicsPreview?"\uD45C\uC2DC":"\uC228\uAE40"}`);let e=this.pdfPages.find(n=>n.pageNumber===this.currentPage);if(!e){console.warn("\u26A0\uFE0F \uD604\uC7AC \uD398\uC774\uC9C0 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=0;e.elements.forEach(n=>{n.type==="vector-path"&&(n.properties||(n.properties={}),n.properties.visible=this.showVectorGraphicsPreview,t++)}),this.cdr.detectChanges(),this.snackbar.showInfo(`${t}\uAC1C \uBCA1\uD130 \uC694\uC18C ${this.showVectorGraphicsPreview?"\uD45C\uC2DC":"\uC228\uAE40"}`)}addDebugLog(e,t,n){if(!this.enableDebugLogs)return;let o=n?JSON.stringify(n,(c,d)=>d,2):"",i=`[${new Date().toISOString()}] [${e}] ${t}${o?`
`+o:""}`;console.log(`[${e}] ${t}`,n||"")}downloadPdfBinary(){return E(this,null,function*(){try{let e=window.PDFViewerApplication,t=null,n="document";if(e?.pdfDocument)console.log("\u{1F4C4} PDFViewerApplication\uC73C\uB85C\uBD80\uD130 PDF \uBC14\uC774\uB108\uB9AC \uAC00\uC838\uC624\uAE30"),t=yield e.pdfDocument.getData(),n=e.url?.split("/").pop()?.split(".")[0]||"document";else if(this.pdfSrc)console.log("\u{1F4C4} pdfSrc\uB85C\uBD80\uD130 PDF \uBC14\uC774\uB108\uB9AC \uAC00\uC838\uC624\uAE30"),t=yield(yield fetch(this.pdfSrc)).arrayBuffer(),n=this.loadedFileName?.split(".")[0]||"document";else if(this.pdfBase64Data){console.log("\u{1F4C4} Base64 \uB370\uC774\uD130\uB85C\uBD80\uD130 PDF \uBC14\uC774\uB108\uB9AC \uAC00\uC838\uC624\uAE30");let g=this.pdfBase64Data.includes("base64,")?this.pdfBase64Data.split("base64,")[1]:this.pdfBase64Data,m=atob(g),u=new Uint8Array(m.length);for(let h=0;h<m.length;h++)u[h]=m.charCodeAt(h);t=u.buffer,n=this.loadedFileName?.split(".")[0]||"document"}if(!t){this.snackbar.showError("\u274C PDF \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let o=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download=`${n}_binary_${Date.now()}.pdf`,c.click(),URL.revokeObjectURL(i);let d=(t.byteLength/1024).toFixed(2);this.snackbar.showSuccess(`\u2705 PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC (${d}KB)`),console.log("\u2705 PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC:",{fileName:c.download,size:`${d}KB`,byteLength:t.byteLength})}catch(e){console.error("\u274C PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC \uC624\uB958:",e),this.snackbar.showError("PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}clearDebugLogs(){this.vectorDebugInfo={},this.snackbar.showInfo("\uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uCD08\uAE30\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}redrawAllVectorGraphics(){return E(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791..."),console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791...");let t=e.pdfDocument,n=window.pdfjsLib;if(!n){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let o=document.getElementById("viewerContainer")||document.querySelector(".pdfViewer");if(!o){this.snackbar.showError("\u274C PDF \uBDF0\uC5B4 \uCEE8\uD14C\uC774\uB108\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}yield this.pdfTextStreamService.redrawAllPagesVectorGraphics(t,n,o),this.snackbar.showSuccess("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC644\uB8CC!"),console.log("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC644\uB8CC!")}catch(e){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC624\uB958:",e),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}redrawCurrentPageVectorGraphics(){return E(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=e.page||this.currentPage;this.snackbar.showInfo(`\u{1F3A8} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791...`),console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791...`);let n=e.pdfDocument,o=window.pdfjsLib,i=yield n.getPage(t),d=(document.getElementById("viewerContainer")||document.querySelector(".pdfViewer"))?.querySelector(`.page[data-page-number="${t}"]`);if(!d){this.snackbar.showError(`\u274C \uD398\uC774\uC9C0 ${t} DOM \uC694\uC18C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}let g=yield this.pdfTextStreamService.redrawVectorGraphicsFromSVG(i,o,d);g.success?(this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uADF8\uB798\uD53D \uC644\uB8CC! (${g.totalElementsCreated}\uAC1C \uC694\uC18C \uC0DD\uC131)`),console.log(`\u2705 \uD398\uC774\uC9C0 ${t} \uACB0\uACFC:`,g)):this.snackbar.showWarning(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC5D0 \uB80C\uB354\uB9C1 \uAC00\uB2A5\uD55C \uBCA1\uD130 \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`)}catch(e){console.error("\u274C \uD604\uC7AC \uD398\uC774\uC9C0 \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC624\uB958:",e),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}toggleVectorGraphicsOverlay(){let e=document.querySelectorAll(".vector-graphics-overlay");if(e.length===0){this.snackbar.showWarning("\u26A0\uFE0F \uBA3C\uC800 \uBCA1\uD130 \uADF8\uB798\uD53D\uC744 \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uD574\uC8FC\uC138\uC694.");return}e.forEach(n=>{let o=n,i=o.style.display;o.style.display=i==="none"?"block":"none"});let t=e[0].style.display!=="none";this.snackbar.showInfo(t?"\u{1F441}\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uD45C\uC2DC":"\u{1F6AB} \uBCA1\uD130 \uADF8\uB798\uD53D \uC228\uAE40")}clearVectorGraphicsOverlay(){let e=document.querySelectorAll(".vector-graphics-overlay");if(e.length===0){this.snackbar.showWarning("\u26A0\uFE0F \uC81C\uAC70\uD560 \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}e.forEach(t=>t.remove()),this.snackbar.showSuccess(`\u2705 ${e.length}\uAC1C \uD398\uC774\uC9C0\uC758 \uBCA1\uD130 \uADF8\uB798\uD53D \uC81C\uAC70 \uC644\uB8CC`),console.log(`\u2705 ${e.length}\uAC1C \uD398\uC774\uC9C0\uC758 \uBCA1\uD130 \uADF8\uB798\uD53D \uC81C\uAC70 \uC644\uB8CC`)}viewCurrentPageVectorGraphicsAsSVG(){return E(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=window.pdfjsLib;if(!t){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=e.page||this.currentPage||1,o=yield e.pdfDocument.getPage(n);this.snackbar.showInfo(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${n} \uBCA1\uD130 \uADF8\uB798\uD53D SVG \uC0DD\uC131 \uC911...`),yield this.pdfTextStreamService.viewVectorGraphicsAsSVG(o,t,n),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${n} SVG \uC0DD\uC131 \uC644\uB8CC!`)}catch(e){console.error("\u274C SVG \uC0DD\uC131 \uC2E4\uD328:",e),this.snackbar.showError("\u274C SVG \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadAllPagesVectorGraphicsAsSVG(){return E(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=window.pdfjsLib;if(!t){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.snackbar.showInfo("\u{1F4E6} \uC804\uCCB4 \uD398\uC774\uC9C0 \uBCA1\uD130 \uADF8\uB798\uD53D SVG \uC0DD\uC131 \uC911..."),yield this.pdfTextStreamService.downloadAllPagesVectorGraphicsAsSVG(e.pdfDocument,t),this.snackbar.showSuccess("\u2705 \uC804\uCCB4 \uD398\uC774\uC9C0 SVG \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!")}catch(e){console.error("\u274C \uC804\uCCB4 \uD398\uC774\uC9C0 SVG \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",e),this.snackbar.showError("\u274C SVG \uB2E4\uC6B4\uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}openVectorGraphicsViewer(){return E(this,null,function*(){try{if(!this.pdfSrc){this.snackbar.showError("\u274C PDF \uD30C\uC77C\uC774 \uC5F4\uB824\uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}let e=window.pdfjsLib;if(!e){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}e.VerbosityLevel&&(e.GlobalWorkerOptions.verbosity=0),this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529 \uC911...");let n=yield(yield fetch(this.pdfSrc)).arrayBuffer(),i=yield e.getDocument({data:n}).promise,d=window.PDFViewerApplication?.page||this.currentPage||1;this.currentVectorGraphicsPageNum=d;let g=yield i.getPage(d),m=g.getViewport({scale:1}),u=e.SVGGraphics||e.SVGGraphics,h;if(u){console.log("\u2705 PDF.js SVGGraphics \uC0AC\uC6A9");let C=new u(g.commonObjs,g.objs),_=yield g.getOperatorList({intent:"display"});C.embedFonts=!0;let P=yield C.getSVG(_,m);h=new XMLSerializer().serializeToString(P),console.log("\u{1F4D0} \uC6D0\uBCF8 SVG \uD06C\uAE30:",m.width,"x",m.height),console.log("\u2705 PDF.js \uB124\uC774\uD2F0\uBE0C SVG \uC0DD\uC131 \uC644\uB8CC")}else{console.warn("\u26A0\uFE0F PDF.js SVGGraphics\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC5B4 fallback \uBC29\uC2DD \uC0AC\uC6A9");let C=yield g.getOperatorList({intent:"display"}),_=this.parseOperatorList(C);h=this.generateSvgFromVectorOperations(_,m.width,m.height)}this.vectorGraphicsSvgContent=h,this.showVectorGraphicsModal=!0,window.tempVectorPdfDoc=i,setTimeout(()=>{let C=document.getElementById("vectorGraphicsSvgContainer");C&&h&&(C.innerHTML=h)},0),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${d} \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529 \uC644\uB8CC!`)}catch(e){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529 \uC2E4\uD328:",e),this.snackbar.showError("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}closeVectorGraphicsModal(){this.showVectorGraphicsModal=!1,this.vectorGraphicsSvgContent=""}loadPreviousPageVectorGraphics(){return E(this,null,function*(){if(this.currentVectorGraphicsPageNum<=1){this.snackbar.showWarning("\u26A0\uFE0F \uCCAB \uD398\uC774\uC9C0\uC785\uB2C8\uB2E4.");return}let e=window.tempVectorPdfDoc||window.PDFViewerApplication?.pdfDocument;if(!e){this.snackbar.showError("\u274C PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=window.pdfjsLib;this.currentVectorGraphicsPageNum--;try{let n=yield e.getPage(this.currentVectorGraphicsPageNum),o=n.getViewport({scale:1}),i=t.SVGGraphics||t.SVGGraphics,c;if(i){let g=new i(n.commonObjs,n.objs),m=yield n.getOperatorList({intent:"display"});g.embedFonts=!0;let u=yield g.getSVG(m,o);c=new XMLSerializer().serializeToString(u)}else{let g=yield n.getOperatorList({intent:"display"}),m=this.parseOperatorList(g);c=this.generateSvgFromVectorOperations(m,o.width,o.height)}this.vectorGraphicsSvgContent=c;let d=document.getElementById("vectorGraphicsSvgContainer");d&&c&&(d.innerHTML=c),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${this.currentVectorGraphicsPageNum} \uB85C\uB529 \uC644\uB8CC!`)}catch(n){console.error("\u274C \uD398\uC774\uC9C0 \uB85C\uB529 \uC2E4\uD328:",n),this.snackbar.showError("\u274C \uD398\uC774\uC9C0 \uB85C\uB529\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}loadNextPageVectorGraphics(){return E(this,null,function*(){let e=window.tempVectorPdfDoc||window.PDFViewerApplication?.pdfDocument;if(!e){this.snackbar.showError("\u274C PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=e.numPages||1;if(this.currentVectorGraphicsPageNum>=t){this.snackbar.showWarning("\u26A0\uFE0F \uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0\uC785\uB2C8\uB2E4.");return}let n=window.pdfjsLib;this.currentVectorGraphicsPageNum++;try{let o=yield e.getPage(this.currentVectorGraphicsPageNum),i=o.getViewport({scale:1}),c=n.SVGGraphics||n.SVGGraphics,d;if(c){let m=new c(o.commonObjs,o.objs),u=yield o.getOperatorList({intent:"display"});m.embedFonts=!0;let h=yield m.getSVG(u,i);d=new XMLSerializer().serializeToString(h)}else{let m=yield o.getOperatorList({intent:"display"}),u=this.parseOperatorList(m);d=this.generateSvgFromVectorOperations(u,i.width,i.height)}this.vectorGraphicsSvgContent=d;let g=document.getElementById("vectorGraphicsSvgContainer");g&&d&&(g.innerHTML=d),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${this.currentVectorGraphicsPageNum} \uB85C\uB529 \uC644\uB8CC!`)}catch(o){console.error("\u274C \uD398\uC774\uC9C0 \uB85C\uB529 \uC2E4\uD328:",o),this.snackbar.showError("\u274C \uD398\uC774\uC9C0 \uB85C\uB529\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadVectorGraphicsSVG(){if(!this.vectorGraphicsSvgContent){this.snackbar.showWarning("\u26A0\uFE0F \uB2E4\uC6B4\uB85C\uB4DC\uD560 SVG\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=new Blob([this.vectorGraphicsSvgContent],{type:"image/svg+xml"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=`vector_graphics_page_${this.currentVectorGraphicsPageNum}_${Date.now()}.svg`,n.click(),URL.revokeObjectURL(t),this.snackbar.showSuccess("\u2705 SVG \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!")}updateVectorRenderOptions(e){this.vectorRenderOptions=it(it({},this.vectorRenderOptions),e),this.loadedVectorData&&this.showVectorGraphicsPreview&&this.renderVectorGraphicsToCurrentPage()}exportVectorGraphicsAsSVG(){if(!this.loadedVectorData)return console.warn("\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),"";let e=this.vectorGraphicsRenderService.convertVectorDataToSVG(this.loadedVectorData,this.currentPage,this.vectorRenderOptions);return console.log("\u{1F4C4} SVG \uB0B4\uBCF4\uB0B4\uAE30 \uC644\uB8CC"),e}updateAnalysisDashboard(e,t,n){console.log("\u{1F680} updateAnalysisDashboard \uD638\uCD9C\uB428"),console.log("\u{1F4E5} textStreamData:",e),console.log("\u{1F4E5} fileSize:",t),console.log("\u{1F5BC}\uFE0F imageData:",n),console.log("\u{1F3A8} loadedVectorData:",this.loadedVectorData),console.log("\u{1F3A8} loadedVectorData.summary:",this.loadedVectorData?.summary),this.addDebugLog("COLOR_EXTRACTION","PDF \uC0C9\uC0C1 \uCD94\uCD9C \uC2DC\uC791",{hasVectorData:!!this.loadedVectorData,pageCount:e.pageCount,textItemsCount:e.metadata.totalTextItems});let o={},i=0,c={};if(this.loadedVectorData?.pageDetails){console.log("\u{1F3A8} \uBCA1\uD130 \uB370\uC774\uD130\uC5D0\uC11C \uC0C9\uC0C1 \uC815\uBCF4 \uCD94\uCD9C \uC2DC\uC791..."),this.loadedVectorData.pageDetails.forEach(P=>{P.svgColorInfo&&(console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${P.pageNumber} SVG \uC0C9\uC0C1:`,P.svgColorInfo),P.svgColorInfo.fillColors?.forEach(y=>{o[y]=(o[y]||0)+1,i++}),P.svgColorInfo.strokeColors?.forEach(y=>{o[y]=(o[y]||0)+1,i++})),P.textColorInfo&&P.textColorInfo.colorsByPosition&&(console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${P.pageNumber} \uC704\uCE58\uBCC4 \uC0C9\uC0C1:`,P.textColorInfo.colorsByPosition.length),c[P.pageNumber]||(c[P.pageNumber]=[]),c[P.pageNumber]=P.textColorInfo.colorsByPosition)});let _=Object.keys(o);console.log(`\u{1F3A8} \uBCA1\uD130\uC5D0\uC11C \uCD94\uCD9C\uB41C \uC0C9\uC0C1: ${i}\uAC1C, \uACE0\uC720 \uC0C9\uC0C1: ${_.length}\uAC1C`,_),console.log(`\u{1F3A8} \uC704\uCE58\uBCC4 \uC0C9\uC0C1 \uB9E4\uD551: ${Object.keys(c).length}\uAC1C \uD398\uC774\uC9C0`),this.addDebugLog("COLOR_EXTRACTION","\uBCA1\uD130 \uC0C9\uC0C1 \uCD94\uCD9C \uC644\uB8CC",{totalVectorColors:i,uniqueVectorColors:_.length,vectorColors:_,positionColorMappingPages:Object.keys(c).length,totalPositions:Object.values(c).reduce((P,y)=>P+y.length,0),samplePositionColors:Object.entries(c).slice(0,2).map(([P,y])=>({page:P,positionCount:y.length,samplePositions:y.slice(0,5).map(D=>({x:D.x.toFixed(1),y:D.y.toFixed(1),color:D.color}))}))})}let d=(_,P,y)=>{let D=c[_];if(!D||D.length===0)return null;let w=1/0,v=null;for(let k of D){let S=Math.sqrt(Math.pow(k.x-P,2)+Math.pow(k.y-y,2));S<w&&(w=S,v=k.color)}return w<50?v:null},g={},m=0,u=0;e.pages.forEach(_=>{_.textItems.forEach(P=>{m++;let y=d(_.pageNumber,P.position.x,P.position.y),D=y||P.style.color||"#000000";y&&u++,g[D]=(g[D]||0)+1,P.color=D})}),this.addDebugLog("COLOR_EXTRACTION","\uD14D\uC2A4\uD2B8 \uC0C9\uC0C1 \uB9E4\uD551 \uC644\uB8CC",{totalTextItems:m,successfulMappings:u,mappingRate:`${Math.round(u/m*100)}%`,textColorStats:{uniqueColors:Object.keys(g).length,colorDistribution:g}});let h=it(it({},g),o),C=Object.keys(h);console.log(`\u{1F3A8} \uCD5C\uC885 \uC0C9\uC0C1 \uD1B5\uACC4: \uD14D\uC2A4\uD2B8 ${Object.keys(g).length}\uAC1C + \uBCA1\uD130 ${Object.keys(o).length}\uAC1C = \uCD1D ${C.length}\uAC1C`),this.addDebugLog("COLOR_EXTRACTION","PDF \uC0C9\uC0C1 \uCD94\uCD9C \uCD5C\uC885 \uD1B5\uACC4",{textColors:Object.keys(g).length,vectorColors:Object.keys(o).length,totalUniqueColors:C.length,allColors:C,finalColorDistribution:h}),this.pdfAnalysisData={fileName:e.fileName,fileSize:t,pageCount:e.pageCount,totalTextItems:e.metadata.totalTextItems,totalWords:e.metadata.totalWords,totalCharacters:e.metadata.totalCharacters,uniqueFonts:e.metadata.uniqueFonts||[],textColors:C.length>0?{uniqueColors:C,colorDistribution:h}:void 0,pages:e.pages.map(_=>({pageNumber:_.pageNumber,textItems:_.textItems.map(P=>({text:P.text,color:P.color,font:P.font.name,fontSize:P.font.size,position:{x:P.position.x,y:P.position.y}}))})),hasVectorGraphics:e.metadata.hasVectorGraphics||!1,totalVectorOperations:this.loadedVectorData?.totalOperations||0,vectorSummary:this.loadedVectorData?{totalPaths:this.loadedVectorData.summary.totalPaths,totalLines:this.loadedVectorData.summary.totalLines,totalCurves:this.loadedVectorData.summary.totalCurves,totalRectangles:this.loadedVectorData.summary.totalRectangles,totalFillOperations:this.loadedVectorData.summary.totalFillOperations,totalStrokeOperations:this.loadedVectorData.summary.totalStrokeOperations,glyphPaths:this.loadedVectorData.summary.glyphPaths||0,shapePaths:this.loadedVectorData.summary.shapePaths||0}:void 0,pdfSrc:this.pdfSrc,languageDetection:e.metadata.languageDetection,hasImages:n?.hasImages||e.metadata.hasImages||!1,imageInfo:n?{totalImages:n.totalImages,pagesWithImages:n.pagesWithImages,images:n.images}:void 0},console.log("\u{1F4CA} PDF \uBD84\uC11D \uB300\uC2DC\uBCF4\uB4DC \uB370\uC774\uD130 \uC0DD\uC131 \uC644\uB8CC:",this.pdfAnalysisData),console.log("\u{1F4DD} \uD398\uC774\uC9C0\uBCC4 \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 \uC218\uC9D1 \uC644\uB8CC:",e.pages.length,"\uD398\uC774\uC9C0"),console.log("\u2705 showAnalysisDashboard \uD50C\uB798\uADF8 \uC124\uC815 \uC608\uC815")}extractPdfImages(e){return E(this,null,function*(){try{this.addDebugLog("IMAGE_EXTRACTION","\u{1F5BC}\uFE0F PDF \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC2DC\uC791",{fileName:e.name,fileSize:e.size});let t=window.pdfjsLib;if(!t){let u="\u26A0\uFE0F PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.";return console.warn(u),this.addDebugLog("IMAGE_EXTRACTION","PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC \uC624\uB958",{error:u}),{hasImages:!1,totalImages:0,images:[]}}let n=yield e.arrayBuffer(),i=yield t.getDocument({data:n}).promise;console.log(`\u{1F5BC}\uFE0F PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC: ${i.numPages}\uD398\uC774\uC9C0`),this.addDebugLog("IMAGE_EXTRACTION","PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC",{totalPages:i.numPages});let c=[],d=0,g=this.SINGLE_PAGE_MODE?1:i.numPages;for(let u=1;u<=g;u++){let h=yield i.getPage(u),C=yield h.getOperatorList();console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${u} OperatorList \uBD84\uC11D: ${C.fnArray.length}\uAC1C \uC5F0\uC0B0`),this.addDebugLog("IMAGE_EXTRACTION",`\uD398\uC774\uC9C0 ${u} \uBD84\uC11D \uC2DC\uC791`,{operatorCount:C.fnArray.length});let _=[];for(let P=0;P<C.fnArray.length;P++){let y=C.fnArray[P],D=C.argsArray[P];if(y===85||y===86){let w=y===85?"XObject":"Inline",v=D[0];console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${u}: ${w} \uC774\uBBF8\uC9C0 \uBC1C\uACAC - ${v}`),this.addDebugLog("IMAGE_EXTRACTION",`\uD398\uC774\uC9C0 ${u} \uC774\uBBF8\uC9C0 \uBC1C\uACAC`,{type:w,name:v,operatorIndex:P});try{let k=h.getViewport({scale:1}),S=k.width,I=k.height,A=null,N=0,j=0,U=[];for(let L=Math.max(0,P-15);L<Math.min(C.fnArray.length,P+5);L++)U.push({index:L,fn:C.fnArray[L],args:C.argsArray[L],isCurrent:L===P});this.addDebugLog("IMAGE_EXTRACTION","\u{1F50D} \uC774\uBBF8\uC9C0 \uC8FC\uBCC0 \uC5F0\uC0B0\uC790 \uBD84\uC11D (\xB115)",{imageName:v,currentIndex:P,operators:U.map(L=>({index:L.index,fn:L.fn,argsLength:L.args?.length,args:L.args,isCurrent:L.isCurrent}))});let F=[];for(let L=P-1;L>=0&&L>=P-20;L--){let H=C.fnArray[L],T=C.argsArray[L];if((H===12||H===74||H===75)&&(F.unshift({fn:H,args:T,index:L}),this.addDebugLog("IMAGE_EXTRACTION","\u{1F504} Transform \uC5F0\uC0B0\uC790 \uBC1C\uACAC",{imageName:v,operatorIndex:L,operatorType:H===12?"transform(12)":H===74?"transform(74)":"setMatrix(75)",args:T})),H===11)break}if(F.length>0){let L=(T,at)=>[T[0]*at[0]+T[2]*at[1],T[1]*at[0]+T[3]*at[1],T[0]*at[2]+T[2]*at[3],T[1]*at[2]+T[3]*at[3],T[0]*at[4]+T[2]*at[5]+T[4],T[1]*at[4]+T[3]*at[5]+T[5]],H=F[0].args;for(let T=1;T<F.length;T++)H=L(H,F[T].args);A=H,N=Math.abs(H[0]),j=Math.abs(H[3]),this.addDebugLog("IMAGE_EXTRACTION","\u2705 \uCD5C\uC885 Transform \uACC4\uC0B0 (\uB204\uC801)",{imageName:v,transformCount:F.length,transforms:F.map(T=>({index:T.index,args:T.args})),finalTransform:A,width:N,height:j,translateX:H[4],translateY:H[5]})}let G={pageNumber:u,type:w,name:v,width:N,height:j,transform:A,pageWidth:S,pageHeight:I};if(y===85&&v)try{let L=h.objs,H=h.commonObjs;this.addDebugLog("IMAGE_EXTRACTION",`\u{1F50D} \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uCC3E\uAE30 \uC2DC\uC791: ${v}`,{imageName:v,hasInPageObjs:L.has(v),hasInCommonObjs:H?H.has(v):!1}),yield new Promise(mt=>{if(L.has(v)||H&&H.has(v))mt();else{let ct=setInterval(()=>{(L.has(v)||H&&H.has(v))&&(clearInterval(ct),mt())},100);setTimeout(()=>{clearInterval(ct),mt()},5e3)}});let T=null,at="";if(L.has(v)?(T=L.get(v),at="page.objs"):H&&H.has(v)&&(T=H.get(v),at="commonObjs"),T)if(this.addDebugLog("IMAGE_EXTRACTION",`\u{1F3A8} \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uB85C\uB4DC \uC131\uACF5: ${v}`,{imageName:v,source:at,hasData:!!T,width:T?.width,height:T?.height,dataLength:T?.data?.length,kind:T?.kind,bitmap:T?.bitmap?"has bitmap":"no bitmap",bitmapWidth:T?.bitmap?.width,bitmapHeight:T?.bitmap?.height}),T){let mt=T.width||N,ct=T.height||j;A||(A=[mt,0,0,ct,0,0],G.transform=A,N=mt,j=ct,this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F transform \uC5C6\uC74C, \uC774\uBBF8\uC9C0 \uC2E4\uC81C \uD06C\uAE30 \uC0AC\uC6A9",{imageName:v,imageWidth:mt,imageHeight:ct,generatedTransform:A,pageWidth:S,pageHeight:I})),G.width=N,G.height=j,this.addDebugLog("IMAGE_EXTRACTION","\u{1F4CF} \uCD5C\uC885 \uC774\uBBF8\uC9C0 \uD06C\uAE30 \uACB0\uC815",{imageName:v,finalWidth:G.width,finalHeight:G.height,fromImgDataWidth:T.width,fromImgDataHeight:T.height,fromTransformWidth:N,fromTransformHeight:j});try{if(this.addDebugLog("IMAGE_EXTRACTION",`\u{1F5BC}\uFE0F \uC378\uB124\uC77C \uC0DD\uC131 \uC2DC\uC791: ${v}`,{imageName:v,originalWidth:T.width,originalHeight:T.height,dataLength:T.data?.length,hasData:!!T.data,imgDataType:typeof T.data,imgDataKeys:T.data?Object.keys(T.data).slice(0,5):[]}),!T.data||!T.width||!T.height){if(this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F imgData.data \uC5C6\uC74C, \uB300\uCCB4 \uBC29\uBC95 \uC2DC\uB3C4",{imageName:v,hasData:!!T.data,width:T.width,height:T.height,hasBitmap:!!T.bitmap}),T.bitmap){this.addDebugLog("IMAGE_EXTRACTION","\u{1F3A8} bitmap \uC0AC\uC6A9 \uC2DC\uB3C4",{imageName:v,bitmapType:typeof T.bitmap,isBitmap:T.bitmap instanceof ImageBitmap,bitmapWidth:T.bitmap.width,bitmapHeight:T.bitmap.height});try{if(T.bitmap instanceof ImageBitmap){let rt=document.createElement("canvas");rt.width=T.bitmap.width,rt.height=T.bitmap.height;let $t=rt.getContext("2d");if($t){$t.drawImage(T.bitmap,0,0),G.originalImage=rt.toDataURL("image/png");let Gt=300,dt=Math.min(Gt/T.bitmap.width,Gt/T.bitmap.height,1),Q=document.createElement("canvas");Q.width=Math.floor(T.bitmap.width*dt),Q.height=Math.floor(T.bitmap.height*dt);let Ct=Q.getContext("2d");Ct&&(Ct.drawImage(rt,0,0,Q.width,Q.height),G.thumbnail=Q.toDataURL("image/png"),this.addDebugLog("IMAGE_EXTRACTION","\u2705 bitmap\uC73C\uB85C \uC6D0\uBCF8 + \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC",{imageName:v,originalSize:`${T.bitmap.width}x${T.bitmap.height}`,thumbnailSize:`${Q.width}x${Q.height}`,scale:dt,hasOriginalImage:!!G.originalImage}))}}}catch(rt){this.addDebugLog("IMAGE_EXTRACTION","\u274C bitmap \uB80C\uB354\uB9C1 \uC2E4\uD328",{imageName:v,error:rt instanceof Error?rt.message:String(rt)})}}G.thumbnail||this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uC9C1\uC811 \uCD94\uCD9C \uC2E4\uD328, \uC774 \uC774\uBBF8\uC9C0\uB294 \uAC74\uB108\uB700",{imageName:v,reason:"No data, No bitmap available"})}else{let rt=document.createElement("canvas"),$t=300,Gt=Math.min($t/T.width,$t/T.height,1);rt.width=Math.floor(T.width*Gt),rt.height=Math.floor(T.height*Gt);let dt=rt.getContext("2d");if(dt&&T.data){this.addDebugLog("IMAGE_EXTRACTION","\u{1F3A8} Canvas \uCEE8\uD14D\uC2A4\uD2B8 \uC900\uBE44 \uC644\uB8CC",{imageName:v,canvasWidth:rt.width,canvasHeight:rt.height,hasData:!!T.data,dataLength:T.data.length,expectedRGBA:T.width*T.height*4,expectedRGB:T.width*T.height*3});let Q=document.createElement("canvas");Q.width=T.width,Q.height=T.height;let Ct=Q.getContext("2d");if(Ct){let At=Ct.createImageData(T.width,T.height);if(T.data.length===T.width*T.height*4)At.data.set(T.data),this.addDebugLog("IMAGE_EXTRACTION","\u2705 RGBA \uB370\uC774\uD130 \uC9C1\uC811 \uBCF5\uC0AC",{imageName:v,dataLength:T.data.length});else{this.addDebugLog("IMAGE_EXTRACTION","\u{1F504} RGB \u2192 RGBA \uBCC0\uD658 \uC2DC\uC791",{imageName:v,sourceLength:T.data.length,targetLength:T.width*T.height*4});for(let de=0;de<T.width*T.height;de++){let Ke=de*3,me=de*4;At.data[me]=T.data[Ke],At.data[me+1]=T.data[Ke+1],At.data[me+2]=T.data[Ke+2],At.data[me+3]=255}this.addDebugLog("IMAGE_EXTRACTION","\u2705 RGB \u2192 RGBA \uBCC0\uD658 \uC644\uB8CC",{imageName:v,pixelCount:T.width*T.height})}Ct.putImageData(At,0,0),dt.drawImage(Q,0,0,rt.width,rt.height),G.thumbnail=rt.toDataURL("image/png"),console.log(`\u2705 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC: ${v} (${rt.width}x${rt.height})`),this.addDebugLog("IMAGE_EXTRACTION","\u2705 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC",{imageName:v,originalSize:`${T.width}x${T.height}`,thumbnailSize:`${rt.width}x${rt.height}`,dataLength:T.data.length})}else this.addDebugLog("IMAGE_EXTRACTION","\u274C Canvas \uCEE8\uD14D\uC2A4\uD2B8 \uB610\uB294 \uB370\uC774\uD130 \uC5C6\uC74C",{imageName:v,hasContext:!!dt,hasData:!!T.data})}}}catch(rt){console.warn(`\u26A0\uFE0F Canvas \uB80C\uB354\uB9C1 \uC2E4\uD328: ${v}`,rt),this.addDebugLog("IMAGE_EXTRACTION","\u274C Canvas \uB80C\uB354\uB9C1 \uC2E4\uD328",{imageName:v,error:rt})}}else this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C",{imageName:v,hasImgData:!1});else this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uB85C\uB4DC \uC2E4\uD328 (\uD0C0\uC784\uC544\uC6C3)",{imageName:v,objsHas:!1})}catch(L){console.warn(`\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328: ${v}`,L),this.addDebugLog("IMAGE_EXTRACTION","\u274C \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328",{imageName:v,error:L instanceof Error?L.message:String(L)})}_.push(G),d++,this.addDebugLog("IMAGE_EXTRACTION","\u{1F4E6} \uC774\uBBF8\uC9C0 \uC815\uBCF4 \uC218\uC9D1 \uC644\uB8CC",{imageName:G.name,hasThumbnail:!!G.thumbnail,hasOriginalImage:!!G.originalImage,width:G.width,height:G.height,transform:G.transform,type:G.type,allKeys:Object.keys(G)}),console.log("\u2705 \uC774\uBBF8\uC9C0 \uC815\uBCF4 \uC218\uC9D1 \uC644\uB8CC:",G)}catch(k){console.warn("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC624\uB958:",k),this.addDebugLog("IMAGE_EXTRACTION","\u274C \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC624\uB958",{error:k instanceof Error?k.message:String(k)})}}}_.length>0&&(c.push({pageNumber:u,images:_,count:_.length}),this.addDebugLog("IMAGE_EXTRACTION",`\u{1F4C4} \uD398\uC774\uC9C0 ${u} \uC774\uBBF8\uC9C0 ${_.length}\uAC1C \uCD94\uCD9C \uC644\uB8CC`,{pageNumber:u,imageCount:_.length,images:_.map(P=>({name:P.name,type:P.type}))}))}let m={hasImages:d>0,totalImages:d,pageCount:i.numPages,pagesWithImages:c.length,images:c};return this.addDebugLog("IMAGE_EXTRACTION","\u2705 \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC644\uB8CC",{hasImages:m.hasImages,totalImages:m.totalImages,pageCount:m.pageCount,pagesWithImages:m.pagesWithImages,summary:m.hasImages?`\uCD1D ${m.totalImages}\uAC1C\uC758 \uC774\uBBF8\uC9C0\uB97C ${m.pagesWithImages}\uAC1C \uD398\uC774\uC9C0\uC5D0\uC11C \uBC1C\uACAC`:"PDF\uC5D0 \uCD94\uAC00\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"}),console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC644\uB8CC:",m),m}catch(t){return console.error("\u274C PDF \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC624\uB958:",t),this.addDebugLog("IMAGE_EXTRACTION","\u274C \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC911 \uC624\uB958 \uBC1C\uC0DD",{error:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0}),{hasImages:!1,totalImages:0,images:[],error:t}}})}parseOperatorList(e){let t=[];for(let n=0;n<e.fnArray.length;n++){let o=e.fnArray[n],i=e.argsArray[n],c="",d=!1;o===1?(c="moveTo",d=!0):o===2?(c="lineTo",d=!0):o>=3&&o<=6?(c="curveTo",d=!0):o===7?(c="rectangle",d=!0):o===9?(c="closePath",d=!0):o===22?(c="fill",d=!0):o===20?(c="stroke",d=!0):o===29?(c="clip",d=!0):[28,37,42,44,58,59,70,71,91].includes(o)&&i&&Array.isArray(i)&&i.length>=2&&typeof i[i.length-2]=="number"&&typeof i[i.length-1]=="number"&&(c="unknownVectorGraphic",d=!0),d&&c&&t.push({type:c,args:i||[],opCode:o,coordinates:this.extractCoordinatesFromArgs(i)})}return t}extractCoordinatesFromArgs(e){return!e||!Array.isArray(e)?null:e.length>=2&&typeof e[0]=="number"&&typeof e[1]=="number"?{x:e[0],y:e[1],additionalCoords:e.slice(2)}:null}groupTextItems(e){if(!e||e.length===0)return[];let t=[],n=[...e].sort((m,u)=>Math.abs(m.position.y-u.position.y)<3?m.position.x-u.position.x:u.position.y-m.position.y),o=8,i=50,c=800,d=[".","!","?","\u3002","\uFF01","\uFF1F"],g=null;return n.forEach((m,u)=>{let h=m.text?.trim()||"";if(h)if(!g)g=yt(it({},m),{text:h,position:{x:m.position.x,y:m.position.y,width:m.position.width||100,height:m.position.height||20},itemCount:1});else{let C=Math.abs(m.position.y-g.position.y),_=m.position.x-(g.position.x+g.position.width),P=g.position.width,y=g.text.trim().slice(-1),D=d.includes(y),w=C<o,v=_>=-5&&_<i,k=P<c;if(w&&v&&k&&!D){let I=_>3?" ":"";g.text+=I+h,g.position.width=m.position.x+(m.position.width||100)-g.position.x,g.position.height=Math.max(g.position.height,m.position.height||20),g.itemCount++}else t.push(g),g=yt(it({},m),{text:h,position:{x:m.position.x,y:m.position.y,width:m.position.width||100,height:m.position.height||20},itemCount:1})}}),g&&t.push(g),console.log(`\u2705 \uD14D\uC2A4\uD2B8 \uADF8\uB8F9\uD654 \uC644\uB8CC: ${e.length}\uAC1C \u2192 ${t.length}\uAC1C`),console.log("\u{1F4CB} \uADF8\uB8F9\uD654 \uC0D8\uD50C (\uCC98\uC74C 5\uAC1C):"),t.slice(0,5).forEach((m,u)=>{console.log(`  ${u+1}. "${m.text.substring(0,50)}..." (${m.itemCount}\uAC1C \uD1B5\uD569)`)}),t}logout(){this.docsAuthService.logout()}exportOriginalPdfBinary(){return E(this,null,function*(){try{if(!this.pdfBase64Data){this.snackbar.showError("\uB85C\uB4DC\uB41C PDF \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.pdfBase64Data;if(e.startsWith("data:")){let C=e.indexOf("base64,");C!==-1&&(e=e.substring(C+7))}let t=atob(e),n=new Array(t.length);for(let C=0;C<t.length;C++)n[C]=t.charCodeAt(C);let o=new Uint8Array(n),i=new Blob([o],{type:"application/pdf"}),d=(this.loadedFileName||"document").replace(/\.pdf$/i,""),g=new Date().toISOString().replace(/[:.]/g,"-").split("T")[0],m=`${d}_original_${g}.pdf`,u=window.URL.createObjectURL(i),h=document.createElement("a");h.href=u,h.download=m,document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),window.URL.revokeObjectURL(u)},100),this.snackbar.showSuccess(`\uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${m}`),console.log("\u2705 PDF \uBC14\uC774\uB108\uB9AC \uB0B4\uBCF4\uB0B4\uAE30 \uC644\uB8CC:",{fileName:m,size:`${(i.size/1024).toFixed(2)} KB`})}catch(e){console.error("\u274C PDF \uBC14\uC774\uB108\uB9AC \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",e),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}static \u0275fac=function(t){return new(t||l)(J(vt),J(Kt),J(Tt),J(le),J(we),J(Pe),J(wn),J(Dn),J(Sn),J(he),J(De),J(Ut),J(Vt),J(te),J(Se),J(Ee),J(ke),J(Te),J(Ie),J(Ae),J(Be),J(Fe),J(Ve),J($e),J(ze))};static \u0275cmp=ot({type:l,selectors:[["app-docs-generator"]],viewQuery:function(t,n){if(t&1&&(Rt(yr,5),Rt(wr,5),Rt(Dr,5)),t&2){let o;jt(o=Wt())&&(n.vectorPathDrawer=o.first),jt(o=Wt())&&(n.signatureCanvas=o.first),jt(o=Wt())&&(n.pdfContainer=o.first)}},hostBindings:function(t,n){t&1&&O("resize",function(i){return n.onResize(i)},cn)("mousemove",function(i){return n.onDocumentMove(i)},bt)("touchmove",function(i){return n.onDocumentMove(i)},bt)("mouseup",function(){return n.onDocumentUp()},bt)("touchend",function(){return n.onDocumentUp()},bt)},standalone:!1,decls:15,vars:24,consts:[["pdfContainer",""],[3,"analysisData","isCollapsed","isDraggable","isCompact","vectorData","vectorMinimaps","closeEvent","createSvgPdfEvent","createTextStructureDocEvent","createCombinedDocEvent","requestMinimapEvent","exportPdfEvent","createImagePdfEvent","exportOriginalPdfEvent",4,"ngIf"],[3,"menuChange","toolbarAction","search","rightPanelToggle","leftPanelToggle","pdfAnalysisToggle","docsTitle","documentType","activeMenu","wordCount","isSearchMode","searchResults","isGenerating","generatedDocs","enablePdfAnalysis"],[3,"data","pageWidth","pageHeight","save","cancel",4,"ngIf"],[3,"data","save","cancel",4,"ngIf"],[1,"main-container"],["class","left-menu-container",3,"collapsed",4,"ngIf"],[1,"docs-main-content"],["class","pdf-viewer-container",4,"ngIf"],["class","pdf-document-editor",4,"ngIf"],["class","right-sidebar-container",3,"collapsed",4,"ngIf"],[3,"close","save","open","delete","fileUpload","isVisible","mode","currentTitle"],[3,"data","confirm","cancel",4,"ngIf"],[3,"closeEvent","createSvgPdfEvent","createTextStructureDocEvent","createCombinedDocEvent","requestMinimapEvent","exportPdfEvent","createImagePdfEvent","exportOriginalPdfEvent","analysisData","isCollapsed","isDraggable","isCompact","vectorData","vectorMinimaps"],[3,"save","cancel","data","pageWidth","pageHeight"],[3,"save","cancel","data"],[1,"left-menu-container"],[3,"menuAction","close","itemClick","expand","recentWorks","isCollapsed"],[1,"pdf-viewer-container"],[2,"height","100%","width","100%","display","block",3,"pdfLoaded","pdfLoadingFailed","pageChange","zoomChange","src","zoom","page","showToolbar","showSidebarButton","sidebarVisible","showFindButton","showPagingButtons","showZoomButtons","showPresentationModeButton","showOpenFileButton","showPrintButton","showDownloadButton","showSecondaryToolbarButton","showRotateButton","showSpreadButton","showPropertiesButton","showHandToolButton","handTool","textLayer","showBorders","enableDragAndDrop","showUnverifiedSignatures","showDrawEditor","showStampEditor","showHighlightEditor"],["class","text-editor-host",4,"ngIf"],[3,"confirm","cancel","isVisible","totalTextItems","sentenceGroupCount","currentPage","totalPages"],[1,"text-editor-host"],[4,"ngFor","ngForOf"],[1,"sentence-overlay-area",3,"click","title"],[3,"config","isVisible","configChange","close","delete","deactivate",4,"ngIf"],[3,"configChange","close","delete","deactivate","config","isVisible"],[1,"pdf-document-editor"],[1,"pdf-pages-wrapper"],["class","pdf-page-container",3,"id","active",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-page-section"],[1,"add-page-button",3,"click"],[1,"add-icon"],[1,"pdf-page-container",3,"id"],[1,"pdf-page",3,"click"],[1,"page-number"],["class","page-element",3,"ngClass","left","top","width","height","selected","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"page-element",3,"click","mousedown","ngClass"],["class","text-element",3,"editing","font-size","font-family","font-weight","font-style","color","contentEditable","dblclick","blur","keydown.enter","keydown.escape","click",4,"ngIf"],["class","image-element",3,"src","selected","width","height","mousedown","click",4,"ngIf"],["class","signature-element","title","\uC11C\uBA85",3,"selected","width","height","font-size","color","font-family","font-weight","border","background-color","border-radius","display","align-items","justify-content","padding","mousedown","click",4,"ngIf"],["class","watermark-element","title","\uC6CC\uD130\uB9C8\uD06C",3,"selected","left","top","width","height","transform","opacity","mousedown","click",4,"ngIf"],["class","vector-path-element","title","\uBCA1\uD130 \uADF8\uB798\uD53D",3,"selected","hidden","width","height","border","display","mousedown","click",4,"ngIf"],["class","svg-element","title","SVG \uBCA1\uD130 \uADF8\uB798\uD53D",3,"selected","width","height","border","overflow","innerHTML","mousedown","click",4,"ngIf"],["class","shape-element",3,"selected","width","height","background-color","border","mousedown","click",4,"ngIf"],["class","resize-handles",4,"ngIf"],[1,"text-element",3,"dblclick","blur","keydown.enter","keydown.escape","click","contentEditable"],[1,"image-element",3,"mousedown","click","src"],["title","\uC11C\uBA85",1,"signature-element",3,"mousedown","click"],["style","width: 100%; height: 100%; object-fit: contain;",3,"src",4,"ngIf"],[4,"ngIf"],[2,"width","100%","height","100%","object-fit","contain",3,"src"],["title","\uC6CC\uD130\uB9C8\uD06C",1,"watermark-element",3,"mousedown","click"],[2,"width","100%","height","100%","display","flex","align-items","center","justify-content","center","font-weight","bold","white-space","nowrap","pointer-events","none"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D",1,"vector-path-element",3,"mousedown","click"],["preserveAspectRatio","xMidYMid meet",2,"overflow","visible","display","block"],["stroke-linecap","round","stroke-linejoin","round","vector-effect","non-scaling-stroke"],["title","SVG \uBCA1\uD130 \uADF8\uB798\uD53D",1,"svg-element",3,"mousedown","click","innerHTML"],[1,"shape-element",3,"mousedown","click"],[1,"resize-handles"],[1,"resize-handle","corner-handle","nw-resize",2,"top","-4px","left","-4px",3,"mousedown"],[1,"resize-handle","corner-handle","ne-resize",2,"top","-4px","right","-4px",3,"mousedown"],[1,"resize-handle","corner-handle","sw-resize",2,"bottom","-4px","left","-4px",3,"mousedown"],[1,"resize-handle","corner-handle","se-resize",2,"bottom","-4px","right","-4px",3,"mousedown"],[1,"resize-handle","edge-handle","n-resize",2,"top","-4px","left","50%","transform","translateX(-50%)",3,"mousedown"],[1,"resize-handle","edge-handle","s-resize",2,"bottom","-4px","left","50%","transform","translateX(-50%)",3,"mousedown"],[1,"resize-handle","edge-handle","w-resize",2,"left","-4px","top","50%","transform","translateY(-50%)",3,"mousedown"],[1,"resize-handle","edge-handle","e-resize",2,"right","-4px","top","50%","transform","translateY(-50%)",3,"mousedown"],[1,"right-sidebar-container"],[3,"addText","addImage","addShape","addSignature","addWatermark","addVectorPath","addPage","deletePage","zoomIn","zoomOut","rotatePage","pageSelect","elementPropertyChange","deselectElement","deleteElement","sidebarAction","keepOnlyFirstPage","close","expand","generatedDocs","selectedElement","currentPage","totalPages","zoomLevel","pdfPages","isPdfViewer","isCollapsed"],[3,"confirm","cancel","data"]],template:function(t,n){t&1&&($(0,kr,1,6,"app-pdf-analysis-dashboard",1),r(1,"app-docs-header",2),O("menuChange",function(i){return n.onMenuChange(i)})("toolbarAction",function(i){return n.onToolbarAction(i)})("search",function(i){return n.onSearch(i)})("rightPanelToggle",function(){return n.toggleRightPanel()})("leftPanelToggle",function(){return n.toggleLeftPanel()})("pdfAnalysisToggle",function(i){return n.onPdfAnalysisToggle(i)}),a(),$(2,Tr,1,3,"app-text-editor-modal",3)(3,Ir,1,3,"app-image-editor-modal",3)(4,Ar,1,3,"app-shape-editor-modal",3)(5,Br,1,1,"app-signature-editor-modal",4)(6,Fr,1,1,"app-watermark-editor-modal",4),r(7,"div",5),$(8,Vr,2,4,"div",6),r(9,"div",7),$(10,Nr,5,32,"div",8)(11,ea,9,2,"div",9),a(),$(12,na,2,10,"div",10),a(),r(13,"app-document-modal",11),O("close",function(){return n.onCloseDocumentModal()})("save",function(i){return n.onSaveDocument(i)})("open",function(i){return n.onOpenDocument(i)})("delete",function(i){return n.onDeleteDocument(i)})("fileUpload",function(i){return n.onFileUpload(i)}),a(),$(14,oa,1,4,"app-confirm-modal",12)),t&2&&(b("ngIf",n.showAnalysisDashboard&&n.pdfAnalysisData),p(),b("docsTitle",n.docsTitle)("documentType",n.documentType)("activeMenu","\uD3B8\uC9D1")("wordCount",n.totalElementCount)("isSearchMode",!1)("searchResults",dn(23,Sr))("isGenerating",!1)("generatedDocs",n.hasContent?"content":"")("enablePdfAnalysis",n.enablePdfAnalysis),p(),b("ngIf",n.showTextEditor),p(),b("ngIf",n.showImageEditor),p(),b("ngIf",n.showShapeEditor),p(),b("ngIf",n.showSignatureEditor),p(),b("ngIf",n.showWatermarkEditor),p(2),b("ngIf",n.showLeftPanel),p(2),b("ngIf",n.pdfSrc),p(),b("ngIf",!n.pdfSrc),p(),b("ngIf",n.showRightPanel),p(),b("isVisible",n.isDocumentModalVisible)("mode",n.documentModalMode)("currentTitle",n.docsTitle),p(),b("ngIf",n.showConfirmModal))},dependencies:[mn,_t,st,Le,En,xn,ee,ne,oe,ie,re,ae,ce,Ne,Re,je,We,He],styles:['@charset "UTF-8";@font-face{font-family:Noto Sans KR;src:url(/fonts/NotoSansKR-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumGothic;src:url(/fonts/NanumGothic-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumBarunGothic;src:url(/fonts/NanumBarunGothic-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:IBM Plex Sans KR;src:url(/fonts/IBMPlexSansKR-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumSquare;src:url(/fonts/NanumSquare-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Black Han Sans;src:url(/fonts/BlackHanSans-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Noto Serif KR";src:url(/fonts/NotoSerifKR-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumMyeongjo;src:url(/fonts/NanumMyeongjo-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumPen;src:url(/fonts/NanumPen-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumBrush;src:url(/fonts/NanumBrush-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:DoHyeon;src:url(/fonts/DoHyeon-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Jua;src:url(/fonts/Jua-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Gaegu;src:url(/fonts/Gaegu-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:GamjaFlower;src:url(/fonts/GamjaFlower-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Sunflower;src:url(/fonts/Sunflower-Medium.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:EastSeaDokdo;src:url(/fonts/EastSeaDokdo-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:HiMelody;src:url(/fonts/HiMelody-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Roboto;src:url(/fonts/Roboto-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Lato;src:url(/fonts/Lato-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Montserrat;src:url(/fonts/Montserrat-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(/fonts/Poppins-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Inter;src:url(/fonts/Inter-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Ubuntu;src:url(/fonts/Ubuntu-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(2,1fr)!important;gap:10px!important;margin:16px 0!important;padding:8px!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;padding:14px 10px!important;background:linear-gradient(135deg,#fff,#f8f9fa)!important;border:2px solid #e9ecef!important;border-radius:12px!important;cursor:pointer!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;min-height:70px!important;box-shadow:0 2px 4px #0000000d!important;position:relative!important;-webkit-user-select:none!important;user-select:none!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6,#1d4ed8)!important;border-color:#3b82f6!important;color:#fff!important;transform:translateY(-2px) scale(1.02)!important;box-shadow:0 8px 25px #3b82f640!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:hover   .tool-icon[_ngcontent-%COMP%]{transform:scale(1.1)!important;color:#fff!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:hover   .tool-title[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(1.01)!important;box-shadow:0 4px 15px #3b82f64d!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{font-size:22px!important;margin-bottom:6px!important;transition:all .3s ease!important;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]   .tool-title[_ngcontent-%COMP%]{font-size:11px!important;text-align:center!important;color:#4b5563!important;line-height:1.3!important;word-break:keep-all!important;font-weight:500!important;transition:all .3s ease!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]{margin-top:16px!important;padding:16px 12px!important;border-radius:12px!important;box-shadow:0 4px 6px -1px #0000001a!important}.docs-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:var(--bg-primary, #ffffff);border-bottom:1px solid var(--border-color, #e2e8f0);height:60px;position:relative;z-index:1000}.docs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center}.docs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:var(--text-primary, #1e293b);letter-spacing:-.5px}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:8px 16px;background:var(--bg-secondary, #f8fafc);color:var(--text-primary, #475569);border:1px solid var(--border-color, #e2e8f0);border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px;box-shadow:none}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background:var(--hover-bg, #e2e8f0);border-color:var(--border-color, #cbd5e1);color:var(--text-primary, #1e293b)}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:active{background:var(--active-bg, #cbd5e1)}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:calc(100vh - 48px);background:var(--bg-secondary);transition:background-color .3s ease;position:relative}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;z-index:1}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .analysis-dashboard-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;background:var(--bg-primary);z-index:10}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]{position:relative;flex:1;height:100%;background:var(--bg-primary);border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]{height:100%;width:100%;display:block}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .toolbar{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #sidebarContainer{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #sidebarToggle{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .contextMenuItems{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .errorWrapper{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .secondaryToolbar{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .viewer{background:var(--bg-secondary)!important;top:0!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .page{margin:10px auto!important;box-shadow:0 4px 12px #00000026!important;border-radius:4px!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #viewerContainer{inset:0!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #mainContainer{inset:0!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area[_ngcontent-%COMP%]{border-radius:2px;transition:all .15s ease;position:relative;background-color:transparent}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area[_ngcontent-%COMP%]:hover{background-color:#007acc14!important;border-color:#007acc!important;border-style:solid!important;border-width:2px!important;box-shadow:0 1px 4px #007acc33}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area[_ngcontent-%COMP%]:active{transform:scale(.99)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area.active[_ngcontent-%COMP%]{background-color:#007acc1a!important;box-shadow:0 2px 8px #007acc4d}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area.active[_ngcontent-%COMP%]:hover{background-color:#007acc26!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;background:var(--bg-secondary);transition:background-color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;background:var(--bg-primary);border-radius:12px;padding:30px;box-shadow:0 8px 32px var(--shadow);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid var(--border-color);transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-primary);font-size:2rem;font-weight:700;margin-bottom:10px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;margin:0;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-size:.95rem;font-weight:600;margin-bottom:8px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid var(--border-color);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-color-alpha)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:40px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;border-radius:50px;padding:16px 32px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px var(--primary-color-alpha)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px var(--primary-color-alpha)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{text-align:center}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 24px;border:4px solid var(--border-color);border-top:4px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.5rem;margin-bottom:12px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem;margin-bottom:30px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:.9rem;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:not(.completed):not(.active){background:var(--bg-secondary);color:var(--text-secondary);border:1px solid var(--border-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.8rem;margin:0;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:16px;font-size:.9rem;color:var(--text-secondary);transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;overflow:hidden}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:transparent;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{padding:20px;background:var(--bg-primary);color:var(--text-primary);min-height:300px;line-height:1.6;white-space:pre-wrap;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:30px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]:hover, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]{background:transparent;color:var(--text-primary);border:2px solid var(--border-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);color:var(--primary-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:2px solid var(--primary-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color);border-color:var(--secondary-color)}.main-container[_ngcontent-%COMP%]   .left-menu-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:280px;height:100%;transition:width .3s ease}.main-container[_ngcontent-%COMP%]   .left-menu-container.collapsed[_ngcontent-%COMP%]{width:48px}.main-container[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{position:fixed;right:-360px;top:48px;width:360px;height:calc(100vh - 48px);z-index:1500;transition:right .3s ease}.main-container[_ngcontent-%COMP%]   .right-sidebar.visible[_ngcontent-%COMP%]{right:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dark-mode[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]{background:#ffffff0d;border-color:#ffffff1a}@media (max-width: 1200px){.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 992px){.main-container[_ngcontent-%COMP%]   .left-menu-container[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s ease;box-shadow:2px 0 8px var(--shadow);background:var(--bg-primary)}.main-container[_ngcontent-%COMP%]   .left-menu-container.show[_ngcontent-%COMP%]{transform:translate(0)}.main-container[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{transform:translate(100%);transition:right .3s ease,transform .3s ease;right:0}.main-container[_ngcontent-%COMP%]   .right-sidebar.visible[_ngcontent-%COMP%]{transform:translate(0)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{margin-left:0;margin-right:0}}@media (max-width: 768px){.main-container[_ngcontent-%COMP%]{height:calc(100vh - 48px)}.main-container[_ngcontent-%COMP%]   .left-menu-container[_ngcontent-%COMP%]{width:80%;max-width:280px}.main-container[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{width:90%;max-width:350px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{padding:8px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]{padding:15px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]{padding:20px}}.pdf-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:var(--bg-secondary)}.pdf-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:var(--bg-primary);border-bottom:1px solid var(--border-color);box-shadow:0 2px 4px var(--shadow)}.pdf-toolbar[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 12px;background:transparent;border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);cursor:pointer;transition:all .2s ease;font-size:14px}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 2px 8px var(--shadow)}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn.primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn.primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark);border-color:var(--primary-dark)}.pdf-editor-workspace[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:var(--bg-primary);border-bottom:1px solid var(--border-color)}.page-navigation[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%], .page-navigation[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-navigation[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .page-navigation[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]{padding:6px 12px;background:transparent;border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer;transition:all .2s ease}.page-navigation[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover:not(:disabled), .page-navigation[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-tertiary);border-color:var(--primary-color)}.page-navigation[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:disabled, .page-navigation[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-navigation[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%], .page-navigation[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{font-size:14px;color:var(--text-primary);min-width:80px;text-align:center}.pdf-canvas-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:flex-start;padding:20px;overflow:auto;background:var(--bg-tertiary);transform-origin:center top;transition:transform .3s ease}.pdf-page[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 20px #0000001a;border-radius:4px;position:relative;overflow:visible;cursor:crosshair}.grid-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1;background-image:linear-gradient(rgba(0,0,0,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(0,0,0,.1) 1px,transparent 1px);background-size:20px 20px;pointer-events:none}.pdf-element[_ngcontent-%COMP%]{position:absolute;cursor:move;border:1px solid transparent;transition:border-color .2s ease}.pdf-element[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.pdf-element.selected[_ngcontent-%COMP%]{border-color:var(--primary-color);box-shadow:0 0 0 2px rgba(var(--primary-color-rgb),.2)}.pdf-element.element-text[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]{width:100%;height:100%;padding:4px;border:none;background:transparent;outline:none;cursor:text}.pdf-element.element-text[_ngcontent-%COMP%]   .text-element[contenteditable=true][_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb),.05)}.pdf-element.element-image[_ngcontent-%COMP%]   .image-element[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:2px}.pdf-element.element-shape[_ngcontent-%COMP%]   .shape-element[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:2px}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]{width:100%;height:100%}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;overflow:visible}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .2s ease}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.resize-handles[_ngcontent-%COMP%]{position:absolute;inset:-4px;pointer-events:none}.resize-handles[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background:var(--primary-color);border:1px solid white;border-radius:50%;pointer-events:all}.resize-handles[_ngcontent-%COMP%]   .resize-handle.nw[_ngcontent-%COMP%]{top:0;left:0;cursor:nw-resize}.resize-handles[_ngcontent-%COMP%]   .resize-handle.ne[_ngcontent-%COMP%]{top:0;right:0;cursor:ne-resize}.resize-handles[_ngcontent-%COMP%]   .resize-handle.sw[_ngcontent-%COMP%]{bottom:0;left:0;cursor:sw-resize}.resize-handles[_ngcontent-%COMP%]   .resize-handle.se[_ngcontent-%COMP%]{bottom:0;right:0;cursor:se-resize}.properties-panel[_ngcontent-%COMP%]{position:absolute;right:20px;top:80px;width:250px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:16px;box-shadow:0 4px 12px var(--shadow);z-index:10}.properties-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--text-primary);font-size:16px;font-weight:600}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:16px}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;color:var(--text-secondary);font-size:14px;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%;margin-bottom:4px}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:100%;height:36px;border:1px solid var(--border-color);border-radius:4px;cursor:pointer}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.properties-panel[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:100%;padding:8px 16px;background:var(--error-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease}.properties-panel[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:var(--error-dark);transform:translateY(-1px)}.pdf-document-editor[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;background:#f5f5f5}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;padding:15px;background:#fff;border-bottom:1px solid #ddd;box-shadow:0 2px 4px #0000001a}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{padding:10px 15px;background:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;align-items:center;gap:20px}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]{position:relative;transition:all .3s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container.active[_ngcontent-%COMP%]{transform:scale(1.02);box-shadow:0 8px 25px #00000026}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #ccc;box-shadow:0 4px 10px #0000001a;cursor:pointer;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]:hover{box-shadow:0 6px 15px #00000026}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{position:absolute;top:-30px;left:0;background:#333;color:#fff;padding:5px 10px;font-size:12px;border-radius:3px}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]{position:absolute;border:1px solid transparent;cursor:move;transition:all .2s ease;-webkit-user-select:none;user-select:none}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]:hover{border-color:#007bff}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element.selected[_ngcontent-%COMP%]{border-color:#007bff;box-shadow:0 0 5px #007bff80}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;background:#007bff;border:2px solid white;border-radius:50%;width:8px;height:8px;pointer-events:auto;z-index:1000;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]:hover{background:#0056b3;transform:scale(1.3);box-shadow:0 2px 6px #007bff66}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.nw-resize[_ngcontent-%COMP%]{cursor:nw-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.ne-resize[_ngcontent-%COMP%]{cursor:ne-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.sw-resize[_ngcontent-%COMP%]{cursor:sw-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.se-resize[_ngcontent-%COMP%]{cursor:se-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.n-resize[_ngcontent-%COMP%]{cursor:n-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.s-resize[_ngcontent-%COMP%]{cursor:s-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.w-resize[_ngcontent-%COMP%]{cursor:w-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.e-resize[_ngcontent-%COMP%]{cursor:e-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .corner-handle[_ngcontent-%COMP%]{width:10px;height:10px;background:#007bff;border:2px solid white;box-shadow:0 1px 3px #0003}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .edge-handle[_ngcontent-%COMP%]{width:8px;height:8px;background:#28a745;border:1px solid white}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]{width:100%;height:100%;padding:2px;border:none;background:transparent;resize:none;outline:none;font-family:Arial,sans-serif;cursor:text;-webkit-user-select:text;user-select:text}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element.editing[_ngcontent-%COMP%]{background:#ffffffe6;border:2px solid #007acc;outline:none;box-shadow:0 0 8px #007acc4d;cursor:text}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]:hover:not(.editing){background:#007acc0d;cursor:text}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]:focus{outline:none;background:#ffffffe6}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .image-element[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;cursor:move;-webkit-user-select:none;user-select:none;border:2px solid transparent;transition:border-color .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .image-element[_ngcontent-%COMP%]:hover{border-color:#007acc4d}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .image-element.selected[_ngcontent-%COMP%]{border-color:#007acc;box-shadow:0 0 8px #007acc4d}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .shape-element[_ngcontent-%COMP%]{width:100%;height:100%;cursor:move;-webkit-user-select:none;user-select:none;border-radius:2px;transition:box-shadow .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .shape-element[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #0000001a}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .shape-element.selected[_ngcontent-%COMP%]{box-shadow:0 0 8px #007acc4d}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]{padding:20px}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]   .add-page-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px 25px;background:#6c757d;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:16px;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]   .add-page-button[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]   .add-page-button[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]{position:fixed;top:50%;right:20px;transform:translateY(-50%);width:250px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 15px #0000001a;padding:20px;z-index:1000}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:16px}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#555}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:5px;border:1px solid #ddd;border-radius:3px;font-size:14px}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:60px;flex:none}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:40px;height:30px;flex:none;border:none;border-radius:3px;cursor:pointer}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:#dc3545;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#c82333}.right-sidebar-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:350px;height:100%;transition:width .3s ease}.right-sidebar-container.collapsed[_ngcontent-%COMP%]{width:48px}.right-sidebar-container[_ngcontent-%COMP%]   app-docs-right-sidebar[_ngcontent-%COMP%]{height:100%}.element-properties-panel.draggable-panel[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;-webkit-user-select:none;user-select:none;cursor:default;width:320px;max-width:90vw;max-height:80vh;overflow:hidden;z-index:25;background:var(--bg-primary);border:2px solid var(--accent-color);border-radius:12px;box-shadow:0 12px 32px #0000004d;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.element-properties-panel[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:move;background:var(--accent-color);color:#fff;padding:12px 16px;border-radius:10px 10px 0 0}.element-properties-panel[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{background:#4f46e5;opacity:.9}.element-properties-panel[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{background:#3730a3;cursor:grabbing}.element-properties-panel[_ngcontent-%COMP%]   .properties-header[_ngcontent-%COMP%]{margin:0;padding:0;border:none}.element-properties-panel[_ngcontent-%COMP%]   .properties-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#fff;display:flex;align-items:center}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]{padding:20px;max-height:60vh;overflow-y:auto;background:var(--bg-primary)}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}.element-properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:20px}.element-properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]{margin-bottom:12px}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:2px solid var(--border-color);border-radius:6px;font-size:13px;background:var(--input-bg);color:var(--text-primary);transition:all .2s ease}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(var(--accent-color),.1)}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:var(--text-muted)}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{height:36px;padding:4px;cursor:pointer}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color);display:flex;gap:10px}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%], .element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{flex:1;padding:10px 16px;border:none;border-radius:8px;font-size:13px;font-weight:500;cursor:pointer;transition:background .2s ease}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#dc2626}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:active{background:#b91c1c}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover)}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{background:var(--bg-active)}.vector-path-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center}.vector-path-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:90vw;max-height:90vh;width:800px;display:flex;flex-direction:column;overflow:hidden}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:5px;border-radius:4px;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#495057}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]{padding:25px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.25rem;font-weight:600;color:#2c3e50}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:25px;border-bottom:1px solid #e9ecef}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1rem;font-weight:600;color:#495057}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]{margin-bottom:15px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;border:3px solid #4285f4;border-radius:12px;background:linear-gradient(135deg,#4285f4,#34a853);color:#fff;cursor:pointer;transition:all .3s ease;text-decoration:none;width:100%;box-shadow:0 4px 15px #4285f44d}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #4285f466;border-color:#3367d6}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 15px #4285f44d}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:8px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-size:1.1rem;font-weight:600;margin-bottom:4px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.85rem;opacity:.9;font-weight:400}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px 10px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-decoration:none}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8f9ff;transform:translateY(-2px);box-shadow:0 4px 12px #4285f426}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]   .pattern-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:.875rem;font-weight:500;color:#495057}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#495057;min-width:80px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:50px;height:35px;border:1px solid #ced4da;border-radius:4px;cursor:pointer;padding:2px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{flex:1;max-width:150px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;min-width:40px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-fill[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ced4da;border-radius:4px;background:#fff;cursor:pointer;font-size:.875rem;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-fill[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#adb5bd}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .path-preview[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .path-preview[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{border-radius:4px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:auto;margin-bottom:5px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .path-input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ced4da;border-radius:4px;font-family:Courier New,monospace;font-size:.875rem;resize:vertical}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .path-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{align-self:flex-start;padding:8px 16px;background:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.875rem;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .direct-drawing-container[_ngcontent-%COMP%]{height:70vh;width:100%;border:1px solid #e9ecef;border-radius:8px;overflow:hidden;background:#f8f9fa}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .direct-drawing-container[_ngcontent-%COMP%]   app-vector-path-drawer[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:10px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .direct-drawing-controls[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .normal-mode-controls[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%;justify-content:flex-end}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled, .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:disabled, .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background:#e67e22;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover:not(:disabled){background:#d35400}.text-editor-modal[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center;background:#00000080}.text-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:90vw;max-height:90vh;width:600px;display:flex;flex-direction:column;overflow:hidden}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:5px;border-radius:4px;transition:all .2s}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#495057}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:25px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.125rem;font-weight:600;color:#2c3e50;border-bottom:2px solid #e9ecef;padding-bottom:8px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:15px;flex-wrap:wrap}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#495057;min-width:80px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:50px;height:35px;border:1px solid #ced4da;border-radius:4px;cursor:pointer;padding:2px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{flex:1;max-width:200px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{width:100px;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;font-size:.875rem}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ced4da;border-radius:4px;background:#fff;font-size:.875rem;min-width:150px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]:focus, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]:focus, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;font-size:14px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%]{font-family:Noto Sans KR,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%]{font-family:NanumGothic,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%]{font-family:NanumBarunGothic,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%]{font-family:IBM Plex Sans KR,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%]{font-family:NanumSquare,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%]{font-family:Black Han Sans,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%]{font-family:"Noto Serif KR",serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%]{font-family:NanumMyeongjo,serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%]{font-family:NanumPen,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%]{font-family:NanumBrush,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%]{font-family:DoHyeon,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%]{font-family:Jua,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%]{font-family:Gaegu,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%]{font-family:GamjaFlower,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%]{font-family:Sunflower,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%]{font-family:EastSeaDokdo,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%]{font-family:HiMelody,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%]{font-family:Lato,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%]{font-family:Inter,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;min-width:40px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]{margin-bottom:25px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:10px;justify-content:flex-end}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.text-editor-modal[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ced4da;border-radius:4px;font-size:.875rem;font-family:inherit;resize:vertical;min-height:80px}.text-editor-modal[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.text-editor-modal[_ngcontent-%COMP%]   .text-preview[_ngcontent-%COMP%]{padding:15px;border:1px solid #e9ecef;border-radius:4px;background:#f8f9fa;min-height:60px;display:flex;align-items:center}.image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:700px}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{border:2px dashed #ced4da;border-radius:8px;padding:30px;text-align:center;transition:all .2s}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8f9ff}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;color:#495057}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:2rem;color:#4285f4}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d}.image-editor-modal[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{text-align:center;padding:15px;border:1px solid #e9ecef;border-radius:4px;background:#f8f9fa}.shape-editor-modal[_ngcontent-%COMP%]   .shape-types[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:15px 10px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn.active[_ngcontent-%COMP%]{border-color:#4285f4;background:#f8f9ff;color:#4285f4}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8f9ff}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]   .shape-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:5px}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:.875rem;font-weight:500}.shape-editor-modal[_ngcontent-%COMP%]   .shape-preview[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]{margin:0 auto}.signature-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1110;display:flex;align-items:center;justify-content:center;background:#00000080}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0000004d;width:90vw;max-width:700px;max-height:80vh;overflow:hidden}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between;background:#f8f9fa}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#333;display:flex;align-items:center;gap:8px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#333}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:24px;max-height:60vh;overflow-y:auto}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #eee;display:flex;gap:12px;justify-content:flex-end;background:#f8f9fa}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:600;color:#333}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-text-section[_ngcontent-%COMP%]   .signature-text-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e9ecef;border-radius:8px;font-size:16px;transition:border-color .2s ease}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-text-section[_ngcontent-%COMP%]   .signature-text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 20px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;flex:1;min-width:120px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 2px 8px #007bff26}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn.active[_ngcontent-%COMP%]{border-color:#007bff;background:#f0f8ff;box-shadow:0 2px 8px #007bff33}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]   .style-icon[_ngcontent-%COMP%]{font-size:24px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:500}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]{margin-bottom:24px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:12px;background:#f9f9f9}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .signature-canvas[_ngcontent-%COMP%]{width:100%;height:150px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:crosshair;display:block;margin-bottom:12px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer;font-size:14px;transition:all .2s ease}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.clear-btn[_ngcontent-%COMP%]{color:#f44;border-color:#f44}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.clear-btn[_ngcontent-%COMP%]:hover{background:#ffebeb}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.use-canvas-btn[_ngcontent-%COMP%]{color:#22c55e;border-color:#22c55e}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.use-canvas-btn[_ngcontent-%COMP%]:hover{background:#f0fff4}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:4px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#555}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:60px;height:40px;border:none;border-radius:6px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%;cursor:pointer}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff33}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#666}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-preview-section[_ngcontent-%COMP%]   .signature-preview[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]{border:2px dashed #ddd;border-radius:8px;margin:0 auto;background:#f9f9f9}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-preview-section[_ngcontent-%COMP%]   .signature-preview[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]   .signature-sample[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;text-align:center;transition:all .2s ease}.signature-element[_ngcontent-%COMP%]{cursor:move;transition:all .2s ease}.signature-element[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.signature-element.selected[_ngcontent-%COMP%]{box-shadow:0 4px 12px #007bff4d}@media (max-width: 768px){.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-content[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-content[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]{width:100%;text-align:center}}.watermark-editor-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1120}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:12px;border-bottom:1px solid #eee}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:24px;font-weight:600}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#666}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0 12px;color:#555;font-size:16px;font-weight:500}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-text-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-text-section[_ngcontent-%COMP%]   .watermark-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;font-size:16px;font-family:inherit}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-text-section[_ngcontent-%COMP%]   .watermark-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007aff}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;flex-wrap:wrap}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#666;min-width:50px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:120px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:60px;padding:6px;border:1px solid #ddd;border-radius:4px;text-align:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:6px;cursor:pointer}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .rotation-value[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .rotation-value[_ngcontent-%COMP%]{font-size:14px;color:#666;min-width:40px;text-align:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#666;min-width:40px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .position-input[_ngcontent-%COMP%]{flex:1;padding:6px;border:1px solid #ddd;border-radius:4px;text-align:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .watermark-preview[_ngcontent-%COMP%]{display:flex;justify-content:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .watermark-preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;background:#f9f9f9;position:relative;display:flex;align-items:center;justify-content:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .watermark-preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .watermark-sample[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform-origin:center;white-space:nowrap;font-weight:700;pointer-events:none;-webkit-user-select:none;user-select:none}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:12px;border-top:1px solid #eee}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.cancel-btn[_ngcontent-%COMP%]{background:#f0f0f0;color:#666}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.cancel-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.apply-btn[_ngcontent-%COMP%]{background:#007aff;color:#fff}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.apply-btn[_ngcontent-%COMP%]:hover{background:#0056cc}.watermark-element[_ngcontent-%COMP%]{position:absolute;cursor:pointer;-webkit-user-select:none;user-select:none;pointer-events:all;transform-origin:center;z-index:10;background:#ffffff03}.watermark-element.selected[_ngcontent-%COMP%]{outline:2px solid #007AFF;outline-offset:-2px}.watermark-element[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-weight:700;white-space:nowrap;pointer-events:none;-webkit-user-select:none;user-select:none}@media (max-width: 768px){.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]{width:95%;padding:16px;max-height:95vh}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{justify-content:space-between}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{width:100%!important;height:150px!important}}.pdf-structure-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1090}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:600px;height:100%;background:var(--bg-primary, #ffffff);box-shadow:-4px 0 20px #0003;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid var(--border-color, #e0e0e0);display:flex;align-items:center;justify-content:space-between}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:transparent;font-size:24px;color:var(--text-secondary, #666);cursor:pointer;border-radius:4px;transition:all .2s}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5);color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]{display:flex;padding:0 24px;border-bottom:1px solid var(--border-color, #e0e0e0);gap:8px}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]   .mode-tab[_ngcontent-%COMP%]{padding:12px 16px;border:none;background:transparent;color:var(--text-secondary, #666);font-size:14px;font-weight:500;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]   .mode-tab[_ngcontent-%COMP%]:hover{color:var(--primary-color, #2196F3)}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]   .mode-tab.active[_ngcontent-%COMP%]{color:var(--primary-color, #2196F3);border-bottom-color:var(--primary-color, #2196F3)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 16px;color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{padding:16px;background:var(--bg-info, #e3f2fd);border-left:4px solid var(--primary-color, #2196F3);border-radius:4px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary, #666);line-height:1.5}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-top:16px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary, #f5f5f5);border-radius:8px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary, #666);font-size:14px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:20px;color:var(--primary-color, #2196F3)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px;margin-top:16px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:24px;background:var(--bg-secondary, #f5f5f5);border-radius:8px;text-align:center}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--primary-color, #2196F3);margin-bottom:8px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary, #666)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid var(--border-color, #e0e0e0);display:flex;justify-content:flex-end;gap:12px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary, #f5f5f5);color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1130;display:flex;align-items:center;justify-content:center;background:#00000080}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalFadeIn .3s ease-out}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-content.large-modal[_ngcontent-%COMP%]{width:90%;max-width:1200px}@keyframes _ngcontent-%COMP%_modalFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:5px;border-radius:4px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#495057}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:25px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.125rem;font-weight:600;color:#2c3e50;border-bottom:2px solid #e9ecef;padding-bottom:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]{margin-bottom:40px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:12px;border-bottom:2px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:22px;font-weight:700;color:#2c3e50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:14px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:24px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 4px 12px #667eea4d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:36px;line-height:1}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:13px;opacity:.85;line-height:1.4}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:var(--bg-secondary, #f9f9f9);border-radius:12px;border-left:4px solid var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-number[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--primary-color, #2196F3);color:#fff;border-radius:50%;font-weight:700;font-size:16px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary, #333)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge[_ngcontent-%COMP%]{padding:4px 12px;background:var(--primary-color, #2196F3);color:#fff;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.catalog[_ngcontent-%COMP%]{background:#9c27b0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.pages[_ngcontent-%COMP%]{background:#ff9800}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.page[_ngcontent-%COMP%]{background:#4caf50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.stream[_ngcontent-%COMP%]{background:#f44336}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-desc[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--text-secondary, #666);line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]{margin-top:16px;overflow-x:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;font-weight:600;font-size:14px;color:#fff;text-transform:uppercase;letter-spacing:.5px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color, #e0e0e0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;font-size:14px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:2px 6px;background:#f0f0f0;border-radius:4px;font-family:Courier New,monospace;font-size:13px;color:#e91e63}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:16px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]{padding:16px;background:#fff;border:2px solid var(--border-color, #e0e0e0);border-radius:8px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color, #2196F3);box-shadow:0 4px 12px #2196f333;transform:translateY(-2px)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]   .operator-code[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:18px;font-weight:700;color:var(--primary-color, #2196F3);margin-bottom:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]   .operator-desc[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary, #666);line-height:1.4}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]{padding:24px;background:#fff;border:2px solid var(--primary-color, #2196F3);border-radius:12px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:var(--text-primary, #333);line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   .code-block[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#1e1e1e;border-radius:8px;overflow-x:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   .code-block[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;font-family:Courier New,monospace;font-size:13px;color:#d4d4d4;line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]{padding:20px;background:#fff;border:2px solid var(--border-color, #e0e0e0);border-radius:12px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:var(--text-primary, #333);padding-bottom:12px;border-bottom:1px solid var(--border-color, #e0e0e0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;background:var(--bg-secondary, #f9f9f9);border-radius:6px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px;color:var(--primary-color, #2196F3);margin-bottom:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary, #666)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]   .compression-card[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 4px 12px #667eea4d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]   .compression-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:700}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]   .compression-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.9;line-height:1.5}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:var(--bg-info, #e3f2fd);border-left:4px solid var(--primary-color, #2196F3);border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:8px 0;padding-left:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0;line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]{margin-left:20px;padding:8px 12px;background:#f8f9fa;border-radius:4px;max-height:200px;overflow-y:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:monospace;font-size:.85rem;padding:2px 0;color:#495057}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]{margin-top:12px;padding:15px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;box-shadow:0 2px 8px #0000001a}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:6px;overflow:hidden}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.label[_ngcontent-%COMP%]{font-weight:600;color:#495057;width:40%;background:#f8f9fa}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%]{color:#212529;font-weight:500}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]{margin-top:12px;padding:15px;background:linear-gradient(to right,#f8f9fa,#fff);border-radius:8px;border:1px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]{margin:10px 0;padding:12px 15px;background:#fff;border-left:4px solid #4CAF50;border-radius:6px;box-shadow:0 1px 3px #0000001a;display:flex;gap:10px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]:hover{border-left-color:#2196f3;box-shadow:0 2px 6px #00000026;transform:translate(2px)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]   .sentence-number[_ngcontent-%COMP%]{font-weight:700;color:#4caf50;min-width:25px;font-size:.9rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]   .sentence-text[_ngcontent-%COMP%]{flex:1;font-size:.9rem;line-height:1.6;color:#333}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .more-sentences[_ngcontent-%COMP%]{margin-top:15px;padding:10px;text-align:center;color:#6c757d;font-style:italic;font-size:.85rem;background:#f8f9fa;border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .btn-json-toggle[_ngcontent-%COMP%]{padding:12px 24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px #667eea66}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .btn-json-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea99}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .btn-json-toggle[_ngcontent-%COMP%]:active{transform:translateY(0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#1e1e1e;border-radius:12px;box-shadow:0 4px 20px #0003}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:15px;border-bottom:2px solid #333}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#61dafb;font-size:1.2rem;margin:0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-copy[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-copy[_ngcontent-%COMP%]:hover{background:#45a049;transform:scale(1.05)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]:hover{background:#0b7dda;transform:scale(1.05)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download.btn-vector-stream[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9c27b0,#e91e63);border:none;color:#fff;font-weight:600;box-shadow:0 4px 15px #9c27b04d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download.btn-vector-stream[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7b1fa2,#c2185b);transform:scale(1.05);box-shadow:0 6px 20px #9c27b066}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]{max-height:600px;overflow:auto;background:#282c34;border-radius:8px;padding:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;color:#abb2bf;font-family:Consolas,Monaco,Courier New,monospace;font-size:.85rem;line-height:1.6;white-space:pre-wrap;word-wrap:break-word}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e1e1e;border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4a4a4a;border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#5a5a5a}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]{margin-top:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ff6b6b;font-size:1.3rem;margin-bottom:15px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;margin:0 0 15px;font-weight:600}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;padding:25px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(0,0,0,.2)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]{margin-bottom:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{background:#ffffff26;padding:12px 15px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;transition:all .3s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:gold}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;margin-top:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:12px;overflow:hidden;transition:all .3s;border:2px solid rgba(255,255,255,.2)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#fff6;transform:translateY(-3px);box-shadow:0 6px 20px #0000004d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-header[_ngcontent-%COMP%]{background:#0003;padding:12px 15px;display:flex;justify-content:space-between;align-items:center}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:gold;color:#333;padding:4px 10px;border-radius:12px;font-size:.8rem;font-weight:600}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]{padding:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid rgba(255,255,255,.1);font-size:.9rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-weight:700;color:gold}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]{padding:15px;border-top:1px solid rgba(255,255,255,.2)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]{cursor:pointer}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-weight:600;padding:8px;background:#ffffff1a;border-radius:6px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{background:#fff3}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]{margin-top:10px;max-height:300px;overflow-y:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px;margin:5px 0;background:#0003;border-radius:6px;font-size:.85rem;align-items:center}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-number[_ngcontent-%COMP%]{color:gold;font-weight:700;min-width:25px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type[_ngcontent-%COMP%]{padding:2px 8px;border-radius:4px;font-weight:600;font-size:.8rem;text-transform:uppercase}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-path[_ngcontent-%COMP%]{background:#4caf50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-line[_ngcontent-%COMP%]{background:#2196f3}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-curve[_ngcontent-%COMP%]{background:#9c27b0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-shape[_ngcontent-%COMP%]{background:#ff9800}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-paint[_ngcontent-%COMP%]{background:#f44336}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-clip[_ngcontent-%COMP%]{background:#607d8b}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-desc[_ngcontent-%COMP%]{flex:1;font-size:.85rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .more-ops[_ngcontent-%COMP%]{text-align:center;padding:10px;color:#ffffffb3;font-style:italic;font-size:.85rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0003;border-radius:3px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-details[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:#fff3;border-radius:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:10px 0 0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:.9rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:10px;justify-content:flex-end}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:center}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-view-detail[_ngcontent-%COMP%]{padding:14px 32px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #667eea4d}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-view-detail[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-view-detail[_ngcontent-%COMP%]:active{transform:translateY(0)}[_nghost-%COMP%]     .snackbar-container, [_nghost-%COMP%]     .mat-snack-bar-container, [_nghost-%COMP%]     app-snackbar{z-index:10000!important}.confirm-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:10000;display:flex;align-items:center;justify-content:center}.confirm-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]{position:relative;background:var(--bg-primary);border-radius:12px;box-shadow:0 20px 60px #0000004d;min-width:400px;max-width:500px;margin:20px;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 0;border-bottom:1px solid var(--border-color);margin-bottom:20px}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600;color:var(--text-primary)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);color:var(--text-primary)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:0 24px 20px}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .confirm-message[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;color:var(--text-primary);margin:0;white-space:pre-line}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px;border-top:1px solid var(--border-color)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;border:none;font-weight:500;cursor:pointer;transition:all .2s ease;font-size:.9rem}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-1px);box-shadow:0 4px 12px #dc35454d}.vector-actions[_ngcontent-%COMP%]{padding:15px;background:#9c27b01a;border-radius:8px;border:1px solid rgba(156,39,176,.2)}.vector-actions[_ngcontent-%COMP%]   .btn-vector-stream[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:14px;transition:all .3s ease;cursor:pointer}.vector-actions[_ngcontent-%COMP%]   .btn-vector-stream[_ngcontent-%COMP%]:active{transform:scale(.98)}#vector-graphics-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;pointer-events:none;border-radius:4px;opacity:.8;transition:opacity .3s ease}#vector-graphics-canvas[_ngcontent-%COMP%]:hover{opacity:1}.vector-path-element[_ngcontent-%COMP%]{position:absolute;cursor:move;border:2px solid transparent;border-radius:3px;transition:all .3s ease}.vector-path-element[_ngcontent-%COMP%]:hover{border-color:#3498db80;box-shadow:0 2px 8px #3498db33}.vector-path-element.selected[_ngcontent-%COMP%]{border-color:#3498db;box-shadow:0 0 0 2px #3498db4d}.vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.vector-preview-panel[_ngcontent-%COMP%]{position:fixed;top:100px;right:20px;width:300px;height:400px;background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;z-index:1000;display:flex;flex-direction:column;overflow:hidden}.vector-preview-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{background:#3498db;color:#fff;padding:12px;font-weight:600;display:flex;justify-content:space-between;align-items:center}.vector-preview-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer}.vector-preview-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:.8}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;padding:15px;overflow-y:auto}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]{background:#f8f9fa;padding:10px;border-radius:6px;margin-bottom:15px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px;font-size:13px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]{margin-bottom:15px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:5px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px;border:1px solid #ddd;border-radius:4px;font-size:12px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{height:30px;border:none;border-radius:4px;cursor:pointer}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{margin:5px 0}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:12px;border-top:1px solid #eee;display:flex;gap:8px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:8px;border:none;border-radius:4px;cursor:pointer;font-size:12px;transition:all .3s ease}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:#3498db;color:#fff}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background:#2980b9}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#95a5a6;color:#fff}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#7f8c8d}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.vector-graphics-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1140;display:flex;align-items:center;justify-content:center;background:#000000b3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 25px 80px #0006;display:flex;flex-direction:column;width:95%;max-width:1400px;height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalZoomIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalZoomIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:16px 16px 0 0}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;display:flex;align-items:center;gap:10px}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;font-size:1.5rem;cursor:pointer;color:#fff;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 30px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{padding:8px 16px;background:#fff;border:1px solid #dee2e6;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;color:#495057;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:hover:not(:disabled){background:#007bff;color:#fff;border-color:#007bff;transform:translateY(-1px);box-shadow:0 2px 8px #007bff4d}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:14px;font-weight:600;color:#495057}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]{padding:8px 20px;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:600;color:#fff;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-body-svg[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:30px;background:#f8f9fa;display:flex;align-items:center;justify-content:center}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-body-svg[_ngcontent-%COMP%]   #vectorGraphicsSvgContainer[_ngcontent-%COMP%]{width:100%;max-width:100%;background:#fff;border-radius:8px;box-shadow:0 4px 20px #0000001a;padding:20px;display:flex;justify-content:center;align-items:center}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-body-svg[_ngcontent-%COMP%]   #vectorGraphicsSvgContainer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:100%;height:auto;border:1px solid #dee2e6;border-radius:4px}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px 30px;background:#f8f9fa;border-top:1px solid #e9ecef;border-radius:0 0 16px 16px}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-1px);box-shadow:0 2px 8px #6c757d4d}.svg-element[_ngcontent-%COMP%]{position:absolute;cursor:move;border-radius:4px;transition:all .3s ease;background:#ffffffe6}.svg-element[_ngcontent-%COMP%]:hover{border-color:#e74c3cb3!important;box-shadow:0 2px 8px #e74c3c33;transform:translateY(-1px)}.svg-element.selected[_ngcontent-%COMP%]{border-color:#e74c3c!important;box-shadow:0 0 0 2px #e74c3c4d;z-index:10}.svg-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.debug-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:10000}.debug-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000b3;z-index:1}.debug-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fff;border-radius:16px;box-shadow:0 10px 40px #0000004d;max-width:90%;max-height:90%;display:flex;flex-direction:column}.debug-modal[_ngcontent-%COMP%]   .modal-content.large-modal[_ngcontent-%COMP%]{width:1200px;height:800px}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;border-bottom:1px solid #e9ecef}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#2c3e50}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#6c757d;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#2c3e50}.debug-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:20px 30px}.debug-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]{margin:0;width:100%}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px 30px;background:#f8f9fa;border-top:1px solid #e9ecef;border-radius:0 0 16px 16px}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-1px);box-shadow:0 2px 8px #6c757d4d}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px);box-shadow:0 2px 8px #007bff4d}'],changeDetection:0})};function ia(l,e){if(l&1&&(r(0,"div",29)(1,"span",30),s(2,"\u26A0\uFE0F"),a(),r(3,"span",31),s(4),a()()),l&2){let t=f();p(4),V(t.errorMessage)}}function ra(l,e){l&1&&(r(0,"span"),s(1,"\u{1F513} \uB85C\uADF8\uC778"),a())}function aa(l,e){l&1&&(r(0,"span",32),W(1,"span",33),r(2,"span"),s(3,"\uB85C\uADF8\uC778 \uC911..."),a()())}var Ye=class l{constructor(e,t,n){this.authService=e;this.router=t;this.route=n}username="";password="";errorMessage="";isLoading=!1;returnUrl="/docs";showPassword=!1;get loginTitle(){return St.ezMode?"EzReader(\uAC1C\uBC1C)":"\u{1F4C4}Docs"}get loginSubtitle(){return St.ezMode?"Easy Document Reader - Development":"Documents Management System"}ngOnInit(){if(this.authService.isAuthenticated()){this.router.navigate(["/docs"]);return}this.route.queryParams.subscribe(e=>{this.returnUrl=e.returnUrl||"/docs"})}onLogin(){if(this.errorMessage="",!this.username||!this.password){this.errorMessage="\uC544\uC774\uB514\uC640 \uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.";return}this.isLoading=!0,setTimeout(()=>{this.authService.login(this.username,this.password)?this.router.navigate([this.returnUrl]):(this.errorMessage="\uC544\uC774\uB514 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",this.password=""),this.isLoading=!1},500)}onKeyPress(e){e.key==="Enter"&&this.onLogin()}togglePasswordVisibility(){this.showPassword=!this.showPassword}clearError(){this.errorMessage=""}static \u0275fac=function(t){return new(t||l)(J(Vt),J(vt),J(Mn))};static \u0275cmp=ot({type:l,selectors:[["app-docs-login"]],decls:41,vars:17,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo-section"],[1,"app-title"],[1,"subtitle"],[1,"login-body"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username",1,"form-label"],[1,"label-icon"],[1,"label-text"],["type","text","id","username","name","username","placeholder","\uC544\uC774\uB514\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","username","required","",1,"form-input",3,"ngModelChange","focus","keypress","ngModel","disabled"],["for","password",1,"form-label"],[1,"password-input-wrapper"],["id","password","name","password","placeholder","\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","current-password","required","",1,"form-input",3,"ngModelChange","focus","keypress","type","ngModel","disabled"],["type","button",1,"toggle-password-btn",3,"click","disabled","title"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"login-footer"],[1,"footer-text"],[1,"footer-info"],[1,"background-animation"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"floating-shape","shape-4"],[1,"error-message"],[1,"error-icon"],[1,"error-text"],[1,"loading-spinner"],[1,"spinner"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),s(5),a(),r(6,"p",5),s(7),a()()(),r(8,"div",6)(9,"form",7),O("ngSubmit",function(){return n.onLogin()}),r(10,"div",8)(11,"label",9)(12,"span",10),s(13,"\u{1F464}"),a(),r(14,"span",11),s(15,"\uC544\uC774\uB514"),a()(),r(16,"input",12),K("ngModelChange",function(i){return q(n.username,i)||(n.username=i),i}),O("focus",function(){return n.clearError()})("keypress",function(i){return n.onKeyPress(i)}),a()(),r(17,"div",8)(18,"label",13)(19,"span",10),s(20,"\u{1F512}"),a(),r(21,"span",11),s(22,"\uBE44\uBC00\uBC88\uD638"),a()(),r(23,"div",14)(24,"input",15),K("ngModelChange",function(i){return q(n.password,i)||(n.password=i),i}),O("focus",function(){return n.clearError()})("keypress",function(i){return n.onKeyPress(i)}),a(),r(25,"button",16),O("click",function(){return n.togglePasswordVisibility()}),s(26),a()()(),$(27,ia,5,1,"div",17),r(28,"button",18),$(29,ra,2,0,"span",19)(30,aa,4,0,"span",20),a()()(),r(31,"div",21)(32,"p",22),s(33,"Authorized Access Only"),a(),r(34,"p",23),s(35,"\u{1F512} \uBCF4\uC548 \uB85C\uADF8\uC778 \uC2DC\uC2A4\uD15C"),a()()(),r(36,"div",24),W(37,"div",25)(38,"div",26)(39,"div",27)(40,"div",28),a()()),t&2&&(p(5),V(n.loginTitle),p(2),V(n.loginSubtitle),p(9),X("ngModel",n.username),b("disabled",n.isLoading),p(8),b("type",n.showPassword?"text":"password"),X("ngModel",n.password),b("disabled",n.isLoading),p(),b("title",ln(n.showPassword?"\uBE44\uBC00\uBC88\uD638 \uC228\uAE30\uAE30":"\uBE44\uBC00\uBC88\uD638 \uBCF4\uAE30"))("disabled",n.isLoading),p(),z(" ",n.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),p(),b("ngIf",n.errorMessage),p(),Y("loading",n.isLoading),b("disabled",n.isLoading||!n.username||!n.password),p(),b("ngIf",!n.isLoading),p(),b("ngIf",n.isLoading))},dependencies:[lt,st,ft,Pn,ut,gt,Cn,bn,pt,_n],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:450px;overflow:hidden;position:relative;z-index:10;animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:40px 30px;text-align:center;color:#fff}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin:0 0 8px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;margin:0;opacity:.9;font-weight:300;letter-spacing:1px}.login-body[_ngcontent-%COMP%]{padding:40px 30px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:600;color:#4a5568;margin-bottom:8px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:18px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{flex:1}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:15px;transition:all .3s ease;background:#f8fafc}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled{background:#e2e8f0;cursor:not-allowed;opacity:.6}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding-right:50px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;cursor:pointer;font-size:20px;padding:8px;border-radius:6px;transition:all .2s ease}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#fee;border:2px solid #fcc;border-radius:10px;margin-bottom:20px;animation:_ngcontent-%COMP%_shake .5s ease}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:20px}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{flex:1;color:#c53030;font-size:14px;font-weight:500}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #667eea66}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-form[_ngcontent-%COMP%]   .login-btn.loading[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3c7,#9a89b4)}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{background:#f7fafc;padding:20px 30px;text-align:center;border-top:1px solid #e2e8f0}.login-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{margin:0 0 4px;font-size:13px;color:#718096;font-weight:500}.login-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#a0aec0}.background-animation[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:1}.background-animation[_ngcontent-%COMP%]   .floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-150px;left:-150px;animation-delay:0s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;top:50%;right:-100px;animation-delay:5s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;bottom:-75px;left:30%;animation-delay:10s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;top:20%;right:20%;animation-delay:15s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) scale(1)}33%{transform:translate(30px,-30px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:16px}.login-card[_ngcontent-%COMP%]{max-width:100%}.login-header[_ngcontent-%COMP%]{padding:30px 20px}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:28px}.login-body[_ngcontent-%COMP%]{padding:30px 20px}.login-footer[_ngcontent-%COMP%]{padding:16px 20px}}"]})};var Xe=class l{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return St.requireAuth===!1||this.authService.isAuthenticated()?!0:(this.router.navigate(["/docs/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||l)(zt(Vt),zt(vt))};static \u0275prov=nt({token:l,factory:l.\u0275fac,providedIn:"root"})};var ca=[{path:"login",component:Ye},{path:"",component:Ue,canActivate:[Xe],pathMatch:"full"}],qe=class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=Ce({type:l});static \u0275inj=ue({imports:[nn.forChild(ca),nn]})};var Bn=class l{constructor(e){this.resourceLoader=e;console.log("\u{1F4E6} DocsModule \uCD08\uAE30\uD654 - \uB9AC\uC18C\uC2A4 \uB85C\uB529 \uC2DC\uC791"),this.resourceLoader.loadAllResources().then(()=>{console.log("\u2705 DocsModule \uB9AC\uC18C\uC2A4 \uB85C\uB529 \uC644\uB8CC")}).catch(t=>{console.error("\u274C DocsModule \uB9AC\uC18C\uC2A4 \uB85C\uB529 \uC2E4\uD328:",t)})}static \u0275fac=function(t){return new(t||l)(zt(kn))};static \u0275mod=Ce({type:l});static \u0275inj=ue({imports:[lt,ft,vn,yn,On,qe,ee,ne,oe,ie,re,ae,ce,Oe,ve,ye]})};export{Bn as DocsModule};
