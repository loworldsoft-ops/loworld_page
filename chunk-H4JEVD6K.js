import{a as m}from"./chunk-YEEPMWEI.js";import{u as g,v as I}from"./chunk-C54FDREW.js";import{B as n,U as i,Z as p,ba as c,k as o}from"./chunk-W7RFCP42.js";import{a as h}from"./chunk-JKOY2XUY.js";var b=(a=>(a.BOT_ACTIVE="bot_active",a.WAITING_AGENT="waiting_agent",a.AGENT_ACTIVE="agent_active",a.RESOLVED="resolved",a.CLOSED="closed",a))(b||{}),u=(r=>(r.CLIENT="client",r.AGENT="agent",r.BOT="bot",r.SYSTEM="system",r))(u||{});var d=class l{constructor(e){this.http=e}baseUrl=m.channelTalkApiUrl;validateSession(e,t){return this.http.post(`${this.baseUrl}/validate-session`,{sessionId:e,storeId:t})}identifyCustomer(e,t,s){return this.http.post(`${this.baseUrl}/identify-customer`,{fingerprint:e,storeId:t,preProvidedToken:s})}identifyCustomerWithObject(e){return this.http.post(`${this.baseUrl}/identify-customer`,e).pipe(i(t=>console.log("\u{1F4E1} \uACE0\uAC1D \uC2DD\uBCC4 \uC644\uB8CC:",t)),n(t=>(console.log("\uACE0\uAC1D \uC2DD\uBCC4 \uC2E4\uD328 - \uC11C\uBC84 \uC5F0\uACB0 \uBD88\uAC00"),o({client:null,rooms:[]}))))}getStore(e){return this.http.get(`${m.apiUrl}/stores/${e}`)}getClientRooms(e){return this.http.get(`${this.baseUrl}/rooms/${e}`).pipe(i(t=>console.log("\u{1F4E1} \uCC44\uD305\uBC29 \uBAA9\uB85D \uC870\uD68C:",t)),n(t=>(console.log("\uCC44\uD305 \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),o([]))))}getRoom(e){return this.http.get(`${this.baseUrl}/room/${e}`).pipe(i(t=>console.log("\u{1F4E1} \uCC44\uD305\uBC29 \uC815\uBCF4 \uC870\uD68C:",t)),n(t=>(console.log("\uCC44\uD305\uBC29 \uC815\uBCF4 \uC870\uD68C \uC2E4\uD328 - \uC11C\uBC84 \uC5F0\uACB0 \uBD88\uAC00"),o(null))))}createRoom(e){return this.http.post(`${this.baseUrl}/rooms`,e).pipe(i(t=>console.log("\u{1F4E1} \uCC44\uD305\uBC29 \uC0DD\uC131 \uC644\uB8CC:",t)),n(t=>(console.log("\uCC44\uD305\uBC29 \uC0DD\uC131 \uC2E4\uD328 - \uC11C\uBC84 \uC5F0\uACB0 \uBD88\uAC00"),o(null))))}createRoomWithOrganization(e){return this.http.post(`${this.baseUrl}/rooms`,e).pipe(i(t=>console.log("\u{1F4E1} \uCC44\uD305\uBC29 \uC0DD\uC131 \uC644\uB8CC:",t)),n(t=>(console.log("\uCC44\uD305\uBC29 \uC0DD\uC131 \uC2E4\uD328 - \uC11C\uBC84 \uC5F0\uACB0 \uBD88\uAC00"),o(null))))}updateRoomStatus(e,t){return this.http.patch(`${this.baseUrl}/rooms/${e}/status`,{status:t})}getRoomMessages(e,t,s){let r=new g;return t&&(r=r.set("limit",t.toString())),s&&(r=r.set("offset",s.toString())),this.http.get(`${this.baseUrl}/messages/room/${e}`,{params:r}).pipe(i(a=>console.log("\u{1F4E1} \uBA54\uC2DC\uC9C0 \uBAA9\uB85D \uC870\uD68C:",a)),n(a=>(console.log("\uBA54\uC2DC\uC9C0 \uBAA9\uB85D \uC870\uD68C \uC2E4\uD328 - \uC11C\uBC84 \uC5F0\uACB0 \uBD88\uAC00"),o([]))))}sendMessage(e){return this.http.post(`${this.baseUrl}/messages`,e).pipe(i(t=>console.log("\u{1F4E1} \uBA54\uC2DC\uC9C0 \uC804\uC1A1 \uC644\uB8CC:",t)),n(t=>(console.log("\uBA54\uC2DC\uC9C0 \uC804\uC1A1 \uC2E4\uD328 - \uC11C\uBC84 \uC5F0\uACB0 \uBD88\uAC00"),o(null))))}markAsRead(e,t,s){return this.http.post(`${this.baseUrl}/messages/mark-as-read`,{roomId:e,userId:t,userType:s})}syncMessageForms(e,t,s){return this.http.post(`${this.baseUrl}/messages/${t}/forms`,{roomId:e,forms:s})}updateClient(e,t){return this.http.patch(`${this.baseUrl}/clients/${e}`,t)}updateClientData(e,t,s){return this.http.patch(`${this.baseUrl}/clients/${t}/data`,h({roomId:e},s))}transferToAgent(e){return this.http.post(`${this.baseUrl}/transfer-to-human`,{roomId:e})}getAgentRooms(e,t){let s=new g;return t&&(s=s.set("status",t)),this.http.get(`${this.baseUrl}/agent/rooms/organization/${e}`,{params:s})}assignAgent(e,t){return this.http.patch(`${this.baseUrl}/rooms/${e}/assign`,{agentId:t})}getWaitingRooms(e){return this.http.get(`${this.baseUrl}/rooms/waiting`,{params:new g().set("storeId",e)})}static \u0275fac=function(t){return new(t||l)(c(I))};static \u0275prov=p({token:l,factory:l.\u0275fac,providedIn:"root"})};export{b as a,u as b,d as c};
