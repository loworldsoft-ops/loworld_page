import{a as Qe,b as tn,c as en,d as nn,f as on}from"./chunk-ZPFVL57G.js";import{a as Ke,b as Je,c as rn}from"./chunk-RHI7KESF.js";import{c as Ze}from"./chunk-4QFIN3DK.js";import"./chunk-HG3TBNDL.js";import"./chunk-BJLHB6SN.js";import"./chunk-MGX3PWD3.js";import{a as Wt}from"./chunk-WNLEKFVW.js";import{$ as xt,A as vt,E as ft,F as Re,G as Ne,H as Pt,I as We,J as je,L as se,O as Rt,P as Et,Q as kt,R as Ye,S as He,T as Ue,U as Xe,W as Nt,Z as qe,ba as Ee,c as ze,d as _t,e as dt,j as Ge,l as re,m as Lt,x as ae,z as Le}from"./chunk-U2SYGBHB.js";import{$b as Vt,Aa as Ae,Ac as oe,Eb as ut,Kb as f,Lb as r,Mb as i,Nb as R,Nc as ie,Ob as De,Pb as Se,Rb as F,Ta as te,Ua as St,Vb as M,Wb as g,Xa as Ie,Ya as Ct,Z as bt,Za as c,_ as Zt,_b as It,ac as Ft,ba as At,bb as ee,ca as we,cb as it,fc as q,g as Te,gc as H,ha as C,ia as _,ic as Fe,ja as mt,jb as ct,jc as s,ka as Qt,kb as ne,kc as T,lc as E,mb as Ve,mc as ht,nc as qt,pb as B,pc as N,qc as W,rb as L,rc as j,sc as $e,vc as Gt,xa as Dt,yc as lt,zc as gt}from"./chunk-W7RFCP42.js";import{a as yt,b as Be,e as V}from"./chunk-JKOY2XUY.js";var ce=class l{constructor(e){this.sanitizer=e}transform(e){return console.log("\u{1F527} SanitizeHtml \uD30C\uC774\uD504 \uD638\uCD9C\uB428, HTML \uAE38\uC774:",e?.length),console.log("\u{1F527} HTML \uC2DC\uC791 \uBD80\uBD84:",e?.substring(0,100)),this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||l)(it(ae,16))};static \u0275pipe=Ve({name:"sanitizeHtml",type:l,pure:!0})};var Bt=(n=>(n.VECTOR="vector",n.TEXT="text",n.IMAGE="image",n.COMBINED="combined",n))(Bt||{});var jt=class{type="vector";validate(e){if(!e)return!1;let t=e.hasVectorGraphics===!0,o=(e.totalVectorOperations||0)>0;return t&&o}calculateStats(e){if(!this.validate(e))return this.getEmptyStats();let t=e.totalVectorOperations||0,o=e.pageCount||1;return{totalCount:t,perPage:Math.round(t/o),percentage:this.calculatePercentage(e),details:{totalPaths:e.vectorSummary?.totalPaths||0,totalLines:e.vectorSummary?.totalLines||0,totalCurves:e.vectorSummary?.totalCurves||0,totalRectangles:e.vectorSummary?.totalRectangles||0,totalFillOperations:e.vectorSummary?.totalFillOperations||0,totalStrokeOperations:e.vectorSummary?.totalStrokeOperations||0}}}calculatePercentage(e){if(!e)return 0;let t=e.totalVectorOperations||0,o=e.totalTextItems||0,a=(e.imageInfo?.totalImages||0)*100,d=t+o+a;return d===0?0:Math.round(t/d*100)}generatePdf(e,t){return V(this,null,function*(){console.log("\u{1F3A8} \uBCA1\uD130 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:n,rgb:a,StandardFonts:d}=o,p=yield n.create(),m=t?.pageSize?.width||595.28,u=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&p.setTitle(t.title),t.author&&p.setAuthor(t.author),t.subject&&p.setSubject(t.subject),t.keywords&&p.setKeywords(t.keywords),t.creationDate&&p.setCreationDate(t.creationDate));for(let x of e){if(!x.vector)continue;let P=p.addPage([m,u]);try{yield this.renderToPage(P,x.vector)}catch(O){console.error(`\u274C \uD398\uC774\uC9C0 ${x.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,O);let v=yield p.embedFont(d.Helvetica);P.drawText(`\uBCA1\uD130 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${x.pageNumber})`,{x:50,y:u-50,size:12,font:v,color:a(1,0,0)})}}let h=yield p.save();return console.log("\u2705 \uBCA1\uD130 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([h],{type:"application/pdf"})})}renderToPage(e,t){return V(this,null,function*(){if(console.log("\u{1F3A8} \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC2DC\uC791..."),t.svgContent){yield this.renderSvgToPage(e,t.svgContent);return}if(t.operations&&t.operations.length>0){yield this.renderOperationsToPage(e,t.operations);return}console.warn("\u26A0\uFE0F \uB80C\uB354\uB9C1\uD560 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")})}renderSvgToPage(e,t){return V(this,null,function*(){console.log("\u{1F3A8} SVG \uB80C\uB354\uB9C1 \uC2DC\uC791...");try{let o=new Blob([t],{type:"image/svg+xml"}),n=URL.createObjectURL(o),a=new Image;yield new Promise((m,u)=>{a.onload=m,a.onerror=u,a.src=n});let d=document.createElement("canvas");d.width=e.getWidth(),d.height=e.getHeight();let p=d.getContext("2d");if(p){p.drawImage(a,0,0,d.width,d.height);let u=d.toDataURL("image/png").split(",")[1],h=Uint8Array.from(atob(u),v=>v.charCodeAt(0)),x=window.PDFLib,O=yield e.doc.embedPng(h);e.drawImage(O,{x:0,y:0,width:e.getWidth(),height:e.getHeight()})}URL.revokeObjectURL(n),console.log("\u2705 SVG \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(o){throw console.error("\u274C SVG \uB80C\uB354\uB9C1 \uC2E4\uD328:",o),o}})}renderOperationsToPage(e,t){return V(this,null,function*(){console.log(`\u{1F3A8} \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC2DC\uC791 (${t.length}\uAC1C)...`);let o=window.PDFLib,{rgb:n}=o,a=0,d=0;for(let p of t)try{switch(p.type){case"moveTo":a=p.args[0],d=p.args[1];break;case"lineTo":a!==void 0&&d!==void 0&&(e.drawLine({start:{x:a,y:d},end:{x:p.args[0],y:p.args[1]},thickness:p.lineWidth||1,color:this.parseColor(p.color)||n(0,0,0)}),a=p.args[0],d=p.args[1]);break;case"rect":e.drawRectangle({x:p.args[0],y:p.args[1],width:p.args[2],height:p.args[3],borderColor:this.parseColor(p.color)||n(0,0,0),borderWidth:p.lineWidth||1});break;default:break}}catch(m){console.error(`\u274C \uC5F0\uC0B0 \uCC98\uB9AC \uC2E4\uD328 (${p.type}):`,m)}console.log("\u2705 \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC644\uB8CC")})}parseColor(e){if(!e)return null;let t=window.PDFLib,{rgb:o}=t;if(e.startsWith("#")){let n=e.replace("#",""),a=0,d=0,p=0;return n.length===6&&(a=parseInt(n.substr(0,2),16)/255,d=parseInt(n.substr(2,2),16)/255,p=parseInt(n.substr(4,2),16)/255),o(a,d,p)}if(e.startsWith("rgb")){let n=e.match(/\d+/g);if(n&&n.length>=3){let a=parseInt(n[0])/255,d=parseInt(n[1])/255,p=parseInt(n[2])/255;return o(a,d,p)}}return null}generatePreview(e,t){if(console.log(`\u{1F3A8} \uBCA1\uD130 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();if(t.vectorData&&t.vectorData.pageDetails){let o=t.vectorData.pageDetails.find(n=>n.pageNumber===e);if(o&&o.svgContent)return console.log("\u2705 SVG \uCF58\uD150\uCE20 \uBC18\uD658"),o.svgContent}return this.createLoadingPreview()}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{totalPaths:0,totalLines:0,totalCurves:0,totalRectangles:0,totalFillOperations:0,totalStrokeOperations:0}}}createEmptyPreview(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        <text x="200" y="282" font-family="Arial" font-size="16" fill="#94a3b8" text-anchor="middle">
          \uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C
        </text>
      </svg>
    `}createLoadingPreview(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f0f9ff" stroke="#3b82f6" stroke-width="2"/>
        <text x="200" y="282" font-family="Arial" font-size="16" fill="#3b82f6" text-anchor="middle">
          \uBCA1\uD130 \uB85C\uB529 \uC911...
        </text>
      </svg>
    `}};var Yt=class{type="text";validate(e){return e?(e.totalTextItems||0)>0:!1}calculateStats(e){if(!this.validate(e))return this.getEmptyStats();let t=e.totalTextItems||0,o=e.pageCount||1;return{totalCount:t,perPage:Math.round(t/o),percentage:this.calculatePercentage(e),details:{totalWords:e.totalWords||0,totalCharacters:e.totalCharacters||0,uniqueFonts:e.uniqueFonts?.length||0,fontList:e.uniqueFonts||[],languageDistribution:e.languageDetection?{korean:e.languageDetection.korean||0,english:e.languageDetection.english||0,mixed:e.languageDetection.mixed||0,numbers:e.languageDetection.numbers||0,specialChars:e.languageDetection.specialChars||0}:void 0,colorDistribution:e.textColors?{uniqueColors:e.textColors.uniqueColors||[],colorCounts:e.textColors.colorDistribution||{}}:void 0}}}calculatePercentage(e){if(!e)return 0;let t=e.totalVectorOperations||0,o=e.totalTextItems||0,a=(e.imageInfo?.totalImages||0)*100,d=t+o+a;return d===0?0:Math.round(o/d*100)}generatePdf(e,t){return V(this,null,function*(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:n,rgb:a,StandardFonts:d}=o,p=yield n.create(),m=t?.pageSize?.width||595.28,u=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&p.setTitle(t.title),t.author&&p.setAuthor(t.author),t.subject&&p.setSubject(t.subject),t.keywords&&p.setKeywords(t.keywords),t.creationDate&&p.setCreationDate(t.creationDate));for(let x of e){if(!x.text||x.text.length===0)continue;let P=p.addPage([m,u]);try{yield this.renderToPage(P,x.text)}catch(O){console.error(`\u274C \uD398\uC774\uC9C0 ${x.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,O);let v=yield p.embedFont(d.Helvetica);P.drawText(`\uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${x.pageNumber})`,{x:50,y:u-50,size:12,font:v,color:a(1,0,0)})}}let h=yield p.save();return console.log("\u2705 \uD14D\uC2A4\uD2B8 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([h],{type:"application/pdf"})})}renderToPage(e,t){return V(this,null,function*(){console.log(`\u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC2DC\uC791 (${t.length}\uAC1C \uD56D\uBAA9)...`);let o=window.PDFLib,{rgb:n,StandardFonts:a}=o,p=yield e.doc.embedFont(a.Helvetica),m=e.getHeight();for(let u of t)try{let h=this.parseColor(u.color)||n(0,0,0),x=u.fontSize||12,P=u.position.x,O=m-u.position.y;e.drawText(u.text,{x:P,y:O,size:x,font:p,color:h})}catch(h){console.error("\u274C \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 \uB80C\uB354\uB9C1 \uC2E4\uD328:",u,h)}console.log("\u2705 \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC644\uB8CC")})}parseColor(e){if(!e)return null;let t=window.PDFLib,{rgb:o}=t;if(e.startsWith("#")){let n=e.replace("#",""),a=0,d=0,p=0;return n.length===6?(a=parseInt(n.substr(0,2),16)/255,d=parseInt(n.substr(2,2),16)/255,p=parseInt(n.substr(4,2),16)/255):n.length===8&&(a=parseInt(n.substr(2,2),16)/255,d=parseInt(n.substr(4,2),16)/255,p=parseInt(n.substr(6,2),16)/255),o(a,d,p)}if(e.startsWith("rgb")){let n=e.match(/\d+/g);if(n&&n.length>=3){let a=parseInt(n[0])/255,d=parseInt(n[1])/255,p=parseInt(n[2])/255;return o(a,d,p)}}return null}generatePreview(e,t){if(console.log(`\u{1F4DD} \uD14D\uC2A4\uD2B8 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();if(!t.pages||!Array.isArray(t.pages))return this.createEmptyPreview();let o=t.pages.find(a=>a.pageNumber===e);if(!o||!o.textItems||o.textItems.length===0)return this.createEmptyPreview();let n=o.textItems.slice(0,50).map((a,d)=>{let p=a.color||"#000000",m=a.font||"Arial",u=a.fontSize||12;return`
          <div class="text-item" style="
            color: ${p};
            font-family: ${m};
            font-size: ${Math.min(u,14)}px;
            margin-bottom: 4px;
            padding: 2px 4px;
            background: rgba(255, 255, 255, 0.8);
            border-left: 2px solid ${p};
          ">
            <span class="text-content">${this.escapeHtml(a.text)}</span>
          </div>
        `}).join("");return`
      <div class="text-preview" style="
        width: 100%;
        height: 100%;
        padding: 10px;
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border: 2px solid #3b82f6;
        border-radius: 4px;
        overflow-y: auto;
        font-family: Arial, sans-serif;
      ">
        <div class="text-header" style="
          font-size: 14px;
          font-weight: bold;
          color: #1e40af;
          margin-bottom: 10px;
          padding-bottom: 8px;
          border-bottom: 2px solid #3b82f6;
        ">
          \u{1F4DD} \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 (\uD398\uC774\uC9C0 ${e})
        </div>
        <div class="text-items">
          ${n}
        </div>
        ${o.textItems.length>50?`
          <div style="
            margin-top: 10px;
            padding: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 4px;
            text-align: center;
            color: #1e40af;
            font-size: 12px;
          ">
            ... \uC678 ${o.textItems.length-50}\uAC1C \uD56D\uBAA9
          </div>
        `:""}
      </div>
    `}escapeHtml(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{totalWords:0,totalCharacters:0,uniqueFonts:0,fontList:[]}}}createEmptyPreview(){return`
      <div style="
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 4px;
        color: #94a3b8;
        font-size: 16px;
        font-family: Arial, sans-serif;
      ">
        \uD14D\uC2A4\uD2B8 \uB370\uC774\uD130 \uC5C6\uC74C
      </div>
    `}};var Ht=class{type="image";validate(e){if(!e)return!1;let t=e.hasImages===!0,o=e.imageInfo&&(e.imageInfo.totalImages||0)>0;return t&&o}calculateStats(e){if(!this.validate(e))return this.getEmptyStats();let t=e.imageInfo.totalImages||0,o=e.pageCount||1,n={};return e.imageInfo.images&&e.imageInfo.images.forEach(a=>{a.images.forEach(d=>{let p=d.type||"Unknown";n[p]=(n[p]||0)+1})}),{totalCount:t,perPage:Math.round(t/o),percentage:this.calculatePercentage(e),details:{pagesWithImages:e.imageInfo.pagesWithImages||0,typeDistribution:n}}}calculatePercentage(e){if(!e)return 0;let t=e.totalVectorOperations||0,o=e.totalTextItems||0,a=(e.imageInfo?.totalImages||0)*100,d=t+o+a;return d===0?0:Math.round(a/d*100)}generatePdf(e,t){return V(this,null,function*(){console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:n,rgb:a,StandardFonts:d}=o,p=yield n.create(),m=t?.pageSize?.width||595.28,u=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&p.setTitle(t.title),t.author&&p.setAuthor(t.author),t.subject&&p.setSubject(t.subject),t.keywords&&p.setKeywords(t.keywords),t.creationDate&&p.setCreationDate(t.creationDate));for(let x of e){if(!x.images||x.images.length===0)continue;let P=p.addPage([m,u]);try{yield this.renderToPage(P,x.images)}catch(O){console.error(`\u274C \uD398\uC774\uC9C0 ${x.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,O);let v=yield p.embedFont(d.Helvetica);P.drawText(`\uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${x.pageNumber})`,{x:50,y:u-50,size:12,font:v,color:a(1,0,0)})}}let h=yield p.save();return console.log("\u2705 \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([h],{type:"application/pdf"})})}renderToPage(e,t){return V(this,null,function*(){console.log(`\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC2DC\uC791 (${t.length}\uAC1C)...`);let o=e.doc;for(let n of t)try{let a=n.originalImage||n.thumbnail;if(!a){console.warn(`\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C: ${n.name}`);continue}let d=a.split(",")[1]||a,p=Uint8Array.from(atob(d),u=>u.charCodeAt(0)),m;if(a.startsWith("data:image/jpeg")||a.startsWith("data:image/jpg"))m=yield o.embedJpg(p);else if(a.startsWith("data:image/png"))m=yield o.embedPng(p);else try{m=yield o.embedPng(p)}catch{m=yield o.embedJpg(p)}if(n.transform&&n.transform.length>=6){let u=n.transform,h=Math.abs(u[0]),x=Math.abs(u[3]),P=u[4],O=u[5],v=P,y=O;e.drawImage(m,{x:v,y,width:h,height:x}),console.log(`\u2705 \uC774\uBBF8\uC9C0 \uBC30\uCE58 \uC644\uB8CC: ${n.name} at (${v.toFixed(2)}, ${y.toFixed(2)})`)}else{let u=m.scale(1);e.drawImage(m,{x:0,y:0,width:u.width,height:u.height}),console.warn(`\u26A0\uFE0F transform \uC815\uBCF4 \uC5C6\uC74C: ${n.name}, \uC6D0\uC810\uC5D0 \uBC30\uCE58`)}}catch(a){console.error(`\u274C \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC2E4\uD328: ${n.name}`,a)}console.log("\u2705 \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC644\uB8CC")})}generatePreview(e,t){if(console.log(`\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();if(!t.imageInfo||!t.imageInfo.images)return this.createEmptyPreview();let o=t.imageInfo.images.find(a=>a.pageNumber===e);if(!o||!o.images||o.images.length===0)return this.createEmptyPreview();let n=o.images.map((a,d)=>{let p=a.thumbnail||a.originalImage;return p?`
          <div class="image-item" style="
            display: flex;
            flex-direction: column;
            gap: 4px;
          ">
            <img 
              src="${p}" 
              alt="${a.name}"
              style="
                width: 100px;
                height: 100px;
                object-fit: contain;
                border: 2px solid #3b82f6;
                border-radius: 4px;
                background: white;
              "
            />
            <div style="
              font-size: 10px;
              color: #1e40af;
              text-align: center;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
              max-width: 100px;
            " title="${a.name}">
              ${a.name}
            </div>
            <div style="
              font-size: 9px;
              color: #64748b;
              text-align: center;
            ">
              ${a.width}\xD7${a.height}
            </div>
          </div>
        `:`
            <div class="image-placeholder" style="
              width: 100px;
              height: 100px;
              background: #e2e8f0;
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: #94a3b8;
              font-size: 10px;
            ">
              No Image
            </div>
          `}).join("");return`
      <div class="image-preview" style="
        width: 100%;
        height: 100%;
        padding: 10px;
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border: 2px solid #f59e0b;
        border-radius: 4px;
        overflow-y: auto;
        font-family: Arial, sans-serif;
      ">
        <div class="image-header" style="
          font-size: 14px;
          font-weight: bold;
          color: #92400e;
          margin-bottom: 10px;
          padding-bottom: 8px;
          border-bottom: 2px solid #f59e0b;
        ">
          \u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 (\uD398\uC774\uC9C0 ${e}) - ${o.images.length}\uAC1C
        </div>
        <div class="image-grid" style="
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
          gap: 12px;
          justify-items: center;
        ">
          ${n}
        </div>
      </div>
    `}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{pagesWithImages:0,typeDistribution:{}}}}createEmptyPreview(){return`
      <div style="
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 4px;
        color: #94a3b8;
        font-size: 16px;
        font-family: Arial, sans-serif;
      ">
        \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C
      </div>
    `}};var le=class{type="combined";vectorStrategy;textStrategy;imageStrategy;constructor(e,t,o){this.vectorStrategy=e||new jt,this.textStrategy=t||new Yt,this.imageStrategy=o||new Ht}validate(e){return e?[this.vectorStrategy,this.textStrategy,this.imageStrategy].filter(n=>n.validate(e)).length>=2:!1}calculateStats(e){if(!e)return this.getEmptyStats();let t=this.vectorStrategy.validate(e)?this.vectorStrategy.calculateStats(e):null,o=this.textStrategy.validate(e)?this.textStrategy.calculateStats(e):null,n=this.imageStrategy.validate(e)?this.imageStrategy.calculateStats(e):null,a=(t?.totalCount||0)+(o?.totalCount||0)+(n?.totalCount||0),d=this.calculateRatios(e),p=this.getDominanceDescription(d);return{totalCount:a,perPage:0,percentage:100,details:{vector:t||void 0,text:o||void 0,image:n||void 0,dominance:p,ratios:d}}}calculatePercentage(e){return 100}calculateRatios(e){if(!e)return{vectorPercentage:0,textPercentage:0,imagePercentage:0};let t=e.totalVectorOperations||0,o=e.totalTextItems||0,a=(e.imageInfo?.totalImages||0)*100,d=t+o+a;return d===0?{vectorPercentage:0,textPercentage:0,imagePercentage:0}:{vectorPercentage:Math.round(t/d*100),textPercentage:Math.round(o/d*100),imagePercentage:Math.round(a/d*100)}}getDominanceDescription(e){let{vectorPercentage:t,textPercentage:o,imagePercentage:n}=e;if(t>70)return"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uB2E4\uC774\uC5B4\uADF8\uB7A8\uC774\uB098 \uC77C\uB7EC\uC2A4\uD2B8\uAC00 \uB9CE\uC2B5\uB2C8\uB2E4.";if(o>70)return"\u{1F4DD} \uD14D\uC2A4\uD2B8\uAC00 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC8FC\uB85C \uD14D\uC2A4\uD2B8 \uAE30\uBC18\uC758 \uBB38\uC11C\uC785\uB2C8\uB2E4.";if(n>70)return"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0\uAC00 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC0AC\uC9C4\uC774\uB098 \uADF8\uB9BC\uC774 \uB9CE\uC740 \uBB38\uC11C\uC785\uB2C8\uB2E4.";let a=[Math.abs(t-o),Math.abs(o-n),Math.abs(n-t)];return Math.max(...a)<20?"\u2696\uFE0F \uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uB2E4\uC591\uD55C \uCF58\uD150\uCE20\uAC00 \uC870\uD654\uB86D\uAC8C \uBC30\uCE58\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4.":Math.abs(t-o)<20?"\u{1F3A8}\u{1F4DD} \uBCA1\uD130\uC640 \uD14D\uC2A4\uD2B8\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4.":Math.abs(o-n)<20?"\u{1F4DD}\u{1F5BC}\uFE0F \uD14D\uC2A4\uD2B8\uC640 \uC774\uBBF8\uC9C0\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4.":Math.abs(n-t)<20?"\u{1F5BC}\uFE0F\u{1F3A8} \uC774\uBBF8\uC9C0\uC640 \uBCA1\uD130\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4.":"\u{1F4CA} \uB2E4\uC591\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785\uC774 \uD63C\uD569\uB41C \uBB38\uC11C\uC785\uB2C8\uB2E4."}generatePdf(e,t){return V(this,null,function*(){console.log("\u{1F4C4} \uD63C\uD569 PDF \uC0DD\uC131 \uC2DC\uC791...",{pageCount:e.length});let o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:n,rgb:a,StandardFonts:d}=o,p=yield n.create(),m=t?.pageSize?.width||595.28,u=t?.pageSize?.height||841.89;t?.includeMetadata&&(t.title&&p.setTitle(t.title),t.author&&p.setAuthor(t.author),t.subject&&p.setSubject(t.subject),t.keywords&&p.setKeywords(t.keywords),t.creationDate&&p.setCreationDate(t.creationDate));for(let x of e){console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${x.pageNumber} \uCC98\uB9AC \uC911...`);let P=p.addPage([m,u]);try{if(x.vector&&this.vectorStrategy.validate({hasVectorGraphics:!0,totalVectorOperations:1})){console.log("  \u{1F3A8} \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC911...");try{yield this.vectorStrategy.renderToPage(P,x.vector),console.log("  \u2705 \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(O){console.error("  \u274C \uBCA1\uD130 \uB80C\uB354\uB9C1 \uC2E4\uD328:",O)}}if(x.images&&x.images.length>0){console.log(`  \u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC911 (${x.images.length}\uAC1C)...`);try{yield this.imageStrategy.renderToPage(P,x.images),console.log("  \u2705 \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(O){console.error("  \u274C \uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC2E4\uD328:",O)}}if(x.text&&x.text.length>0){console.log(`  \u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC911 (${x.text.length}\uAC1C \uD56D\uBAA9)...`);try{yield this.textStrategy.renderToPage(P,x.text),console.log("  \u2705 \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(O){console.error("  \u274C \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC2E4\uD328:",O)}}console.log(`\u2705 \uD398\uC774\uC9C0 ${x.pageNumber} \uC644\uB8CC`)}catch(O){console.error(`\u274C \uD398\uC774\uC9C0 ${x.pageNumber} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,O);let v=yield p.embedFont(d.Helvetica);P.drawText(`\uD398\uC774\uC9C0 \uB80C\uB354\uB9C1 \uC624\uB958 (\uD398\uC774\uC9C0 ${x.pageNumber})`,{x:50,y:u-50,size:12,font:v,color:a(1,0,0)})}}let h=yield p.save();return console.log("\u2705 \uD63C\uD569 PDF \uC0DD\uC131 \uC644\uB8CC"),new Blob([h],{type:"application/pdf"})})}generatePreview(e,t){if(console.log(`\u{1F4C4} \uD63C\uD569 \uBBF8\uB9AC\uBCF4\uAE30 \uC0DD\uC131 (\uD398\uC774\uC9C0 ${e})...`),!this.validate(t))return this.createEmptyPreview();let o=[];if(this.vectorStrategy.validate(t)){let n=this.vectorStrategy.generatePreview(e,t);n&&!n.includes("\uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C")&&!n.includes("\uB85C\uB529 \uC911")&&o.push(`
          <div class="layer vector-layer" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.8;
            z-index: 1;
          ">
            ${n}
          </div>
        `)}if(this.imageStrategy.validate(t)){let n=this.imageStrategy.generatePreview(e,t);n&&!n.includes("\uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C")&&o.push(`
          <div class="layer image-layer" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.9;
            z-index: 2;
          ">
            ${n}
          </div>
        `)}if(this.textStrategy.validate(t)){let n=this.textStrategy.generatePreview(e,t);n&&!n.includes("\uD14D\uC2A4\uD2B8 \uB370\uC774\uD130 \uC5C6\uC74C")&&o.push(`
          <div class="layer text-layer" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.95;
            z-index: 3;
          ">
            ${n}
          </div>
        `)}return o.length===0?this.createEmptyPreview():`
      <div class="combined-preview" style="
        position: relative;
        width: 100%;
        height: 100%;
        background: white;
        border: 3px solid #8b5cf6;
        border-radius: 4px;
        overflow: hidden;
      ">
        <div class="combined-header" style="
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          padding: 8px;
          background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
          color: white;
          font-size: 12px;
          font-weight: bold;
          text-align: center;
          z-index: 10;
          font-family: Arial, sans-serif;
        ">
          \u{1F4C4} \uD63C\uD569 \uCF58\uD150\uCE20 (\uD398\uC774\uC9C0 ${e})
        </div>
        <div style="
          position: relative;
          width: 100%;
          height: 100%;
          padding-top: 32px;
        ">
          ${o.join("")}
        </div>
      </div>
    `}getEmptyStats(){return{totalCount:0,perPage:0,percentage:0,details:{dominance:"\uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",ratios:{vectorPercentage:0,textPercentage:0,imagePercentage:0}}}}createEmptyPreview(){return`
      <div style="
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 4px;
        color: #94a3b8;
        font-size: 16px;
        font-family: Arial, sans-serif;
      ">
        \uD63C\uD569 \uCF58\uD150\uCE20 \uB370\uC774\uD130 \uC5C6\uC74C
      </div>
    `}};var de=class l{strategies=new Map;vectorStrategy;textStrategy;imageStrategy;combinedStrategy;constructor(){console.log("\u{1F3ED} PdfContentFactory \uCD08\uAE30\uD654..."),this.vectorStrategy=new jt,this.textStrategy=new Yt,this.imageStrategy=new Ht,this.combinedStrategy=new le(this.vectorStrategy,this.textStrategy,this.imageStrategy),this.strategies.set("vector",this.vectorStrategy),this.strategies.set("text",this.textStrategy),this.strategies.set("image",this.imageStrategy),this.strategies.set("combined",this.combinedStrategy),console.log("\u2705 PdfContentFactory \uCD08\uAE30\uD654 \uC644\uB8CC")}getStrategy(e){if(console.log("\u{1F50D} \uC804\uB7B5 \uC790\uB3D9 \uC120\uD0DD \uC911..."),!e)throw new Error("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");let t=this.vectorStrategy.validate(e),o=this.textStrategy.validate(e),n=this.imageStrategy.validate(e);if(console.log("\u{1F4CA} \uCF58\uD150\uCE20 \uD0C0\uC785 \uD655\uC778:",{vector:t,text:o,image:n}),[t,o,n].filter(Boolean).length>=2)return console.log("\u2705 \uD63C\uD569\uD615 \uC804\uB7B5 \uC120\uD0DD"),this.combinedStrategy;if(t)return console.log("\u2705 \uBCA1\uD130 \uC804\uB7B5 \uC120\uD0DD"),this.vectorStrategy;if(o)return console.log("\u2705 \uD14D\uC2A4\uD2B8 \uC804\uB7B5 \uC120\uD0DD"),this.textStrategy;if(n)return console.log("\u2705 \uC774\uBBF8\uC9C0 \uC804\uB7B5 \uC120\uD0DD"),this.imageStrategy;throw console.error("\u274C \uC720\uD6A8\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("\uC720\uD6A8\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}getStrategyByType(e){console.log(`\u{1F50D} ${e} \uC804\uB7B5 \uC870\uD68C...`);let t=this.strategies.get(e);if(!t)throw console.error(`\u274C \uC804\uB7B5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e}`),new Error(`\uC804\uB7B5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e}`);return console.log(`\u2705 ${e} \uC804\uB7B5 \uBC18\uD658`),t}getAvailableContentTypes(e){if(!e)return[];let t=[];return this.vectorStrategy.validate(e)&&t.push("vector"),this.textStrategy.validate(e)&&t.push("text"),this.imageStrategy.validate(e)&&t.push("image"),t.length>=2&&t.push("combined"),console.log("\u{1F4CA} \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uCF58\uD150\uCE20 \uD0C0\uC785:",t),t}hasContentType(e,t){if(!e)return!1;let o=this.strategies.get(t);return o?o.validate(e):!1}getAllStats(e){let t=new Map;return Array.from(this.strategies.entries()).forEach(([o,n])=>{if(n.validate(e)){let a=n.calculateStats(e);t.set(o,a)}}),console.log("\u{1F4CA} \uC804\uCCB4 \uD1B5\uACC4 \uACC4\uC0B0 \uC644\uB8CC:",Array.from(t.keys())),t}getSortedContentTypes(e){if(!e)return[];let t=[];this.vectorStrategy.validate(e)&&t.push({type:"vector",percentage:this.vectorStrategy.calculatePercentage(e)}),this.textStrategy.validate(e)&&t.push({type:"text",percentage:this.textStrategy.calculatePercentage(e)}),this.imageStrategy.validate(e)&&t.push({type:"image",percentage:this.imageStrategy.calculatePercentage(e)}),t.sort((n,a)=>a.percentage-n.percentage);let o=t.map(n=>n.type);return o.length>=2&&o.unshift("combined"),console.log("\u{1F4CA} \uC815\uB82C\uB41C \uCF58\uD150\uCE20 \uD0C0\uC785:",o),o}getRecommendedStrategy(e){let t=this.getSortedContentTypes(e);if(t.length===0)throw new Error("\uAD8C\uC7A5 \uC804\uB7B5\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let o=t[0];return console.log(`\u2705 \uAD8C\uC7A5 \uC804\uB7B5: ${o}`),this.getStrategyByType(o)}getStrategyInfo(e){return{vector:{type:"vector",name:"\uBCA1\uD130 \uADF8\uB798\uD53D",description:"SVG, \uACBD\uB85C, \uB3C4\uD615 \uB4F1\uC758 \uBCA1\uD130 \uCF58\uD150\uCE20",icon:"\u{1F3A8}"},text:{type:"text",name:"\uD14D\uC2A4\uD2B8",description:"\uD3F0\uD2B8, \uC0C9\uC0C1, \uC704\uCE58 \uC815\uBCF4\uB97C \uD3EC\uD568\uD55C \uD14D\uC2A4\uD2B8",icon:"\u{1F4DD}"},image:{type:"image",name:"\uC774\uBBF8\uC9C0",description:"JPEG, PNG \uB4F1\uC758 \uB798\uC2A4\uD130 \uC774\uBBF8\uC9C0",icon:"\u{1F5BC}\uFE0F"},combined:{type:"combined",name:"\uD63C\uD569\uD615",description:"\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uAC00 \uD1B5\uD569\uB41C \uCF58\uD150\uCE20",icon:"\u{1F4C4}"}}[e]}static \u0275fac=function(t){return new(t||l)};static \u0275prov=bt({token:l,factory:l.\u0275fac,providedIn:"root"})};function ln(l,e){if(l&1){let t=F();r(0,"div",9)(1,"div",10)(2,"div",11),s(3,"\u{1F4CA}"),i(),r(4,"h3",12),s(5,"PDF \uBD84\uC11D"),i()(),r(6,"div",13)(7,"button",14),M("click",function(n){return C(t),g(2).toggleMinimize(),_(n.stopPropagation())}),s(8),i(),r(9,"button",15),M("click",function(n){return C(t),g(2).close(),_(n.stopPropagation())}),s(10," \u2715 "),i()()()}if(l&2){let t=g(2);c(8),E(" ",t.isMinimized?"\u25A1":"_"," ")}}function dn(l,e){l&1&&(r(0,"div",16)(1,"div",11),s(2,"\u{1F4CA}"),i(),r(3,"h3",12),s(4,"PDF \uBD84\uC11D \uC815\uBCF4"),i()())}function gn(l,e){if(l&1&&(r(0,"div",31),s(1),i()),l&2){let t=g(3);c(),E(" ",t.displayData.formattedFileSize," ")}}function pn(l,e){if(l&1&&(r(0,"div",31),s(1),i()),l&2){let t=g(3);c(),E(" ",t.displayData.avgTextPerPage," \uD56D\uBAA9/\uCABD ")}}function un(l,e){if(l&1&&(r(0,"div",22),s(1),i()),l&2){let t=g(3);c(),E(" ",t.formatNumber(t.analysisData.totalVectorOperations)," ")}}function mn(l,e){l&1&&(r(0,"div",32),s(1," \uC5C6\uC74C "),i())}function Cn(l,e){if(l&1&&(r(0,"div",31),s(1),i()),l&2){let t=g(3);c(),E(" ",t.getVectorComplexity()," ")}}function _n(l,e){if(l&1&&(r(0,"div",31),s(1),i()),l&2){let t=g(3);c(),E(" ",t.displayData.koreanPercentage,"% ")}}function hn(l,e){if(l&1&&(r(0,"div",31),s(1),i()),l&2){let t=g(3);c(),E(" ",t.getCombinedStats()," ")}}function fn(l,e){if(l&1&&(r(0,"div",22),s(1),i()),l&2){let t=g(3);c(),E(" ",t.formatNumber(t.analysisData.imageInfo.totalImages)," ")}}function Pn(l,e){l&1&&(r(0,"div",32),s(1," \uC5C6\uC74C "),i())}function xn(l,e){if(l&1&&(r(0,"div",31),s(1),i()),l&2){let t=g(3);c(),E(" ",t.analysisData.imageInfo.pagesWithImages,"\uAC1C \uD398\uC774\uC9C0 ")}}function Mn(l,e){if(l&1){let t=F();r(0,"div",17)(1,"div",18)(2,"div",19),s(3,"\u{1F4C4}"),i(),r(4,"div",20)(5,"div",21),s(6,"\uBB38\uC11C"),i(),r(7,"div",22),s(8),i(),B(9,gn,2,1,"div",23),i()(),r(10,"div",24),M("click",function(n){C(t);let a=g(2);return _(a.openTextDetail(n))}),r(11,"div",19),s(12,"\u{1F4DD}"),i(),r(13,"div",20)(14,"div",21),s(15),i(),r(16,"div",22),s(17),i(),B(18,pn,2,1,"div",23),i()(),r(19,"div",25),M("click",function(n){C(t);let a=g(2);return _(a.openVectorDetail(n))}),r(20,"div",19),s(21,"\u{1F3A8}"),i(),r(22,"div",20)(23,"div",21),s(24),i(),B(25,un,2,1,"div",26)(26,mn,2,0,"div",27)(27,Cn,2,1,"div",23),i()(),r(28,"div",28)(29,"div",19),s(30,"\u{1F310}"),i(),r(31,"div",20)(32,"div",21),s(33,"\uC5B8\uC5B4"),i(),r(34,"div",22),s(35),i(),B(36,_n,2,1,"div",23),i()(),r(37,"div",29),M("click",function(n){C(t);let a=g(2);return _(a.openCombinedAnalysis(n))}),r(38,"div",19),s(39,"\u{1F4CA}"),i(),r(40,"div",20)(41,"div",21),s(42,"\uD1B5\uD569 \uBD84\uC11D \u25B8"),i(),r(43,"div",22),s(44),i(),B(45,hn,2,1,"div",23),i()(),r(46,"div",30),M("click",function(n){C(t);let a=g(2);return _(a.openImageDetail(n))}),r(47,"div",19),s(48,"\u{1F5BC}\uFE0F"),i(),r(49,"div",20)(50,"div",21),s(51),i(),B(52,fn,2,1,"div",26)(53,Pn,2,0,"div",27)(54,xn,2,1,"div",23),i()()()}if(l&2){let t=g(2);c(8),E("",t.analysisData.pageCount,"\uCABD"),c(),f("ngIf",t.displayData.formattedFileSize&&!t.isCompact),c(),H("empty",!t.analysisData.totalTextItems||t.analysisData.totalTextItems===0),f("title",t.analysisData.totalTextItems>0?"\uD074\uB9AD\uD558\uC5EC \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30":"\uD14D\uC2A4\uD2B8 \uC5C6\uC74C"),c(5),E("\uD14D\uC2A4\uD2B8 ",t.analysisData.totalTextItems>0?"\u25B8":""),c(2),T(t.formatNumber(t.analysisData.totalTextItems)),c(),f("ngIf",!t.isCompact),c(),H("empty",!t.analysisData.hasVectorGraphics),f("title",t.analysisData.hasVectorGraphics?"\uD074\uB9AD\uD558\uC5EC \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30":"\uBCA1\uD130 \uADF8\uB798\uD53D \uC5C6\uC74C"),c(5),E("\uBCA1\uD130 ",t.analysisData.hasVectorGraphics?"\u25B8":""),c(),f("ngIf",t.analysisData.hasVectorGraphics),c(),f("ngIf",!t.analysisData.hasVectorGraphics),c(),f("ngIf",t.analysisData.hasVectorGraphics&&!t.isCompact),c(8),T(t.getLanguageDominant()),c(),f("ngIf",t.displayData.koreanPercentage>0&&!t.isCompact),c(),H("has-both",t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("text-only",!t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("vector-only",t.analysisData.hasVectorGraphics&&!t.analysisData.totalTextItems),c(7),T(t.getCombinedContentType()),c(),f("ngIf",!t.isCompact),c(),H("empty",!t.analysisData.hasImages),f("title",t.analysisData.hasImages?"\uD074\uB9AD\uD558\uC5EC \uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30":"\uC774\uBBF8\uC9C0 \uC5C6\uC74C"),c(5),E("\uC774\uBBF8\uC9C0 ",t.analysisData.hasImages?"\u25B8":""),c(),f("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo),c(),f("ngIf",!t.analysisData.hasImages),c(),f("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo&&!t.isCompact)}}function bn(l,e){if(l&1&&(r(0,"div",33)(1,"div",34),s(2,"\uBCA1\uD130 \uAD6C\uC131 \uC694\uC18C"),i(),r(3,"div",35)(4,"div",36)(5,"span",37),s(6,"\uD328\uC2A4:"),i(),r(7,"span",38),s(8),i()(),r(9,"div",36)(10,"span",37),s(11,"\uC120:"),i(),r(12,"span",38),s(13),i()(),r(14,"div",36)(15,"span",37),s(16,"\uACE1\uC120:"),i(),r(17,"span",38),s(18),i()(),r(19,"div",36)(20,"span",37),s(21,"\uC0AC\uAC01\uD615:"),i(),r(22,"span",38),s(23),i()()()()),l&2){let t=g(2);c(8),T(t.formatNumber(t.analysisData.vectorSummary.totalPaths)),c(5),T(t.formatNumber(t.analysisData.vectorSummary.totalLines)),c(5),T(t.formatNumber(t.analysisData.vectorSummary.totalCurves)),c(5),T(t.formatNumber(t.analysisData.vectorSummary.totalRectangles))}}function vn(l,e){if(l&1&&(r(0,"div",4),B(1,ln,11,1,"div",5)(2,dn,5,0,"div",6)(3,Mn,55,32,"div",7)(4,bn,24,4,"div",8),i()),l&2){let t=g();c(),f("ngIf",t.isDraggable),c(),f("ngIf",!t.isDraggable),c(),f("ngIf",!t.isMinimized),c(),f("ngIf",!t.isCollapsed&&!t.isCompact&&!t.isMinimized&&t.analysisData.vectorSummary)}}function On(l,e){l&1&&(r(0,"div",39)(1,"div",40),s(2,"\u{1F4CA}"),i(),r(3,"div",41),s(4,"PDF\uB97C \uBD88\uB7EC\uC624\uBA74 \uBD84\uC11D \uC815\uBCF4\uAC00 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),i()())}function yn(l,e){if(l&1){let t=F();r(0,"button",72),M("click",function(){let n=C(t).$implicit,a=g(5);return _(a.selectMiniPage(n.pageNumber))}),s(1),i()}if(l&2){let t=e.$implicit,o=g(5);H("active",o.selectedMiniPage===t.pageNumber),c(),E(" ",t.pageNumber," ")}}function wn(l,e){if(l&1&&(r(0,"div",70),B(1,yn,2,3,"button",71),i()),l&2){let t=g(4);c(),f("ngForOf",t.vectorData.pageDetails)}}function Dn(l,e){l&1&&(r(0,"div",73)(1,"span",74),s(2,"\uD398\uC774\uC9C0 1"),i()())}function Sn(l,e){if(l&1&&(r(0,"div",75),R(1,"div",76),lt(2,"sanitizeHtml"),r(3,"div",77)(4,"span",78)(5,"span",79),s(6,"\u{1F3A8}"),i(),s(7),i()()()),l&2){let t=g(4);c(),f("innerHTML",gt(2,2,t.vectorSvgMinimap),te),c(6),E(" ",t.getSelectedPageOperations()," \uC5F0\uC0B0 ")}}function En(l,e){l&1&&(r(0,"div",75)(1,"div",80),R(2,"div",81),r(3,"p"),s(4,"\uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC911..."),i()()())}function kn(l,e){if(l&1&&(r(0,"div",66)(1,"h4"),s(2,"\u{1F4CD} \uBCA1\uD130 \uBBF8\uB2C8\uB9F5"),i(),B(3,wn,2,1,"div",67)(4,Dn,3,0,"div",68)(5,Sn,8,4,"div",69)(6,En,5,0,"div",69),i()),l&2){let t=g(3);c(3),f("ngIf",t.vectorData.pageDetails.length>1),c(),f("ngIf",t.vectorData.pageDetails.length===1),c(),f("ngIf",t.vectorSvgMinimap),c(),f("ngIf",!t.vectorSvgMinimap)}}function Bn(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F4D0}"),i(),r(4,"div",85),s(5,"\uD328\uC2A4 (Paths)"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",88),i(),r(10,"div",89),s(11,"\uBCF5\uC7A1\uD55C \uD615\uD0DC\uB97C \uADF8\uB9AC\uB294 \uACBD\uB85C"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalPaths)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalPaths),"%")}}function Tn(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F4CF}"),i(),r(4,"div",85),s(5,"\uC120 (Lines)"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",90),i(),r(10,"div",89),s(11,"\uC9C1\uC120 \uC5F0\uACB0"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalLines)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalLines),"%")}}function An(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u3030\uFE0F"),i(),r(4,"div",85),s(5,"\uACE1\uC120 (Curves)"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",91),i(),r(10,"div",89),s(11,"\uBCA0\uC9C0\uC5B4 \uACE1\uC120"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalCurves)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalCurves),"%")}}function In(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u25AD"),i(),r(4,"div",85),s(5,"\uC0AC\uAC01\uD615 (Rectangles)"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",92),i(),r(10,"div",89),s(11,"\uC0AC\uAC01\uD615 \uB3C4\uD615"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalRectangles)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalRectangles),"%")}}function Vn(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F3A8}"),i(),r(4,"div",85),s(5,"\uCC44\uC6B0\uAE30 (Fill)"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",93),i(),r(10,"div",89),s(11,"\uB3C4\uD615 \uB0B4\uBD80 \uCC44\uC6B0\uAE30"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalFillOperations)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalFillOperations),"%")}}function Fn(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F58A}\uFE0F"),i(),r(4,"div",85),s(5,"\uC120 \uADF8\uB9AC\uAE30 (Stroke)"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",94),i(),r(10,"div",89),s(11,"\uB3C4\uD615 \uC678\uACFD\uC120 \uADF8\uB9AC\uAE30"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalStrokeOperations)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalStrokeOperations),"%")}}function $n(l,e){if(l&1){let t=F();r(0,"div",59)(1,"h4"),s(2,"\u{1F50D} \uB514\uBC84\uADF8 \uB85C\uADF8"),i(),r(3,"div",95)(4,"pre",96),s(5),i(),r(6,"button",97),M("click",function(){C(t);let n=g(3);return _(n.copyDebugLogs())}),s(7," \u{1F4CB} \uBCF5\uC0AC "),i()()()}if(l&2){let t=g(3);c(5),T(t.debugLogs.join(`
`))}}function zn(l,e){if(l&1&&(r(0,"div",50),B(1,kn,7,4,"div",51),r(2,"div",52)(3,"div",53)(4,"div",54),s(5,"\u{1F4CA}"),i(),r(6,"div",55)(7,"div",56),s(8,"\uCD1D \uBCA1\uD130 \uC5F0\uC0B0"),i(),r(9,"div",57),s(10),i(),r(11,"div",58),s(12),i()()()(),r(13,"div",59)(14,"h4"),s(15,"\uBCA1\uD130 \uAD6C\uC131 \uC694\uC18C"),i(),B(16,Bn,12,3,"div",60)(17,Tn,12,3,"div",60)(18,An,12,3,"div",60)(19,In,12,3,"div",60),i(),r(20,"div",59)(21,"h4"),s(22,"\uB80C\uB354\uB9C1 \uC5F0\uC0B0"),i(),B(23,Vn,12,3,"div",60)(24,Fn,12,3,"div",60),i(),r(25,"div",61)(26,"div",62)(27,"div",63),s(28,"\uD3C9\uADE0 \uC5F0\uC0B0/\uD398\uC774\uC9C0"),i(),r(29,"div",64),s(30),i()(),r(31,"div",62)(32,"div",63),s(33,"\uBCF5\uC7A1\uB3C4 \uC218\uC900"),i(),r(34,"div",64),s(35),i()()(),B(36,$n,8,1,"div",65),i()),l&2){let t=g(2);c(),f("ngIf",t.vectorData&&t.vectorData.pageDetails&&t.vectorData.pageDetails.length>0),c(9),T(t.formatNumber(t.analysisData.totalVectorOperations)),c(2),E("",t.getVectorComplexity()," \uBCF5\uC7A1\uB3C4"),c(4),f("ngIf",t.analysisData.vectorSummary),c(),f("ngIf",t.analysisData.vectorSummary),c(),f("ngIf",t.analysisData.vectorSummary),c(),f("ngIf",t.analysisData.vectorSummary),c(4),f("ngIf",t.analysisData.vectorSummary),c(),f("ngIf",t.analysisData.vectorSummary),c(6),T(t.formatNumber(t.Math.round((t.analysisData.totalVectorOperations||0)/t.analysisData.pageCount))),c(5),T(t.getVectorComplexity()),c(),f("ngIf",t.debugLogs&&t.debugLogs.length>0)}}function Gn(l,e){if(l&1){let t=F();r(0,"div",42),M("click",function(){C(t);let n=g();return _(n.closeVectorDetail())}),r(1,"div",43),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uBD84\uC11D"),i(),r(5,"button",45),M("click",function(){C(t);let n=g();return _(n.closeVectorDetail())}),s(6,"\u2715"),i()(),B(7,zn,37,12,"div",46),r(8,"div",47)(9,"button",48),M("click",function(){C(t);let n=g();return _(n.createNewPdfWithSvg())}),s(10," \u{1F3A8} SVG\uB85C \uC0C8 PDF \uC0DD\uC131 "),i(),r(11,"button",49),M("click",function(){C(t);let n=g();return _(n.closeVectorDetail())}),s(12,"\uB2EB\uAE30"),i()()()()}if(l&2){let t=g();c(7),f("ngIf",t.analysisData)}}function Ln(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F30D}"),i(),r(4,"div",85),s(5,"\uD63C\uD569"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",103),i(),r(10,"div",89),s(11),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.languageDetection.mixed)),c(2),q("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.mixed),"%"),c(2),E("",t.getTextLanguagePercentage(t.analysisData.languageDetection.mixed),"%")}}function Rn(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F522}"),i(),r(4,"div",85),s(5,"\uC22B\uC790"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",104),i(),r(10,"div",89),s(11,"\uC22B\uC790 \uB370\uC774\uD130"),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.languageDetection.numbers)),c(2),q("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.numbers),"%")}}function Nn(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F310} \uC5B8\uC5B4 \uBD84\uD3EC"),i(),r(3,"div",82)(4,"div",83)(5,"div",84),s(6,"\u{1F1F0}\u{1F1F7}"),i(),r(7,"div",85),s(8,"\uD55C\uAD6D\uC5B4"),i(),r(9,"div",86),s(10),i()(),r(11,"div",87),R(12,"div",101),i(),r(13,"div",89),s(14),i()(),r(15,"div",82)(16,"div",83)(17,"div",84),s(18,"\u{1F1FA}\u{1F1F8}"),i(),r(19,"div",85),s(20,"\uC601\uC5B4"),i(),r(21,"div",86),s(22),i()(),r(23,"div",87),R(24,"div",102),i(),r(25,"div",89),s(26),i()(),B(27,Ln,12,4,"div",60)(28,Rn,12,3,"div",60),i()),l&2){let t=g(2);c(10),T(t.formatNumber(t.analysisData.languageDetection.korean)),c(2),q("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.korean),"%"),c(2),E("",t.getTextLanguagePercentage(t.analysisData.languageDetection.korean),"%"),c(8),T(t.formatNumber(t.analysisData.languageDetection.english)),c(2),q("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.english),"%"),c(2),E("",t.getTextLanguagePercentage(t.analysisData.languageDetection.english),"%"),c(),f("ngIf",t.analysisData.languageDetection.mixed>0),c(),f("ngIf",t.analysisData.languageDetection.numbers>0)}}function Wn(l,e){if(l&1&&(r(0,"div",108)(1,"span",109),s(2),i(),r(3,"span",110),s(4),i()()),l&2){let t=e.$implicit,o=e.index;c(2),T(o+1),c(2),T(t)}}function jn(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F3A8} \uD3F0\uD2B8 \uC815\uBCF4"),i(),r(3,"div",105)(4,"div",54),s(5,"\u{1F4DD}"),i(),r(6,"div",55)(7,"div",56),s(8,"\uACE0\uC720 \uD3F0\uD2B8 \uC218"),i(),r(9,"div",57),s(10),i(),r(11,"div",58),s(12),i()()(),r(13,"div",106),B(14,Wn,5,2,"div",107),i()()),l&2){let t=g(2);c(10),T(t.analysisData.uniqueFonts.length),c(2),E("",t.getFontDiversity()," \uB2E4\uC591\uC131"),c(2),f("ngForOf",t.analysisData.uniqueFonts)}}function Yn(l,e){if(l&1&&(r(0,"div",113),R(1,"div",114),r(2,"div",115)(3,"div",116),s(4),i(),r(5,"div",117),s(6),i()(),r(7,"div",118),R(8,"div",119),i()()),l&2){let t=e.$implicit,o=g(3);c(),q("background-color",t.color),c(3),T(t.color),c(2),ht("",o.formatNumber(t.count),"\uD68C (",t.percentage,"%)"),c(2),q("width",t.percentage,"%")}}function Hn(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F3A8} \uD14D\uC2A4\uD2B8 \uC0C9\uC0C1"),i(),r(3,"div",105)(4,"div",54),s(5,"\u{1F308}"),i(),r(6,"div",55)(7,"div",56),s(8,"\uACE0\uC720 \uC0C9\uC0C1 \uC218"),i(),r(9,"div",57),s(10),i(),r(11,"div",58),s(12),i()()(),r(13,"div",111),B(14,Yn,9,7,"div",112),i()()),l&2){let t=g(2);c(10),T(t.analysisData.textColors.uniqueColors.length),c(2),T(t.analysisData.textColors.uniqueColors.length===1?"\uB2E8\uC77C \uC0C9\uC0C1":"\uB2E4\uC591\uD55C \uC0C9\uC0C1"),c(2),f("ngForOf",t.getSortedColors())}}function Un(l,e){if(l&1){let t=F();r(0,"div",59)(1,"h4"),s(2,"\u{1F50D} \uB514\uBC84\uADF8 \uB85C\uADF8"),i(),r(3,"div",95)(4,"pre",96),s(5),i(),r(6,"button",97),M("click",function(){C(t);let n=g(2);return _(n.copyDebugLogs())}),s(7," \u{1F4CB} \uBCF5\uC0AC "),i()()()}if(l&2){let t=g(2);c(5),T(t.debugLogs.join(`
`))}}function Xn(l,e){if(l&1&&(r(0,"option",125),s(1),i()),l&2){let t=e.$implicit,o=g(3);f("value",t),c(),ht(" \uD398\uC774\uC9C0 ",t," (",o.getPageTextCount(t),"\uAC1C \uD56D\uBAA9) ")}}function qn(l,e){if(l&1&&(r(0,"div",126)(1,"div",127)(2,"div",128),s(3),i(),r(4,"div",129),R(5,"div",130),r(6,"div",131)(7,"span",132),s(8,"\uC0C9\uC0C1:"),i(),r(9,"span",133),s(10),i()()()(),r(11,"div",134),s(12),i(),r(13,"div",135)(14,"span",136),s(15),i(),r(16,"span",136),s(17),i(),r(18,"span",136),s(19),i()()()),l&2){let t=e.$implicit,o=e.index,n=g(3);c(3),E("#",n.currentTextPage*n.textItemsPerPage+o+1),c(2),q("background-color",n.normalizeColor(t.color))("border",t.color==="#ffffff"||t.color==="#FFFFFF"?"1px solid #ddd":"none"),f("title","\uC6D0\uBCF8: "+t.color+`
\uC815\uADDC\uD654: `+n.normalizeColor(t.color)),c(5),T(n.normalizeColor(t.color)),c(),q("color",n.normalizeColor(t.color))("font-family",t.font+", Arial, sans-serif")("font-size",t.fontSize,"pt")("background",n.getBackgroundForTextColor(t.color))("text-shadow",n.getTextShadowForColor(t.color))("padding","12px")("border-radius","6px"),c(),E(" ",t.text," "),c(3),E("\u{1F4DD} ",t.font),c(2),E("\u{1F4CF} ",t.fontSize,"pt"),c(2),ht("\u{1F4CD} (",n.Math.round(t.position.x),", ",n.Math.round(t.position.y),")")}}function Kn(l,e){if(l&1){let t=F();r(0,"div",137)(1,"button",138),M("click",function(){C(t);let n=g(3);return _(n.prevTextPage())}),s(2," \u2190 \uC774\uC804 "),i(),r(3,"span",139),s(4),i(),r(5,"button",138),M("click",function(){C(t);let n=g(3);return _(n.nextTextPage())}),s(6," \uB2E4\uC74C \u2192 "),i()()}if(l&2){let t=g(3);c(),f("disabled",t.currentTextPage===0),c(3),ht(" ",t.currentTextPage+1," / ",t.getTotalTextPages()," "),c(),f("disabled",t.currentTextPage>=t.getTotalTextPages()-1)}}function Jn(l,e){if(l&1){let t=F();r(0,"div",59)(1,"h4"),s(2,"\u{1F4DD} \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 \uC0C1\uC138 (\uD398\uC774\uC9C0\uBCC4)"),i(),r(3,"div",70)(4,"label"),s(5,"\uD398\uC774\uC9C0 \uC120\uD0DD:"),i(),r(6,"select",120),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedPage,n)||(a.selectedPage=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.changeSelectedPage(n))}),B(7,Xn,2,3,"option",121),i()(),r(8,"div",122),B(9,qn,20,26,"div",123),i(),B(10,Kn,7,4,"div",124),i()}if(l&2){let t=g(2);c(6),N("ngModel",t.selectedPage),c(),f("ngForOf",t.getAvailablePages()),c(2),f("ngForOf",t.getCurrentPageTextItems()),c(),f("ngIf",t.getTotalTextPages()>1)}}function Zn(l,e){if(l&1){let t=F();r(0,"div",42),M("click",function(){C(t);let n=g();return _(n.closeTextDetailModal())}),r(1,"div",98),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F4DD} \uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4"),i(),r(5,"button",99),M("click",function(){C(t);let n=g();return _(n.closeTextDetailModal())}),s(6,"\u2715"),i()(),r(7,"div",50)(8,"div",52)(9,"div",53)(10,"div",54),s(11,"\u{1F4DD}"),i(),r(12,"div",55)(13,"div",56),s(14,"\uCD1D \uD14D\uC2A4\uD2B8 \uD56D\uBAA9"),i(),r(15,"div",57),s(16),i(),r(17,"div",58),s(18),i()()(),r(19,"div",53)(20,"div",54),s(21,"\u{1F4D6}"),i(),r(22,"div",55)(23,"div",56),s(24,"\uCD1D \uB2E8\uC5B4 \uC218"),i(),r(25,"div",57),s(26),i(),r(27,"div",58),s(28),i()()(),r(29,"div",53)(30,"div",54),s(31,"\u{1F524}"),i(),r(32,"div",55)(33,"div",56),s(34,"\uCD1D \uBB38\uC790 \uC218"),i(),r(35,"div",57),s(36),i(),r(37,"div",58),s(38),i()()()(),B(39,Nn,29,10,"div",65)(40,jn,15,3,"div",65)(41,Hn,15,3,"div",65),r(42,"div",59)(43,"h4"),s(44,"\u{1F4CA} \uCD94\uAC00 \uD1B5\uACC4"),i(),r(45,"div",62)(46,"div",63),s(47,"\uD3C9\uADE0 \uD14D\uC2A4\uD2B8/\uD398\uC774\uC9C0"),i(),r(48,"div",64),s(49),i()(),r(50,"div",62)(51,"div",63),s(52,"\uD3C9\uADE0 \uB2E8\uC5B4/\uD398\uC774\uC9C0"),i(),r(53,"div",64),s(54),i()(),r(55,"div",62)(56,"div",63),s(57,"\uD3C9\uADE0 \uBB38\uC790/\uD398\uC774\uC9C0"),i(),r(58,"div",64),s(59),i()(),r(60,"div",62)(61,"div",63),s(62,"\uC8FC \uC5B8\uC5B4"),i(),r(63,"div",64),s(64),i()()(),B(65,Un,8,1,"div",65)(66,Jn,11,4,"div",65),i(),r(67,"div",47)(68,"button",100),M("click",function(){C(t);let n=g();return _(n.createTextStructureDocument())}),s(69," \u{1F4DD} \uD14D\uC2A4\uD2B8 \uAD6C\uC870\uB85C \uC0C8 \uBB38\uC11C \uB9CC\uB4E4\uAE30 "),i(),r(70,"button",49),M("click",function(){C(t);let n=g();return _(n.closeTextDetailModal())}),s(71,"\uB2EB\uAE30"),i()()()()}if(l&2){let t=g();c(16),T(t.formatNumber(t.analysisData.totalTextItems)),c(2),E("",t.displayData.avgTextPerPage," \uD56D\uBAA9/\uCABD"),c(8),T(t.formatNumber(t.analysisData.totalWords)),c(2),E("\uD3C9\uADE0 ",t.getAverageWordLength(),"\uC790/\uB2E8\uC5B4"),c(8),T(t.formatNumber(t.analysisData.totalCharacters)),c(2),E("",t.Math.round(t.analysisData.totalCharacters/t.analysisData.pageCount)," \uBB38\uC790/\uCABD"),c(),f("ngIf",t.analysisData.languageDetection),c(),f("ngIf",t.analysisData.uniqueFonts&&t.analysisData.uniqueFonts.length>0),c(),f("ngIf",t.analysisData.textColors&&t.analysisData.textColors.uniqueColors.length>0),c(8),T(t.formatNumber(t.Math.round(t.analysisData.totalTextItems/t.analysisData.pageCount))),c(5),T(t.formatNumber(t.Math.round(t.analysisData.totalWords/t.analysisData.pageCount))),c(5),T(t.formatNumber(t.Math.round(t.analysisData.totalCharacters/t.analysisData.pageCount))),c(5),T(t.getLanguageDominant()),c(),f("ngIf",t.debugLogs&&t.debugLogs.length>0),c(),f("ngIf",t.analysisData.pages&&t.analysisData.pages.length>0)}}function Qn(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F4D0}"),i(),r(4,"div",85),s(5,"\uD328\uC2A4"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",88),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalPaths)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalPaths),"%")}}function to(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F4CF}"),i(),r(4,"div",85),s(5,"\uC120"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",90),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalLines)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalLines),"%")}}function eo(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u3030\uFE0F"),i(),r(4,"div",85),s(5,"\uACE1\uC120"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",91),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.analysisData.vectorSummary.totalCurves)),c(2),q("width",t.getVectorElementPercentage(t.analysisData.vectorSummary.totalCurves),"%")}}function no(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D"),i(),r(3,"div",149)(4,"div",53)(5,"div",54),s(6,"\u{1F3A8}"),i(),r(7,"div",55)(8,"div",56),s(9,"\uCD1D \uBCA1\uD130 \uC5F0\uC0B0"),i(),r(10,"div",57),s(11),i(),r(12,"div",58),s(13),i()()()(),B(14,Qn,10,3,"div",60)(15,to,10,3,"div",60)(16,eo,10,3,"div",60),i()),l&2){let t=g(2);c(11),T(t.formatNumber(t.analysisData.totalVectorOperations)),c(2),E("",t.getVectorComplexity()," \uBCF5\uC7A1\uB3C4"),c(),f("ngIf",t.analysisData.vectorSummary),c(),f("ngIf",t.analysisData.vectorSummary),c(),f("ngIf",t.analysisData.vectorSummary)}}function oo(l,e){if(l&1&&(r(0,"div")(1,"div",82)(2,"div",83)(3,"div",84),s(4,"\u{1F1F0}\u{1F1F7}"),i(),r(5,"div",85),s(6,"\uD55C\uAD6D\uC5B4"),i(),r(7,"div",86),s(8),i()(),r(9,"div",87),R(10,"div",101),i()(),r(11,"div",82)(12,"div",83)(13,"div",84),s(14,"\u{1F1FA}\u{1F1F8}"),i(),r(15,"div",85),s(16,"\uC601\uC5B4"),i(),r(17,"div",86),s(18),i()(),r(19,"div",87),R(20,"div",102),i()()()),l&2){let t=g(3);c(8),T(t.formatNumber(t.analysisData.languageDetection.korean)),c(2),q("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.korean),"%"),c(8),T(t.formatNumber(t.analysisData.languageDetection.english)),c(2),q("width",t.getTextLanguagePercentage(t.analysisData.languageDetection.english),"%")}}function io(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u{1F4DD} \uD14D\uC2A4\uD2B8 \uBD84\uC11D"),i(),r(3,"div",149)(4,"div",53)(5,"div",54),s(6,"\u{1F4DD}"),i(),r(7,"div",55)(8,"div",56),s(9,"\uCD1D \uD14D\uC2A4\uD2B8 \uD56D\uBAA9"),i(),r(10,"div",57),s(11),i(),r(12,"div",58),s(13),i()()(),r(14,"div",53)(15,"div",54),s(16,"\u{1F4D6}"),i(),r(17,"div",55)(18,"div",56),s(19,"\uCD1D \uB2E8\uC5B4 \uC218"),i(),r(20,"div",57),s(21),i(),r(22,"div",58),s(23),i()()()(),B(24,oo,21,6,"div",150),i()),l&2){let t=g(2);c(11),T(t.formatNumber(t.analysisData.totalTextItems)),c(2),E("",t.displayData.avgTextPerPage," \uD56D\uBAA9/\uCABD"),c(8),T(t.formatNumber(t.analysisData.totalWords)),c(2),E("\uD3C9\uADE0 ",t.getAverageWordLength(),"\uC790/\uB2E8\uC5B4"),c(),f("ngIf",t.analysisData.languageDetection)}}function ro(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F5BC}\uFE0F"),i(),r(4,"div",85),s(5,"\uC77C\uBC18 \uC774\uBBF8\uC9C0"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",153),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.getImageTypeCount("Image"))),c(2),q("width",t.getImageTypePercentage("Image"),"%")}}function ao(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F4F7}"),i(),r(4,"div",85),s(5,"JPEG"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",154),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.getImageTypeCount("JPEG"))),c(2),q("width",t.getImageTypePercentage("JPEG"),"%")}}function so(l,e){if(l&1&&(r(0,"div",82)(1,"div",83)(2,"div",84),s(3,"\u{1F3A8}"),i(),r(4,"div",85),s(5,"PNG"),i(),r(6,"div",86),s(7),i()(),r(8,"div",87),R(9,"div",155),i()()),l&2){let t=g(3);c(7),T(t.formatNumber(t.getImageTypeCount("PNG"))),c(2),q("width",t.getImageTypePercentage("PNG"),"%")}}function co(l,e){if(l&1){let t=F();r(0,"div",59)(1,"h4"),s(2,"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uBD84\uC11D"),i(),r(3,"div",149)(4,"div",53)(5,"div",54),s(6,"\u{1F5BC}\uFE0F"),i(),r(7,"div",55)(8,"div",56),s(9,"\uCD1D \uC774\uBBF8\uC9C0 \uC218"),i(),r(10,"div",57),s(11),i(),r(12,"div",58),s(13),i()()()(),B(14,ro,10,3,"div",60)(15,ao,10,3,"div",60)(16,so,10,3,"div",60),r(17,"div",151)(18,"button",152),M("click",function(n){C(t);let a=g(2);return a.openImageDetail(n),_(a.closeCombinedAnalysisModal())}),s(19," \u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0C1\uC138 "),i()()()}if(l&2){let t=g(2);c(11),T(t.formatNumber(t.analysisData.imageInfo.totalImages)),c(2),E("",t.analysisData.imageInfo.pagesWithImages,"\uAC1C \uD398\uC774\uC9C0"),c(),f("ngIf",t.getImageTypeCount("Image")>0),c(),f("ngIf",t.getImageTypeCount("JPEG")>0),c(),f("ngIf",t.getImageTypeCount("PNG")>0)}}function lo(l,e){if(l&1&&(r(0,"div",159)(1,"div",160)(2,"span",161),s(3,"\u{1F3A8}"),i(),r(4,"span"),s(5,"\uBCA1\uD130 \uADF8\uB798\uD53D"),i()(),r(6,"div",162)(7,"div",163)(8,"span",164),s(9),i()()(),r(10,"div",165),s(11),i()()),l&2){let t=g(3);c(7),q("width",t.getVectorTextRatio().vectorPercentage,"%"),c(2),E("",t.getVectorTextRatio().vectorPercentage,"%"),c(2),E("",t.formatNumber(t.analysisData.totalVectorOperations)," \uC5F0\uC0B0")}}function go(l,e){if(l&1&&(r(0,"div",159)(1,"div",160)(2,"span",161),s(3,"\u{1F4DD}"),i(),r(4,"span"),s(5,"\uD14D\uC2A4\uD2B8"),i()(),r(6,"div",162)(7,"div",166)(8,"span",164),s(9),i()()(),r(10,"div",165),s(11),i()()),l&2){let t=g(3);c(7),q("width",t.getVectorTextRatio().textPercentage,"%"),c(2),E("",t.getVectorTextRatio().textPercentage,"%"),c(2),E("",t.formatNumber(t.analysisData.totalTextItems)," \uD56D\uBAA9")}}function po(l,e){if(l&1&&(r(0,"div",159)(1,"div",160)(2,"span",161),s(3,"\u{1F5BC}\uFE0F"),i(),r(4,"span"),s(5,"\uC774\uBBF8\uC9C0"),i()(),r(6,"div",162)(7,"div",167)(8,"span",164),s(9),i()()(),r(10,"div",165),s(11),i()()),l&2){let t=g(3);c(7),q("width",t.getImageRatioPercentage(),"%"),c(2),E("",t.getImageRatioPercentage(),"%"),c(2),E("",t.formatNumber(t.analysisData.imageInfo.totalImages)," \uAC1C")}}function uo(l,e){if(l&1&&(r(0,"div",59)(1,"h4"),s(2,"\u2696\uFE0F \uCF58\uD150\uCE20 \uBE44\uC728 \uBE44\uAD50"),i(),r(3,"div",156),B(4,lo,12,4,"div",157)(5,go,12,4,"div",157)(6,po,12,4,"div",157),i(),r(7,"div",158)(8,"p"),s(9),i()()()),l&2){let t=g(2);c(4),f("ngIf",t.analysisData.hasVectorGraphics),c(),f("ngIf",t.analysisData.totalTextItems>0),c(),f("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo),c(3),T(t.getContentDominance())}}function mo(l,e){if(l&1){let t=F();r(0,"button",168),M("click",function(n){C(t);let a=g(2);return a.openVectorDetail(n),_(a.closeCombinedAnalysisModal())}),s(1," \u{1F3A8} \uBCA1\uD130 \uC0C1\uC138 "),i()}}function Co(l,e){if(l&1){let t=F();r(0,"button",169),M("click",function(n){C(t);let a=g(2);return a.openTextDetail(n),_(a.closeCombinedAnalysisModal())}),s(1," \u{1F4DD} \uD14D\uC2A4\uD2B8 \uC0C1\uC138 "),i()}}function _o(l,e){if(l&1){let t=F();r(0,"button",170),M("click",function(){C(t);let n=g(2);return n.createNewPdfWithSvg(),_(n.closeCombinedAnalysisModal())}),s(1," \u{1F3A8} SVG\uB85C \uC0C8 \uBB38\uC11C "),i()}}function ho(l,e){if(l&1){let t=F();r(0,"button",171),M("click",function(){C(t);let n=g(2);return n.createTextStructureDocument(),_(n.closeCombinedAnalysisModal())}),s(1," \u{1F4DD} \uD14D\uC2A4\uD2B8\uB85C \uC0C8 \uBB38\uC11C "),i()}}function fo(l,e){if(l&1){let t=F();r(0,"button",172),M("click",function(){C(t);let n=g(2);return _(n.createCombinedDocument())}),s(1," \u{1F4CA} \uD63C\uD569 \uC0C8 \uBB38\uC11C "),i()}}function Po(l,e){if(l&1){let t=F();r(0,"button",173),M("click",function(){C(t);let n=g(2);return n.createCombinedPdf(),_(n.closeCombinedAnalysisModal())}),s(1," \u{1F4C4} PDF\uB85C \uC0DD\uC131\uD558\uAE30 "),i()}}function xo(l,e){if(l&1){let t=F();r(0,"div",59)(1,"h4"),s(2,"\u{1F50D} \uB514\uBC84\uADF8 \uB85C\uADF8"),i(),r(3,"div",95)(4,"pre",96),s(5),i(),r(6,"button",97),M("click",function(){C(t);let n=g(2);return _(n.copyDebugLogs())}),s(7," \u{1F4CB} \uBCF5\uC0AC "),i()()()}if(l&2){let t=g(2);c(5),T(t.debugLogs.join(`
`))}}function Mo(l,e){if(l&1){let t=F();r(0,"div",42),M("click",function(){C(t);let n=g();return _(n.closeCombinedAnalysisModal())}),r(1,"div",140),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F4CA} \uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0 \uD1B5\uD569 \uBD84\uC11D"),i(),r(5,"button",99),M("click",function(){C(t);let n=g();return _(n.closeCombinedAnalysisModal())}),s(6,"\u2715"),i()(),r(7,"div",50)(8,"div",52)(9,"div",53)(10,"div",54),s(11,"\u{1F4CA}"),i(),r(12,"div",55)(13,"div",56),s(14,"\uBB38\uC11C \uD0C0\uC785"),i(),r(15,"div",57),s(16),i(),r(17,"div",58),s(18),i()()()(),B(19,no,17,5,"div",65)(20,io,25,5,"div",65)(21,co,20,5,"div",65)(22,uo,10,4,"div",65),r(23,"div",59)(24,"h4"),s(25,"\u26A1 \uBE60\uB978 \uC561\uC158"),i(),r(26,"div",141),B(27,mo,2,0,"button",142)(28,Co,2,0,"button",143)(29,_o,2,0,"button",144)(30,ho,2,0,"button",145)(31,fo,2,0,"button",146)(32,Po,2,0,"button",147),r(33,"button",148),M("click",function(){C(t);let n=g();return _(n.exportPdf())}),s(34," \u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30 "),i()()(),B(35,xo,8,1,"div",65),i(),r(36,"div",47)(37,"button",49),M("click",function(){C(t);let n=g();return _(n.closeCombinedAnalysisModal())}),s(38,"\uB2EB\uAE30"),i()()()()}if(l&2){let t=g();c(9),H("has-both",t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("text-only",!t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0)("vector-only",t.analysisData.hasVectorGraphics&&!t.analysisData.totalTextItems),c(7),T(t.getCombinedContentType()),c(2),T(t.getCombinedStats()),c(),f("ngIf",t.analysisData.hasVectorGraphics),c(),f("ngIf",t.analysisData.totalTextItems>0),c(),f("ngIf",t.analysisData.hasImages&&t.analysisData.imageInfo),c(),f("ngIf",t.analysisData.hasVectorGraphics||t.analysisData.totalTextItems>0||t.analysisData.hasImages),c(5),f("ngIf",t.analysisData.hasVectorGraphics),c(),f("ngIf",t.analysisData.totalTextItems>0),c(),f("ngIf",t.analysisData.hasVectorGraphics),c(),f("ngIf",t.analysisData.totalTextItems>0),c(),f("ngIf",t.analysisData.hasVectorGraphics&&t.analysisData.totalTextItems>0),c(),f("ngIf",t.analysisData.hasVectorGraphics||t.analysisData.totalTextItems>0||t.analysisData.hasImages),c(3),f("ngIf",t.debugLogs&&t.debugLogs.length>0)}}function bo(l,e){if(l&1&&(r(0,"div",195),R(1,"img",196),i()),l&2){let t=g().$implicit;c(),f("src",t.thumbnail,St)("alt",t.name)}}function vo(l,e){l&1&&(r(0,"div",197)(1,"span",198),s(2,"\u{1F5BC}\uFE0F"),i(),r(3,"span",199),s(4,"\uBBF8\uB9AC\uBCF4\uAE30 \uC5C6\uC74C"),i()())}function Oo(l,e){if(l&1&&(r(0,"div",193)(1,"span",37),s(2,"\uD06C\uAE30:"),i(),r(3,"span",38),s(4),i()()),l&2){let t=g().$implicit;c(4),ht("",t.width," \xD7 ",t.height,"px")}}function yo(l,e){if(l&1&&(r(0,"div",193)(1,"span",37),s(2,"\uD3EC\uB9F7:"),i(),r(3,"span",38),s(4),i()()),l&2){let t=g().$implicit;c(4),T(t.format)}}function wo(l,e){if(l&1&&(r(0,"div",187),B(1,bo,2,2,"div",188)(2,vo,5,0,"div",189),r(3,"div",190)(4,"div",191),s(5),i(),r(6,"div",192)(7,"div",193)(8,"span",37),s(9,"\uD0C0\uC785:"),i(),r(10,"span",38),s(11),i()(),B(12,Oo,5,2,"div",194)(13,yo,5,1,"div",194),i()()()),l&2){let t=e.$implicit;c(),f("ngIf",t.thumbnail),c(),f("ngIf",!t.thumbnail),c(3),T(t.name),c(6),T(t.type),c(),f("ngIf",t.width&&t.height),c(),f("ngIf",t.format)}}function Do(l,e){if(l&1&&(r(0,"div",181)(1,"div",182)(2,"div",183),s(3),i(),r(4,"div",184),s(5),i()(),r(6,"div",185),B(7,wo,14,6,"div",186),i()()),l&2){let t=e.$implicit;c(3),E("\uD398\uC774\uC9C0 ",t.pageNumber),c(2),E("",t.count,"\uAC1C \uC774\uBBF8\uC9C0"),c(2),f("ngForOf",t.images)}}function So(l,e){if(l&1){let t=F();r(0,"div",59)(1,"h4"),s(2,"\u{1F50D} \uB514\uBC84\uADF8 \uB85C\uADF8"),i(),r(3,"div",95)(4,"pre",96),s(5),i(),r(6,"button",97),M("click",function(){C(t);let n=g(2);return _(n.copyDebugLogs())}),s(7," \u{1F4CB} \uBCF5\uC0AC "),i()()()}if(l&2){let t=g(2);c(5),T(t.debugLogs.join(`
`))}}function Eo(l,e){if(l&1){let t=F();r(0,"div",42),M("click",function(){C(t);let n=g();return _(n.closeImageDetailModal())}),r(1,"div",174),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",44)(3,"h3"),s(4,"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4"),i(),r(5,"button",99),M("click",function(){C(t);let n=g();return _(n.closeImageDetailModal())}),s(6,"\u2715"),i()(),r(7,"div",50)(8,"div",52)(9,"div",53)(10,"div",54),s(11,"\u{1F5BC}\uFE0F"),i(),r(12,"div",55)(13,"div",56),s(14,"\uCD1D \uC774\uBBF8\uC9C0 \uC218"),i(),r(15,"div",57),s(16),i(),r(17,"div",58),s(18),i()()(),r(19,"div",53)(20,"div",54),s(21,"\u{1F4C4}"),i(),r(22,"div",55)(23,"div",56),s(24,"\uC774\uBBF8\uC9C0 \uD3EC\uD568 \uD398\uC774\uC9C0"),i(),r(25,"div",57),s(26),i(),r(27,"div",58),s(28),i()()(),r(29,"div",53)(30,"div",54),s(31,"\u{1F4CA}"),i(),r(32,"div",55)(33,"div",56),s(34,"\uD398\uC774\uC9C0\uB2F9 \uD3C9\uADE0"),i(),r(35,"div",57),s(36),i(),r(37,"div",58),s(38,"\uC774\uBBF8\uC9C0/\uD398\uC774\uC9C0"),i()()()(),r(39,"div",59)(40,"h4"),s(41,"\u{1F4C4} \uD398\uC774\uC9C0\uBCC4 \uC774\uBBF8\uC9C0"),i(),B(42,Do,8,3,"div",175),i(),r(43,"div",59)(44,"h4"),s(45,"\u{1F4CA} \uC774\uBBF8\uC9C0 \uD0C0\uC785 \uD1B5\uACC4"),i(),r(46,"div",82)(47,"div",83)(48,"div",84),s(49,"\u{1F4E6}"),i(),r(50,"div",85),s(51,"XObject \uC774\uBBF8\uC9C0"),i(),r(52,"div",86),s(53),i()(),r(54,"div",87),R(55,"div",176),i(),r(56,"div",89),s(57,"\uC678\uBD80 \uC774\uBBF8\uC9C0 \uAC1D\uCCB4"),i()(),r(58,"div",82)(59,"div",83)(60,"div",84),s(61,"\u{1F4DD}"),i(),r(62,"div",85),s(63,"Inline \uC774\uBBF8\uC9C0"),i(),r(64,"div",86),s(65),i()(),r(66,"div",87),R(67,"div",177),i(),r(68,"div",89),s(69,"\uC778\uB77C\uC778 \uC774\uBBF8\uC9C0"),i()()(),r(70,"div",178)(71,"h4"),s(72,"\u{1F527} \uC791\uC5C5"),i(),r(73,"div",141)(74,"button",179),M("click",function(){C(t);let n=g();return _(n.createImagePdfDocument())}),s(75," \u{1F4C4} \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 "),i(),r(76,"button",180),M("click",function(){C(t);let n=g();return _(n.downloadAllImages())}),s(77," \u{1F4E6} \uC77C\uAD04 \uB2E4\uC6B4\uB85C\uB4DC "),i()()(),B(78,So,8,1,"div",65),i(),r(79,"div",47)(80,"button",49),M("click",function(){C(t);let n=g();return _(n.closeImageDetailModal())}),s(81,"\uB2EB\uAE30"),i()()()()}if(l&2){let t=g();c(16),T(t.formatNumber(t.analysisData.imageInfo.totalImages)),c(2),E("",t.analysisData.imageInfo.pagesWithImages,"\uAC1C \uD398\uC774\uC9C0"),c(8),T(t.analysisData.imageInfo.pagesWithImages),c(2),E("",t.Math.round(t.analysisData.imageInfo.pagesWithImages/t.analysisData.pageCount*100),"%"),c(8),T((t.analysisData.imageInfo.totalImages/t.analysisData.imageInfo.pagesWithImages).toFixed(1)),c(6),f("ngForOf",t.analysisData.imageInfo.images),c(11),T(t.getImageTypeCount("XObject")),c(2),q("width",t.getImageTypePercentage("XObject"),"%"),c(10),T(t.getImageTypeCount("Inline")),c(2),q("width",t.getImageTypePercentage("Inline"),"%"),c(11),f("ngIf",t.debugLogs&&t.debugLogs.length>0)}}var Ut=class l{analysisData=null;isCollapsed=!1;isDraggable=!0;isCompact=!0;vectorData=null;vectorMinimaps={};debugLogs=[];closeEvent=new L;createSvgPdfEvent=new L;createTextStructureDocEvent=new L;createCombinedDocEvent=new L;requestMinimapEvent=new L;exportPdfEvent=new L;createImagePdfEvent=new L;Math=Math;pdfFactory=we(de);currentStrategy;ContentType=Bt;snackbar=we(Wt);librariesLoaded=!1;librariesLoadPromise=null;isDragging=!1;dragStartX=0;dragStartY=0;currentX=20;currentY=80;isMinimized=!1;showVectorDetailModal=!1;showTextDetailModal=!1;showImageDetailModal=!1;selectedPage=1;textItemsPerPage=50;currentTextPage=0;showCombinedAnalysisModal=!1;_vectorSvgMinimap="";selectedMiniPage=1;get vectorSvgMinimap(){if(this.vectorMinimaps&&this.vectorMinimaps[this.selectedMiniPage])return console.log(`\u2705 vectorMinimaps\uC5D0\uC11C \uD398\uC774\uC9C0 ${this.selectedMiniPage} SVG \uBC18\uD658 (\uAE38\uC774: ${this.vectorMinimaps[this.selectedMiniPage].length})`),this.vectorMinimaps[this.selectedMiniPage];if(this.vectorData&&this.vectorData.pageDetails){let e=this.vectorData.pageDetails.find(t=>t.pageNumber===this.selectedMiniPage);if(e&&e.svgContent)return console.log(`\u2705 vectorData\uC5D0\uC11C \uD398\uC774\uC9C0 ${this.selectedMiniPage} SVG \uBC18\uD658 (\uAE38\uC774: ${e.svgContent.length})`),e.svgContent}return this._vectorSvgMinimap?(console.log(`\u2705 \uB0B4\uBD80 \uC0DD\uC131 SVG \uBC18\uD658 (\uAE38\uC774: ${this._vectorSvgMinimap.length})`),this._vectorSvgMinimap):(console.log(`\u{1F504} \uD398\uC774\uC9C0 ${this.selectedMiniPage} SVG \uB85C\uB529 \uC911 \uB610\uB294 \uC5C6\uC74C - \uD50C\uB808\uC774\uC2A4\uD640\uB354 \uBC18\uD658`),this.createLoadingMinimap())}set vectorSvgMinimap(e){this._vectorSvgMinimap=e}displayData={textPercentage:0,vectorPercentage:0,koreanPercentage:0,englishPercentage:0,formattedFileSize:"",avgTextPerPage:0,avgVectorPerPage:0};ngOnChanges(e){e.analysisData&&this.analysisData&&(this.calculateDisplayData(),this.ensureLibrariesLoaded()),(e.vectorMinimaps||e.vectorData)&&this.requestCurrentPageMinimap()}ensureLibrariesLoaded(){return V(this,null,function*(){if(!this.librariesLoaded){if(this.librariesLoadPromise)return this.librariesLoadPromise;this.librariesLoadPromise=this.loadLibraries(),yield this.librariesLoadPromise}})}loadLibraries(){return new Promise((e,t)=>{console.log("\u{1F4E6} PDF \uAD00\uB828 \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB3D9\uC801 \uB85C\uB4DC \uC2DC\uC791...");let o=[{name:"PDF-lib",url:"https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js",checkLoaded:()=>typeof window.PDFLib<"u"},{name:"JSZip",url:"https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js",checkLoaded:()=>typeof window.JSZip<"u"}];if(o.filter(p=>p.checkLoaded()).length===o.length){console.log("\u2705 \uBAA8\uB4E0 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uC774\uBBF8 \uB85C\uB4DC\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4."),this.librariesLoaded=!0,e();return}let a=o.filter(p=>!p.checkLoaded());console.log(`\u{1F4E5} ${a.length}\uAC1C \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uD544\uC694:`,a.map(p=>p.name));let d=a.map(p=>new Promise((m,u)=>{let h=document.createElement("script");h.src=p.url,h.async=!0,h.onload=()=>{console.log(`\u2705 ${p.name} \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC644\uB8CC`),m()},h.onerror=()=>{console.error(`\u274C ${p.name} \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC2E4\uD328`),u(new Error(`${p.name} \uB85C\uB4DC \uC2E4\uD328`))},document.head.appendChild(h)}));Promise.all(d).then(()=>{typeof window.PDFLib<"u"&&(window.PDFLib=window.PDFLib),this.librariesLoaded=!0,console.log("\u{1F389} \uBAA8\uB4E0 PDF \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC644\uB8CC!"),e()}).catch(p=>{console.error("\u274C \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC911 \uC624\uB958 \uBC1C\uC0DD:",p),this.snackbar.showError("PDF \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB4DC \uC2E4\uD328. \uD398\uC774\uC9C0\uB97C \uC0C8\uB85C\uACE0\uCE68\uD574\uC8FC\uC138\uC694."),t(p)})})}calculateDisplayData(){if(!this.analysisData)return;let e=this.analysisData,t=e.totalTextItems+(e.totalVectorOperations||0);if(t>0&&(this.displayData.textPercentage=Math.round(e.totalTextItems/t*100),this.displayData.vectorPercentage=Math.round((e.totalVectorOperations||0)/t*100)),e.languageDetection){let o=e.languageDetection.korean+e.languageDetection.english+e.languageDetection.mixed;o>0&&(this.displayData.koreanPercentage=Math.round(e.languageDetection.korean/o*100),this.displayData.englishPercentage=Math.round(e.languageDetection.english/o*100))}e.fileSize&&(this.displayData.formattedFileSize=this.formatFileSize(e.fileSize)),e.pageCount>0&&(this.displayData.avgTextPerPage=Math.round(e.totalTextItems/e.pageCount),this.displayData.avgVectorPerPage=Math.round((e.totalVectorOperations||0)/e.pageCount))}formatFileSize(e){if(e===0)return"0 Bytes";let t=1024,o=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,n)*100)/100+" "+o[n]}formatNumber(e){return e==null?"0":e.toLocaleString()}getLanguageDominant(){if(!this.analysisData?.languageDetection)return"-";let e=this.analysisData.languageDetection;return e.korean>e.english&&e.korean>e.mixed?"\uD55C\uAD6D\uC5B4":e.english>e.korean&&e.english>e.mixed?"English":e.mixed>0?"\uD63C\uD569":"-"}getVectorComplexity(){let e=this.analysisData?.totalVectorOperations||0;return e===0?"\uC5C6\uC74C":e<100?"\uB2E8\uC21C":e<500?"\uBCF4\uD1B5":e<2e3?"\uBCF5\uC7A1":"\uB9E4\uC6B0 \uBCF5\uC7A1"}onDragStart(e){this.isDraggable&&(this.isDragging=!0,this.dragStartX=e.clientX-this.currentX,this.dragStartY=e.clientY-this.currentY,e.preventDefault())}onDrag(e){this.isDragging&&(this.currentX=e.clientX-this.dragStartX,this.currentY=e.clientY-this.dragStartY,e.preventDefault())}onDragEnd(){this.isDragging=!1}toggleMinimize(){this.isMinimized=!this.isMinimized}close(){this.closeEvent.emit()}openTextDetail(e){e.stopPropagation(),console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4 \uBAA8\uB2EC \uC5F4\uAE30..."),console.log("\u{1F4CA} analysisData:",this.analysisData),this.analysisData&&this.analysisData.totalTextItems>0?(this.showTextDetailModal=!0,console.log("\u2705 \uD14D\uC2A4\uD2B8 \uBAA8\uB2EC \uC5F4\uB9BC")):console.log("\u26A0\uFE0F \uD14D\uC2A4\uD2B8 \uC815\uBCF4 \uC5C6\uC74C")}closeTextDetailModal(){this.showTextDetailModal=!1}createTextStructureDocument(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uBB38\uC11C \uC0DD\uC131 \uC694\uCCAD..."),this.createTextStructureDocEvent.emit()}openCombinedAnalysis(e){e.stopPropagation(),console.log("\u{1F4CA} \uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0 \uD1B5\uD569 \uBD84\uC11D \uBAA8\uB2EC \uC5F4\uAE30..."),console.log("\u{1F4CA} analysisData:",this.analysisData),this.showCombinedAnalysisModal=!0,console.log("\u2705 \uD1B5\uD569 \uBD84\uC11D \uBAA8\uB2EC \uC5F4\uB9BC")}closeCombinedAnalysisModal(){this.showCombinedAnalysisModal=!1}openImageDetail(e){e.stopPropagation(),console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4 \uBAA8\uB2EC \uC5F4\uAE30..."),console.log("\u{1F4CA} analysisData:",this.analysisData),this.analysisData&&this.analysisData.hasImages&&this.analysisData.imageInfo?(this.showImageDetailModal=!0,console.log("\u2705 \uC774\uBBF8\uC9C0 \uBAA8\uB2EC \uC5F4\uB9BC")):console.log("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uC815\uBCF4 \uC5C6\uC74C")}closeImageDetailModal(){this.showImageDetailModal=!1}getCombinedContentType(){if(!this.analysisData)return"-";let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0,o=this.analysisData.hasImages,n=[];return e&&n.push("\uBCA1\uD130"),t&&n.push("\uD14D\uC2A4\uD2B8"),o&&n.push("\uC774\uBBF8\uC9C0"),n.length===0?"\uC5C6\uC74C":n.length===3?"\uC644\uC804 \uD63C\uD569\uD615":n.length===2?n.join("+")+" \uD63C\uD569\uD615":n[0]+"\uD615"}getCombinedStats(){if(!this.analysisData)return"-";let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0,o=this.analysisData.hasImages,n=[];return e&&n.push(`\uBCA1\uD130 ${this.formatNumber(this.analysisData.totalVectorOperations)}`),t&&n.push(`\uD14D\uC2A4\uD2B8 ${this.formatNumber(this.analysisData.totalTextItems)}`),o&&this.analysisData.imageInfo&&n.push(`\uC774\uBBF8\uC9C0 ${this.formatNumber(this.analysisData.imageInfo.totalImages)}`),n.length===0?"\uCF58\uD150\uCE20 \uC5C6\uC74C":n.join(" + ")}getVectorTextRatio(){if(!this.analysisData)return{vectorPercentage:0,textPercentage:0};let e=this.analysisData.totalVectorOperations||0,t=this.analysisData.totalTextItems||0,o=e+t;if(o===0)return{vectorPercentage:0,textPercentage:0};let n=Math.round(e/o*100),a=Math.round(t/o*100);return{vectorPercentage:n,textPercentage:a}}getImageRatioPercentage(){if(!this.analysisData||!this.analysisData.hasImages||!this.analysisData.imageInfo)return 0;let e=this.analysisData.totalVectorOperations||0,t=this.analysisData.totalTextItems||0,n=(this.analysisData.imageInfo.totalImages||0)*100,a=e+t+n;return a===0?0:Math.round(n/a*100)}getContentDominance(){let e=this.getVectorTextRatio();return e.vectorPercentage>70?"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC774\uBBF8\uC9C0\uB098 \uB2E4\uC774\uC5B4\uADF8\uB7A8\uC774 \uB9CE\uC740 \uBB38\uC11C\uB85C \uBCF4\uC785\uB2C8\uB2E4.":e.textPercentage>70?"\u{1F4DD} \uD14D\uC2A4\uD2B8\uAC00 \uC9C0\uBC30\uC801\uC778 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC8FC\uB85C \uD14D\uC2A4\uD2B8 \uAE30\uBC18\uC758 \uBB38\uC11C\uC785\uB2C8\uB2E4.":Math.abs(e.vectorPercentage-e.textPercentage)<20?"\u2696\uFE0F \uBCA1\uD130\uC640 \uD14D\uC2A4\uD2B8\uAC00 \uADE0\uD615\uC744 \uC774\uB8E8\uB294 \uBB38\uC11C\uC785\uB2C8\uB2E4. \uC774\uBBF8\uC9C0\uC640 \uD14D\uC2A4\uD2B8\uAC00 \uC801\uC808\uD788 \uD63C\uD569\uB41C \uBB38\uC11C\uC785\uB2C8\uB2E4.":e.vectorPercentage>e.textPercentage?"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uB354 \uB9CE\uC740 \uBB38\uC11C\uC785\uB2C8\uB2E4.":"\u{1F4DD} \uD14D\uC2A4\uD2B8\uAC00 \uB354 \uB9CE\uC740 \uBB38\uC11C\uC785\uB2C8\uB2E4."}createCombinedDocument(){if(console.log("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8)..."),console.log("\u{1F4CA} analysisData:",this.analysisData),!this.analysisData){console.error("\u274C analysisData\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0;if(!e&&!t){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D\uACFC \uD14D\uC2A4\uD2B8\uAC00 \uBAA8\uB450 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC774\uBCA4\uD2B8 \uBC1C\uC0DD"),console.log(`  - \uBCA1\uD130: ${e?"O":"X"}`),console.log(`  - \uD14D\uC2A4\uD2B8: ${t?"O":"X"}`),this.createCombinedDocEvent.emit()}exportPdf(){console.log("\u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791..."),this.exportPdfEvent.emit(),this.snackbar.showInfo("PDF \uB0B4\uBCF4\uB0B4\uAE30\uB97C \uC2DC\uC791\uD569\uB2C8\uB2E4. \uC7A0\uC2DC\uB9CC \uAE30\uB2E4\uB824\uC8FC\uC138\uC694...")}createCombinedPdf(){if(console.log("\u{1F4C4} \uD63C\uD569 PDF \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0)..."),console.log("\u{1F4CA} analysisData:",this.analysisData),!this.analysisData){console.error("\u274C analysisData\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.analysisData.hasVectorGraphics,t=this.analysisData.totalTextItems>0,o=this.analysisData.hasImages;if(!e&&!t&&!o){console.error("\u274C \uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u2705 \uD63C\uD569 PDF \uC0DD\uC131 \uC2DC\uC791"),console.log(`  - \uBCA1\uD130: ${e?"O":"X"}`),console.log(`  - \uD14D\uC2A4\uD2B8: ${t?"O":"X"}`),console.log(`  - \uC774\uBBF8\uC9C0: ${o?"O":"X"}`),this.snackbar.showInfo("\uD63C\uD569 PDF \uC0DD\uC131\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4..."),this.generateCombinedPdfDocument()}generateCombinedPdfDocument(){return V(this,null,function*(){try{let e=window.PDFLib;if(!e){console.error("\u274C PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4."),this.snackbar.showError("PDF \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uB85C\uB4DC\uD558\uB294 \uC911\uC785\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.");return}if(!this.analysisData)throw new Error("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");let{PDFDocument:t,rgb:o,StandardFonts:n}=e,a=yield t.create(),d=yield a.embedFont(n.Helvetica),p=a.addPage([595,842]),m=800,u=20,h=50;if(p.drawText("\uD1B5\uD569 \uCF58\uD150\uCE20 \uBD84\uC11D \uB9AC\uD3EC\uD2B8",{x:h,y:m,size:20,font:d,color:o(0,0,0)}),m-=u*2,this.analysisData.hasVectorGraphics){let D=this.analysisData.vectorTypes?.length||0;p.drawText(`\uBCA1\uD130 \uADF8\uB798\uD53D: ${D}\uAC1C \uD0C0\uC785`,{x:h,y:m,size:12,font:d,color:o(0,0,0)}),m-=u,m<50&&(p=a.addPage([595,842]),m=800)}if(this.analysisData.totalTextItems>0&&(p.drawText(`\uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C: ${this.analysisData.totalTextItems}\uAC1C`,{x:h,y:m,size:12,font:d,color:o(0,0,0)}),m-=u,m<50&&(p=a.addPage([595,842]),m=800)),this.analysisData.hasImages){let D=this.analysisData.imageInfo?.images?.length||0;if(p.drawText(`\uC774\uBBF8\uC9C0: ${D}\uAC1C`,{x:h,y:m,size:12,font:d,color:o(0,0,0)}),m-=u,m<50&&(p=a.addPage([595,842]),m=800),this.analysisData.imageInfo?.images){m-=10,p.drawText("\uC774\uBBF8\uC9C0 \uD0C0\uC785 \uBD84\uD3EC:",{x:h+10,y:m,size:10,font:d,color:o(0,0,0)}),m-=u;let S=this.analysisData.imageInfo.images.reduce((b,A)=>(b[A.type]=(b[A.type]||0)+1,b),{});for(let[b,A]of Object.entries(S))m<50&&(p=a.addPage([595,842]),m=800),p.drawText(`  - ${b}: ${A}\uAC1C`,{x:h+20,y:m,size:10,font:d,color:o(0,0,0)}),m-=u}}m-=20,m<50&&(p=a.addPage([595,842]),m=800),p.drawText("\uD63C\uD569 \uBD84\uC11D \uACB0\uACFC",{x:h,y:m,size:14,font:d,color:o(0,0,0)}),m-=u,p.drawText(`\uCF58\uD150\uCE20 \uC720\uD615: ${this.getCombinedContentType()}`,{x:h,y:m,size:12,font:d,color:o(0,0,0)}),m-=u,p.drawText(`\uD1B5\uACC4: ${this.getCombinedStats()}`,{x:h,y:m,size:12,font:d,color:o(0,0,0)});let x=yield a.save(),P=new Blob([x],{type:"application/pdf"}),O=URL.createObjectURL(P),v=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5),y=document.createElement("a");y.href=O,y.download=`combined-analysis-${v}.pdf`,y.click(),URL.revokeObjectURL(O),console.log("\u2705 \uD63C\uD569 PDF \uC0DD\uC131 \uC644\uB8CC"),this.snackbar.showSuccess("\uD63C\uD569 PDF\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\u274C PDF \uC0DD\uC131 \uC2E4\uD328:",e),this.snackbar.showError("PDF \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}openVectorDetail(e){e.stopPropagation(),console.log("\u{1F3A8} \uBCA1\uD130 \uC0C1\uC138 \uC815\uBCF4 \uBAA8\uB2EC \uC5F4\uAE30 \uC2DC\uB3C4..."),console.log("\u{1F4CA} analysisData:",this.analysisData),console.log("\u{1F3A8} vectorData:",this.vectorData),console.log("\u2705 hasVectorGraphics:",this.analysisData?.hasVectorGraphics),this.analysisData?.hasVectorGraphics?(this.showVectorDetailModal=!0,console.log("\u2705 \uBAA8\uB2EC \uC5F4\uB9BC - SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC2DC\uC791..."),this.generateVectorSvgMinimap(this.selectedMiniPage),console.log("\u{1F4DD} vectorSvgMinimap \uAE38\uC774:",this.vectorSvgMinimap.length),console.log("\u{1F50D} SVG \uBBF8\uB2C8\uB9F5 \uB0B4\uC6A9 (\uCC98\uC74C 500\uC790):",this.vectorSvgMinimap.substring(0,500)),console.log("\u{1F50D} SVG \uC2DC\uC791 \uD0DC\uADF8 \uD655\uC778:",this.vectorSvgMinimap.startsWith("<svg"))):console.warn("\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")}closeVectorDetail(){this.showVectorDetailModal=!1,this._vectorSvgMinimap=""}createNewPdfWithSvg(){if(!this.vectorData||!this.analysisData){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F3A8} SVG\uB85C \uC0C8 PDF \uC0DD\uC131 \uC694\uCCAD..."),this.createSvgPdfEvent.emit({vectorData:this.vectorData,analysisData:this.analysisData,selectedPage:this.selectedMiniPage}),console.log("\u2705 SVG PDF \uC0DD\uC131 \uC694\uCCAD \uC644\uB8CC - \uBAA8\uB2EC\uC740 \uC5F4\uB9B0 \uC0C1\uD0DC \uC720\uC9C0 (\uB514\uBC84\uADF8 \uB85C\uADF8 \uD655\uC778\uC6A9)")}selectMiniPage(e){if(console.log(`\u{1F3AF} \uBBF8\uB2C8\uB9F5 \uD398\uC774\uC9C0 ${e} \uC120\uD0DD`),this.selectedMiniPage=e,this.vectorMinimaps&&this.vectorMinimaps[e]){console.log(`\u2705 vectorMinimaps\uC5D0 \uD398\uC774\uC9C0 ${e} SVG \uC788\uC74C - \uBC14\uB85C \uD45C\uC2DC`);return}if(this.vectorData&&this.vectorData.pageDetails){let t=this.vectorData.pageDetails.find(o=>o.pageNumber===e);if(t&&t.svgContent){console.log(`\u2705 vectorData\uC5D0 \uD398\uC774\uC9C0 ${e} SVG \uC788\uC74C - \uBC14\uB85C \uD45C\uC2DC`);return}}console.log(`\u{1F504} \uD398\uC774\uC9C0 ${e} SVG \uC5C6\uC74C - \uBD80\uBAA8\uC5D0\uAC8C \uC0DD\uC131 \uC694\uCCAD`),this.requestMinimapEvent.emit({pageNumber:e,vectorData:this.vectorData}),this.generateVectorSvgMinimap(e)}requestCurrentPageMinimap(){(!this.vectorMinimaps||!this.vectorMinimaps[this.selectedMiniPage])&&this.requestMinimapEvent.emit({pageNumber:this.selectedMiniPage,vectorData:this.vectorData})}generateVectorSvgMinimap(e){if(console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${e} SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC2DC\uC791...`),console.log("\u{1F50D} vectorData:",this.vectorData),!this.vectorData||!this.vectorData.pageDetails){console.warn("\u26A0\uFE0F vectorData\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this._vectorSvgMinimap=this.createEmptyMinimap();return}console.log("\u{1F4CA} \uC804\uCCB4 \uD398\uC774\uC9C0 \uC218:",this.vectorData.pageDetails.length),console.log("\u{1F4CA} \uD398\uC774\uC9C0 \uBAA9\uB85D:",this.vectorData.pageDetails.map(o=>({pageNum:o.pageNumber,hasSvg:!!o.svgContent,svgLength:o.svgContent?.length||0})));let t=this.vectorData.pageDetails.find(o=>o.pageNumber===e);if(!t){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${e}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`),this._vectorSvgMinimap=this.createEmptyMinimap();return}console.log(`\u{1F4CA} \uD398\uC774\uC9C0 ${e} \uB370\uC774\uD130:`,t),console.log("\u{1F4CA} SVG \uCF58\uD150\uCE20 \uC874\uC7AC:",!!t.svgContent),console.log("\u{1F4CA} SVG \uCF58\uD150\uCE20 \uAE38\uC774:",t.svgContent?.length||0),t.svgContent&&console.log("\u{1F4CA} SVG \uC2DC\uC791 \uBD80\uBD84 (200\uC790):",t.svgContent.substring(0,200)),t.svgContent?(console.log("\u2705 SVG \uCF58\uD150\uCE20\uB97C \uBBF8\uB2C8\uB9F5\uC5D0 \uC9C1\uC811 \uD560\uB2F9\uD569\uB2C8\uB2E4."),this._vectorSvgMinimap=t.svgContent,console.log(`\u2705 SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC644\uB8CC, \uAE38\uC774: ${this._vectorSvgMinimap.length}\uC790`),console.log("\u{1F50D} \uD560\uB2F9\uB41C SVG \uBBF8\uB9AC\uBCF4\uAE30 (\uCC98\uC74C 300\uC790):",this._vectorSvgMinimap.substring(0,300))):t.operations&&t.operations.length>0?(console.warn("\u26A0\uFE0F SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC5B4\uC11C operations\uB85C \uC0DD\uC131\uD569\uB2C8\uB2E4."),this.generateMinimapFromOperations(e,t)):(console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${e}\uC5D0 \uD45C\uC2DC\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`),this._vectorSvgMinimap=this.createEmptyMinimap())}generateMinimapFromOperations(e,t){console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${e} operations\uC5D0\uC11C SVG \uC0DD\uC131 \uC911...`);let o=400,n=565,a=o/595,d=n/842,p=[],m="",u=!1;t.operations.forEach((h,x)=>{let P=h.coordinates,O=h.args||[];switch(h.type){case"moveTo":u&&m&&p.push(`<path d="${m}" fill="none" stroke="#667eea" stroke-width="1" opacity="0.6"/>`);let v=0,y=0;P&&P.x!==void 0&&P.y!==void 0?(v=P.x*a,y=n-P.y*d):O.length>=2&&(v=O[0]*a,y=n-O[1]*d),m=`M ${v} ${y}`,u=!0;break;case"lineTo":if(u){let w=0,I=0;P&&P.x!==void 0&&P.y!==void 0?(w=P.x*a,I=n-P.y*d):O.length>=2&&(w=O[0]*a,I=n-O[1]*d),m+=` L ${w} ${I}`}break;case"curve":case"bezierCurveTo":if(u&&O.length>=6){let w=O[0]*a,I=n-O[1]*d,z=O[2]*a,J=n-O[3]*d,K=O[4]*a,et=n-O[5]*d;m+=` C ${w} ${I} ${z} ${J} ${K} ${et}`}break;case"rectangle":let D=0,S=0,b=50,A=50;if(P&&P.x!==void 0&&P.y!==void 0){D=P.x*a,S=n-P.y*d;let w=P.transform||O.slice(0,4);b=(w[0]||50)*a,A=(w[3]||50)*d}else O.length>=4&&(D=O[0]*a,S=n-O[1]*d,b=O[2]*a,A=O[3]*d);p.push(`<rect x="${D}" y="${S-Math.abs(A)}" width="${Math.abs(b)}" height="${Math.abs(A)}" fill="rgba(236, 72, 153, 0.3)" stroke="#ec4899" stroke-width="1"/>`);break;case"closePath":u&&m&&(m+=" Z");break;case"fill":u&&m&&(p.push(`<path d="${m}" fill="rgba(245, 158, 11, 0.4)" stroke="none"/>`),m="",u=!1),h.currentPath&&h.currentPath.length>0&&h.currentPath.forEach(w=>{if(w.type==="implicitRect"||w.type==="rectangle"){let[I,z,J,K]=w.coords,et=I*a,Y=n-z*d;p.push(`<rect x="${et}" y="${Y-Math.abs(K*d)}" width="${Math.abs(J*a)}" height="${Math.abs(K*d)}" fill="rgba(59, 130, 246, 0.4)" stroke="#3b82f6" stroke-width="1"/>`)}});break;case"stroke":u&&m&&(p.push(`<path d="${m}" fill="none" stroke="#8b5cf6" stroke-width="1.5" opacity="0.8"/>`),m="",u=!1);break}}),u&&m&&p.push(`<path d="${m}" fill="none" stroke="#667eea" stroke-width="1" opacity="0.6"/>`),this._vectorSvgMinimap=`
      <svg width="${o}" height="${n}" viewBox="0 0 ${o} ${n}" xmlns="http://www.w3.org/2000/svg">
        <!-- \uBC30\uACBD -->
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        
        <!-- \uADF8\uB9AC\uB4DC (\uC635\uC158) -->
        <defs>
          <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e2e8f0" stroke-width="0.5" opacity="0.3"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" />
        
        <!-- \uBCA1\uD130 \uACBD\uB85C\uB4E4 -->
        ${p.join(`
        `)}
        
        <!-- \uD398\uC774\uC9C0 \uC815\uBCF4 -->
        <text x="10" y="20" font-family="Arial" font-size="12" fill="#64748b" font-weight="600">
          Page ${e}
        </text>
        <text x="10" y="35" font-family="Arial" font-size="10" fill="#94a3b8">
          ${t.operations.length} operations
        </text>
      </svg>
    `,console.log(`\u2705 SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC644\uB8CC: ${p.length}\uAC1C \uC694\uC18C`)}createEmptyMinimap(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        <text x="200" y="282" font-family="Arial" font-size="16" fill="#94a3b8" text-anchor="middle">
          \uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C
        </text>
      </svg>
    `}createLoadingMinimap(){return`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        
        <!-- \uB85C\uB529 \uC560\uB2C8\uBA54\uC774\uC158 -->
        <circle cx="200" cy="260" r="15" fill="none" stroke="#3b82f6" stroke-width="3" stroke-linecap="round">
          <animate attributeName="stroke-dasharray" values="0 94;47 47;0 94" dur="1.5s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0;-47;-94" dur="1.5s" repeatCount="indefinite"/>
        </circle>
        
        <text x="200" y="300" font-family="Arial" font-size="14" fill="#64748b" text-anchor="middle">
          \uBCA1\uD130 \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC911...
        </text>
        <text x="200" y="320" font-family="Arial" font-size="12" fill="#94a3b8" text-anchor="middle">
          \uD398\uC774\uC9C0 ${this.selectedMiniPage}
        </text>
      </svg>
    `}getVectorElementPercentage(e){let t=this.analysisData?.totalVectorOperations||1;return Math.round(e/t*100)}getTextLanguagePercentage(e){if(!this.analysisData?.languageDetection)return 0;let t=this.analysisData.languageDetection,o=t.korean+t.english+t.mixed||1;return Math.round(e/o*100)}getAverageWordLength(){return!this.analysisData||this.analysisData.totalWords===0?0:Math.round(this.analysisData.totalCharacters/this.analysisData.totalWords*10)/10}getFontDiversity(){let e=this.analysisData?.uniqueFonts?.length||0;return e===0?"\uC5C6\uC74C":e===1?"\uB2E8\uC77C":e<=3?"\uC801\uC74C":e<=6?"\uBCF4\uD1B5":"\uB2E4\uC591\uD568"}getColorPercentage(e){if(!this.analysisData?.textColors)return 0;let t=this.analysisData.totalTextItems||1,o=this.analysisData.textColors.colorDistribution[e]||0;return Math.round(o/t*100)}getSortedColors(){return this.analysisData?.textColors?this.analysisData.textColors.uniqueColors.map(e=>({color:e,count:this.analysisData.textColors.colorDistribution[e],percentage:this.getColorPercentage(e)})).sort((e,t)=>t.count-e.count):[]}getSelectedPageTextItems(){return this.analysisData?.pages?this.analysisData.pages.find(t=>t.pageNumber===this.selectedPage)?.textItems||[]:[]}getCurrentPageTextItems(){let e=this.getSelectedPageTextItems(),t=this.currentTextPage*this.textItemsPerPage,o=t+this.textItemsPerPage;return e.slice(t,o)}getTotalTextPages(){let e=this.getSelectedPageTextItems();return Math.ceil(e.length/this.textItemsPerPage)}nextTextPage(){this.currentTextPage<this.getTotalTextPages()-1&&this.currentTextPage++}prevTextPage(){this.currentTextPage>0&&this.currentTextPage--}changeSelectedPage(e){this.selectedPage=e,this.currentTextPage=0}getAvailablePages(){return this.analysisData?.pages?this.analysisData.pages.map(e=>e.pageNumber).sort((e,t)=>e-t):[]}getPageTextCount(e){return this.analysisData?.pages&&this.analysisData.pages.find(o=>o.pageNumber===e)?.textItems.length||0}getSelectedPageOperations(){return!this.vectorData||!this.vectorData.pageDetails?0:this.vectorData.pageDetails.find(t=>t.pageNumber===this.selectedMiniPage)?.operations?.length||0}copyDebugLogs(){if(!this.debugLogs||this.debugLogs.length===0){console.warn("\u26A0\uFE0F \uBCF5\uC0AC\uD560 \uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.debugLogs.join(`
`);if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).then(()=>{console.log("\u2705 \uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),this.snackbar.showSuccess("\uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}).catch(t=>{console.error("\u274C \uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC \uC2E4\uD328:",t),this.snackbar.showError("\uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")});else{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",document.body.appendChild(t),t.select();try{document.execCommand("copy"),console.log("\u2705 \uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. (fallback)"),this.snackbar.showSuccess("\uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}catch(o){console.error("\u274C \uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC \uC2E4\uD328:",o),this.snackbar.showError("\uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}finally{document.body.removeChild(t)}}}getColorBrightness(e){let t=0,o=0,n=0;if(e.startsWith("#")){let a=e.replace("#","");if(a.length===6)t=parseInt(a.substr(0,2),16),o=parseInt(a.substr(2,2),16),n=parseInt(a.substr(4,2),16);else if(a.length===8)t=parseInt(a.substr(2,2),16),o=parseInt(a.substr(4,2),16),n=parseInt(a.substr(6,2),16);else if(a.length===10)t=parseInt(a.substr(4,2),16),o=parseInt(a.substr(6,2),16),n=parseInt(a.substr(8,2),16);else if(a.length===12){let d=a.substr(0,4),p=a.substr(4,4),m=a.substr(8,4);d===p&&p===m?(t=parseInt(a.substr(0,2),16),o=parseInt(a.substr(4,2),16),n=parseInt(a.substr(8,2),16)):(t=parseInt(a.substr(4,2),16),o=parseInt(a.substr(6,2),16),n=parseInt(a.substr(8,2),16))}else a.length===3&&(t=parseInt(a.substr(0,1)+a.substr(0,1),16),o=parseInt(a.substr(1,1)+a.substr(1,1),16),n=parseInt(a.substr(2,1)+a.substr(2,1),16))}else if(e.startsWith("rgb")){let a=e.match(/\d+/g);a&&(t=parseInt(a[0]),o=parseInt(a[1]),n=parseInt(a[2]))}return(t*299+o*587+n*114)/1e3}normalizeColor(e){if(!e.startsWith("#"))return e;let t=e.replace("#","");if(t.length===6)return e;if(console.warn(`\u26A0\uFE0F \uBE44\uD45C\uC900 \uC0C9\uC0C1 \uCF54\uB4DC \uAC10\uC9C0: ${e} (${t.length}\uC790\uB9AC)`),t.length===12||t.length===10)return console.error(`\u274C ${t.length}\uC790\uB9AC \uC0C9\uC0C1 \uCF54\uB4DC\uB294 \uD30C\uC2F1\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4: ${e}`),console.error("   PDF \uC6D0\uBCF8\uC5D0\uC11C \uC0C9\uC0C1\uC774 \uC81C\uB300\uB85C \uCD94\uCD9C\uB418\uC5C8\uB294\uC9C0 \uD655\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4."),`#${t.substr(0,6)}`;if(t.length===8){let o=t.substr(2,2),n=t.substr(4,2),a=t.substr(6,2);return`#${o}${n}${a}`}if(t.length===3){let o=t.substr(0,1),n=t.substr(1,1),a=t.substr(2,1);return`#${o}${o}${n}${n}${a}${a}`}return console.warn(`\u26A0\uFE0F \uC54C \uC218 \uC5C6\uB294 \uC0C9\uC0C1 \uD615\uC2DD: ${e}, \uC55E 6\uC790\uB9AC\uB9CC \uC0AC\uC6A9\uD569\uB2C8\uB2E4.`),`#${t.substr(0,Math.min(6,t.length))}`}getBackgroundForTextColor(e){let t=this.getColorBrightness(e);return t>200?"linear-gradient(135deg, #1e293b 0%, #334155 100%)":t<50?"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)":"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)"}getTextShadowForColor(e){let t=this.getColorBrightness(e);return t>200?"0 1px 3px rgba(0, 0, 0, 0.8), 0 0 1px rgba(0, 0, 0, 0.5)":t<50?"0 0 2px rgba(255, 255, 255, 0.8), 0 1px 2px rgba(59, 130, 246, 0.3)":"0 0 1px rgba(255, 255, 255, 0.5)"}getImageTypeCount(e){if(!this.analysisData?.imageInfo?.images)return 0;let t=0;return this.analysisData.imageInfo.images.forEach(o=>{o.images.forEach(n=>{n.type===e&&t++})}),t}getImageTypePercentage(e){if(!this.analysisData?.imageInfo?.totalImages)return 0;let t=this.getImageTypeCount(e);return Math.round(t/this.analysisData.imageInfo.totalImages*100)}createImagePdfDocument(){return V(this,null,function*(){if(console.log("\u{1F4C4} \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC2DC\uC791 (pdf-lib \uC0AC\uC6A9)..."),!this.analysisData?.imageInfo||!this.analysisData.imageInfo.images){this.snackbar.showError("\uC774\uBBF8\uC9C0 \uC815\uBCF4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{yield this.ensureLibrariesLoaded();let e=window.PDFLib;if(!e){this.snackbar.showError("PDF \uC0DD\uC131 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),console.error("\u274C PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let{PDFDocument:t}=e,o=yield t.create(),n=0,a=595.28,d=841.89;console.log(`\u{1F4CF} \uD398\uC774\uC9C0 \uD06C\uAE30: ${a}x${d}pt`);for(let u of this.analysisData.imageInfo.images){if(u.images.length===0)continue;let h=o.addPage([a,d]);for(let x of u.images){console.log(`\u{1F50D} \uC774\uBBF8\uC9C0 \uCC98\uB9AC: ${x.name}`),console.log(`  - hasOriginalImage: ${!!x.originalImage}`),console.log(`  - hasThumbnail: ${!!x.thumbnail}`),console.log(`  - hasTransform: ${!!x.transform}`);try{let P=x.originalImage||x.thumbnail;if(!P){console.warn(`\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C: ${x.name}`);continue}let O=P.split(",")[1]||P,v=Uint8Array.from(atob(O),D=>D.charCodeAt(0)),y;if(P.startsWith("data:image/jpeg")||P.startsWith("data:image/jpg")?y=yield o.embedJpg(v):y=yield o.embedPng(v),x.transform){let D=x.transform,S=Math.abs(D[0]),b=Math.abs(D[3]),A=D[4],w=D[5];console.log(`  \uC6D0\uBCF8 transform: [${D}]`),console.log(`  \uD06C\uAE30: ${S.toFixed(2)}x${b.toFixed(2)}pt`),console.log(`  \uC704\uCE58: (${A.toFixed(2)}, ${w.toFixed(2)})pt`);let I=A,z=w;console.log(`  pdf-lib \uC88C\uD45C: (${I.toFixed(2)}, ${z.toFixed(2)})pt`),h.drawImage(y,{x:I,y:z,width:S,height:b}),console.log(`\u2705 \uC774\uBBF8\uC9C0 \uBC30\uCE58 \uC644\uB8CC: ${x.name}`)}else console.warn(`\u26A0\uFE0F transform \uC815\uBCF4 \uC5C6\uC74C: ${x.name}, \uD398\uC774\uC9C0 \uC804\uCCB4\uC5D0 \uBC30\uCE58`),h.drawImage(y,{x:0,y:0,width:a,height:d});n++}catch(P){console.error(`\u274C \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC2E4\uD328: ${x.name}`,P)}}}if(n===0){this.snackbar.showError("PDF\uC5D0 \uCD94\uAC00\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let p=yield o.save(),m=new Blob([p],{type:"application/pdf"});this.snackbar.showSuccess(`\u2705 \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC! (${n}\uAC1C \uC774\uBBF8\uC9C0) - \uC0C8 \uD3B8\uC9D1\uAE30\uC5D0\uC11C \uC5F4\uB9BD\uB2C8\uB2E4.`),console.log(`\u2705 \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC: ${n}\uAC1C \uC774\uBBF8\uC9C0`),this.createImagePdfEvent.emit(m)}catch(e){console.error("\u274C PDF \uC0DD\uC131 \uC624\uB958:",e),this.snackbar.showError("PDF \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadAllImages(){return V(this,null,function*(){if(console.log("\u{1F4E6} \uC774\uBBF8\uC9C0 \uC77C\uAD04 \uB2E4\uC6B4\uB85C\uB4DC \uC2DC\uC791..."),!this.analysisData?.imageInfo||!this.analysisData.imageInfo.images){this.snackbar.showError("\uB2E4\uC6B4\uB85C\uB4DC\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{yield this.ensureLibrariesLoaded();let e=window.JSZip;if(!e){this.snackbar.showError("ZIP \uC0DD\uC131 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),console.error("JSZip \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=new e,o=0;if(this.analysisData.imageInfo.images.forEach(p=>{let m=`page_${p.pageNumber}`,u=t.folder(m);p.images.forEach((h,x)=>{if(h.thumbnail){let P=h.thumbnail.split(",")[1],O=`${h.name||`image_${x+1}`}.png`;u&&(u.file(O,P,{base64:!0}),o++)}})}),o===0){this.snackbar.showError("\uB2E4\uC6B4\uB85C\uB4DC\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=yield t.generateAsync({type:"blob"}),a=URL.createObjectURL(n),d=document.createElement("a");d.href=a,d.download=`images_${this.analysisData.fileName||"document"}_${Date.now()}.zip`,d.click(),URL.revokeObjectURL(a),this.snackbar.showSuccess(`\u2705 ZIP \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC! (${o}\uAC1C \uC774\uBBF8\uC9C0)`),console.log(`\u2705 \uC774\uBBF8\uC9C0 ZIP \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${o}\uAC1C \uD30C\uC77C`)}catch(e){console.error("\u274C ZIP \uC0DD\uC131 \uC624\uB958:",e),this.snackbar.showError("ZIP \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}createUnifiedPdf(e){return V(this,null,function*(){if(console.log("\u{1F4C4} \uD1B5\uD569 PDF \uC0DD\uC131 \uC2DC\uC791 (\uC0C8 \uC544\uD0A4\uD14D\uCC98)...",{type:e}),!this.analysisData){this.snackbar.showWarning("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let t=e?this.pdfFactory.getStrategyByType(e):this.pdfFactory.getStrategy(this.analysisData);if(!t){this.snackbar.showError("PDF \uC0DD\uC131 \uC804\uB7B5\uC744 \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}if(!t.validate(this.analysisData)){let d=this.pdfFactory.getStrategyInfo(t.type);this.snackbar.showWarning(`${d.description}\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uD544\uC694\uD55C \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}console.log(`\u2705 \uC804\uB7B5 \uC120\uD0DD: ${t.type}`),this.snackbar.showInfo(`${this.getStrategyName(t.type)} PDF \uC0DD\uC131 \uC911...`);let o=this.preparePageContent(),n={fileName:this.analysisData.fileName||"document",pageSize:{width:595.28,height:841.89},title:`${this.analysisData.fileName||"\uBB38\uC11C"} - ${this.getStrategyName(t.type)}`,author:"LOWORLD AI",subject:`PDF ${this.getStrategyName(t.type)} \uBD84\uC11D \uACB0\uACFC`,keywords:[t.type,"PDF","\uBD84\uC11D"]},a=yield t.generatePdf(o,n);this.downloadPdfBlob(a,t.type),this.snackbar.showSuccess(`${this.getStrategyName(t.type)} PDF\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4! \u{1F389}`)}catch(t){console.error("\u274C PDF \uC0DD\uC131 \uC2E4\uD328:",t),this.snackbar.showError("PDF \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}preparePageContent(){if(!this.analysisData)return[];let e=[];for(let t=1;t<=this.analysisData.pageCount;t++){let o={pageNumber:t};if(this.vectorData?.pageDetails){let n=this.vectorData.pageDetails.find(a=>a.pageNumber===t);n&&(o.vector={svgContent:n.svgContent||"",operations:n.operations||[]})}if(this.analysisData.pages){let n=this.analysisData.pages.find(a=>a.pageNumber===t);n&&(o.text=n.textItems.map(a=>({text:a.text,font:a.font,fontSize:a.fontSize,color:a.color,position:{x:a.position.x,y:a.position.y}})))}if(this.analysisData.imageInfo?.images){let n=this.analysisData.imageInfo.images.find(a=>a.pageNumber===t);n&&n.images.length>0&&(o.images=n.images.map(a=>({pageNumber:a.pageNumber,type:a.type,name:a.name,width:a.width,height:a.height,transform:a.transform,format:a.format,thumbnail:a.thumbnail,originalImage:a.originalImage})))}e.push(o)}return e}downloadPdfBlob(e,t){let o=URL.createObjectURL(e),n=document.createElement("a");n.href=o;let a=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5),d=this.getStrategyName(t).toLowerCase().replace(/ /g,"-");n.download=`${this.analysisData?.fileName||"document"}-${d}-${a}.pdf`,n.click(),URL.revokeObjectURL(o),console.log(`\u2705 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${n.download}`)}getStrategyName(e){return{vector:"\uBCA1\uD130",text:"\uD14D\uC2A4\uD2B8",image:"\uC774\uBBF8\uC9C0",combined:"\uD63C\uD569"}[e]||e}getCurrentStrategyType(){return this.analysisData?this.pdfFactory.getStrategy(this.analysisData)?.type:void 0}getAvailableContentTypes(){return this.analysisData?this.pdfFactory.getAvailableContentTypes(this.analysisData):[]}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ct({type:l,selectors:[["app-pdf-analysis-dashboard"]],inputs:{analysisData:"analysisData",isCollapsed:"isCollapsed",isDraggable:"isDraggable",isCompact:"isCompact",vectorData:"vectorData",vectorMinimaps:"vectorMinimaps",debugLogs:"debugLogs"},outputs:{closeEvent:"closeEvent",createSvgPdfEvent:"createSvgPdfEvent",createTextStructureDocEvent:"createTextStructureDocEvent",createCombinedDocEvent:"createCombinedDocEvent",requestMinimapEvent:"requestMinimapEvent",exportPdfEvent:"exportPdfEvent",createImagePdfEvent:"createImagePdfEvent"},features:[Dt],decls:7,vars:22,consts:[[1,"pdf-analysis-dashboard",3,"mousedown","mousemove","mouseup"],["class","dashboard-container",4,"ngIf"],["class","dashboard-empty",4,"ngIf"],["class","vector-detail-modal",3,"click",4,"ngIf"],[1,"dashboard-container"],["class","dashboard-header draggable-handle",4,"ngIf"],["class","dashboard-header",4,"ngIf"],["class","stats-grid",4,"ngIf"],["class","details-section",4,"ngIf"],[1,"dashboard-header","draggable-handle"],[1,"header-left"],[1,"header-icon"],[1,"header-title"],[1,"header-controls"],["title","\uCD5C\uC18C\uD654/\uCD5C\uB300\uD654",1,"control-btn",3,"click"],["title","\uB2EB\uAE30",1,"control-btn","close-btn",3,"click"],[1,"dashboard-header"],[1,"stats-grid"],[1,"stat-card","document-info"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],["class","stat-detail",4,"ngIf"],[1,"stat-card","text-info","clickable",3,"click","title"],[1,"stat-card","vector-info","clickable",3,"click","title"],["class","stat-value",4,"ngIf"],["class","stat-value empty-text",4,"ngIf"],[1,"stat-card","language-info"],["title","\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0 \uD1B5\uD569 \uBD84\uC11D \uBCF4\uAE30",1,"stat-card","combined-analysis","clickable",3,"click"],[1,"stat-card","image-info","clickable",3,"click","title"],[1,"stat-detail"],[1,"stat-value","empty-text"],[1,"details-section"],[1,"details-title"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"dashboard-empty"],[1,"empty-icon"],[1,"empty-text"],[1,"vector-detail-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D\uC744 SVG\uB85C \uBCC0\uD658\uD558\uC5EC \uC0C8 PDF\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4",1,"btn-primary",3,"click"],[1,"btn-close-modal",3,"click"],[1,"modal-body"],["class","minimap-section",4,"ngIf"],[1,"summary-section"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-label"],[1,"summary-value"],[1,"summary-detail"],[1,"detail-section"],["class","vector-item",4,"ngIf"],[1,"stats-summary"],[1,"stat-box"],[1,"stat-box-label"],[1,"stat-box-value"],["class","detail-section",4,"ngIf"],[1,"minimap-section"],["class","page-selector",4,"ngIf"],["class","page-info",4,"ngIf"],["class","minimap-container",4,"ngIf"],[1,"page-selector"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"page-btn",3,"click"],[1,"page-info"],[1,"single-page-label"],[1,"minimap-container"],[1,"minimap-wrapper",3,"innerHTML"],[1,"minimap-info"],[1,"info-badge"],[1,"badge-icon"],[1,"loading-state"],[1,"spinner"],[1,"vector-item"],[1,"vector-item-header"],[1,"vector-item-icon"],[1,"vector-item-title"],[1,"vector-item-count"],[1,"vector-item-bar"],[1,"bar-fill"],[1,"vector-item-desc"],[1,"bar-fill","lines"],[1,"bar-fill","curves"],[1,"bar-fill","rectangles"],[1,"bar-fill","fill"],[1,"bar-fill","stroke"],[1,"debug-log-box"],[1,"debug-log-content"],["title","\uB514\uBC84\uADF8 \uB85C\uADF8\uB97C \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uD569\uB2C8\uB2E4",1,"btn-copy-debug",3,"click"],[1,"modal-content","text-modal",3,"click"],[1,"btn-close",3,"click"],["title","\uD14D\uC2A4\uD2B8 \uAD6C\uC870\uB97C \uAE30\uBC18\uC73C\uB85C \uC0C8 \uBB38\uC11C\uB97C \uC0DD\uC131\uD569\uB2C8\uB2E4",1,"btn-primary",3,"click"],[1,"bar-fill","korean"],[1,"bar-fill","english"],[1,"bar-fill","mixed"],[1,"bar-fill","numbers"],[1,"summary-card",2,"margin-bottom","1rem"],[1,"font-list"],["class","font-item",4,"ngFor","ngForOf"],[1,"font-item"],[1,"font-index"],[1,"font-name"],[1,"color-list"],["class","color-item",4,"ngFor","ngForOf"],[1,"color-item"],[1,"color-sample"],[1,"color-info"],[1,"color-code"],[1,"color-usage"],[1,"color-bar-wrapper"],[1,"color-bar"],[1,"page-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"text-items-container"],["class","text-item-card",4,"ngFor","ngForOf"],["class","text-pagination",4,"ngIf"],[3,"value"],[1,"text-item-card"],[1,"text-item-header"],[1,"text-item-index"],[1,"text-item-color-info"],[1,"color-sample-large",3,"title"],[1,"color-info-text"],[1,"color-hex-label"],[1,"color-hex"],[1,"text-item-content"],[1,"text-item-meta"],[1,"meta-item"],[1,"text-pagination"],[1,"btn-pagination",3,"click","disabled"],[1,"pagination-info"],[1,"modal-content","combined-modal",3,"click"],[1,"action-buttons"],["class","action-btn vector-btn","title","\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uC815\uBCF4",3,"click",4,"ngIf"],["class","action-btn text-btn","title","\uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4",3,"click",4,"ngIf"],["class","action-btn create-btn","title","\uBCA1\uD130 \uADF8\uB798\uD53D\uC744 SVG\uB85C \uBCC0\uD658\uD558\uC5EC \uC0C8 PDF \uC0DD\uC131",3,"click",4,"ngIf"],["class","action-btn create-btn","title","\uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uAE30\uBC18 \uC0C8 \uBB38\uC11C \uC0DD\uC131",3,"click",4,"ngIf"],["class","action-btn combined-btn","title","\uBCA1\uD130 \uADF8\uB798\uD53D\uACFC \uD14D\uC2A4\uD2B8\uB97C \uC21C\uCC28\uC801\uC73C\uB85C \uACB0\uD569\uD55C \uC0C8 \uBB38\uC11C \uC0DD\uC131",3,"click",4,"ngIf"],["class","action-btn pdf-create-btn","title","\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uB97C \uBAA8\uB450 \uD3EC\uD568\uD55C PDF \uC0DD\uC131",3,"click",4,"ngIf"],["title","\uD604\uC7AC \uBB38\uC11C\uB97C PDF\uB85C \uB0B4\uBCF4\uB0B4\uAE30",1,"action-btn","export-btn",3,"click"],[1,"summary-section",2,"margin-bottom","1rem"],[4,"ngIf"],[1,"action-buttons",2,"margin-top","1rem"],["title","\uC774\uBBF8\uC9C0 \uC0C1\uC138 \uC815\uBCF4 \uBCF4\uAE30",1,"action-btn","image-btn",3,"click"],[1,"bar-fill","image"],[1,"bar-fill","jpeg"],[1,"bar-fill","png"],[1,"comparison-chart"],["class","comparison-item",4,"ngIf"],[1,"comparison-summary"],[1,"comparison-item"],[1,"comparison-label"],[1,"comparison-icon"],[1,"comparison-bar-wrapper"],[1,"comparison-bar","vector-bar"],[1,"comparison-value"],[1,"comparison-count"],[1,"comparison-bar","text-bar"],[1,"comparison-bar","image-bar"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uC815\uBCF4",1,"action-btn","vector-btn",3,"click"],["title","\uD14D\uC2A4\uD2B8 \uC0C1\uC138 \uC815\uBCF4",1,"action-btn","text-btn",3,"click"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D\uC744 SVG\uB85C \uBCC0\uD658\uD558\uC5EC \uC0C8 PDF \uC0DD\uC131",1,"action-btn","create-btn",3,"click"],["title","\uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uAE30\uBC18 \uC0C8 \uBB38\uC11C \uC0DD\uC131",1,"action-btn","create-btn",3,"click"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D\uACFC \uD14D\uC2A4\uD2B8\uB97C \uC21C\uCC28\uC801\uC73C\uB85C \uACB0\uD569\uD55C \uC0C8 \uBB38\uC11C \uC0DD\uC131",1,"action-btn","combined-btn",3,"click"],["title","\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0\uB97C \uBAA8\uB450 \uD3EC\uD568\uD55C PDF \uC0DD\uC131",1,"action-btn","pdf-create-btn",3,"click"],[1,"modal-content","image-modal",3,"click"],["class","page-images",4,"ngFor","ngForOf"],[1,"bar-fill","xobject"],[1,"bar-fill","inline"],[1,"detail-section","action-section"],["title","\uCD94\uCD9C\uB41C \uC774\uBBF8\uC9C0\uB97C PDF\uB85C \uB0B4\uBCF4\uB0B4\uAE30 (pdf-lib \uC0AC\uC6A9)",1,"btn-action","btn-export",3,"click"],["title","\uBAA8\uB4E0 \uC774\uBBF8\uC9C0\uB97C ZIP\uC73C\uB85C \uB2E4\uC6B4\uB85C\uB4DC",1,"btn-action","btn-download",3,"click"],[1,"page-images"],[1,"page-header"],[1,"page-number-badge"],[1,"page-image-count"],[1,"image-list"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],["class","image-thumbnail",4,"ngIf"],["class","image-placeholder",4,"ngIf"],[1,"image-info"],[1,"image-name"],[1,"image-details"],[1,"image-detail-item"],["class","image-detail-item",4,"ngIf"],[1,"image-thumbnail"],[3,"src","alt"],[1,"image-placeholder"],[1,"placeholder-icon"],[1,"placeholder-text"]],template:function(t,o){t&1&&(r(0,"div",0),M("mousedown",function(a){return o.onDragStart(a)})("mousemove",function(a){return o.onDrag(a)},Ct)("mouseup",function(){return o.onDragEnd()},Ct),B(1,vn,5,4,"div",1)(2,On,5,0,"div",2),i(),B(3,Gn,13,1,"div",3)(4,Zn,72,15,"div",3)(5,Mo,39,19,"div",3)(6,Eo,82,13,"div",3)),t&2&&(q("left",o.isDraggable?o.currentX:null,"px")("top",o.isDraggable?o.currentY:null,"px")("position",o.isDraggable?"fixed":"relative"),H("collapsed",o.isCollapsed)("compact",o.isCompact)("draggable",o.isDraggable)("minimized",o.isMinimized)("dragging",o.isDragging),c(),f("ngIf",o.analysisData),c(),f("ngIf",!o.analysisData),c(),f("ngIf",o.showVectorDetailModal),c(),f("ngIf",o.showTextDetailModal&&o.analysisData),c(),f("ngIf",o.showCombinedAnalysisModal&&o.analysisData),c(),f("ngIf",o.showImageDetailModal&&o.analysisData&&o.analysisData.imageInfo))},dependencies:[Lt,_t,dt,Nt,Et,kt,Rt,ft,Pt,ce],styles:['@charset "UTF-8";.pdf-analysis-dashboard[_ngcontent-%COMP%]{width:100%;margin-bottom:16px;animation:_ngcontent-%COMP%_slideDown .3s ease-out;z-index:1001}.pdf-analysis-dashboard.draggable[_ngcontent-%COMP%]{position:fixed;width:380px;max-width:90vw;cursor:move;box-shadow:0 8px 24px #0000004d;z-index:9999}.pdf-analysis-dashboard.draggable.dragging[_ngcontent-%COMP%]{cursor:grabbing;opacity:.95}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{padding:12px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:8px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:8px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:20px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:10px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{margin-bottom:10px}.pdf-analysis-dashboard.compact[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:14px}.pdf-analysis-dashboard.minimized[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .pdf-analysis-dashboard.minimized[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{display:none}.pdf-analysis-dashboard.minimized[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{padding:8px 12px}.pdf-analysis-dashboard.collapsed[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%], .pdf-analysis-dashboard.collapsed[_ngcontent-%COMP%]   .fonts-section[_ngcontent-%COMP%]{display:none}.dashboard-container[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);padding:16px;box-shadow:0 4px 12px #0000001a;color:var(--text-primary)}.dashboard-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:16px;-webkit-user-select:none;user-select:none}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--text-primary)}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{display:flex;gap:6px}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary);font-size:14px;font-weight:700;transition:all .2s ease}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:scale(1.1)}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .control-btn.close-btn[_ngcontent-%COMP%]:hover{background:#ef4444cc;color:#fff}.dashboard-header.draggable-handle[_ngcontent-%COMP%]{cursor:move;padding:4px;margin:-4px -4px 12px}.dashboard-header.draggable-handle[_ngcontent-%COMP%]:hover{background:var(--bg-hover, rgba(0, 0, 0, .05))}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:12px}.stat-card[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:12px;display:flex;align-items:center;gap:10px;transition:all .3s ease;border:1px solid var(--border-color)}.stat-card[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.stat-card.empty[_ngcontent-%COMP%]{opacity:.6}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:28px;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);line-height:1.2;margin-bottom:2px}.stat-card[_ngcontent-%COMP%]   .stat-value.empty-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;opacity:.7}.stat-card[_ngcontent-%COMP%]   .stat-detail[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary, #6c757d);line-height:1.3}.details-section[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:12px;margin-bottom:12px;border:1px solid var(--border-color)}.details-section[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:8px}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px;padding:4px 0}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--text-secondary, #6c757d);font-weight:500}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.fonts-section[_ngcontent-%COMP%]   .fonts-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.fonts-section[_ngcontent-%COMP%]   .font-tag[_ngcontent-%COMP%]{background:var(--bg-secondary, #e9ecef);padding:4px 8px;font-size:11px;color:var(--text-primary);font-weight:500;white-space:nowrap;border:1px solid var(--border-color)}.fonts-section[_ngcontent-%COMP%]   .font-tag.more[_ngcontent-%COMP%]{background:var(--bg-tertiary, #dee2e6);font-style:italic}.dashboard-empty[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:2px dashed var(--border-color);padding:32px 16px;text-align:center;color:var(--text-secondary, #6c757d)}.dashboard-empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px;opacity:.6}.dashboard-empty[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;opacity:.8}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-container[_ngcontent-%COMP%]{padding:12px}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.stat-card.clickable[_ngcontent-%COMP%]{cursor:pointer}.stat-card.clickable[_ngcontent-%COMP%]:not(.empty):hover{background:var(--bg-hover, #e9ecef);transform:translateY(-3px) scale(1.02);box-shadow:0 6px 12px #00000026}.stat-card.clickable[_ngcontent-%COMP%]:not(.empty):active{transform:translateY(-1px) scale(1.01)}.stat-card.clickable.empty[_ngcontent-%COMP%]{cursor:not-allowed}.vector-detail-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000bf;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.vector-detail-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);width:90%;max-width:600px;max-height:85vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border-color);color:var(--text-primary)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary);font-size:18px;font-weight:700;transition:all .2s ease}.vector-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef4444cc;color:#fff;transform:scale(1.1)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px;color:var(--text-primary)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary, #f8f9fa)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary, #6c757d)}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:12px}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);border:none;padding:12px 20px;color:#fff;font-size:14px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2980b9,#1f5f8b);transform:translateY(-2px);box-shadow:0 4px 12px #3498db4d}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 6px #3498db4d}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);padding:10px 24px;color:var(--text-primary);font-size:14px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .2s ease}.vector-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translateY(-2px)}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:20px;display:flex;align-items:center;gap:16px;border:1px solid var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:48px;line-height:1}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{flex:1}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:var(--text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:var(--text-primary);line-height:1;margin-bottom:6px}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-detail[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary, #6c757d)}.vector-detail-modal[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]{margin-bottom:24px}.vector-detail-modal[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:14px;margin-bottom:12px;border:1px solid var(--border-color);transition:all .2s ease}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translate(4px)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]   .vector-item-icon[_ngcontent-%COMP%]{font-size:20px;line-height:1}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]   .vector-item-title[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:600;color:var(--text-primary)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-header[_ngcontent-%COMP%]   .vector-item-count[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);background:var(--bg-tertiary, #dee2e6);padding:4px 12px}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]{background:var(--bg-tertiary, rgba(0, 0, 0, .1));height:8px;overflow:hidden;margin-bottom:6px}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4ade80,#22c55e);transition:width .5s ease}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.lines[_ngcontent-%COMP%]{background:linear-gradient(90deg,#60a5fa,#3b82f6)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.curves[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a78bfa,#8b5cf6)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.rectangles[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f472b6,#ec4899)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fbbf24,#f59e0b)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-bar[_ngcontent-%COMP%]   .bar-fill.stroke[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fb923c,#f97316)}.vector-detail-modal[_ngcontent-%COMP%]   .vector-item[_ngcontent-%COMP%]   .vector-item-desc[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary, #6c757d);font-style:italic}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:24px}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);padding:16px;text-align:center;border:1px solid var(--border-color)}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .stat-box-label[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--text-secondary, #6c757d);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .stat-box-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-primary)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.vector-detail-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:95%;max-height:90vh}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.vector-detail-modal[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:28px}.vector-detail-modal[_ngcontent-%COMP%]   .stats-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}}.minimap-section[_ngcontent-%COMP%]{margin-bottom:24px;background:var(--bg-secondary, #f8f9fa);padding:16px;border:1px solid var(--border-color)}.minimap-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 12px}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{background:var(--bg-secondary, #f8f9fa);border:1px solid var(--border-color);padding:6px 12px;color:var(--text-primary);font-size:12px;font-weight:600;cursor:pointer;transition:all .2s ease;min-width:40px}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e9ecef);transform:translateY(-2px)}.minimap-section[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-btn.active[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff;border-color:var(--primary-color, #007bff);box-shadow:0 0 12px #007bff4d}.minimap-section[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{margin-bottom:12px}.minimap-section[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .single-page-label[_ngcontent-%COMP%]{display:inline-block;background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:6px;padding:6px 12px;color:#fff;font-size:12px;font-weight:600}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;padding:12px;box-shadow:0 4px 12px #0003}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#667eeacc}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;border:3px solid rgba(102,126,234,.3);border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:12px}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:500}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-wrapper[_ngcontent-%COMP%]     svg{max-width:100%;height:auto;border-radius:4px;box-shadow:0 2px 8px #0000001a}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:#667eeaf2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:6px 14px;color:#fff;font-size:11px;font-weight:600;display:flex;align-items:center;gap:6px;box-shadow:0 2px 8px #0003}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{font-size:14px;line-height:1}.debug-log-box[_ngcontent-%COMP%]{position:relative;background:#1e1e1e;border:1px solid #3a3a3a;border-radius:8px;padding:16px;margin-top:12px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]{color:#d4d4d4;font-family:Courier New,Consolas,monospace;font-size:11px;line-height:1.6;white-space:pre-wrap;word-break:break-all;-webkit-user-select:text;user-select:text;margin:0;max-height:300px;overflow-y:auto;padding:12px;background:#252526;border-radius:4px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e1e1e;border-radius:4px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#424242;border-radius:4px}.debug-log-box[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4a4a4a}.debug-log-box[_ngcontent-%COMP%]   .btn-copy-debug[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#007acc;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:11px;font-weight:600;cursor:pointer;transition:all .2s ease;z-index:10}.debug-log-box[_ngcontent-%COMP%]   .btn-copy-debug[_ngcontent-%COMP%]:hover{background:#005a9e;transform:translateY(-1px);box-shadow:0 2px 8px #007acc4d}.debug-log-box[_ngcontent-%COMP%]   .btn-copy-debug[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]{top:12px;right:12px}.minimap-section[_ngcontent-%COMP%]   .minimap-container[_ngcontent-%COMP%]   .minimap-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{padding:4px 10px;font-size:10px}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.text-modal[_ngcontent-%COMP%]{max-width:700px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto;padding:8px;background:#0000000d;border-radius:8px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#fff;border-radius:6px;border:1px solid #e0e0e0;transition:all .2s ease}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a;transform:translate(4px)}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]   .font-index[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:11px;font-weight:700;border-radius:50%;flex-shrink:0}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   .font-item[_ngcontent-%COMP%]   .font-name[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500;color:#1e293b;word-break:break-all;font-family:monospace;letter-spacing:-.5px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-height:400px;overflow-y:auto;padding:8px;background:#00000005;border-radius:8px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fff;border-radius:8px;border:1px solid #e5e7eb;transition:all .2s ease}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a;transform:translate(4px)}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-sample[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:2px solid #e5e7eb;box-shadow:0 2px 4px #0000001a;flex-shrink:0;transition:all .2s ease}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-sample[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #00000026}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-info[_ngcontent-%COMP%]{flex:1;min-width:0}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-info[_ngcontent-%COMP%]   .color-code[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#1e293b;font-family:Courier New,monospace;letter-spacing:.5px;text-transform:uppercase}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-info[_ngcontent-%COMP%]   .color-usage[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin-top:2px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-bar-wrapper[_ngcontent-%COMP%]{width:80px;height:6px;background:#e5e7eb;border-radius:3px;overflow:hidden;flex-shrink:0}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]   .color-bar-wrapper[_ngcontent-%COMP%]   .color-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#2563eb);border-radius:3px;transition:width .5s ease}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.text-modal[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.text-modal[_ngcontent-%COMP%]   .bar-fill.korean[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.text-modal[_ngcontent-%COMP%]   .bar-fill.english[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669)}.text-modal[_ngcontent-%COMP%]   .bar-fill.mixed[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#d97706)}.text-modal[_ngcontent-%COMP%]   .bar-fill.numbers[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.combined-analysis[_ngcontent-%COMP%]{transition:all .3s ease;background:transparent;border:2px solid rgba(255,255,255,.2)}.combined-analysis.has-both[_ngcontent-%COMP%]{border-color:#667eea}.combined-analysis.has-both[_ngcontent-%COMP%]:hover{border-color:#5568d3;background:#667eea1a;transform:translateY(-2px)}.combined-analysis.text-only[_ngcontent-%COMP%]{border-color:#3b82f6}.combined-analysis.text-only[_ngcontent-%COMP%]:hover{border-color:#2563eb;background:#3b82f61a;transform:translateY(-2px)}.combined-analysis.vector-only[_ngcontent-%COMP%]{border-color:#10b981}.combined-analysis.vector-only[_ngcontent-%COMP%]:hover{border-color:#059669;background:#10b9811a;transform:translateY(-2px)}.combined-modal[_ngcontent-%COMP%]{max-width:900px;max-height:90vh;overflow-y:auto}.combined-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.combined-modal[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b;margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid #e2e8f0;display:flex;align-items:center;gap:8px}.combined-modal[_ngcontent-%COMP%]   .comparison-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px;background:#f8fafc;border-radius:8px}.combined-modal[_ngcontent-%COMP%]   .comparison-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.combined-modal[_ngcontent-%COMP%]   .comparison-label[_ngcontent-%COMP%]{min-width:120px;display:flex;align-items:center;gap:6px;font-size:14px;font-weight:500;color:#475569}.combined-modal[_ngcontent-%COMP%]   .comparison-label[_ngcontent-%COMP%]   .comparison-icon[_ngcontent-%COMP%]{font-size:18px}.combined-modal[_ngcontent-%COMP%]   .comparison-bar-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#e2e8f0;border-radius:6px;height:32px;overflow:hidden}.combined-modal[_ngcontent-%COMP%]   .comparison-bar[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;transition:width .5s ease;border-radius:6px}.combined-modal[_ngcontent-%COMP%]   .comparison-bar.vector-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669)}.combined-modal[_ngcontent-%COMP%]   .comparison-bar.text-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.combined-modal[_ngcontent-%COMP%]   .comparison-bar[_ngcontent-%COMP%]   .comparison-value[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2)}.combined-modal[_ngcontent-%COMP%]   .comparison-count[_ngcontent-%COMP%]{min-width:100px;text-align:right;font-size:13px;color:#64748b}.combined-modal[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]{margin-top:12px;padding:12px 16px;background:#fff;border-left:4px solid #667eea;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.combined-modal[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}.combined-modal[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0000001a}.combined-modal[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.combined-modal[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.combined-modal[_ngcontent-%COMP%]   .action-btn.vector-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.combined-modal[_ngcontent-%COMP%]   .action-btn.vector-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857)}.combined-modal[_ngcontent-%COMP%]   .action-btn.text-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.combined-modal[_ngcontent-%COMP%]   .action-btn.text-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8)}.combined-modal[_ngcontent-%COMP%]   .action-btn.create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.combined-modal[_ngcontent-%COMP%]   .action-btn.create-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5568d3,#653a8a)}.combined-modal[_ngcontent-%COMP%]   .action-btn.combined-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid #f59e0b;color:#f59e0b;font-weight:600}.combined-modal[_ngcontent-%COMP%]   .action-btn.combined-btn[_ngcontent-%COMP%]:hover{background:#f99e0b1a;border-color:#d97706;color:#d97706}.combined-modal[_ngcontent-%COMP%]   .action-btn.export-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600;border:none}.combined-modal[_ngcontent-%COMP%]   .action-btn.export-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857)}.combined-modal[_ngcontent-%COMP%]   .action-btn.export-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f8fafc;border-radius:8px;margin-bottom:16px}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#475569;font-size:14px}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-select[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:2px solid #e2e8f0;border-radius:6px;font-size:14px;background:#fff;color:#1e293b;cursor:pointer;transition:all .2s ease}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-select[_ngcontent-%COMP%]:hover{border-color:#3b82f6}.combined-modal[_ngcontent-%COMP%]   .page-selector[_ngcontent-%COMP%]   .page-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:500px;overflow-y:auto;padding:4px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .text-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e2e8f0;border-radius:8px;padding:12px;transition:all .2s ease}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translateY(-1px)}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid #f1f5f9}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-index[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;background:#f1f5f9;padding:4px 8px;border-radius:4px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-small[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:4px;border:2px solid #e2e8f0;box-shadow:0 2px 4px #0000001a;cursor:pointer;transition:transform .2s ease}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-small[_ngcontent-%COMP%]:hover{transform:scale(1.2);box-shadow:0 4px 8px #0003}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-large[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;box-shadow:0 2px 8px #00000026;cursor:pointer;transition:all .3s ease;flex-shrink:0}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-sample-large[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #00000040}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-info-text[_ngcontent-%COMP%]   .color-hex-label[_ngcontent-%COMP%]{font-size:11px;color:#888;font-weight:500}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-info-text[_ngcontent-%COMP%]   .color-hex[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:600;color:#333;font-size:13px}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-header[_ngcontent-%COMP%]   .text-item-color-info[_ngcontent-%COMP%]   .color-hex[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:12px;font-weight:600;color:#475569;background:#f8fafc;padding:4px 8px;border-radius:4px;border:1px solid #e2e8f0}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-content[_ngcontent-%COMP%]{font-size:16px;line-height:1.7;margin-bottom:10px;padding:18px;border-radius:8px;word-break:break-word;border:2px solid var(--border-color, #e2e8f0);min-height:65px;display:flex;align-items:center;justify-content:flex-start;box-shadow:inset 0 2px 4px #0000000f,0 1px 3px #00000014;font-weight:600;text-align:left;white-space:pre-wrap;transition:all .2s ease;position:relative;overflow:hidden}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-content[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;opacity:.03;pointer-events:none;background-image:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(0,0,0,.02) 10px,rgba(0,0,0,.02) 20px)}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-content[_ngcontent-%COMP%]:hover{box-shadow:inset 0 2px 8px #0000001a,0 4px 12px #00000026;transform:scale(1.02);border-color:#3b82f6}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;font-size:11px;color:#64748b}.combined-modal[_ngcontent-%COMP%]   .text-item-card[_ngcontent-%COMP%]   .text-item-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 8px;background:#f1f5f9;border-radius:4px;border:1px solid #e2e8f0}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:16px;padding:16px;background:#f8fafc;border-radius:8px}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]{padding:8px 16px;background:#fff;border:2px solid #e2e8f0;border-radius:6px;font-size:14px;font-weight:600;color:#475569;cursor:pointer;transition:all .2s ease}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background:#3b82f6;border-color:#3b82f6;color:#fff;transform:translateY(-1px);box-shadow:0 4px 8px #3b82f633}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.combined-modal[_ngcontent-%COMP%]   .text-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#475569;padding:8px 16px;background:#fff;border-radius:6px;border:2px solid #e2e8f0}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:5px}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:5px}.combined-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:var(--bg-secondary, #f8f9fa);border-radius:8px;border:1px solid var(--border-color)}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid var(--border-color)}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-number-badge[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--primary-color);background:linear-gradient(135deg,#dbeafe,#bfdbfe);padding:6px 12px;border-radius:6px}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-image-count[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);font-weight:600}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:.75rem;transition:all .2s ease}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-thumbnail[_ngcontent-%COMP%]{width:100%;height:150px;display:flex;align-items:center;justify-content:center;background:#f1f5f9;border-radius:6px;margin-bottom:.75rem;overflow:hidden}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:100%;height:150px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);border-radius:6px;margin-bottom:.75rem;border:2px dashed #cbd5e1}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:.5rem;opacity:.5}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-weight:500}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--text-primary);margin-bottom:.5rem;word-break:break-all}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   .image-detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   .image-detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}.image-modal[_ngcontent-%COMP%]   .page-images[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   .image-detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:500}.image-modal[_ngcontent-%COMP%]   .bar-fill.xobject[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.image-modal[_ngcontent-%COMP%]   .bar-fill.inline[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.stat-card.image-info[_ngcontent-%COMP%]{border-left:4px solid #a855f7}.stat-card.image-info.empty[_ngcontent-%COMP%]{opacity:.6;border-left-color:#cbd5e1}.stat-card.image-info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:32px}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-export[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-export[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-2px);box-shadow:0 4px 12px #3b82f64d}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-download[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-download[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#6d28d9);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf64d}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.pdf-generation-section[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:2px solid #3b82f6;border-radius:8px}.pdf-generation-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#1e40af;margin-bottom:12px;display:flex;align-items:center;gap:6px}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px 8px;border:2px solid transparent;border-radius:8px;background:#fff;cursor:pointer;transition:all .3s ease;font-family:inherit;position:relative}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:24px;line-height:1}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;text-align:center;line-height:1.2}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]   .btn-badge[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background:#fbbf24;color:#78350f;font-size:9px;font-weight:700;padding:2px 6px;border-radius:10px}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 16px #00000026}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.recommended[_ngcontent-%COMP%]{border-color:#fbbf24;background:linear-gradient(135deg,#fef3c7,#fde68a)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.recommended[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#78350f}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.recommended[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#f59e0b;background:linear-gradient(135deg,#fde68a,#fcd34d);box-shadow:0 6px 20px #f59e0b66}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.combined[_ngcontent-%COMP%]{border-color:#8b5cf6;background:linear-gradient(135deg,#f3e8ff,#e9d5ff)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.combined[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#6b21a8}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.combined[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#7c3aed;background:linear-gradient(135deg,#e9d5ff,#d8b4fe);box-shadow:0 6px 20px #8b5cf666}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.vector[_ngcontent-%COMP%]{border-color:#3b82f6;background:linear-gradient(135deg,#dbeafe,#bfdbfe)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.vector[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#1e40af}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.vector[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#2563eb;background:linear-gradient(135deg,#bfdbfe,#93c5fd);box-shadow:0 6px 20px #3b82f666}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.text[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.text[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#065f46}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.text[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#059669;background:linear-gradient(135deg,#a7f3d0,#6ee7b7);box-shadow:0 6px 20px #10b98166}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.image[_ngcontent-%COMP%]{border-color:#f59e0b;background:linear-gradient(135deg,#fed7aa,#fdba74)}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.image[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#92400e}.pdf-generation-section[_ngcontent-%COMP%]   .pdf-btn.image[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#d97706;background:linear-gradient(135deg,#fdba74,#fb923c);box-shadow:0 6px 20px #f59e0b66}']})};var Xt=class l{dbName="EzReaderDB";dbVersion=1;db=null;constructor(){this.initDB()}initDB(){return V(this,null,function*(){return new Promise((e,t)=>{let o=indexedDB.open(this.dbName,this.dbVersion);o.onerror=()=>{console.error("IndexedDB \uC5F4\uAE30 \uC2E4\uD328:",o.error),this.db=null,t(o.error)},o.onsuccess=()=>{this.db=o.result,this.db.onclose=()=>{console.warn("IndexedDB \uC5F0\uACB0\uC774 \uB2EB\uD798"),this.db=null},this.db.onerror=n=>{console.error("IndexedDB \uC624\uB958:",n)},console.log("IndexedDB \uC5F0\uACB0 \uC131\uACF5"),e(o.result)},o.onupgradeneeded=n=>{let a=n.target.result;if(!a.objectStoreNames.contains("documents")){let d=a.createObjectStore("documents",{keyPath:"id"});d.createIndex("title","title",{unique:!1}),d.createIndex("createdAt","createdAt",{unique:!1}),d.createIndex("updatedAt","updatedAt",{unique:!1}),console.log("documents \uC800\uC7A5\uC18C \uC0DD\uC131\uB428")}a.objectStoreNames.contains("settings")||(a.createObjectStore("settings",{keyPath:"key"}),console.log("settings \uC800\uC7A5\uC18C \uC0DD\uC131\uB428"))}})})}getDB(){return V(this,null,function*(){return this.db&&!this.db.objectStoreNames.length&&(this.db=null),this.db?this.db:yield this.initDB()})}saveDocument(e){return V(this,null,function*(){try{let o=(yield this.getDB()).transaction(["documents"],"readwrite"),n=o.objectStore("documents"),a=n.get(e.id);return new Promise((d,p)=>{o.oncomplete=()=>{console.log("\uBB38\uC11C \uC800\uC7A5 \uD2B8\uB79C\uC7AD\uC158 \uC644\uB8CC:",e.title),d()},o.onerror=()=>{console.error("\uD2B8\uB79C\uC7AD\uC158 \uC624\uB958:",o.error),p(o.error)},o.onabort=()=>{console.error("\uD2B8\uB79C\uC7AD\uC158 \uC911\uB2E8:",o.error),p(new Error("\uD2B8\uB79C\uC7AD\uC158\uC774 \uC911\uB2E8\uB418\uC5C8\uC2B5\uB2C8\uB2E4"))},a.onsuccess=()=>{let m=a.result;if(m)e.createdAt=m.createdAt,e.updatedAt=new Date().toISOString();else{let h=new Date().toISOString();e.createdAt=h,e.updatedAt=h}let u=n.put(e);u.onerror=()=>{console.error("\uBB38\uC11C \uC800\uC7A5 \uC2E4\uD328:",u.error),p(u.error)}},a.onerror=()=>{console.error("\uAE30\uC874 \uBB38\uC11C \uC870\uD68C \uC2E4\uD328:",a.error),p(a.error)}})}catch(t){throw console.error("\uBB38\uC11C \uC800\uC7A5 \uC911 \uC624\uB958:",t),t}})}getAllDocuments(){return V(this,null,function*(){try{let n=(yield this.getDB()).transaction(["documents"],"readonly").objectStore("documents").index("updatedAt");return new Promise((a,d)=>{let p=n.openCursor(null,"prev"),m=[];p.onsuccess=()=>{let u=p.result;u?(m.push(u.value),u.continue()):(console.log("\uBB38\uC11C \uBAA9\uB85D \uC870\uD68C \uC644\uB8CC:",m.length,"\uAC1C"),a(m))},p.onerror=()=>{console.error("\uBB38\uC11C \uBAA9\uB85D \uC870\uD68C \uC2E4\uD328:",p.error),d(p.error)}})}catch(e){return console.error("\uBB38\uC11C \uBAA9\uB85D \uC870\uD68C \uC911 \uC624\uB958:",e),[]}})}getDocumentById(e){return V(this,null,function*(){try{let n=(yield this.getDB()).transaction(["documents"],"readonly").objectStore("documents");return new Promise((a,d)=>{let p=n.get(e);p.onsuccess=()=>{a(p.result||null)},p.onerror=()=>{console.error("\uBB38\uC11C \uC870\uD68C \uC2E4\uD328:",p.error),d(p.error)}})}catch(t){return console.error("\uBB38\uC11C \uC870\uD68C \uC911 \uC624\uB958:",t),null}})}deleteDocument(e){return V(this,null,function*(){try{let n=(yield this.getDB()).transaction(["documents"],"readwrite").objectStore("documents");return new Promise((a,d)=>{let p=n.delete(e);p.onsuccess=()=>{console.log("\uBB38\uC11C \uC0AD\uC81C \uC131\uACF5:",e),a()},p.onerror=()=>{console.error("\uBB38\uC11C \uC0AD\uC81C \uC2E4\uD328:",p.error),d(p.error)}})}catch(t){throw console.error("\uBB38\uC11C \uC0AD\uC81C \uC911 \uC624\uB958:",t),t}})}searchDocumentsByTitle(e){return V(this,null,function*(){try{let a=(yield this.getDB()).transaction(["documents"],"readonly").objectStore("documents").index("title");return new Promise((d,p)=>{let m=a.openCursor(IDBKeyRange.bound(e,e+"\uFFFF")),u=[];m.onsuccess=()=>{let h=m.result;h?(h.value.title.toLowerCase().includes(e.toLowerCase())&&u.push(h.value),h.continue()):d(u)},m.onerror=()=>{console.error("\uBB38\uC11C \uAC80\uC0C9 \uC2E4\uD328:",m.error),p(m.error)}})}catch(t){return console.error("\uBB38\uC11C \uAC80\uC0C9 \uC911 \uC624\uB958:",t),[]}})}getRecentDocuments(e=5){return V(this,null,function*(){try{return(yield this.getAllDocuments()).slice(0,e)}catch(t){return console.error("\uCD5C\uADFC \uBB38\uC11C \uC870\uD68C \uC911 \uC624\uB958:",t),[]}})}getStorageUsage(){return V(this,null,function*(){try{if("storage"in navigator&&"estimate"in navigator.storage){let e=yield navigator.storage.estimate();return{used:e.usage||0,quota:e.quota||0}}return{used:0,quota:0}}catch(e){return console.error("\uC2A4\uD1A0\uB9AC\uC9C0 \uC0AC\uC6A9\uB7C9 \uD655\uC778 \uC2E4\uD328:",e),{used:0,quota:0}}})}cleanupOldDocuments(e=20){return V(this,null,function*(){try{let t=yield this.getAllDocuments();if(t.length>e){let o=t.slice(e);for(let n of o)yield this.deleteDocument(n.id);console.log(`${o.length}\uAC1C\uC758 \uC624\uB798\uB41C \uBB38\uC11C \uC0AD\uC81C\uB428`)}}catch(t){console.error("\uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC815\uB9AC \uC911 \uC624\uB958:",t)}})}migrateFromLocalStorage(){return V(this,null,function*(){try{let e=localStorage.getItem("savedDocuments");if(e){let t=JSON.parse(e);console.log("localStorage\uC5D0\uC11C \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC2DC\uC791:",t.length,"\uAC1C \uBB38\uC11C");let o=0,n=0,a=5;for(let d=0;d<t.length;d+=a){let p=t.slice(d,d+a);for(let m of p)try{yield this.saveDocument(m),o++,console.log(`\uBB38\uC11C \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC131\uACF5: ${m.title} (${o}/${t.length})`)}catch(u){n++,console.error("\uAC1C\uBCC4 \uBB38\uC11C \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC2E4\uD328:",m.title,u)}d+a<t.length&&(yield new Promise(m=>setTimeout(m,10)))}console.log(`\uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC644\uB8CC: \uC131\uACF5 ${o}\uAC1C, \uC2E4\uD328 ${n}\uAC1C`),o>0&&(localStorage.removeItem("savedDocuments"),console.log("localStorage \uC815\uB9AC\uB428"))}else console.log("\uB9C8\uC774\uADF8\uB808\uC774\uC158\uD560 localStorage \uB370\uC774\uD130 \uC5C6\uC74C")}catch(e){throw console.error("\uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC911 \uC624\uB958:",e),e}})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=bt({token:l,factory:l.\u0275fac,providedIn:"root"})};var ge=class l{constructor(){}renderVectorGraphicsToCanvas(e,t,o=1,n){return V(this,null,function*(){console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D Canvas \uB80C\uB354\uB9C1 \uC2DC\uC791:",{pageNumber:o,options:n});let a=t.getContext("2d");if(!a)throw new Error("Canvas 2D \uCEE8\uD14D\uC2A4\uD2B8\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");t.width=n.canvasWidth,t.height=n.canvasHeight,a.clearRect(0,0,t.width,t.height),a.save();let d=n.scale||1,p=n.offsetX||0,m=n.offsetY||0;a.scale(d,d),a.translate(p,m),a.strokeStyle=n.strokeColor||"#2c3e50",a.fillStyle=n.fillColor||"transparent",a.lineWidth=n.strokeWidth||2;let u=[],h=e.pageDetails.find(y=>y.pageNumber===o);if(!h)return console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${o}\uC758 \uBCA1\uD130 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`),a.restore(),u;console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${o}: ${h.operations.length}\uAC1C \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC2DC\uC791`);let x=new Path2D,P=!1,O=0,v=0;for(let y=0;y<h.operations.length;y++){let D=h.operations[y];try{let S=this.renderSingleOperation(a,D,x,{currentX:O,currentY:v,pathStarted:P},y,o,n);S&&(u.push(S),S.coordinates.length>=2&&(O=S.coordinates[S.coordinates.length-2],v=S.coordinates[S.coordinates.length-1]),S.type==="path"&&(P=!0))}catch(S){console.error(`\u274C \uBCA1\uD130 \uC5F0\uC0B0 \uB80C\uB354\uB9C1 \uC624\uB958 [${y}]:`,D.type,S)}}return a.restore(),console.log(`\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uB80C\uB354\uB9C1 \uC644\uB8CC: ${u.length}\uAC1C \uC694\uC18C`),n.showDebugInfo&&this.drawDebugInfo(a,u,n),u})}renderSingleOperation(e,t,o,n,a,d,p){let m=t.args||[],u="",h={x:0,y:0,width:0,height:0},x=[];switch(t.type){case"moveTo":if(m.length>=2){let P=Number(m[0]),O=Number(m[1]);o.moveTo(P,O),n.currentX=P,n.currentY=O,n.pathStarted=!0,u=`M ${P} ${O}`,x=[P,O],h={x:P,y:O,width:0,height:0},p.showDebugInfo&&(e.save(),e.fillStyle="#e74c3c",e.beginPath(),e.arc(P,O,3,0,2*Math.PI),e.fill(),e.restore())}break;case"lineTo":if(m.length>=2){let P=Number(m[0]),O=Number(m[1]);o.lineTo(P,O),u=`L ${P} ${O}`,x=[n.currentX,n.currentY,P,O],h=this.calculateBoundingBox(x),p.showDebugInfo&&(e.save(),e.strokeStyle="#3498db",e.lineWidth=2,e.beginPath(),e.moveTo(n.currentX,n.currentY),e.lineTo(P,O),e.stroke(),e.restore()),n.currentX=P,n.currentY=O}break;case"curve":if(m.length>=6){let P=Number(m[0]),O=Number(m[1]),v=Number(m[2]),y=Number(m[3]),D=Number(m[4]),S=Number(m[5]);o.bezierCurveTo(P,O,v,y,D,S),u=`C ${P} ${O} ${v} ${y} ${D} ${S}`,x=[n.currentX,n.currentY,P,O,v,y,D,S],h=this.calculateBoundingBox([n.currentX,n.currentY,D,S]),n.currentX=D,n.currentY=S}break;case"rectangle":if(m.length>=4){let P=Number(m[0]),O=Number(m[1]),v=Number(m[2]),y=Number(m[3]);o.rect(P,O,v,y),u=`M ${P} ${O} L ${P+v} ${O} L ${P+v} ${O+y} L ${P} ${O+y} Z`,x=[P,O,v,y],h={x:P,y:O,width:v,height:y},p.showDebugInfo&&(e.save(),e.strokeStyle="#9b59b6",e.lineWidth=2,e.strokeRect(P,O,v,y),e.restore())}break;case"fill":return e.fill(o),{id:`fill-${a}`,type:"fill",svgPath:"",boundingBox:{x:0,y:0,width:0,height:0},style:{fill:e.fillStyle.toString()},coordinates:[],pageNumber:d};case"stroke":return e.stroke(o),{id:`stroke-${a}`,type:"stroke",svgPath:"",boundingBox:{x:0,y:0,width:0,height:0},style:{stroke:e.strokeStyle.toString(),strokeWidth:e.lineWidth},coordinates:[],pageNumber:d};case"closePath":o.closePath(),u="Z",x=[],h={x:0,y:0,width:0,height:0};break;default:return null}return!u&&t.type!=="fill"&&t.type!=="stroke"?null:{id:`${t.type}-${a}`,type:t.type,svgPath:u,boundingBox:h,style:{stroke:e.strokeStyle.toString(),fill:e.fillStyle.toString(),strokeWidth:e.lineWidth},coordinates:x,pageNumber:d}}convertVectorDataToSVG(e,t=1,o){console.log("\u{1F5BC}\uFE0F \uBCA1\uD130 \uB370\uC774\uD130 SVG \uBCC0\uD658 \uC2DC\uC791:",{pageNumber:t});let n=e.pageDetails.find(P=>P.pageNumber===t);if(!n)return console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC758 \uBCA1\uD130 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`),"";let a=o.scale||1,d=o.strokeColor||"#2c3e50",p=o.fillColor||"none",m=o.strokeWidth||2,u=`<svg width="${o.canvasWidth}" height="${o.canvasHeight}" xmlns="http://www.w3.org/2000/svg">`;u+=`<g transform="scale(${a})">`;let h="",x=!1;for(let P of n.operations){let O=P.args||[];switch(P.type){case"moveTo":O.length>=2&&(x&&(u+=`<path d="${h}" fill="${p}" stroke="${d}" stroke-width="${m}"/>`),h=`M ${O[0]} ${O[1]}`,x=!0);break;case"lineTo":O.length>=2&&x&&(h+=` L ${O[0]} ${O[1]}`);break;case"curve":O.length>=6&&x&&(h+=` C ${O[0]} ${O[1]} ${O[2]} ${O[3]} ${O[4]} ${O[5]}`);break;case"rectangle":if(O.length>=4){let v=O[0],y=O[1],D=O[2],S=O[3];u+=`<rect x="${v}" y="${y}" width="${D}" height="${S}" fill="${p}" stroke="${d}" stroke-width="${m}"/>`}break;case"closePath":x&&(h+=" Z");break}}return x&&h&&(u+=`<path d="${h}" fill="${p}" stroke="${d}" stroke-width="${m}"/>`),u+="</g></svg>",console.log("\u2705 SVG \uBCC0\uD658 \uC644\uB8CC"),u}calculateBoundingBox(e){if(e.length<2)return{x:0,y:0,width:0,height:0};let t=e[0],o=e[0],n=e[1],a=e[1];for(let d=2;d<e.length;d+=2)d+1<e.length&&(t=Math.min(t,e[d]),o=Math.max(o,e[d]),n=Math.min(n,e[d+1]),a=Math.max(a,e[d+1]));return{x:t,y:n,width:o-t,height:a-n}}drawDebugInfo(e,t,o){e.save(),e.font="12px Arial",e.fillStyle="#2c3e50",e.strokeStyle="#e74c3c",e.lineWidth=1,[`\uB80C\uB354\uB9C1\uB41C \uC694\uC18C: ${t.length}\uAC1C`,`\uACBD\uB85C: ${t.filter(a=>a.type==="path").length}\uAC1C`,`\uC120: ${t.filter(a=>a.type==="line").length}\uAC1C`,`\uACE1\uC120: ${t.filter(a=>a.type==="curve").length}\uAC1C`,`\uC0AC\uAC01\uD615: ${t.filter(a=>a.type==="rectangle").length}\uAC1C`].forEach((a,d)=>{e.fillText(a,10,20+d*20)}),t.forEach(a=>{a.boundingBox.width>0&&a.boundingBox.height>0&&e.strokeRect(a.boundingBox.x,a.boundingBox.y,a.boundingBox.width,a.boundingBox.height)}),e.restore()}static \u0275fac=function(t){return new(t||l)};static \u0275prov=bt({token:l,factory:l.\u0275fac,providedIn:"root"})};var Tt=class l{constructor(e){this.router=e;this.checkSessionExpiry()}STORAGE_KEY="docs_auth_token";SESSION_KEY="docs_session_timestamp";SESSION_DURATION=8*60*60*1e3;isAuthenticatedSubject=new Te(this.checkAuth());isAuthenticated$=this.isAuthenticatedSubject.asObservable();AUTH_HASH=this.simpleHash("admin9920");login(e,t){if(this.simpleHash(e+t)===this.AUTH_HASH){let n=Date.now().toString();return sessionStorage.setItem(this.STORAGE_KEY,"authenticated"),sessionStorage.setItem(this.SESSION_KEY,n),this.isAuthenticatedSubject.next(!0),!0}return!1}logout(){sessionStorage.removeItem(this.STORAGE_KEY),sessionStorage.removeItem(this.SESSION_KEY),this.isAuthenticatedSubject.next(!1),this.router.navigate(["/docs/login"])}isAuthenticated(){return this.checkAuth()}checkAuth(){let e=sessionStorage.getItem(this.STORAGE_KEY),t=sessionStorage.getItem(this.SESSION_KEY);if(!e||!t)return!1;let o=parseInt(t,10);return Date.now()-o>this.SESSION_DURATION?(this.logout(),!1):e==="authenticated"}checkSessionExpiry(){setInterval(()=>{!this.checkAuth()&&this.isAuthenticatedSubject.value&&this.logout()},6e4)}simpleHash(e){let t=0;for(let o=0;o<e.length;o++){let n=e.charCodeAt(o);t=(t<<5)-t+n,t=t&t}return Math.abs(t).toString(16).padStart(16,"0")}static \u0275fac=function(t){return new(t||l)(At(xt))};static \u0275prov=bt({token:l,factory:l.\u0275fac,providedIn:"root"})};function To(l,e){if(l&1){let t=F();r(0,"div",25),M("click",function(){let n=C(t).$implicit,a=g(3);return _(a.selectEditor(n.id))}),r(1,"div",26)(2,"span"),s(3),i()(),r(4,"button",27),M("click",function(n){let a=C(t).$implicit;return g(3).deleteEditor(a.id),_(n.stopPropagation())}),R(5,"i",28),i()()}if(l&2){let t=e.$implicit,o=g(3);H("active",t.id===o.activeEditorId),c(2),q("font-family",t.fontFamily)("font-size",t.fontSize,"px")("color",t.color)("font-weight",t.bold?"bold":"normal")("font-style",t.italic?"italic":"normal")("text-decoration",t.underline?"underline":"none"),c(),E(" ",t.text||"\uBE48 \uD14D\uC2A4\uD2B8"," ")}}function Ao(l,e){if(l&1&&(r(0,"div",23),B(1,To,6,15,"div",24),i()),l&2){let t=g(2);c(),f("ngForOf",t.editors)}}function Io(l,e){l&1&&(r(0,"div",29)(1,"p"),s(2,"\uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uC0C8 \uD14D\uC2A4\uD2B8\uB97C \uCD94\uAC00\uD574\uBCF4\uC138\uC694."),i()())}function Vo(l,e){if(l&1&&(r(0,"option",47),s(1),i()),l&2){let t=e.$implicit;f("value",t),c(),T(t)}}function Fo(l,e){if(l&1&&(r(0,"option",47),s(1),i()),l&2){let t=e.$implicit;f("value",t),c(),E("",t,"px")}}function $o(l,e){if(l&1){let t=F();r(0,"div",30)(1,"div",8)(2,"h4"),s(3,"\uD14D\uC2A4\uD2B8 \uC18D\uC131"),i()(),r(4,"div",31)(5,"label"),s(6,"\uD14D\uC2A4\uD2B8 \uB0B4\uC6A9"),i(),r(7,"textarea",32),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedEditor.text,n)||(a.selectedEditor.text=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.onTextChange(n))}),i()(),r(8,"div",33)(9,"div",34)(10,"label"),s(11,"\uD3F0\uD2B8"),i(),r(12,"select",35),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedEditor.fontFamily,n)||(a.selectedEditor.fontFamily=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.onFontFamilyChange(n))}),B(13,Vo,2,2,"option",36),i()(),r(14,"div",34)(15,"label"),s(16,"\uD06C\uAE30"),i(),r(17,"select",35),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedEditor.fontSize,n)||(a.selectedEditor.fontSize=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.onFontSizeChange(n))}),B(18,Fo,2,2,"option",36),i()()(),r(19,"div",31)(20,"label"),s(21,"\uC0C9\uC0C1"),i(),r(22,"div",37)(23,"input",38),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedEditor.color,n)||(a.selectedEditor.color=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.onColorChange(n))}),i(),r(24,"input",39),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedEditor.color,n)||(a.selectedEditor.color=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.onColorChange(n))}),i()()(),r(25,"div",31)(26,"label"),s(27,"\uC2A4\uD0C0\uC77C"),i(),r(28,"div",40)(29,"button",41),M("click",function(){C(t);let n=g(2);return _(n.toggleBold())}),R(30,"i",42),i(),r(31,"button",41),M("click",function(){C(t);let n=g(2);return _(n.toggleItalic())}),R(32,"i",43),i(),r(33,"button",41),M("click",function(){C(t);let n=g(2);return _(n.toggleUnderline())}),R(34,"i",44),i()()(),r(35,"div",33)(36,"div",34)(37,"label"),s(38),lt(39,"number"),i(),r(40,"input",45),M("input",function(n){C(t);let a=g(2);return _(a.onOpacityChange(+n.target.value))}),i()(),r(41,"div",34)(42,"label"),s(43),i(),r(44,"input",46),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.selectedEditor.rotation,n)||(a.selectedEditor.rotation=n),_(n)}),M("ngModelChange",function(n){C(t);let a=g(2);return _(a.onRotationChange(n))}),i()()()()}if(l&2){let t=g(2);c(7),N("ngModel",t.selectedEditor.text),c(5),N("ngModel",t.selectedEditor.fontFamily),c(),f("ngForOf",t.fontFamilies),c(4),N("ngModel",t.selectedEditor.fontSize),c(),f("ngForOf",t.fontSizes),c(5),N("ngModel",t.selectedEditor.color),c(),N("ngModel",t.selectedEditor.color),c(5),H("active",t.selectedEditor.bold),c(2),H("active",t.selectedEditor.italic),c(2),H("active",t.selectedEditor.underline),c(5),E("\uD22C\uBA85\uB3C4: ",oe(39,17,t.selectedEditor.opacity*100,"1.0-0"),"%"),c(2),f("value",t.selectedEditor.opacity*100),c(3),E("\uD68C\uC804: ",t.selectedEditor.rotation,"\xB0"),c(),N("ngModel",t.selectedEditor.rotation)}}function zo(l,e){l&1&&(r(0,"div",48)(1,"p"),s(2,"\uD14D\uC2A4\uD2B8\uB97C \uC120\uD0DD\uD558\uC5EC \uC18D\uC131\uC744 \uD3B8\uC9D1\uD558\uC138\uC694."),i()())}function Go(l,e){if(l&1){let t=F();r(0,"div",1),M("click",function(){C(t);let n=g();return _(n.onClose())}),r(1,"div",2),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",3)(3,"h3"),s(4,"\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30"),i(),r(5,"button",4),M("click",function(){C(t);let n=g();return _(n.onClose())}),R(6,"i",5),i()(),r(7,"div",6)(8,"div",7)(9,"div",8)(10,"h4"),s(11,"\uD14D\uC2A4\uD2B8 \uBAA9\uB85D"),i(),r(12,"button",9),M("click",function(){C(t);let n=g();return _(n.addTextEditor())}),R(13,"i",10),s(14," \uCD94\uAC00 "),i()(),B(15,Ao,2,1,"div",11)(16,Io,3,0,"div",12),i(),B(17,$o,45,20,"div",13)(18,zo,3,0,"div",14),i(),r(19,"div",15)(20,"div",16)(21,"button",17),M("click",function(){C(t);let n=g();return _(n.clearAllEditors())}),R(22,"i",18),s(23," \uBAA8\uB450 \uC0AD\uC81C "),i()(),r(24,"div",19)(25,"button",20),M("click",function(){C(t);let n=g();return _(n.onClose())}),s(26,"\uCDE8\uC18C"),i(),r(27,"button",21),M("click",function(){C(t);let n=g();return _(n.applyTextsToDocument())}),R(28,"i",22),s(29," \uC801\uC6A9 "),i()()()()()}if(l&2){let t=g();c(15),f("ngIf",t.editors.length>0),c(),f("ngIf",t.editors.length===0),c(),f("ngIf",t.selectedEditor),c(),f("ngIf",!t.selectedEditor&&t.editors.length>0),c(3),f("disabled",t.editors.length===0),c(6),f("disabled",t.editors.length===0)}}var pe=class l{isVisible=!1;editors=[];activeEditorId=null;editorsChanged=new L;activeEditorChanged=new L;applyTexts=new L;visibilityChanged=new L;selectedEditor=null;fontFamilies=["Arial","Arial Black","Times New Roman","Courier New","Helvetica","Georgia","Verdana","Comic Sans MS"];fontSizes=[8,9,10,11,12,14,16,18,20,22,24,28,32,36,48,72];constructor(){}ngOnInit(){}ngOnChanges(){this.activeEditorId?this.selectedEditor=this.editors.find(e=>e.id===this.activeEditorId)||null:this.selectedEditor=null}onClose(){this.isVisible=!1,this.visibilityChanged.emit(!1)}addTextEditor(){let e={id:`text-editor-${Date.now()}`,x:100,y:100,text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:14,fontFamily:"Arial",color:"#000000",bold:!1,italic:!1,underline:!1,width:200,height:50,rotation:0,opacity:1,pageNumber:1},t=[...this.editors,e];this.editors=t,this.editorsChanged.emit(t),this.selectEditor(e.id)}selectEditor(e){this.activeEditorId=e,this.selectedEditor=this.editors.find(t=>t.id===e)||null,this.activeEditorChanged.emit(e)}deleteEditor(e){let t=this.editors.filter(o=>o.id!==e);this.editors=t,this.editorsChanged.emit(t),this.activeEditorId===e&&(this.activeEditorId=null,this.selectedEditor=null,this.activeEditorChanged.emit(null))}updateSelectedEditor(){if(this.selectedEditor){let e=this.editors.findIndex(t=>t.id===this.selectedEditor.id);e!==-1&&(this.editors[e]=yt({},this.selectedEditor),this.editorsChanged.emit([...this.editors]))}}onTextChange(e){this.selectedEditor&&(this.selectedEditor.text=e,this.updateSelectedEditor())}onFontSizeChange(e){this.selectedEditor&&(this.selectedEditor.fontSize=e,this.updateSelectedEditor())}onFontFamilyChange(e){this.selectedEditor&&(this.selectedEditor.fontFamily=e,this.updateSelectedEditor())}onColorChange(e){this.selectedEditor&&(this.selectedEditor.color=e,this.updateSelectedEditor())}toggleBold(){this.selectedEditor&&(this.selectedEditor.bold=!this.selectedEditor.bold,this.updateSelectedEditor())}toggleItalic(){this.selectedEditor&&(this.selectedEditor.italic=!this.selectedEditor.italic,this.updateSelectedEditor())}toggleUnderline(){this.selectedEditor&&(this.selectedEditor.underline=!this.selectedEditor.underline,this.updateSelectedEditor())}onOpacityChange(e){this.selectedEditor&&(this.selectedEditor.opacity=e/100,this.updateSelectedEditor())}onRotationChange(e){this.selectedEditor&&(this.selectedEditor.rotation=e,this.updateSelectedEditor())}applyTextsToDocument(){this.applyTexts.emit([...this.editors])}clearAllEditors(){this.editors=[],this.selectedEditor=null,this.activeEditorId=null,this.editorsChanged.emit([]),this.activeEditorChanged.emit(null)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ct({type:l,selectors:[["app-pdf-text-modifier"]],inputs:{isVisible:"isVisible",editors:"editors",activeEditorId:"activeEditorId"},outputs:{editorsChanged:"editorsChanged",activeEditorChanged:"activeEditorChanged",applyTexts:"applyTexts",visibilityChanged:"visibilityChanged"},standalone:!1,features:[Dt],decls:1,vars:1,consts:[["class","pdf-text-modifier-overlay",3,"click",4,"ngIf"],[1,"pdf-text-modifier-overlay",3,"click"],[1,"pdf-text-modifier-panel",3,"click"],[1,"panel-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"panel-content"],[1,"editors-section"],[1,"section-header"],[1,"add-btn",3,"click"],[1,"fas","fa-plus"],["class","editors-list",4,"ngIf"],["class","no-editors",4,"ngIf"],["class","properties-section",4,"ngIf"],["class","no-selection",4,"ngIf"],[1,"panel-footer"],[1,"footer-left"],[1,"clear-btn",3,"click","disabled"],[1,"fas","fa-trash-alt"],[1,"footer-right"],[1,"cancel-btn",3,"click"],[1,"apply-btn",3,"click","disabled"],[1,"fas","fa-check"],[1,"editors-list"],["class","editor-item",3,"active","click",4,"ngFor","ngForOf"],[1,"editor-item",3,"click"],[1,"editor-preview"],[1,"delete-btn",3,"click"],[1,"fas","fa-trash"],[1,"no-editors"],[1,"properties-section"],[1,"property-group"],["placeholder","\uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694","rows","3",3,"ngModelChange","ngModel"],[1,"property-row"],[1,"property-group","half"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"color-input-group"],["type","color",1,"color-input",3,"ngModelChange","ngModel"],["type","text",1,"color-text",3,"ngModelChange","ngModel"],[1,"style-buttons"],[3,"click"],[1,"fas","fa-bold"],[1,"fas","fa-italic"],[1,"fas","fa-underline"],["type","range","min","0","max","100",1,"range-input",3,"input","value"],["type","range","min","-180","max","180",1,"range-input",3,"ngModelChange","ngModel"],[3,"value"],[1,"no-selection"]],template:function(t,o){t&1&&B(0,Go,30,6,"div",0),t&2&&f("ngIf",o.isVisible)},dependencies:[_t,dt,Et,kt,vt,se,Rt,ft,Pt,re],styles:[".pdf-text-modifier-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.pdf-text-modifier-panel[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90vw;max-width:600px;max-height:80vh;display:flex;flex-direction:column}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#f8f9fa;border-radius:8px 8px 0 0}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;color:#666;font-size:16px;border-radius:4px}.panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#333}.panel-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#555}.section-header[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer}.section-header[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.section-header[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.editors-section[_ngcontent-%COMP%]{margin-bottom:24px}.editors-section[_ngcontent-%COMP%]   .editors-list[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:6px;max-height:200px;overflow-y:auto}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.editors-section[_ngcontent-%COMP%]   .editor-item.active[_ngcontent-%COMP%]{background:#e3f2fd;border-color:#2196f3}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .editor-preview[_ngcontent-%COMP%]{flex:1}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .editor-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#dc3545;padding:4px 6px;border-radius:4px;cursor:pointer;font-size:12px;opacity:.7}.editors-section[_ngcontent-%COMP%]   .editor-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{opacity:1;background:#f8d7da}.editors-section[_ngcontent-%COMP%]   .no-editors[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#666}.editors-section[_ngcontent-%COMP%]   .no-editors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:16px}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;font-weight:500;color:#555}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px;font-family:inherit}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.properties-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:60px}.properties-section[_ngcontent-%COMP%]   .property-group.half[_ngcontent-%COMP%]{width:calc(50% - 8px)}.properties-section[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:flex;gap:16px}.properties-section[_ngcontent-%COMP%]   .color-input-group[_ngcontent-%COMP%]{display:flex;gap:8px}.properties-section[_ngcontent-%COMP%]   .color-input-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:50px;height:36px;border:1px solid #ccc;border-radius:4px;cursor:pointer}.properties-section[_ngcontent-%COMP%]   .color-input-group[_ngcontent-%COMP%]   .color-text[_ngcontent-%COMP%]{flex:1}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer;transition:all .2s}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fa}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.properties-section[_ngcontent-%COMP%]   .style-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.properties-section[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%;margin-top:4px}.no-selection[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#666;background:#f8f9fa;border-radius:6px;border:1px dashed #ccc}.no-selection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.panel-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f8f9fa;border-radius:0 0 8px 8px}.panel-footer[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%], .panel-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{display:flex;gap:8px}.panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.panel-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:1px solid #dc3545}.panel-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333}.panel-footer[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.panel-footer[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:#fff;color:#666;border:1px solid #ccc}.panel-footer[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa}.panel-footer[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:1px solid #28a745}.panel-footer[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.panel-footer[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}@media (max-width: 768px){.pdf-text-modifier-panel[_ngcontent-%COMP%]{width:95vw;max-height:90vh}.property-row[_ngcontent-%COMP%]{flex-direction:column}.property-row[_ngcontent-%COMP%]   .property-group.half[_ngcontent-%COMP%]{width:100%}.panel-footer[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.panel-footer[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%], .panel-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};function Ro(l,e){l&1&&(r(0,"div",25),R(1,"div",26),i())}function No(l,e){if(l&1){let t=F();r(0,"li",27),M("click",function(){let n=C(t).$implicit,a=g();return _(a.onMenuItemClick(n))}),s(1),i()}if(l&2){let t=e.$implicit,o=g();H("active",t.active)("disabled",o.isMenuDisabled(t.name)),f("title",t.name+" \uBA54\uB274"),c(),E(" ",t.name," ")}}function Wo(l,e){if(l&1&&(r(0,"span",34),s(1),i()),l&2){let t=g(3);H("pdf-viewer",t.documentType==="pdf-viewer")("new-document",t.documentType==="new-document"),c(),E(" ",t.documentType==="pdf-viewer"?"PDF":"\uC0C8\uBB38\uC11C"," ")}}function jo(l,e){if(l&1&&(r(0,"span",32),s(1),B(2,Wo,2,5,"span",33),i()),l&2){let t=g(2);c(),E(" ",t.docsTitle," "),c(),f("ngIf",t.documentType!=="empty")}}function Yo(l,e){if(l&1&&(r(0,"span",35),s(1),i()),l&2){let t=g(2);c(),T(t.getWordCountText())}}function Ho(l,e){l&1&&(r(0,"span",36),s(1,"\uC0DD\uC131 \uC911..."),i())}function Uo(l,e){if(l&1&&(r(0,"div",28),B(1,jo,3,2,"span",29)(2,Yo,2,1,"span",30)(3,Ho,2,0,"span",31),i()),l&2){let t=g();c(),f("ngIf",t.docsTitle),c(),f("ngIf",t.wordCount>0),c(),f("ngIf",t.isGenerating)}}function Xo(l,e){if(l&1&&(r(0,"span",37)(1,"b"),s(2),i(),s(3,"\uAC1C "),i()),l&2){let t=g();c(2),T(t.searchResultCount)}}var ue=class l{constructor(e,t,o){this.router=e;this.renderer=t;this.el=o}modalElement=null;activeMenu="\uD648";currentActiveMenu="\uD648";docsTitle="";documentType="empty";isGenerating=!1;wordCount=0;isSearchMode=!1;searchResults={current:0,total:0};generatedDocs="";enablePdfAnalysis=!1;menuAction=new L;menuChange=new L;toolbarAction=new L;search=new L;rightPanelToggle=new L;leftPanelToggle=new L;pdfAnalysisToggle=new L;searchQuery="";searchResultCount=null;isSearching=!1;showLogoutModal=!1;menuItems=[{name:"\uC0C8\uBB38\uC11C",active:!1},{name:"\uC800\uC7A5",active:!1},{name:"\uBD88\uB7EC\uC624\uAE30",active:!1},{name:"\uB0B4\uBCF4\uB0B4\uAE30",active:!1}];toolbarActions=[{action:"new-document",icon:"/images/btn-gnb-doc@3x.png",tooltip:"\uC0C8 \uBB38\uC11C \uC0DD\uC131"},{action:"save-document",icon:"/images/ico-save@3x.png",tooltip:"\uBB38\uC11C \uC800\uC7A5"},{action:"open-document",icon:"/images/ico-file@3x.png",tooltip:"\uBB38\uC11C \uC5F4\uAE30"},{action:"export-document",icon:"/images/btn-gnb-download@3x.png",tooltip:"\uBB38\uC11C \uB0B4\uBCF4\uB0B4\uAE30"},{action:"writing-tools",icon:"/images/btn-gnb-edit@3x.png",tooltip:"\uC791\uC131 \uB3C4\uAD6C"}];ngOnDestroy(){this.removeModalFromBody()}onMenuItemClick(e){if(!e.disabled){switch(this.menuItems.forEach(t=>t.active=!1),e.active=!0,e.name){case"\uC0C8\uBB38\uC11C":this.toolbarAction.emit("new-document");break;case"\uC800\uC7A5":this.toolbarAction.emit("save-document");break;case"\uBD88\uB7EC\uC624\uAE30":this.toolbarAction.emit("open-document");break;case"\uB0B4\uBCF4\uB0B4\uAE30":this.toolbarAction.emit("export-document");break}this.menuAction.emit({action:"menu-change",data:{menu:e.name}}),this.menuChange.emit(e.name)}}isMenuDisabled(e){return["\uC800\uC7A5","\uB0B4\uBCF4\uB0B4\uAE30"].includes(e)?!this.docsTitle&&!this.generatedDocs&&this.wordCount===0:!1}onSearchChange(e){let t;if(typeof e=="string")t=e;else{let o=e.target;t=o?o.value:""}this.searchQuery=t,this.search.emit(t),t.trim()?(this.isSearching=!0,setTimeout(()=>{let o=t.length>0?Math.floor(Math.random()*10)+1:0;this.searchResultCount=o,this.isSearching=!1},800)):(this.searchResultCount=null,this.isSearching=!1)}onSearchEnter(){this.searchQuery.trim()&&this.search.emit(this.searchQuery)}getWordCountText(){return this.wordCount===0?"":`${this.wordCount.toLocaleString()}\uC790`}onFileSelected(e){let t=e.target.files[0];t&&(this.toolbarAction.emit("file-selected"),this.menuAction.emit({action:"file-selected",data:{file:t}}))}onToolbarClick(e){this.toolbarActions.find(o=>o.action===e)?.disabled||this.toolbarAction.emit(e)}onPdfAnalysisToggle(){this.pdfAnalysisToggle.emit(!this.enablePdfAnalysis)}onMenuClick(e){let t=this.menuItems.find(o=>o.name===e);t&&this.onMenuItemClick(t)}onSearch(){this.onSearchEnter()}onSearchInput(e){this.onSearchChange(e)}clearSearch(){this.searchQuery="",this.searchResultCount=null,this.isSearching=!1,this.search.emit("")}openLogoutModal(){this.showLogoutModal=!0,this.createModalInBody()}closeLogoutModal(){this.showLogoutModal=!1,this.removeModalFromBody()}confirmLogout(){localStorage.removeItem("userToken"),localStorage.removeItem("userId"),sessionStorage.clear(),this.router.navigate(["/docs/login"]).then(()=>{window.location.reload()})}createModalInBody(){if(this.removeModalFromBody(),this.modalElement=this.renderer.createElement("div"),this.renderer.addClass(this.modalElement,"logout-modal-overlay"),this.modalElement){this.modalElement.innerHTML=`
        <div class="modal-backdrop"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h3>\uB85C\uADF8\uC544\uC6C3</h3>
          </div>
          <div class="modal-body">
            <p>\uC815\uB9D0 \uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?</p>
            <p class="modal-description">\uC800\uC7A5\uD558\uC9C0 \uC54A\uC740 \uC791\uC5C5 \uB0B4\uC6A9\uC774 \uC788\uB2E4\uBA74 \uC800\uC7A5 \uD6C4 \uB85C\uADF8\uC544\uC6C3\uD574\uC8FC\uC138\uC694.</p>
          </div>
          <div class="modal-footer">
            <button class="btn-cancel">\uCDE8\uC18C</button>
            <button class="btn-confirm">\uB85C\uADF8\uC544\uC6C3</button>
          </div>
        </div>
      `;let e=this.modalElement.querySelector(".modal-backdrop"),t=this.modalElement.querySelector(".btn-cancel"),o=this.modalElement.querySelector(".btn-confirm");e&&this.renderer.listen(e,"click",()=>this.closeLogoutModal()),t&&this.renderer.listen(t,"click",()=>this.closeLogoutModal()),o&&this.renderer.listen(o,"click",()=>this.confirmLogout()),this.renderer.appendChild(document.body,this.modalElement)}}removeModalFromBody(){this.modalElement&&(this.renderer.removeChild(document.body,this.modalElement),this.modalElement=null)}static \u0275fac=function(t){return new(t||l)(it(xt),it(ee),it(Ae))};static \u0275cmp=ct({type:l,selectors:[["app-docs-top-menu"]],inputs:{activeMenu:"activeMenu",currentActiveMenu:"currentActiveMenu",docsTitle:"docsTitle",documentType:"documentType",isGenerating:"isGenerating",wordCount:"wordCount",isSearchMode:"isSearchMode",searchResults:"searchResults",generatedDocs:"generatedDocs",enablePdfAnalysis:"enablePdfAnalysis"},outputs:{menuAction:"menuAction",menuChange:"menuChange",toolbarAction:"toolbarAction",search:"search",rightPanelToggle:"rightPanelToggle",leftPanelToggle:"leftPanelToggle",pdfAnalysisToggle:"pdfAnalysisToggle"},standalone:!1,decls:35,vars:6,consts:[["fileInput",""],["class","search-progress-bar",4,"ngIf"],[1,"top-menu-bar"],["type","file","accept",".txt,.docx,.md,.pdf",2,"display","none",3,"change"],[1,"brand"],["title","\uBA54\uB274 \uD328\uB110",1,"panel-toggle-btn","left",3,"click"],[1,"hamburger-icon"],["title","\uACE0\uAE09 \uAE30\uB2A5 \uAC1C\uBC1C \uC911 - PDF \uBD88\uB7EC\uC62C \uB54C 1\uD398\uC774\uC9C0\uB9CC \uBD84\uC11D\uD569\uB2C8\uB2E4",1,"pdf-analysis-toggle-left"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"toggle-slider"],[1,"toggle-label"],[1,"beta-badge"],[1,"menu-center"],[3,"active","disabled","title","click",4,"ngFor","ngForOf"],[1,"menu-right",2,"display","flex","align-items","center","gap","8px"],["class","docs-status",4,"ngIf"],["class","search-result-count-inline",4,"ngIf"],["type","text","placeholder","\u{1F50D} \uBB38\uC11C \uB0B4\uC6A9 \uAC80\uC0C9",1,"search-box",3,"ngModelChange","input","keydown.enter","ngModel"],["title","\uB85C\uADF8\uC544\uC6C3",1,"btn-logout",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],["title","\uBA54\uB274 \uD328\uB110",1,"panel-toggle-btn",3,"click"],[1,"search-progress-bar"],[1,"search-progress"],[3,"click","title"],[1,"docs-status"],["class","docs-title",4,"ngIf"],["class","word-count",4,"ngIf"],["class","generation-status",4,"ngIf"],[1,"docs-title"],["class","doc-type-badge",3,"pdf-viewer","new-document",4,"ngIf"],[1,"doc-type-badge"],[1,"word-count"],[1,"generation-status"],[1,"search-result-count-inline"]],template:function(t,o){if(t&1){let n=F();B(0,Ro,2,0,"div",1),r(1,"nav",2)(2,"input",3,0),M("change",function(d){return C(n),_(o.onFileSelected(d))}),i(),r(4,"div",4)(5,"button",5),M("click",function(){return C(n),_(o.leftPanelToggle.emit())}),r(6,"div",6),R(7,"span")(8,"span")(9,"span"),i()(),r(10,"div",7)(11,"label",8)(12,"input",9),M("change",function(){return C(n),_(o.onPdfAnalysisToggle())}),i(),R(13,"span",10),i(),r(14,"span",11),s(15," \uBD84\uC11D\uD558\uAE30 "),r(16,"span",12),s(17,"1\uD398\uC774\uC9C0\uB9CC"),i()()()(),r(18,"div",13)(19,"ul"),B(20,No,2,6,"li",14),i()(),r(21,"div",15),B(22,Uo,4,3,"div",16)(23,Xo,4,1,"span",17),r(24,"input",18),j("ngModelChange",function(d){return C(n),W(o.searchQuery,d)||(o.searchQuery=d),_(d)}),M("input",function(){return C(n),_(o.onSearchChange(o.searchQuery))})("keydown.enter",function(){return C(n),_(o.onSearchEnter())}),i(),r(25,"button",19),M("click",function(){return C(n),_(o.openLogoutModal())}),mt(),r(26,"svg",20),R(27,"path",21)(28,"polyline",22)(29,"line",23),i()(),Qt(),r(30,"button",24),M("click",function(){return C(n),_(o.rightPanelToggle.emit())}),r(31,"div",6),R(32,"span")(33,"span")(34,"span"),i()()()()}t&2&&(f("ngIf",o.isSearching),c(12),f("checked",o.enablePdfAnalysis),c(8),f("ngForOf",o.menuItems),c(2),f("ngIf",o.docsTitle||o.wordCount>0),c(),f("ngIf",o.searchResultCount!==null&&!o.isSearching),c(),N("ngModel",o.searchQuery))},dependencies:[_t,dt,vt,ft,Pt],styles:['.search-result-count-inline[_ngcontent-%COMP%]{font-size:15px;color:var(--text-primary);background:var(--bg-warning);border:1px solid var(--warning-color);border-radius:4px;padding:2px 8px;font-weight:500;margin-left:4px;display:inline-block;vertical-align:middle}.search-result-count[_ngcontent-%COMP%]{position:absolute;top:5px;right:24px;font-size:15px;color:var(--text-primary);background:var(--bg-warning);border:1px solid var(--warning-color);border-radius:4px;padding:2px 10px;z-index:8;font-weight:500}.search-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:3px;background:transparent;z-index:1000}.search-progress[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(90deg,gold,#ffe066);animation:_ngcontent-%COMP%_search-progress-ani .7s linear infinite alternate;border-radius:2px}@keyframes _ngcontent-%COMP%_search-progress-ani{0%{opacity:.5;transform:scaleX(.2)}to{opacity:1;transform:scaleX(1)}}.top-menu-bar[_ngcontent-%COMP%]{background:var(--bg-primary);color:var(--text-primary);padding:0 16px;display:flex;align-items:center;justify-content:space-between;font-size:14px;position:relative;z-index:1000;height:48px;flex-shrink:0;margin:0;transition:all .3s ease;border-bottom:1px solid var(--border-color)}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0px;max-width:0px;flex:0 0 auto}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:8px 10px;cursor:pointer;transition:all .3s ease;color:var(--text-primary);display:flex;align-items:center;justify-content:center;height:36px;width:40px;position:relative}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 12px #667eea4d}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--primary-color)}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(-1px)}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(1px)}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:20px}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;height:2px;background:var(--text-primary);border-radius:2px;transition:all .3s ease}.brand[_ngcontent-%COMP%]   .panel-toggle-btn.left[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:70%}.menu-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:280px;justify-content:flex-end;flex:0 0 auto}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:8px 10px;cursor:pointer;transition:all .3s ease;color:var(--text-primary);display:flex;align-items:center;justify-content:center;height:36px;width:40px;position:relative}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 12px #667eea4d}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--primary-color)}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(-1px)}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:hover   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(1px)}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:20px}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;height:2px;background:var(--text-primary);border-radius:2px;transition:all .3s ease}.menu-right[_ngcontent-%COMP%]   .panel-toggle-btn[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:70%}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 0}.toolbar-menu-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary);margin-right:12px;padding:4px 10px 4px 0;letter-spacing:-.5px;transition:color .3s ease}.toolbar-menu-label.novel-menu-btn[_ngcontent-%COMP%]{cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s ease}.toolbar-menu-label.novel-menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--bg-tertiary)}.toolbar-menu-label.novel-menu-btn[_ngcontent-%COMP%]:active{background-color:var(--bg-secondary)}.toolbar-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;border-radius:6px;cursor:pointer;transition:background .15s;display:flex;align-items:center;justify-content:center;color:var(--text-primary)}.toolbar-btn[_ngcontent-%COMP%]:hover, .toolbar-btn[_ngcontent-%COMP%]:focus{background:var(--bg-tertiary)}.toolbar-btn.disabled[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;pointer-events:none}.toolbar-btn.disabled[_ngcontent-%COMP%]   .toolbar-icon[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled   .toolbar-icon[_ngcontent-%COMP%]{opacity:.5}.toolbar-icon[_ngcontent-%COMP%]{width:20px;height:20px}.menu-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:1 1 auto}.menu-center[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;gap:4px;list-style:none;margin:0;padding:0}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:color .2s;color:var(--text-primary);font-size:14px;font-weight:500;padding:0 6px;height:40px;display:flex;align-items:center;border-radius:4px 4px 0 0}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;right:0;bottom:2px;height:2px;background:var(--border-color);border-radius:1px}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{background:#ff6200}.menu-center[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#ff6200}.menu-center[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#ff6200}.menu-center[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed;pointer-events:none}.menu-center[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]:after{display:none}.menu-right[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:8px;font-size:14px;white-space:nowrap}.search-box[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:6px;padding:6px 30px 6px 8px;font-size:13px;width:180px;outline:none;transition:border-color .2s;background:var(--bg-primary);color:var(--text-primary)}.search-box[_ngcontent-%COMP%]:focus{border-color:#ff6200;box-shadow:0 0 0 2px #ff62001a}.btn-logout[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;padding:6px 10px;cursor:pointer;transition:all .2s ease;font-size:16px;display:flex;align-items:center;justify-content:center;height:32px;min-width:36px;color:var(--text-secondary)}.btn-logout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .2s ease}.btn-logout[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5;color:#dc2626;transform:translateY(-1px);box-shadow:0 2px 8px #dc262633}.btn-logout[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(2px)}.btn-logout[_ngcontent-%COMP%]:active{transform:translateY(0);background:#fecaca}.search-icon[_ngcontent-%COMP%]{position:absolute;right:28px;pointer-events:none;display:flex;align-items:center}.docs-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 8px;background:#f8f9fa;border-radius:4px;font-size:12px;margin-right:8px}.docs-status[_ngcontent-%COMP%]   .docs-title[_ngcontent-%COMP%]{font-weight:600;color:#333;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;gap:6px}.docs-status[_ngcontent-%COMP%]   .doc-type-badge[_ngcontent-%COMP%]{display:inline-block;font-size:10px;font-weight:600;padding:2px 6px;border-radius:3px;white-space:nowrap;text-transform:uppercase;letter-spacing:.3px}.docs-status[_ngcontent-%COMP%]   .doc-type-badge.pdf-viewer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;box-shadow:0 1px 3px #ee5a6f4d}.docs-status[_ngcontent-%COMP%]   .doc-type-badge.new-document[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf7,#339af0);color:#fff;box-shadow:0 1px 3px #339af04d}.docs-status[_ngcontent-%COMP%]   .word-count[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 6px;border-radius:3px;font-size:11px;font-weight:500}.docs-status[_ngcontent-%COMP%]   .generation-status[_ngcontent-%COMP%]{background:#e8f5e8;color:#2e7d32;padding:2px 6px;border-radius:3px;font-size:11px;font-weight:500;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}@media (max-width: 768px){.top-menu-bar[_ngcontent-%COMP%]{padding:0 12px;height:44px}.brand[_ngcontent-%COMP%]{margin-right:16px;font-size:18px}.toolbar[_ngcontent-%COMP%]{gap:6px;padding:6px 0}.toolbar-menu-label[_ngcontent-%COMP%]{font-size:13px;padding:3px 6px}.toolbar-btn[_ngcontent-%COMP%]{padding:3px}.toolbar-icon[_ngcontent-%COMP%]{width:18px;height:18px}.menu-center[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:2px;margin-left:-40px}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 4px;font-size:13px;height:36px}.search-box[_ngcontent-%COMP%]{width:140px;padding:5px 25px 5px 6px;font-size:12px}.docs-status[_ngcontent-%COMP%]{gap:6px;padding:3px 6px;font-size:11px}.docs-status[_ngcontent-%COMP%]   .docs-title[_ngcontent-%COMP%]{max-width:80px}}.toolbar-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-right:16px}.toolbar-group[_ngcontent-%COMP%]:last-child{margin-right:0}.modern-btn[_ngcontent-%COMP%], .text-btn[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:8px 12px;color:var(--text-primary);font-size:13px;font-weight:500;cursor:pointer;transition:all .25s ease;display:flex;align-items:center;gap:6px;position:relative;box-shadow:0 2px 4px var(--shadow)}.modern-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%], .text-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled), .text-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-tertiary);border-color:var(--text-muted);transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow)}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled), .text-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px);box-shadow:0 2px 8px var(--shadow)}.modern-btn[_ngcontent-%COMP%]:disabled, .text-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;background:var(--bg-secondary);color:var(--text-muted);box-shadow:0 1px 2px var(--shadow)}.modern-btn.save-btn.has-content[_ngcontent-%COMP%], .save-btn.has-content.text-btn[_ngcontent-%COMP%]{background:var(--bg-accent);border-color:var(--accent-color);color:var(--accent-color)}.modern-btn.save-btn.has-content[_ngcontent-%COMP%]:hover:not(:disabled), .save-btn.has-content.text-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-accent);opacity:.8}.modern-btn.save-btn[_ngcontent-%COMP%]   .save-indicator[_ngcontent-%COMP%], .save-btn.text-btn[_ngcontent-%COMP%]   .save-indicator[_ngcontent-%COMP%]{color:var(--accent-color);font-size:8px;position:absolute;top:2px;right:2px;animation:_ngcontent-%COMP%_pulse 2s infinite}.modern-btn.export-btn[_ngcontent-%COMP%]:not(:disabled), .export-btn.text-btn[_ngcontent-%COMP%]:not(:disabled){background:var(--bg-warning);border-color:var(--warning-color);color:var(--warning-color)}.modern-btn.export-btn[_ngcontent-%COMP%]:not(:disabled):hover, .export-btn.text-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:var(--bg-warning);opacity:.8}.modern-btn.settings-btn[_ngcontent-%COMP%], .settings-btn.text-btn[_ngcontent-%COMP%]{background:var(--bg-tertiary);border-color:var(--text-muted);color:var(--text-primary)}.modern-btn.settings-btn[_ngcontent-%COMP%]:hover, .settings-btn.text-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.novel-menu-btn[_ngcontent-%COMP%]{background:#ffffff26!important;border-left:3px solid #3b82f6!important}.novel-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff40!important}.pdf-analysis-toggle-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:12px;padding-left:12px;border-left:1px solid var(--border-color)}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-primary);-webkit-user-select:none;user-select:none;white-space:nowrap;display:flex;align-items:center;gap:6px}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .beta-badge[_ngcontent-%COMP%]{display:inline-block;font-size:9px;font-weight:700;padding:2px 5px;border-radius:3px;background:linear-gradient(135deg,#ffa94d,#ff922b);color:#fff;letter-spacing:.3px;box-shadow:0 1px 3px #ff922b4d;text-transform:none}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 4px #667eea80}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background:#ccc;transition:.3s;border-radius:24px}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;bottom:3px;background:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.pdf-analysis-toggle-left[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:hover{opacity:.9}.pdf-analysis-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-right:12px}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:var(--text-secondary);-webkit-user-select:none;user-select:none}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 4px #667eea80}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background:#ccc;transition:.3s;border-radius:24px}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;bottom:3px;background:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.pdf-analysis-toggle[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:hover{opacity:.9}']})};var me=class l{constructor(e){this.router=e}docsTitle="";documentType="empty";activeMenu="\uC791\uC131";wordCount=0;isSearchMode=!1;searchResults={current:0,total:0};isGenerating=!1;generatedDocs="";enablePdfAnalysis=!1;menuChange=new L;toolbarAction=new L;search=new L;rightPanelToggle=new L;leftPanelToggle=new L;pdfAnalysisToggle=new L;onMenuChange(e){this.menuChange.emit(e)}onToolbarAction(e){this.toolbarAction.emit(e)}onSearch(e){this.search.emit(e)}onRightPanelToggle(){this.rightPanelToggle.emit()}onLeftPanelToggle(){this.leftPanelToggle.emit()}onPdfAnalysisToggle(){this.pdfAnalysisToggle.emit(!this.enablePdfAnalysis)}goToHome(){console.log("Navigate to home from Docs mode")}static \u0275fac=function(t){return new(t||l)(it(xt))};static \u0275cmp=ct({type:l,selectors:[["app-docs-header"]],inputs:{docsTitle:"docsTitle",documentType:"documentType",activeMenu:"activeMenu",wordCount:"wordCount",isSearchMode:"isSearchMode",searchResults:"searchResults",isGenerating:"isGenerating",generatedDocs:"generatedDocs",enablePdfAnalysis:"enablePdfAnalysis"},outputs:{menuChange:"menuChange",toolbarAction:"toolbarAction",search:"search",rightPanelToggle:"rightPanelToggle",leftPanelToggle:"leftPanelToggle",pdfAnalysisToggle:"pdfAnalysisToggle"},standalone:!1,decls:2,vars:9,consts:[[1,"docs-header"],[3,"menuChange","toolbarAction","search","rightPanelToggle","leftPanelToggle","pdfAnalysisToggle","activeMenu","docsTitle","documentType","wordCount","isSearchMode","searchResults","isGenerating","generatedDocs","enablePdfAnalysis"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"app-docs-top-menu",1),M("menuChange",function(a){return o.onMenuChange(a)})("toolbarAction",function(a){return o.onToolbarAction(a)})("search",function(a){return o.onSearch(a)})("rightPanelToggle",function(){return o.onRightPanelToggle()})("leftPanelToggle",function(){return o.onLeftPanelToggle()})("pdfAnalysisToggle",function(){return o.onPdfAnalysisToggle()}),i()()),t&2&&(c(),f("activeMenu",o.activeMenu)("docsTitle",o.docsTitle)("documentType",o.documentType)("wordCount",o.wordCount)("isSearchMode",o.isSearchMode)("searchResults",o.searchResults)("isGenerating",o.isGenerating)("generatedDocs",o.generatedDocs)("enablePdfAnalysis",o.enablePdfAnalysis))},dependencies:[ue],styles:[".docs-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--bg-primary);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000;box-shadow:0 2px 4px var(--shadow);width:100%;min-height:48px;transition:all .3s ease}@media (max-width: 992px){.docs-header[_ngcontent-%COMP%]{position:sticky;min-height:48px;box-shadow:0 2px 8px var(--shadow)}}@media (max-width: 768px){.docs-header[_ngcontent-%COMP%]{position:sticky;min-height:48px}.docs-header[_ngcontent-%COMP%]   app-docs-top-menu[_ngcontent-%COMP%]{width:100%;display:block}}@media (max-width: 480px){.docs-header[_ngcontent-%COMP%]{min-height:48px;box-shadow:0 1px 4px var(--shadow)}}"]})};function Jo(l,e){if(l&1&&(r(0,"div",7),s(1),i()),l&2){let t=e.$implicit;f("title",t.title),c(),E(" ",t.icon," ")}}function Zo(l,e){if(l&1){let t=F();r(0,"div",4),M("click",function(){C(t);let n=g();return _(n.onExpand())}),r(1,"div",5),B(2,Jo,2,2,"div",6),i()()}if(l&2){let t=g();c(2),f("ngForOf",t.menuGroups)}}function Qo(l,e){if(l&1){let t=F();r(0,"div",13),M("click",function(){let n=C(t).$implicit,a=g(2);return _(a.onMenuClick(n.id))}),r(1,"div",14),s(2),i(),r(3,"div",15)(4,"div",16),s(5),i(),r(6,"div",17),s(7),i()(),r(8,"div",18),s(9,"\u203A"),i()()}if(l&2){let t=e.$implicit;c(2),T(t.icon),c(3),T(t.title),c(2),E("",t.items.length,"\uAC1C \uD56D\uBAA9")}}function ti(l,e){if(l&1){let t=F();r(0,"div",8)(1,"div",9)(2,"h3"),s(3,"\uBA54\uB274"),i(),r(4,"button",10),M("click",function(){C(t);let n=g();return _(n.onClose())}),s(5,"\xD7"),i()(),r(6,"div",11),B(7,Qo,10,3,"div",12),i()()}if(l&2){let t=g();c(7),f("ngForOf",t.menuGroups)}}function ei(l,e){if(l&1&&(r(0,"div",29),s(1),i()),l&2){let t=g().$implicit;c(),T(t.description)}}function ni(l,e){if(l&1){let t=F();r(0,"div",24),M("click",function(){let n=C(t).$implicit,a=g(2);return _(a.onSubItemClick(n.id))}),r(1,"div",25)(2,"div",26),s(3),i(),B(4,ei,2,1,"div",27),i(),r(5,"div",28),s(6,"\u203A"),i()()}if(l&2){let t=e.$implicit;c(3),T(t.label),c(),f("ngIf",t.description)}}function oi(l,e){if(l&1){let t=F();r(0,"div",19)(1,"div",20)(2,"div",9)(3,"button",21),M("click",function(){C(t);let n=g();return _(n.onBack())}),s(4,"\u2039"),i(),r(5,"h3"),s(6),i(),r(7,"button",10),M("click",function(){C(t);let n=g();return _(n.onClose())}),s(8,"\xD7"),i()(),r(9,"div",22),B(10,ni,7,2,"div",23),i()()()}if(l&2){let t=g();c(6),T(t.getMenuTitle()),c(4),f("ngForOf",t.getMenuItems())}}var Ce=class l{recentWorks=[];isCollapsed=!1;menuAction=new L;close=new L;itemClick=new L;expand=new L;expandedMenuId=null;onExpand(){this.expand.emit()}menuGroups=[{id:"file",title:"\uD30C\uC77C",icon:"\u{1F4C1}",items:[{id:"new-document",label:"\uC0C8 \uBB38\uC11C",description:"\uBE48 \uBB38\uC11C \uC0DD\uC131"},{id:"open-file",label:"\uD30C\uC77C \uC5F4\uAE30",description:"PDF \uD30C\uC77C \uBD88\uB7EC\uC624\uAE30"},{id:"recent-docs",label:"\uCD5C\uADFC \uBB38\uC11C",description:"\uCD5C\uADFC \uC791\uC5C5\uD55C \uBB38\uC11C \uBAA9\uB85D"},{id:"save-document",label:"\uBB38\uC11C \uC800\uC7A5",description:"\uD604\uC7AC \uBB38\uC11C \uC800\uC7A5"}]},{id:"page-tools",title:"\uAD6C\uC870 \uAD00\uB9AC",icon:"\u{1F4D0}",items:[{id:"add-page",label:"\uD398\uC774\uC9C0 \uCD94\uAC00",description:"\uC0C8 \uD398\uC774\uC9C0 \uC0BD\uC785"},{id:"delete-page",label:"\uD398\uC774\uC9C0 \uC0AD\uC81C",description:"\uD604\uC7AC \uD398\uC774\uC9C0 \uC81C\uAC70"},{id:"rotate-page",label:"\uD398\uC774\uC9C0 \uD68C\uC804",description:"90\uB3C4 \uD68C\uC804"},{id:"reorder-pages",label:"\uD398\uC774\uC9C0 \uC7AC\uC815\uB82C",description:"\uD398\uC774\uC9C0 \uC21C\uC11C \uBCC0\uACBD"}]},{id:"export",title:"\uB0B4\uBCF4\uB0B4\uAE30",icon:"\u{1F4E4}",items:[{id:"export-pdf",label:"PDF\uB85C \uC800\uC7A5",description:"PDF \uD30C\uC77C\uB85C \uB0B4\uBCF4\uB0B4\uAE30"},{id:"export-docx",label:"DOCX\uB85C \uBCC0\uD658",description:"Word \uBB38\uC11C\uB85C \uC800\uC7A5"},{id:"export-txt",label:"TXT\uB85C \uCD94\uCD9C",description:"\uD14D\uC2A4\uD2B8\uB9CC \uCD94\uCD9C"},{id:"export-image",label:"\uC774\uBBF8\uC9C0\uB85C \uC800\uC7A5",description:"PNG/JPG\uB85C \uBCC0\uD658"}]},{id:"tools",title:"\uACE0\uAE09 \uB3C4\uAD6C",icon:"\u{1F527}",items:[{id:"merge-pdf",label:"PDF \uBCD1\uD569",description:"\uC5EC\uB7EC PDF \uD569\uCE58\uAE30"},{id:"split-pdf",label:"PDF \uBD84\uD560",description:"PDF \uD398\uC774\uC9C0 \uB098\uB204\uAE30"},{id:"compress-pdf",label:"PDF \uC555\uCD95",description:"\uD30C\uC77C \uD06C\uAE30 \uCD5C\uC801\uD654"},{id:"watermark",label:"\uC6CC\uD130\uB9C8\uD06C",description:"\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00"},{id:"password",label:"\uBE44\uBC00\uBC88\uD638 \uC124\uC815",description:"PDF \uC554\uD638\uD654"}]}];onMenuClick(e){this.expandedMenuId=this.expandedMenuId===e?null:e}onSubItemClick(e){this.menuAction.emit({type:"menu-click",menuId:e}),this.itemClick.emit({id:e})}onBack(){this.expandedMenuId=null}onClose(){this.expandedMenuId=null,this.close.emit()}getMenuTitle(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.title:""}getMenuItems(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.items:[]}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ct({type:l,selectors:[["app-docs-left-menu"]],inputs:{recentWorks:"recentWorks",isCollapsed:"isCollapsed"},outputs:{menuAction:"menuAction",close:"close",itemClick:"itemClick",expand:"expand"},standalone:!1,decls:4,vars:5,consts:[[1,"docs-left-menu"],["class","collapsed-view",3,"click",4,"ngIf"],["class","main-menu",4,"ngIf"],["class","expanded-panel",4,"ngIf"],[1,"collapsed-view",3,"click"],[1,"icon-list"],["class","menu-icon",3,"title",4,"ngFor","ngForOf"],[1,"menu-icon",3,"title"],[1,"main-menu"],[1,"panel-header"],["title","\uCD95\uC18C",1,"close-btn",3,"click"],[1,"category-list"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-icon"],[1,"category-content"],[1,"category-title"],[1,"category-count"],[1,"category-arrow"],[1,"expanded-panel"],[1,"panel-content"],[1,"back-btn",3,"click"],[1,"panel-items"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"menu-item",3,"click"],[1,"item-content"],[1,"item-label"],["class","item-description",4,"ngIf"],[1,"item-arrow"],[1,"item-description"]],template:function(t,o){t&1&&(r(0,"div",0),B(1,Zo,3,1,"div",1)(2,ti,8,1,"div",2)(3,oi,11,2,"div",3),i()),t&2&&(H("collapsed",o.isCollapsed),c(),f("ngIf",o.isCollapsed),c(),f("ngIf",!o.expandedMenuId&&!o.isCollapsed),c(),f("ngIf",o.expandedMenuId&&!o.isCollapsed))},dependencies:[_t,dt],styles:["[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%}.docs-left-menu[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:280px;z-index:1000;margin:0!important;padding:0!important;background:var(--bg-primary);border-right:1px solid var(--border-color);box-shadow:2px 0 8px var(--shadow);animation:_ngcontent-%COMP%_slideInFromLeft .3s ease-out;transition:width .3s ease}.docs-left-menu.collapsed[_ngcontent-%COMP%]{width:48px;overflow:hidden}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;height:100%;overflow-y:auto;cursor:pointer}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;padding:8px;text-align:center;transition:all .2s ease;border-radius:8px}.docs-left-menu.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);transform:scale(1.1)}.docs-left-menu[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%], .docs-left-menu[_ngcontent-%COMP%]   .expanded-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);position:sticky;top:0;z-index:10}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%], .docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:var(--text-muted);padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:var(--accent-primary);transform:translate(2px)}.docs-left-menu[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--accent-danger);transform:rotate(90deg)}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:12px}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;margin-bottom:8px;background:var(--bg-secondary);border-radius:12px;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(4px);box-shadow:0 2px 12px #00000014}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:10px}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{flex:1}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-arrow[_ngcontent-%COMP%]{font-size:24px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-left-menu[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover   .category-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]{padding:12px}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;margin-bottom:8px;background:var(--bg-secondary);border-radius:8px;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(4px);box-shadow:0 2px 8px #0000001a}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{flex:1}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.8}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-arrow[_ngcontent-%COMP%]{font-size:20px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-left-menu[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .item-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 992px){.docs-left-menu[_ngcontent-%COMP%]{width:260px}}@media (max-width: 768px){.docs-left-menu[_ngcontent-%COMP%]{width:100%;max-width:280px}}"]})};function ri(l,e){if(l&1&&(r(0,"div",7),s(1),i()),l&2){let t=e.$implicit;f("title",t.title),c(),E(" ",t.icon," ")}}function ai(l,e){if(l&1){let t=F();r(0,"div",4),M("click",function(){C(t);let n=g();return _(n.onExpand())}),r(1,"div",5),B(2,ri,2,2,"div",6),i()()}if(l&2){let t=g();c(2),f("ngForOf",t.menuGroups)}}function si(l,e){if(l&1&&(r(0,"div",21),s(1),i()),l&2){let t=g().$implicit;c(),E("",t.items.length,"\uAC1C \uD56D\uBAA9")}}function ci(l,e){if(l&1&&(r(0,"div",21),s(1),i()),l&2){let t=g(3);c(),E(" ",t.selectedElement?t.getElementTypeName(t.selectedElement.type)+" \uC120\uD0DD\uB428":"\uC120\uD0DD\uB41C \uC694\uC18C \uC5C6\uC74C"," ")}}function li(l,e){if(l&1){let t=F();r(0,"div",15),M("click",function(){let n=C(t).$implicit,a=g(2);return _(a.onMenuClick(n.id))}),r(1,"div",16),s(2),i(),r(3,"div",17)(4,"div",18),s(5),i(),B(6,si,2,1,"div",19)(7,ci,2,1,"div",19),i(),r(8,"div",20),s(9,"\u203A"),i()()}if(l&2){let t=e.$implicit,o=g(2);H("disabled",t.id==="element-properties"&&!o.selectedElement),c(2),T(t.icon),c(3),T(t.title),c(),f("ngIf",t.id!=="element-properties"),c(),f("ngIf",t.id==="element-properties")}}function di(l,e){if(l&1){let t=F();r(0,"div",8)(1,"div",9)(2,"div",10)(3,"span",11),s(4,"\u{1F6E0}\uFE0F"),i(),r(5,"h3"),s(6,"PDF \uB3C4\uAD6C"),i()(),r(7,"button",12),M("click",function(){C(t);let n=g();return _(n.onClose())}),s(8,"\xD7"),i()(),r(9,"div",13),B(10,li,10,6,"div",14),i()()}if(l&2){let t=g();c(10),f("ngForOf",t.menuGroups)}}function gi(l,e){if(l&1){let t=F();r(0,"div",30)(1,"h4"),s(2,"\uD14D\uC2A4\uD2B8"),i(),r(3,"div",31)(4,"div",36)(5,"label"),s(6,"\uB0B4\uC6A9:"),i(),r(7,"textarea",41),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("text",n))}),i()(),r(8,"div",32)(9,"label"),s(10,"\uAE00\uAF34 \uD06C\uAE30:"),i(),r(11,"input",33),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("fontSize",n))}),i(),r(12,"span",34),s(13,"px"),i()(),r(14,"div",36)(15,"label"),s(16,"\uAE00\uAF34:"),i(),r(17,"select",42),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("fontFamily",n))}),r(18,"optgroup",43)(19,"option",44),s(20,"Noto Sans KR"),i(),r(21,"option",45),s(22,"\uB098\uB214\uACE0\uB515"),i(),r(23,"option",46),s(24,"\uB098\uB214\uBC14\uB978\uACE0\uB515"),i(),r(25,"option",47),s(26,"IBM Plex Sans KR"),i(),r(27,"option",48),s(28,"\uB098\uB214\uC2A4\uD018\uC5B4"),i(),r(29,"option",49),s(30,"Black Han Sans (\uAD75\uC740\uCCB4)"),i()(),r(31,"optgroup",50)(32,"option",51),s(33,"Noto Serif KR"),i(),r(34,"option",52),s(35,"\uB098\uB214\uBA85\uC870"),i()(),r(36,"optgroup",53)(37,"option",54),s(38,"\uB098\uB214\uC190\uAE00\uC528\uD39C"),i(),r(39,"option",55),s(40,"\uB098\uB214\uC190\uAE00\uC528\uBD93"),i(),r(41,"option",56),s(42,"\uB3C4\uD604\uCCB4"),i(),r(43,"option",57),s(44,"\uC8FC\uC544\uCCB4"),i(),r(45,"option",58),s(46,"\uAC1C\uAD6C\uC7C1\uC774\uCCB4"),i(),r(47,"option",59),s(48,"\uAC10\uC790\uAF43\uCCB4"),i(),r(49,"option",60),s(50,"\uD574\uBC14\uB77C\uAE30\uCCB4"),i(),r(51,"option",61),s(52,"\uB3D9\uD574\uB3C5\uB3C4\uCCB4"),i(),r(53,"option",62),s(54,"\uD558\uC774\uBA5C\uB85C\uB514\uCCB4"),i()(),r(55,"optgroup",63)(56,"option",64),s(57,"Arial"),i(),r(58,"option",65),s(59,"Helvetica"),i(),r(60,"option",66),s(61,"Times New Roman"),i(),r(62,"option",67),s(63,"Courier New"),i(),r(64,"option",68),s(65,"Georgia"),i(),r(66,"option",69),s(67,"Verdana"),i(),r(68,"option",70),s(69,"Roboto"),i(),r(70,"option",71),s(71,"Open Sans"),i(),r(72,"option",72),s(73,"Lato"),i(),r(74,"option",73),s(75,"Montserrat"),i(),r(76,"option",74),s(77,"Poppins"),i(),r(78,"option",75),s(79,"Inter"),i(),r(80,"option",76),s(81,"Ubuntu"),i()()()(),r(82,"div",32)(83,"label"),s(84,"\uAD75\uAE30:"),i(),r(85,"select",42),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("fontWeight",n))}),r(86,"option",77),s(87,"Thin (100)"),i(),r(88,"option",78),s(89,"Extra Light (200)"),i(),r(90,"option",79),s(91,"Light (300)"),i(),r(92,"option",80),s(93,"Normal (400)"),i(),r(94,"option",81),s(95,"Medium (500)"),i(),r(96,"option",82),s(97,"Semi Bold (600)"),i(),r(98,"option",83),s(99,"Bold (700)"),i(),r(100,"option",84),s(101,"Extra Bold (800)"),i(),r(102,"option",85),s(103,"Black (900)"),i()()(),r(104,"div",32)(105,"label"),s(106,"\uC2A4\uD0C0\uC77C:"),i(),r(107,"div",37)(108,"button",86),M("click",function(){C(t);let n=g(3);return _(n.onPropertyChange("fontStyle",{target:{value:"normal"}}))}),s(109,"\uC77C\uBC18"),i(),r(110,"button",87),M("click",function(){C(t);let n=g(3);return _(n.onPropertyChange("fontStyle",{target:{value:"italic"}}))}),s(111,"\uAE30\uC6B8\uC784"),i()()(),r(112,"div",32)(113,"label"),s(114,"\uC0C9\uC0C1:"),i(),r(115,"input",88),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("color",n))}),i()(),r(116,"div",36)(117,"label"),s(118,"\uC815\uB82C:"),i(),r(119,"div",37)(120,"button",86),M("click",function(){C(t);let n=g(3);return _(n.onPropertyChange("textAlign",{target:{value:"left"}}))}),s(121,"\uC67C\uCABD"),i(),r(122,"button",86),M("click",function(){C(t);let n=g(3);return _(n.onPropertyChange("textAlign",{target:{value:"center"}}))}),s(123,"\uAC00\uC6B4\uB370"),i(),r(124,"button",86),M("click",function(){C(t);let n=g(3);return _(n.onPropertyChange("textAlign",{target:{value:"right"}}))}),s(125,"\uC624\uB978\uCABD"),i()()()()()}if(l&2){let t=g(3);c(7),f("value",t.selectedElement.text),c(4),f("value",t.selectedElement.fontSize),c(6),f("value",t.selectedElement.fontFamily),c(68),f("value",t.selectedElement.fontWeight||"normal"),c(23),H("active",!t.selectedElement.fontStyle||t.selectedElement.fontStyle==="normal"),c(2),H("active",t.selectedElement.fontStyle==="italic"),c(5),f("value",t.selectedElement.color),c(5),H("active",t.selectedElement.textAlign==="left"),c(2),H("active",t.selectedElement.textAlign==="center"),c(2),H("active",t.selectedElement.textAlign==="right")}}function pi(l,e){if(l&1){let t=F();r(0,"div",30)(1,"h4"),s(2,"\uC774\uBBF8\uC9C0"),i(),r(3,"div",31)(4,"div",32)(5,"label"),s(6,"\uD22C\uBA85\uB3C4:"),i(),r(7,"input",89),M("input",function(n){C(t);let a=g(3);return _(a.onPropertyChange("properties.opacity",n))}),i(),r(8,"span",90),s(9),i()(),r(10,"div",32)(11,"label"),s(12,"\uD68C\uC804:"),i(),r(13,"input",33),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("properties.rotation",n))}),i(),r(14,"span",34),s(15,"\xB0"),i()()()()}if(l&2){let t=g(3);c(7),f("value",(t.selectedElement.properties==null?null:t.selectedElement.properties.opacity)||1),c(2),E("",((t.selectedElement.properties==null?null:t.selectedElement.properties.opacity)||1)*100,"%"),c(4),f("value",(t.selectedElement.properties==null?null:t.selectedElement.properties.rotation)||0)}}function ui(l,e){if(l&1){let t=F();r(0,"div",30)(1,"h4"),s(2,"\uB3C4\uD615 \uC2A4\uD0C0\uC77C"),i(),r(3,"div",31)(4,"div",32)(5,"label"),s(6,"\uCC44\uC6B0\uAE30 \uC0C9\uC0C1:"),i(),r(7,"input",88),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("fillColor",n))}),i()(),r(8,"div",32)(9,"label"),s(10,"\uD14C\uB450\uB9AC \uC0C9\uC0C1:"),i(),r(11,"input",88),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("strokeColor",n))}),i()(),r(12,"div",32)(13,"label"),s(14,"\uD14C\uB450\uB9AC \uB450\uAED8:"),i(),r(15,"input",33),M("change",function(n){C(t);let a=g(3);return _(a.onPropertyChange("strokeWidth",n))}),i(),r(16,"span",34),s(17,"px"),i()()()()}if(l&2){let t=g(3);c(7),f("value",t.selectedElement.fillColor||"#000000"),c(4),f("value",t.selectedElement.strokeColor||"#000000"),c(4),f("value",t.selectedElement.strokeWidth||1)}}function mi(l,e){if(l&1){let t=F();r(0,"div",28)(1,"div",29)(2,"div",30)(3,"h4"),s(4,"\uC704\uCE58 \uBC0F \uD06C\uAE30"),i(),r(5,"div",31)(6,"div",32)(7,"label"),s(8,"X:"),i(),r(9,"input",33),M("change",function(n){C(t);let a=g(2);return _(a.onPropertyChange("x",n))}),i(),r(10,"span",34),s(11,"px"),i()(),r(12,"div",32)(13,"label"),s(14,"Y:"),i(),r(15,"input",33),M("change",function(n){C(t);let a=g(2);return _(a.onPropertyChange("y",n))}),i(),r(16,"span",34),s(17,"px"),i()(),r(18,"div",32)(19,"label"),s(20,"\uB108\uBE44:"),i(),r(21,"input",33),M("change",function(n){C(t);let a=g(2);return _(a.onPropertyChange("width",n))}),i(),r(22,"span",34),s(23,"px"),i()(),r(24,"div",32)(25,"label"),s(26,"\uB192\uC774:"),i(),r(27,"input",33),M("change",function(n){C(t);let a=g(2);return _(a.onPropertyChange("height",n))}),i(),r(28,"span",34),s(29,"px"),i()()()(),B(30,gi,126,15,"div",35)(31,pi,16,3,"div",35)(32,ui,18,3,"div",35),r(33,"div",30)(34,"h4"),s(35,"\uB808\uC774\uC5B4 \uBC0F \uD45C\uC2DC"),i(),r(36,"div",31)(37,"div",32)(38,"label"),s(39,"Z-Index:"),i(),r(40,"input",33),M("change",function(n){C(t);let a=g(2);return _(a.onPropertyChange("zIndex",n))}),i()(),r(41,"div",36)(42,"label"),s(43,"\uD45C\uC2DC:"),i(),r(44,"div",37)(45,"button",38),M("click",function(){C(t);let n=g(2);return _(n.onPropertyChange("properties.visible",{target:{value:!0}}))}),s(46,"\uBCF4\uC784"),i(),r(47,"button",38),M("click",function(){C(t);let n=g(2);return _(n.onPropertyChange("properties.visible",{target:{value:!1}}))}),s(48,"\uC228\uAE40"),i()()()()(),r(49,"div",39)(50,"button",40),M("click",function(){C(t);let n=g(2);return _(n.onDeleteElement())}),s(51," \u{1F5D1}\uFE0F \uC694\uC18C \uC0AD\uC81C "),i()()()()}if(l&2){let t=g(2);c(9),f("value",t.selectedElement.x),c(6),f("value",t.selectedElement.y),c(6),f("value",t.selectedElement.width),c(6),f("value",t.selectedElement.height),c(3),f("ngIf",t.selectedElement.type==="text"),c(),f("ngIf",t.selectedElement.type==="image"),c(),f("ngIf",t.selectedElement.type==="shape"),c(8),f("value",t.selectedElement.zIndex||0),c(5),H("active",(t.selectedElement.properties==null?null:t.selectedElement.properties.visible)!==!1),c(2),H("active",(t.selectedElement.properties==null?null:t.selectedElement.properties.visible)===!1)}}function Ci(l,e){if(l&1&&(r(0,"div",98),s(1),i()),l&2){let t=g().$implicit;c(),T(t.description)}}function _i(l,e){if(l&1){let t=F();r(0,"div",93),M("click",function(){let n=C(t).$implicit,a=g(3);return _(a.onSubItemClick(n.id))}),r(1,"div",94)(2,"div",95),s(3),i(),B(4,Ci,2,1,"div",96),i(),r(5,"div",97),s(6,"\u203A"),i()()}if(l&2){let t=e.$implicit;c(3),T(t.label),c(),f("ngIf",t.description)}}function hi(l,e){if(l&1&&(r(0,"div",91),B(1,_i,7,2,"div",92),i()),l&2){let t=g(2);c(),f("ngForOf",t.getMenuItems())}}function fi(l,e){if(l&1&&(r(0,"div",99),R(1,"div",100),r(2,"div",101),s(3,"\uD604\uC7AC \uC0C1\uD0DC"),i(),r(4,"div",102)(5,"div",103)(6,"span",104),s(7,"\uD398\uC774\uC9C0:"),i(),r(8,"span",105),s(9),i()(),r(10,"div",103)(11,"span",104),s(12,"\uC90C:"),i(),r(13,"span",105),s(14),i()()()()),l&2){let t=g(2);c(9),ht("",t.currentPage," / ",t.totalPages),c(5),E("",t.zoomLevel,"%")}}function Pi(l,e){if(l&1){let t=F();r(0,"div",22)(1,"div",23)(2,"div",9)(3,"button",24),M("click",function(){C(t);let n=g();return _(n.onBack())}),s(4,"\u2039"),i(),r(5,"h3"),s(6),i(),r(7,"button",12),M("click",function(){C(t);let n=g();return _(n.onClose())}),s(8,"\xD7"),i()(),B(9,mi,52,12,"div",25)(10,hi,2,1,"div",26)(11,fi,15,3,"div",27),i()()}if(l&2){let t=g();c(6),T(t.getMenuTitle()),c(3),f("ngIf",t.expandedMenuId==="element-properties"&&t.selectedElement),c(),f("ngIf",t.expandedMenuId!=="element-properties"),c(),f("ngIf",t.expandedMenuId==="page-control"&&t.currentPage&&t.totalPages)}}var _e=class l{constructor(e){this.cdr=e}documentData={};generatedDocs=null;wordCount=0;isGenerating=!1;selectedElement=null;currentPage=1;totalPages=1;zoomLevel=100;pdfPages=[];isPdfViewer=!1;isCollapsed=!1;sidebarAction=new L;close=new L;addText=new L;addImage=new L;addShape=new L;addSignature=new L;addWatermark=new L;addVectorPath=new L;addPage=new L;deletePage=new L;addLine=new L;expand=new L;savePdf=new L;preview=new L;undo=new L;redo=new L;zoomIn=new L;zoomOut=new L;rotatePage=new L;updateElement=new L;pageSelect=new L;deleteElement=new L;deselectElement=new L;elementPropertyChange=new L;keepOnlyFirstPage=new L;panelPosition={x:300,y:100};isDragging=!1;dragOffset={x:0,y:0};expandedMenuId=null;menuGroups=[{id:"pdf-editor",title:"PDF \uD3B8\uC9D1",icon:"\u270F\uFE0F",items:[{id:"add-text",label:"\uD14D\uC2A4\uD2B8 \uCD94\uAC00",description:"PDF\uC5D0 \uD14D\uC2A4\uD2B8 \uC0BD\uC785"},{id:"add-image",label:"\uC774\uBBF8\uC9C0 \uCD94\uAC00",description:"PDF\uC5D0 \uC774\uBBF8\uC9C0 \uC0BD\uC785"},{id:"add-shape",label:"\uB3C4\uD615 \uCD94\uAC00",description:"\uC0AC\uAC01\uD615, \uC6D0 \uB4F1 \uCD94\uAC00"},{id:"add-signature",label:"\uC11C\uBA85 \uCD94\uAC00",description:"\uC804\uC790 \uC11C\uBA85 \uC0BD\uC785"},{id:"add-watermark",label:"\uC6CC\uD130\uB9C8\uD06C",description:"\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00"},{id:"add-vector-path",label:"\uBCA1\uD130 \uD328\uC2A4",description:"\uBCA1\uD130 \uADF8\uB9AC\uAE30"}]},{id:"element-properties",title:"\uC694\uC18C \uC18D\uC131",icon:"\u2699\uFE0F",items:[]},{id:"page-control",title:"\uD398\uC774\uC9C0 \uAD00\uB9AC",icon:"\u{1F4C4}",items:[{id:"add-page",label:"\uD398\uC774\uC9C0 \uCD94\uAC00",description:"\uC0C8 \uD398\uC774\uC9C0 \uCD94\uAC00"},{id:"delete-page",label:"\uD398\uC774\uC9C0 \uC0AD\uC81C",description:"\uD604\uC7AC \uD398\uC774\uC9C0 \uC0AD\uC81C"},{id:"rotate-page",label:"\uD398\uC774\uC9C0 \uD68C\uC804",description:"\uD398\uC774\uC9C0 90\uB3C4 \uD68C\uC804"}]},{id:"experiment",title:"\uC2E4\uD5D8",icon:"\u{1F9EA}",items:[{id:"keep-only-first-page",label:"1\uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uC0AD\uC81C",description:"\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 \uD398\uC774\uC9C0 \uBAA8\uB450 \uC0AD\uC81C"}]}];ngOnChanges(e){e.currentPage&&this.cdr.detectChanges(),e.selectedElement&&(console.log("selectedElement changed in sidebar:",e.selectedElement),console.log("new selectedElement:",this.selectedElement),this.selectedElement?(this.updateElementPropertiesMenu(),this.expandedMenuId="element-properties"):this.expandedMenuId==="element-properties"&&(this.expandedMenuId=null))}updateElementPropertiesMenu(){let e=this.menuGroups.find(o=>o.id==="element-properties");if(!e||!this.selectedElement)return;let t=this.getElementTypeName(this.selectedElement.type);e.title=`${t} \uC18D\uC131`,e.icon=this.getElementIcon(this.selectedElement.type),e.items=[]}get pdfTools(){return[{action:"add-text",icon:"\u{1F4DD}",title:"\uD14D\uC2A4\uD2B8",description:"\uC0C8 \uD14D\uC2A4\uD2B8 \uC694\uC18C\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-image",icon:"\u{1F5BC}\uFE0F",title:"\uC774\uBBF8\uC9C0",description:"\uC0C8 \uC774\uBBF8\uC9C0\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-shape",icon:"\u{1F537}",title:"\uB3C4\uD615",description:"\uC0C8 \uB3C4\uD615\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-signature",icon:"\u270D\uFE0F",title:"\uC11C\uBA85",description:"\uC11C\uBA85\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-watermark",icon:"\u{1F4A7}",title:"\uC6CC\uD130\uB9C8\uD06C",description:"\uD14D\uC2A4\uD2B8 \uC6CC\uD130\uB9C8\uD06C\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"add-vector-path",icon:"\u{1F3A8}",title:"\uBCA1\uD130\uD328\uC2A4",description:"\uC77C\uB7EC\uC2A4\uD2B8\uB808\uC774\uD130 \uC2A4\uD0C0\uC77C \uBCA1\uD130 \uD328\uC2A4\uB97C \uADF8\uB9BD\uB2C8\uB2E4"},{action:"add-page",icon:"\u{1F4C4}",title:"\uD398\uC774\uC9C0+",description:"\uC0C8 \uD398\uC774\uC9C0\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4"},{action:"delete-page",icon:"\u{1F5D1}\uFE0F",title:"\uD398\uC774\uC9C0-",description:"\uD604\uC7AC \uD398\uC774\uC9C0\uB97C \uC0AD\uC81C\uD569\uB2C8\uB2E4"},{action:"zoom-in",icon:"\u{1F50D}",title:"\uD655\uB300",description:"\uD654\uBA74\uC744 \uD655\uB300\uD569\uB2C8\uB2E4"},{action:"zoom-out",icon:"\u{1F50E}",title:"\uCD95\uC18C",description:"\uD654\uBA74\uC744 \uCD95\uC18C\uD569\uB2C8\uB2E4"},{action:"rotate-page",icon:"\u{1F504}",title:"\uD68C\uC804",description:"\uD398\uC774\uC9C0\uB97C \uD68C\uC804\uD569\uB2C8\uB2E4"}]}onMenuClick(e){if(e==="element-properties"&&!this.selectedElement){console.log("\uC694\uC18C\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC544 \uC694\uC18C \uC18D\uC131 \uBA54\uB274\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4");return}this.expandedMenuId=this.expandedMenuId===e?null:e}onSubItemClick(e){console.log("\u{1F5B1}\uFE0F \uC0AC\uC774\uB4DC\uBC14 \uC544\uC774\uD15C \uD074\uB9AD:",e),this.sidebarAction.emit({type:"menu-click",menuId:e}),this.handlePdfToolAction(e)}onBack(){this.expandedMenuId==="element-properties"&&this.onDeselectElement(),this.expandedMenuId=null}onClose(){this.expandedMenuId=null,this.close.emit()}onExpand(){this.expand.emit()}getMenuTitle(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.title:""}getMenuItems(){let e=this.menuGroups.find(t=>t.id===this.expandedMenuId);return e?e.items:[]}handlePdfToolAction(e){switch(console.log("\u2699\uFE0F handlePdfToolAction \uD638\uCD9C\uB428:",e),e){case"add-text":this.addText.emit();break;case"add-image":this.addImage.emit();break;case"add-shape":this.addShape.emit();break;case"add-signature":this.addSignature.emit();break;case"add-watermark":this.addWatermark.emit();break;case"add-vector-path":this.addVectorPath.emit();break;case"add-page":this.addPage.emit();break;case"delete-page":this.deletePage.emit();break;case"zoom-in":this.zoomIn.emit();break;case"zoom-out":this.zoomOut.emit();break;case"rotate-page":this.rotatePage.emit();break;case"save-pdf":this.savePdf.emit();break;case"keep-only-first-page":console.log("\u{1F3AF} keep-only-first-page \uC774\uBCA4\uD2B8 \uBC1C\uC0DD!"),this.keepOnlyFirstPage.emit();break;default:console.log("\u26A0\uFE0F \uC54C \uC218 \uC5C6\uB294 \uC561\uC158:",e)}}onPanelClick(e){e.stopPropagation()}onDocumentClick(e){this.expandedMenuId&&(e.target.closest(".docs-right-sidebar")||(this.expandedMenuId=null))}getNoItemsMessage(e){switch(e){case"element-props":return"\uC120\uD0DD\uB41C \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4";case"pdf-tools":return"\uC0AC\uC6A9 \uAC00\uB2A5\uD55C PDF \uB3C4\uAD6C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4";case"page-list":return"\uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4";default:return"\uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"}}onGenerateFull(){this.sidebarAction.emit({type:"generate",action:"generate-full"})}onGenerateSection(){this.sidebarAction.emit({type:"generate",action:"generate-section"})}onEditDocument(){this.sidebarAction.emit({type:"document",action:"edit-document"})}onExport(e){this.sidebarAction.emit({type:"export",action:e})}onAddText(){this.addText.emit()}onAddImage(){this.addImage.emit()}onAddShape(){this.addShape.emit()}onAddVectorPath(){this.addVectorPath.emit()}onAddSignature(){this.addSignature.emit()}onAddWatermark(){this.addWatermark.emit()}onAddPage(){this.addPage.emit()}onDeletePage(){this.deletePage.emit()}onZoomIn(){this.zoomIn.emit()}onZoomOut(){this.zoomOut.emit()}onRotatePage(){this.rotatePage.emit()}onPdfToolClick(e){switch(e){case"add-text":this.onAddText();break;case"add-image":this.onAddImage();break;case"add-shape":this.onAddShape();break;case"add-vector-path":this.onAddVectorPath();break;case"add-signature":this.onAddSignature();break;case"add-watermark":this.onAddWatermark();break;case"add-page":this.onAddPage();break;case"delete-page":this.onDeletePage();break;case"zoom-in":this.onZoomIn();break;case"zoom-out":this.onZoomOut();break;case"rotate-page":this.onRotatePage();break;default:console.warn(`Unknown PDF tool action: ${e}`)}}startDrag(e){this.isDragging=!0;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.dragOffset.x=t-this.panelPosition.x,this.dragOffset.y=o-this.panelPosition.y,e.preventDefault()}onDocumentMove(e){if(!this.isDragging)return;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.panelPosition.x=t-this.dragOffset.x,this.panelPosition.y=o-this.dragOffset.y,this.constrainPanelPosition(),e.preventDefault()}onDocumentUp(){this.isDragging=!1}constrainPanelPosition(){this.panelPosition.x=Math.max(0,Math.min(window.innerWidth-300,this.panelPosition.x)),this.panelPosition.y=Math.max(0,Math.min(window.innerHeight-400,this.panelPosition.y))}onUpdateElement(){this.updateElement.emit()}onPageSelect(e){this.pageSelect.emit(e)}generatePageThumbnail(e){if(e.thumbnail)return e.thumbnail;if(this.isPdfViewer&&!e.thumbnail)return this.createLoadingThumbnail(e.pageNumber);let t=e.elements||[],o=e.width||595,n=e.height||842,a=120,d=n/o*a,p=a/o,m=d/n,u="";return t.forEach(h=>{let x=(h.x||0)*p,P=(h.y||0)*m,O=(h.width||50)*p,v=(h.height||20)*m;switch(h.type){case"text":let y=Math.max(6,(h.fontSize||14)*p*.8),D=h.text||"Text",S=h.color||"#000000";u+=`
            <rect x="${x-2}" y="${P-2}" width="${O+4}" height="${v+4}" fill="rgba(255,255,0,0.1)" stroke="rgba(255,255,0,0.3)" stroke-width="0.5"/>
            <text x="${x+2}" y="${P+y}" font-size="${y}" fill="${S}" font-family="Arial, sans-serif">${this.truncateText(D,15)}</text>
          `;break;case"image":u+=`
            <rect x="${x}" y="${P}" width="${O}" height="${v}" fill="#e1f5fe" stroke="#0277bd" stroke-width="1"/>
            <text x="${x+O/2}" y="${P+v/2}" font-size="8" fill="#0277bd" text-anchor="middle" dominant-baseline="middle">\u{1F5BC}\uFE0F</text>
          `;break;case"shape":let b=h.fillColor||"#4caf50",A=h.strokeColor||"#2e7d32";if(h.shapeType==="circle"||h.shapeType==="ellipse"){let w=O/2,I=v/2,z=x+w,J=P+I;u+=`<ellipse cx="${z}" cy="${J}" rx="${w}" ry="${I}" fill="${b}" stroke="${A}" stroke-width="1"/>`}else h.shapeType==="line"?u+=`<line x1="${x}" y1="${P}" x2="${x+O}" y2="${P+v}" stroke="${A}" stroke-width="2"/>`:u+=`<rect x="${x}" y="${P}" width="${O}" height="${v}" fill="${b}" stroke="${A}" stroke-width="1"/>`;break;case"signature":u+=`
            <rect x="${x}" y="${P}" width="${O}" height="${v}" fill="#fff3e0" stroke="#f57c00" stroke-width="1" stroke-dasharray="2,2"/>
            <text x="${x+O/2}" y="${P+v/2}" font-size="8" fill="#f57c00" text-anchor="middle" dominant-baseline="middle">\u270D\uFE0F</text>
          `;break;case"vector-path":u+=`
            <rect x="${x}" y="${P}" width="${O}" height="${v}" fill="rgba(156,39,176,0.1)" stroke="#9c27b0" stroke-width="1"/>
            <text x="${x+O/2}" y="${P+v/2}" font-size="8" fill="#9c27b0" text-anchor="middle" dominant-baseline="middle">\u{1F3A8}</text>
          `;break;default:u+=`
            <rect x="${x}" y="${P}" width="${O}" height="${v}" fill="#f5f5f5" stroke="#ccc" stroke-width="1"/>
          `}}),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
      <svg width="${a}" height="${d}" xmlns="http://www.w3.org/2000/svg">
        <!-- \uD398\uC774\uC9C0 \uBC30\uACBD -->
        <rect width="${a}" height="${d}" fill="#ffffff" stroke="#ddd" stroke-width="1"/>
        
        <!-- \uD398\uC774\uC9C0 \uB0B4\uC6A9 -->
        ${u}
        
        <!-- \uD398\uC774\uC9C0 \uBC88\uD638 (\uC6B0\uCE21 \uD558\uB2E8) -->
        <rect x="${a-20}" y="${d-15}" width="18" height="12" fill="rgba(0,0,0,0.7)" rx="2"/>
        <text x="${a-11}" y="${d-6}" font-size="8" fill="white" text-anchor="middle" font-weight="bold">${e.pageNumber}</text>
        
        <!-- \uC694\uC18C \uAC1C\uC218 (\uC88C\uCE21 \uC0C1\uB2E8) -->
        ${t.length>0?`
          <rect x="2" y="2" width="16" height="10" fill="rgba(255,140,0,0.8)" rx="2"/>
          <text x="10" y="9" font-size="6" fill="white" text-anchor="middle" font-weight="bold">${t.length}</text>
        `:""}
      </svg>
    `)}`}truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."}createLoadingThumbnail(e){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
      <svg width="120" height="160" xmlns="http://www.w3.org/2000/svg">
        <rect width="120" height="160" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
        
        <!-- \uB85C\uB529 \uC560\uB2C8\uBA54\uC774\uC158 -->
        <circle cx="${120/2}" cy="${160/2-15}" r="12" fill="none" stroke="#007bff" stroke-width="2" opacity="0.3"/>
        <circle cx="${120/2}" cy="${160/2-15}" r="12" fill="none" stroke="#007bff" stroke-width="2" stroke-dasharray="10 40" stroke-linecap="round">
          <animateTransform attributeName="transform" type="rotate" values="0 ${120/2} ${160/2-15};360 ${120/2} ${160/2-15}" dur="1s" repeatCount="indefinite"/>
        </circle>
        
        <text x="${120/2}" y="${160/2+5}" font-size="11" fill="#6c757d" text-anchor="middle" font-family="Arial">\uB85C\uB529 \uC911...</text>
        <text x="${120/2}" y="${160/2+20}" font-size="10" fill="#6c757d" text-anchor="middle" font-family="Arial">Page ${e}</text>
      </svg>
    `)}`}onElementPropertyChange(){this.elementPropertyChange.emit(this.selectedElement)}onDeselectElement(){this.deselectElement.emit()}onDeleteElement(){this.deleteElement.emit()}getElementIcon(e){return{text:"\u{1F4DD}",image:"\u{1F5BC}\uFE0F",shape:"\u{1F537}",signature:"\u270D\uFE0F",watermark:"\u{1F4A7}","vector-path":"\u{1F3A8}",line:"\u{1F4CF}"}[e]||"\u{1F4C4}"}getElementTypeName(e){return{text:"\uD14D\uC2A4\uD2B8",image:"\uC774\uBBF8\uC9C0",shape:"\uB3C4\uD615",signature:"\uC11C\uBA85",watermark:"\uC6CC\uD130\uB9C8\uD06C","vector-path":"\uBCA1\uD130 \uD328\uC2A4",line:"\uC120"}[e]||"\uC694\uC18C"}onPropertyChange(e,t){if(!this.selectedElement)return;let o=t.target?.value!==void 0?t.target.value:t;if(e.includes(".")){let n=e.split("."),a=this.selectedElement;for(let d=0;d<n.length-1;d++)a[n[d]]||(a[n[d]]={}),a=a[n[d]];a[n[n.length-1]]=this.parseValue(o)}else this.selectedElement[e]=this.parseValue(o);this.elementPropertyChange.emit({elementId:this.selectedElement.id,property:e,value:this.parseValue(o)})}parseValue(e){if(typeof e=="string"){let t=parseFloat(e);if(!isNaN(t)&&e.trim()!=="")return t;if(e==="true")return!0;if(e==="false")return!1}return e}static \u0275fac=function(t){return new(t||l)(it(ie))};static \u0275cmp=ct({type:l,selectors:[["app-docs-right-sidebar"]],hostBindings:function(t,o){t&1&&M("click",function(a){return o.onDocumentClick(a)},Ct)("mousemove",function(a){return o.onDocumentMove(a)},Ct)("touchmove",function(a){return o.onDocumentMove(a)},Ct)("mouseup",function(){return o.onDocumentUp()},Ct)("touchend",function(){return o.onDocumentUp()},Ct)},inputs:{documentData:"documentData",generatedDocs:"generatedDocs",wordCount:"wordCount",isGenerating:"isGenerating",selectedElement:"selectedElement",currentPage:"currentPage",totalPages:"totalPages",zoomLevel:"zoomLevel",pdfPages:"pdfPages",isPdfViewer:"isPdfViewer",isCollapsed:"isCollapsed"},outputs:{sidebarAction:"sidebarAction",close:"close",addText:"addText",addImage:"addImage",addShape:"addShape",addSignature:"addSignature",addWatermark:"addWatermark",addVectorPath:"addVectorPath",addPage:"addPage",deletePage:"deletePage",addLine:"addLine",expand:"expand",savePdf:"savePdf",preview:"preview",undo:"undo",redo:"redo",zoomIn:"zoomIn",zoomOut:"zoomOut",rotatePage:"rotatePage",updateElement:"updateElement",pageSelect:"pageSelect",deleteElement:"deleteElement",deselectElement:"deselectElement",elementPropertyChange:"elementPropertyChange",keepOnlyFirstPage:"keepOnlyFirstPage"},standalone:!1,features:[Dt],decls:4,vars:5,consts:[[1,"docs-right-sidebar"],["class","collapsed-view",3,"click",4,"ngIf"],["class","main-menu",4,"ngIf"],["class","expanded-panel",4,"ngIf"],[1,"collapsed-view",3,"click"],[1,"icon-list"],["class","menu-icon",3,"title",4,"ngFor","ngForOf"],[1,"menu-icon",3,"title"],[1,"main-menu"],[1,"panel-header"],[1,"header-title"],[1,"header-icon"],["title","\uCD95\uC18C",1,"close-btn",3,"click"],[1,"category-list"],["class","category-item",3,"disabled","click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-icon"],[1,"category-content"],[1,"category-title"],["class","category-count",4,"ngIf"],[1,"category-arrow"],[1,"category-count"],[1,"expanded-panel"],[1,"panel-content"],["title","\uB4A4\uB85C\uAC00\uAE30",1,"back-btn",3,"click"],["class","element-properties-content",4,"ngIf"],["class","panel-items",4,"ngIf"],["class","pdf-info-section",4,"ngIf"],[1,"element-properties-content"],[1,"properties-content"],[1,"property-section"],[1,"property-group"],[1,"property-row"],["type","number",1,"property-input",3,"change","value"],[1,"unit"],["class","property-section",4,"ngIf"],[1,"property-row","full-width"],[1,"button-group"],[1,"toggle-btn",3,"click"],[1,"property-actions"],[1,"action-btn","delete-btn",3,"click"],["rows","3",1,"property-textarea",3,"change","value"],[1,"property-select",3,"change","value"],["label","\uD55C\uAE00 \uACE0\uB515\uCCB4"],["value","Noto Sans KR"],["value","NanumGothic"],["value","NanumBarunGothic"],["value","IBM Plex Sans KR"],["value","NanumSquare"],["value","Black Han Sans"],["label","\uD55C\uAE00 \uBA85\uC870\uCCB4"],["value","Noto Serif KR"],["value","NanumMyeongjo"],["label","\uD55C\uAE00 \uC190\uAE00\uC528/\uCE90\uC8FC\uC5BC"],["value","NanumPen"],["value","NanumBrush"],["value","DoHyeon"],["value","Jua"],["value","Gaegu"],["value","GamjaFlower"],["value","Sunflower"],["value","EastSeaDokdo"],["value","HiMelody"],["label","\uC601\uBB38 \uD3F0\uD2B8"],["value","Arial"],["value","Helvetica"],["value","Times New Roman"],["value","Courier New"],["value","Georgia"],["value","Verdana"],["value","Roboto"],["value","Open Sans"],["value","Lato"],["value","Montserrat"],["value","Poppins"],["value","Inter"],["value","Ubuntu"],["value","100"],["value","200"],["value","300"],["value","normal"],["value","500"],["value","600"],["value","bold"],["value","800"],["value","900"],[1,"align-btn",3,"click"],[1,"align-btn",2,"font-style","italic",3,"click"],["type","color",1,"property-color",3,"change","value"],["type","range","min","0","max","1","step","0.1",1,"property-range",3,"input","value"],[1,"value"],[1,"panel-items"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"menu-item",3,"click"],[1,"item-content"],[1,"item-label"],["class","item-description",4,"ngIf"],[1,"item-arrow"],[1,"item-description"],[1,"pdf-info-section"],[1,"info-divider"],[1,"info-title"],[1,"info-items"],[1,"info-item"],[1,"info-label"],[1,"info-value"]],template:function(t,o){t&1&&(r(0,"div",0),B(1,ai,3,1,"div",1)(2,di,11,1,"div",2)(3,Pi,12,4,"div",3),i()),t&2&&(H("collapsed",o.isCollapsed),c(),f("ngIf",o.isCollapsed),c(),f("ngIf",!o.expandedMenuId&&!o.isCollapsed),c(),f("ngIf",o.expandedMenuId&&!o.isCollapsed))},dependencies:[_t,dt,Et,kt],styles:['[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%}.docs-right-sidebar[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;width:350px;z-index:1000;margin:0!important;padding:0!important;background:var(--bg-primary);border-left:1px solid var(--border-color);box-shadow:-2px 0 8px var(--shadow);animation:_ngcontent-%COMP%_slideInFromRight .3s ease-out;transition:width .3s ease}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]{width:48px;overflow:hidden}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;height:100%;overflow-y:auto;cursor:pointer}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;padding:8px;text-align:center;transition:all .2s ease;border-radius:8px}.docs-right-sidebar.collapsed[_ngcontent-%COMP%]   .collapsed-view[_ngcontent-%COMP%]   .icon-list[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);transform:scale(1.1)}.docs-right-sidebar[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .expanded-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);position:sticky;top:0;z-index:10}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:24px;line-height:1}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:var(--text-muted);padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:var(--accent-primary);transform:translate(-2px)}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--accent-danger);transform:rotate(90deg)}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;margin-bottom:8px;background:var(--bg-secondary);border-radius:12px;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(-4px);box-shadow:0 2px 12px #00000014}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.disabled[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{opacity:.6}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.disabled[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-style:italic}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:10px}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{flex:1}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.7}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-arrow[_ngcontent-%COMP%]{font-size:24px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover   .category-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]{padding:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;margin-bottom:8px;background:var(--bg-secondary);border:1px solid transparent}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translate(-4px);box-shadow:0 2px 8px #0000001a}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{flex:1}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.8}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-arrow[_ngcontent-%COMP%]{font-size:20px;color:var(--text-secondary);opacity:.5;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .panel-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .item-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(4px)}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]{padding:0}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);padding:20px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr auto;align-items:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row.full-width[_ngcontent-%COMP%]{grid-template-columns:80px 1fr}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);font-weight:500}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:13px;background:var(--bg-secondary);color:var(--text-primary);transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:var(--bg-primary);box-shadow:0 0 0 3px #3b82f61a}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:60px;font-family:inherit}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]{width:100%;height:36px;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:3px;background:var(--bg-secondary);outline:none;-webkit-appearance:none;appearance:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:none;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);white-space:nowrap}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:4px;width:100%}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%]:hover, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn.active[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color);font-weight:600}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--border-color);background:var(--bg-secondary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{background:#fee;color:#c33;border:1px solid #fcc}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#fdd;border-color:#fbb;transform:translateY(-1px);box-shadow:0 4px 12px #c333}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;font-size:14px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Arial][_ngcontent-%COMP%]{font-family:Arial,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Helvetica][_ngcontent-%COMP%]{font-family:Helvetica,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Times New Roman"][_ngcontent-%COMP%]{font-family:Times New Roman,serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Courier New"][_ngcontent-%COMP%]{font-family:Courier New,monospace}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Georgia][_ngcontent-%COMP%]{font-family:Georgia,serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Verdana][_ngcontent-%COMP%]{font-family:Verdana,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%]{font-family:Noto Sans KR,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%]{font-family:NanumGothic,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%]{font-family:NanumBarunGothic,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%]{font-family:IBM Plex Sans KR,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%]{font-family:NanumSquare,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%]{font-family:Black Han Sans,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%]{font-family:"Noto Serif KR",serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%]{font-family:NanumMyeongjo,serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%]{font-family:NanumPen,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%]{font-family:NanumBrush,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%]{font-family:DoHyeon,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%]{font-family:Jua,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%]{font-family:Gaegu,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%]{font-family:GamjaFlower,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%]{font-family:Sunflower,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%]{font-family:EastSeaDokdo,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%]{font-family:HiMelody,cursive}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%]{font-family:Lato,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%]{font-family:Inter,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-content[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);background:var(--bg-tertiary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]{height:100%;overflow-y:auto;background:var(--bg-primary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]{padding:0}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);padding:20px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr auto;align-items:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row.full-width[_ngcontent-%COMP%]{grid-template-columns:80px 1fr}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);font-weight:500}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:13px;background:var(--bg-secondary);color:var(--text-primary);transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-select[_ngcontent-%COMP%]:focus, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:var(--bg-primary);box-shadow:0 0 0 3px #3b82f61a}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:60px;font-family:inherit}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]{width:100%;height:36px;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-color[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:3px;background:var(--bg-secondary);outline:none;-webkit-appearance:none;appearance:none}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:none;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .property-range[_ngcontent-%COMP%]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 0 4px #3b82f633}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);white-space:nowrap}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:4px;width:100%}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn[_ngcontent-%COMP%]:hover, .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .align-btn.active[_ngcontent-%COMP%], .docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-section[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color);font-weight:600}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--border-color);background:var(--bg-secondary)}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{background:#fee;color:#c33;border:1px solid #fcc}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#fdd;border-color:#fbb;transform:translateY(-1px);box-shadow:0 4px 12px #c333}.docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 992px){.docs-right-sidebar[_ngcontent-%COMP%]{width:320px}}@media (max-width: 768px){.docs-right-sidebar[_ngcontent-%COMP%]{width:100%;max-width:350px}}']})};function bi(l,e){if(l&1){let t=F();r(0,"div",11)(1,"div",12)(2,"label",13),s(3,"\uBB38\uC11C \uC81C\uBAA9"),i(),r(4,"input",14),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.newDocumentTitle,n)||(a.newDocumentTitle=n),_(n)}),M("keyup.enter",function(){C(t);let n=g(2);return _(n.onSave())}),i()()()}if(l&2){let t=g(2);c(4),N("ngModel",t.newDocumentTitle)}}function vi(l,e){l&1&&(r(0,"div",27)(1,"p"),s(2,"\uBB38\uC11C \uBAA9\uB85D\uC744 \uBD88\uB7EC\uC624\uB294 \uC911..."),i()())}function Oi(l,e){l&1&&(r(0,"div",28)(1,"p"),s(2,"\uC800\uC7A5\uB41C \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),i()())}function yi(l,e){if(l&1){let t=F();r(0,"div",31)(1,"div",32),M("click",function(){let n=C(t).$implicit,a=g(4);return _(a.selectedDocument=n)}),r(2,"h3"),s(3),r(4,"span",33),s(5),i()(),r(6,"div",34)(7,"span",35),R(8,"i",36),s(9),i(),r(10,"span",35),R(11,"i",37),s(12),i()(),r(13,"div",38)(14,"span"),s(15),i()()(),r(16,"div",39)(17,"button",40),M("click",function(){let n=C(t).$implicit,a=g(4);return _(a.onOpen(n))}),s(18," \uC5F4\uAE30 "),i(),r(19,"button",41),M("click",function(){let n=C(t).$implicit,a=g(4);return _(a.onDelete(n))}),s(20),i()()()}if(l&2){let t=e.$implicit,o=g(4);H("selected",(o.selectedDocument==null?null:o.selectedDocument.id)===t.id),c(3),E(" ",t.title," "),c(),H("pdf-viewer",t.documentType==="viewer")("new-document",t.documentType==="editor"||!t.documentType),c(),E(" ",t.documentType==="viewer"?"PDF":"\uC0C8\uBB38\uC11C"," "),c(4),E(" ",t.pages.length||0,"\uAC1C \uD398\uC774\uC9C0 "),c(3),E(" ",t.elementCount||0,"\uAC1C \uC694\uC18C "),c(3),E("\uC218\uC815: ",o.formatDate(t.updatedAt)),c(4),H("confirm",o.deleteConfirm===t.id),f("title",o.deleteConfirm===t.id?"\uB2E4\uC2DC \uD074\uB9AD\uD558\uC5EC \uC0AD\uC81C \uD655\uC778":"\uBB38\uC11C \uC0AD\uC81C"),c(),E(" ",o.deleteConfirm===t.id?"\uD655\uC778":"\uC0AD\uC81C"," ")}}function wi(l,e){if(l&1&&(r(0,"div",29),B(1,yi,21,15,"div",30),i()),l&2){let t=g(3);c(),f("ngForOf",t.savedDocuments)}}function Di(l,e){if(l&1){let t=F();r(0,"div",15)(1,"div",16)(2,"div",17),M("dragover",function(n){C(t);let a=g(2);return _(a.onDragOver(n))})("dragleave",function(n){C(t);let a=g(2);return _(a.onDragLeave(n))})("drop",function(n){C(t);let a=g(2);return _(a.onDrop(n))})("click",function(){C(t);let n=g(2);return _(n.triggerFileInput())}),r(3,"div",18),s(4,"\u{1F4C1}"),i(),r(5,"div",19)(6,"p",20),s(7,"PDF \uD30C\uC77C\uC744 \uB4DC\uB798\uADF8\uD558\uAC70\uB098 \uD074\uB9AD\uD558\uC5EC \uC5C5\uB85C\uB4DC"),i(),r(8,"p",21),s(9,"\uCD5C\uB300 50MB\uAE4C\uC9C0 \uC9C0\uC6D0\uB429\uB2C8\uB2E4"),i()()(),r(10,"input",22),M("change",function(n){C(t);let a=g(2);return _(a.onFileInputChange(n))}),i()(),r(11,"div",23)(12,"span"),s(13,"\uB610\uB294 \uC800\uC7A5\uB41C \uBB38\uC11C \uC120\uD0DD"),i()(),B(14,vi,3,0,"div",24)(15,Oi,3,0,"div",25)(16,wi,2,1,"div",26),i()}if(l&2){let t=g(2);c(2),H("drag-over",t.isDragOver),c(12),f("ngIf",t.isLoading),c(),f("ngIf",!t.isLoading&&t.savedDocuments.length===0),c(),f("ngIf",!t.isLoading&&t.savedDocuments.length>0)}}function Si(l,e){if(l&1){let t=F();r(0,"button",42),M("click",function(){C(t);let n=g(2);return _(n.onSave())}),s(1," \uC800\uC7A5 "),i()}if(l&2){let t=g(2);f("disabled",!t.newDocumentTitle.trim())}}function Ei(l,e){if(l&1){let t=F();r(0,"div",1),M("click",function(){C(t);let n=g();return _(n.closeModal())}),r(1,"div",2),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",3)(3,"h2"),s(4),i(),r(5,"button",4),M("click",function(){C(t);let n=g();return _(n.closeModal())}),s(6,"\xD7"),i()(),r(7,"div",5),B(8,bi,5,1,"div",6)(9,Di,17,5,"div",7),i(),r(10,"div",8)(11,"button",9),M("click",function(){C(t);let n=g();return _(n.closeModal())}),s(12,"\uCDE8\uC18C"),i(),B(13,Si,2,1,"button",10),i()()()}if(l&2){let t=g();c(4),T(t.mode==="save"?"\uBB38\uC11C \uC800\uC7A5":"\uBB38\uC11C \uBD88\uB7EC\uC624\uAE30"),c(4),f("ngIf",t.mode==="save"),c(),f("ngIf",t.mode==="open"),c(4),f("ngIf",t.mode==="save")}}var he=class l{constructor(e,t){this.indexedDbService=e;this.snackbar=t}isVisible=!1;mode="save";currentTitle="";close=new L;save=new L;open=new L;delete=new L;fileUpload=new L;newDocumentTitle="";savedDocuments=[];selectedDocument=null;deleteConfirm="";isLoading=!1;isDragOver=!1;ngOnInit(){this.loadDocuments(),this.mode==="save"&&(this.newDocumentTitle=this.currentTitle||"\uC0C8 \uBB38\uC11C")}ngOnChanges(e){e.isVisible&&e.isVisible.currentValue&&!e.isVisible.previousValue&&(this.loadDocuments(),this.mode==="save"&&(this.newDocumentTitle=this.currentTitle||"\uC0C8 \uBB38\uC11C"))}loadDocuments(){return V(this,null,function*(){try{this.isLoading=!0,this.savedDocuments=yield this.indexedDbService.getAllDocuments(),console.log("\uBB38\uC11C \uBAA9\uB85D \uB85C\uB4DC\uB428:",this.savedDocuments.length,"\uAC1C")}catch(e){console.error("\uBB38\uC11C \uBAA9\uB85D \uB85C\uB4DC \uC2E4\uD328:",e),this.savedDocuments=[]}finally{this.isLoading=!1}})}onSave(){let e=this.newDocumentTitle.trim();e&&(this.save.emit(e),this.closeModal())}onOpen(e){this.open.emit(e),this.closeModal()}onDelete(e){return V(this,null,function*(){if(this.deleteConfirm===e.id)try{yield this.indexedDbService.deleteDocument(e.id),this.delete.emit(e.id),this.deleteConfirm="",yield this.loadDocuments()}catch(t){console.error("\uBB38\uC11C \uC0AD\uC81C \uC2E4\uD328:",t)}else this.deleteConfirm=e.id,setTimeout(()=>{this.deleteConfirm=""},3e3)})}closeModal(){this.isVisible=!1,this.newDocumentTitle="",this.selectedDocument=null,this.deleteConfirm="",this.close.emit()}formatDate(e){return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.isDragOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.isDragOver=!1}onDrop(e){e.preventDefault(),e.stopPropagation(),this.isDragOver=!1;let t=e.dataTransfer?.files;t&&t.length>0&&this.handleFileUpload(t[0])}onFileInputChange(e){let t=e.target.files?.[0];t&&this.handleFileUpload(t)}handleFileUpload(e){if(e.type!=="application/pdf"){this.snackbar.showError("PDF \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.");return}let t=50*1024*1024;if(e.size>t){this.snackbar.showError("\uD30C\uC77C \uD06C\uAE30\uAC00 \uB108\uBB34 \uD07D\uB2C8\uB2E4. 50MB \uC774\uD558\uC758 \uD30C\uC77C\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");return}this.fileUpload.emit(e),this.closeModal()}triggerFileInput(){document.getElementById("pdf-file-input")?.click()}static \u0275fac=function(t){return new(t||l)(it(Xt),it(Wt))};static \u0275cmp=ct({type:l,selectors:[["app-document-modal"]],inputs:{isVisible:"isVisible",mode:"mode",currentTitle:"currentTitle"},outputs:{close:"close",save:"save",open:"open",delete:"delete",fileUpload:"fileUpload"},standalone:!1,features:[Dt],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["class","save-section",4,"ngIf"],["class","open-section",4,"ngIf"],[1,"modal-footer"],[1,"cancel-btn",3,"click"],["class","save-btn",3,"disabled","click",4,"ngIf"],[1,"save-section"],[1,"input-group"],["for","docTitle"],["id","docTitle","type","text","placeholder","\uBB38\uC11C \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694",1,"title-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"open-section"],[1,"file-upload-section"],[1,"drag-drop-area",3,"dragover","dragleave","drop","click"],[1,"upload-icon"],[1,"upload-text"],[1,"primary-text"],[1,"secondary-text"],["type","file","id","pdf-file-input","accept",".pdf,application/pdf",2,"display","none",3,"change"],[1,"separator"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","document-list",4,"ngIf"],[1,"loading-state"],[1,"empty-state"],[1,"document-list"],["class","document-item",3,"selected",4,"ngFor","ngForOf"],[1,"document-item"],[1,"doc-info",3,"click"],[1,"doc-type-badge"],[1,"doc-details"],[1,"detail-item"],[1,"icon-page"],[1,"icon-elements"],[1,"doc-date"],[1,"doc-actions"],["title","\uBB38\uC11C \uC5F4\uAE30",1,"open-btn",3,"click"],[1,"delete-btn",3,"click","title"],[1,"save-btn",3,"click","disabled"]],template:function(t,o){t&1&&B(0,Ei,14,4,"div",0),t&2&&f("ngIf",o.isVisible)},dependencies:[_t,dt,vt,ft,Pt],styles:['@charset "UTF-8";.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1140;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;animation:_ngcontent-%COMP%_slideIn .3s ease;box-shadow:0 20px 40px #00000026}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb;background:#f8fafc}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1f2937}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.modal-body[_ngcontent-%COMP%]{padding:24px;max-height:50vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid #e5e7eb;background:#f8fafc}.save-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151;font-size:14px}.save-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;transition:border-color .2s}.save-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]{margin-bottom:24px}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]{border:2px dashed #d1d5db;border-radius:12px;padding:32px 24px;text-align:center;cursor:pointer;transition:all .3s ease;background:#f9fafb}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area.drag-over[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff;transform:scale(1.02)}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]   .primary-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#374151;margin:0 0 8px}.open-section[_ngcontent-%COMP%]   .file-upload-section[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]   .secondary-text[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:flex;align-items:center;margin:24px 0}.open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]:before, .open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e5e7eb}.open-section[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px;color:#6b7280;font-size:14px;background:#fff}.open-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.open-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.open-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.open-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:12px;transition:all .2s;cursor:pointer}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]:hover{border-color:#d1d5db;box-shadow:0 2px 8px #00000014}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]{flex:1}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#1f2937;display:flex;align-items:center;gap:8px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-type-badge[_ngcontent-%COMP%]{display:inline-block;font-size:9px;font-weight:700;padding:3px 7px;border-radius:4px;white-space:nowrap;text-transform:uppercase;letter-spacing:.5px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-type-badge.pdf-viewer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;box-shadow:0 2px 4px #ee5a6f40}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-type-badge.new-document[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4dabf7,#339af0);color:#fff;box-shadow:0 2px 4px #339af040}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:4px}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:#6b7280}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .icon-page[_ngcontent-%COMP%]:before{content:"\\1f4c4"}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .icon-elements[_ngcontent-%COMP%]:before{content:"\\1f527"}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af}.open-section[_ngcontent-%COMP%]   .document-list[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]   .doc-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-shrink:0}button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}button.cancel-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}button.cancel-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}button.save-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}button.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}button.save-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}button.open-btn[_ngcontent-%COMP%]{background:#059669;color:#fff;padding:6px 12px;font-size:12px}button.open-btn[_ngcontent-%COMP%]:hover{background:#047857}button.delete-btn[_ngcontent-%COMP%]{background:#dc2626;color:#fff;padding:6px 12px;font-size:12px}button.delete-btn[_ngcontent-%COMP%]:hover{background:#b91c1c}button.delete-btn.confirm[_ngcontent-%COMP%]{background:#f59e0b;animation:_ngcontent-%COMP%_pulse .5s ease infinite alternate}button.delete-btn.confirm[_ngcontent-%COMP%]:hover{background:#d97706}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}to{transform:scale(1.05)}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;margin:20px}.modal-body[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:16px}.document-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.document-item[_ngcontent-%COMP%]   .doc-actions[_ngcontent-%COMP%]{align-self:flex-end}}']})};function Bi(l,e){if(l&1){let t=F();r(0,"div",1),M("click",function(n){C(t);let a=g();return _(a.onBackdropClick(n))}),r(1,"div",2)(2,"div",3)(3,"h2",4)(4,"span",5),s(5,"\u270F\uFE0F"),i(),s(6," \uD14D\uC2A4\uD2B8 \uC9C1\uC811 \uD3B8\uC9D1 \uC815\uBCF4 "),i(),r(7,"button",6),M("click",function(){C(t);let n=g();return _(n.onCancel())}),s(8,"\xD7"),i()(),r(9,"div",7)(10,"div",8)(11,"h3",9),s(12,"\u{1F4C4} \uBB38\uC11C \uC815\uBCF4"),i(),r(13,"div",10)(14,"div",11)(15,"span",12),s(16,"\uD604\uC7AC \uD398\uC774\uC9C0"),i(),r(17,"span",13),s(18),i()()()(),r(19,"div",8)(20,"h3",9),s(21,"\u{1F4DD} \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uD14D\uC2A4\uD2B8"),i(),r(22,"div",10)(23,"div",11)(24,"span",12),s(25,"\uC804\uCCB4 \uD14D\uC2A4\uD2B8 \uD56D\uBAA9"),i(),r(26,"span",14),s(27),i()(),r(28,"div",11)(29,"span",12),s(30,"\uBB38\uC7A5 \uADF8\uB8F9"),i(),r(31,"span",14),s(32),i()()()(),r(33,"div",15)(34,"h3",9),s(35,"\u2139\uFE0F \uD3B8\uC9D1 \uBC29\uBC95"),i(),r(36,"ul",16)(37,"li"),s(38,"\u{1F4CC} \uAC01 \uD14D\uC2A4\uD2B8 \uC601\uC5ED\uC744 "),r(39,"strong"),s(40,"\uD074\uB9AD"),i(),s(41,"\uD558\uBA74 \uD3B8\uC9D1 \uAC00\uB2A5\uD569\uB2C8\uB2E4"),i(),r(42,"li"),s(43,"\u270F\uFE0F \uD14D\uC2A4\uD2B8 \uB0B4\uC6A9, \uD3F0\uD2B8 \uD06C\uAE30, \uD3F0\uD2B8 \uC885\uB958\uB97C \uBCC0\uACBD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),i(),r(44,"li"),s(45,"\u{1F3A8} \uD14D\uC2A4\uD2B8 \uC2A4\uD0C0\uC77C(\uAD75\uAC8C, \uC0C9\uC0C1 \uB4F1)\uC744 \uC870\uC815\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4"),i(),r(46,"li"),s(47,"\u{1F4BE} \uD3B8\uC9D1 \uC644\uB8CC \uD6C4 "),r(48,"strong"),s(49,"\uC800\uC7A5"),i(),s(50," \uBC84\uD2BC\uC744 \uB20C\uB7EC \uBCC0\uACBD\uC0AC\uD56D\uC744 \uC801\uC6A9\uD558\uC138\uC694"),i(),r(51,"li"),s(52,"\u{1F5D1}\uFE0F \uD14D\uC2A4\uD2B8\uB97C \uC0AD\uC81C\uD558\uB824\uBA74 "),r(53,"strong"),s(54,"\uC0AD\uC81C"),i(),s(55," \uBC84\uD2BC\uC744 \uC0AC\uC6A9\uD558\uC138\uC694"),i()()(),r(56,"div",17)(57,"div",18)(58,"span",19),s(59,"\u26A0\uFE0F"),i(),r(60,"div",20)(61,"strong"),s(62,"\uC8FC\uC758\uC0AC\uD56D:"),i(),s(63," \uD3B8\uC9D1 \uBAA8\uB4DC\uC5D0\uC11C\uB294 PDF\uC758 \uC6D0\uBCF8 \uD14D\uC2A4\uD2B8 \uB808\uC774\uC5B4\uB97C \uC218\uC815\uD569\uB2C8\uB2E4. \uBCC0\uACBD\uC0AC\uD56D\uC744 \uC800\uC7A5\uD558\uAE30 \uC804\uC5D0 \uD56D\uC0C1 \uBBF8\uB9AC\uBCF4\uAE30\uB97C \uD655\uC778\uD558\uC138\uC694. "),i()()()(),r(64,"div",21)(65,"button",22),M("click",function(){C(t);let n=g();return _(n.onCancel())}),s(66,"\uCDE8\uC18C"),i(),r(67,"button",23),M("click",function(){C(t);let n=g();return _(n.onConfirm())}),r(68,"span",24),s(69,"\u2713"),i(),s(70," \uD3B8\uC9D1 \uC2DC\uC791 "),i()()()()}if(l&2){let t=g();c(18),ht("",t.currentPage," / ",t.totalPages),c(9),E("",t.totalTextItems,"\uAC1C"),c(5),E("",t.sentenceGroupCount,"\uAC1C")}}var fe=class l{isVisible=!1;totalTextItems=0;sentenceGroupCount=0;currentPage=1;totalPages=1;confirm=new L;cancel=new L;onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}onBackdropClick(e){e.target===e.currentTarget&&this.onCancel()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ct({type:l,selectors:[["app-text-edit-info-modal"]],inputs:{isVisible:"isVisible",totalTextItems:"totalTextItems",sentenceGroupCount:"sentenceGroupCount",currentPage:"currentPage",totalPages:"totalPages"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container"],[1,"modal-header"],[1,"modal-title"],[1,"icon"],["aria-label","\uB2EB\uAE30",1,"close-button",3,"click"],[1,"modal-body"],[1,"info-section"],[1,"section-title"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"value","highlight"],[1,"info-section","description"],[1,"feature-list"],[1,"warning-section"],[1,"warning-box"],[1,"warning-icon"],[1,"warning-text"],[1,"modal-footer"],[1,"button","button-cancel",3,"click"],[1,"button","button-confirm",3,"click"],[1,"button-icon"]],template:function(t,o){t&1&&B(0,Bi,71,4,"div",0),t&2&&f("ngIf",o.isVisible)},dependencies:[dt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:1150!important;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:600px;width:90%;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:24px 28px;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700;display:flex;align-items:center;gap:12px}.modal-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:28px}.close-button[_ngcontent-%COMP%]{background:#fff3;border:none;width:36px;height:36px;border-radius:8px;font-size:28px;line-height:1;color:#fff;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:24px 28px;overflow-y:auto;flex:1}.info-section[_ngcontent-%COMP%]{margin-bottom:24px}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937;margin:0 0 16px;display:flex;align-items:center;gap:8px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{background:#f9fafb;padding:16px;border-radius:12px;border:1px solid #e5e7eb;display:flex;flex-direction:column;gap:8px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;font-weight:500}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1f2937}.info-item[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#667eea}.feature-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.feature-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:8px;background:#f9fafb;border-radius:8px;border-left:3px solid #667eea;font-size:14px;line-height:1.6;color:#4b5563}.feature-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.warning-section[_ngcontent-%COMP%]{margin-top:20px}.warning-box[_ngcontent-%COMP%]{background:#fef3c7;border:1px solid #fbbf24;border-radius:12px;padding:16px;display:flex;gap:12px;align-items:flex-start}.warning-box[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.warning-box[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.6;color:#92400e}.warning-box[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#78350f}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;border-top:1px solid #e5e7eb;display:flex;gap:12px;justify-content:flex-end;background:#f9fafb}.button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s;border:none;display:flex;align-items:center;gap:8px;min-width:100px;justify-content:center}.button-cancel[_ngcontent-%COMP%]{background:#fff;color:#6b7280;border:1px solid #d1d5db}.button-cancel[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.button-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 12px #667eea4d}.button-confirm[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #667eea66;transform:translateY(-2px)}.button-confirm[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{font-size:18px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.modal-container[_ngcontent-%COMP%]{width:95%;max-height:95vh}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:16px 20px;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-title[_ngcontent-%COMP%]{font-size:18px}.modal-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}}"]})};var Ai=["svgCanvas"],Ii=["canvasContainer"];function Vi(l,e){if(l&1){let t=F();r(0,"button",40),M("click",function(){let n=C(t).$implicit,a=g();return _(a.selectTool(n.type))}),r(1,"span",41),s(2),i(),r(3,"span",42),s(4),i()()}if(l&2){let t=e.$implicit,o=g();H("active",o.currentTool===t.type),f("title",t.name),c(2),T(t.icon),c(2),T(t.name)}}function Fi(l,e){if(l&1){let t=F();r(0,"div",7)(1,"label"),s(2,"\uCC44\uC6B0\uAE30 \uD22C\uBA85\uB3C4:"),i(),r(3,"input",12),M("input",function(n){C(t);let a=g();return _(a.currentFillOpacity=+n.target.value)}),i(),r(4,"span",10),s(5),i()()}if(l&2){let t=g();c(3),f("value",t.currentFillOpacity),c(2),E("",(t.currentFillOpacity*100).toFixed(0),"%")}}function $i(l,e){if(l&1){let t=F();r(0,"button",43),M("click",function(){C(t);let n=g();return _(n.finishPolygon())}),s(1," \uB2E4\uAC01\uD615 \uC644\uB8CC "),i()}}function zi(l,e){if(l&1){let t=F();r(0,"button",44),M("click",function(){C(t);let n=g();return _(n.finishCurrentPath())}),s(1," \uADF8\uB9AC\uAE30 \uCDE8\uC18C "),i()}}function Gi(l,e){if(l&1){let t=F();r(0,"button",45),M("click",function(){C(t);let n=g();return _(n.deleteSelectedPath())}),s(1," \uC120\uD0DD\uD55C \uD328\uC2A4 \uC0AD\uC81C "),i()}}function Li(l,e){l&1&&(r(0,"span"),s(1,"(\uC2DC\uC791\uC810\uC744 \uD074\uB9AD\uD558\uC138\uC694)"),i())}function Ri(l,e){l&1&&(r(0,"span"),s(1,"(\uC9C1\uC120\uC774 \uADF8\uB824\uC9D1\uB2C8\uB2E4)"),i())}function Ni(l,e){l&1&&(r(0,"span"),s(1,"(\uC774\uCC28 \uBCA0\uC9C0\uC5B4 \uACE1\uC120)"),i())}function Wi(l,e){l&1&&(r(0,"span"),s(1,"(\uC0BC\uCC28 \uBCA0\uC9C0\uC5B4 \uACE1\uC120)"),i())}function ji(l,e){l&1&&(r(0,"span"),s(1,"(\uC644\uB8CC! \uC0C8\uB85C\uC6B4 \uACE1\uC120\uC744 \uC2DC\uC791\uD558\uC138\uC694)"),i())}function Yi(l,e){if(l&1&&(r(0,"div",46)(1,"h5"),s(2,"\uBCA0\uC9C0\uC5B4 \uACE1\uC120 \uADF8\uB9AC\uAE30"),i(),r(3,"p"),s(4,"\uC810\uC744 \uD074\uB9AD\uD560 \uB54C\uB9C8\uB2E4 \uC2E4\uC2DC\uAC04\uC73C\uB85C \uACE1\uC120\uC774 \uADF8\uB824\uC9D1\uB2C8\uB2E4:"),i(),r(5,"ol")(6,"li"),s(7),i(),r(8,"li"),s(9),i(),r(10,"li"),s(11),i(),r(12,"li"),s(13),i()(),r(14,"div",47),s(15),B(16,Li,2,0,"span",34)(17,Ri,2,0,"span",34)(18,Ni,2,0,"span",34)(19,Wi,2,0,"span",34)(20,ji,2,0,"span",34),i()()),l&2){let t=g();c(6),H("completed",t.bezierPoints.length>=1),c(),E("\uC2DC\uC791\uC810 ",t.bezierPoints.length>=1?"\u2713":""),c(),H("completed",t.bezierPoints.length>=2),c(),E("\uCCAB \uBC88\uC9F8 \uC870\uC808\uC810 ",t.bezierPoints.length>=2?"\u2713":""),c(),H("completed",t.bezierPoints.length>=3),c(),E("\uB450 \uBC88\uC9F8 \uC870\uC808\uC810 ",t.bezierPoints.length>=3?"\u2713":""),c(),H("completed",t.bezierPoints.length>=4),c(),E("\uB05D\uC810 ",t.bezierPoints.length>=4?"\u2713":""),c(2),E(" \uD604\uC7AC \uB2E8\uACC4: ",t.bezierPoints.length,"/4 "),c(),f("ngIf",t.bezierPoints.length===0),c(),f("ngIf",t.bezierPoints.length===1),c(),f("ngIf",t.bezierPoints.length===2),c(),f("ngIf",t.bezierPoints.length===3),c(),f("ngIf",t.bezierPoints.length===4)}}function Hi(l,e){l&1&&(r(0,"div",50)(1,"span",51),s(2,"\u{1F3A8} \uADF8\uB9AC\uB294 \uC911..."),i()())}function Ui(l,e){if(l&1&&(r(0,"div",48)(1,"h5"),s(2,"\uC790\uC720 \uADF8\uB9AC\uAE30 (\uBE0C\uB7EC\uC2DC)"),i(),r(3,"p"),s(4,"\uB9C8\uC6B0\uC2A4\uB97C \uD074\uB9AD\uD558\uACE0 \uB4DC\uB798\uADF8\uD558\uC5EC \uC790\uC720\uB86D\uAC8C \uADF8\uB9AC\uC138\uC694."),i(),r(5,"ul")(6,"li"),s(7,"\uD074\uB9AD + \uB4DC\uB798\uADF8: \uADF8\uB9AC\uAE30"),i(),r(8,"li"),s(9,"\uB9C8\uC6B0\uC2A4 \uB5BC\uAE30: \uADF8\uB9AC\uAE30 \uC644\uB8CC"),i(),r(10,"li"),s(11,"ESC: \uD604\uC7AC \uADF8\uB9AC\uAE30 \uCDE8\uC18C"),i()(),B(12,Hi,3,0,"div",49),i()),l&2){let t=g();c(12),f("ngIf",t.isFreeDraw)}}function Xi(l,e){l&1&&(r(0,"div",50)(1,"span",51),s(2,"\u{1F9FD} \uC9C0\uC6B0\uB294 \uC911..."),i()())}function qi(l,e){if(l&1){let t=F();r(0,"div",52)(1,"h5"),s(2,"\uC9C0\uC6B0\uAC1C"),i(),r(3,"p"),s(4,"\uB9C8\uC6B0\uC2A4\uB97C \uD074\uB9AD\uD558\uACE0 \uB4DC\uB798\uADF8\uD558\uC5EC \uD328\uC2A4\uB97C \uC9C0\uC6B0\uC138\uC694."),i(),r(5,"div",7)(6,"label"),s(7,"\uC9C0\uC6B0\uAC1C \uD06C\uAE30:"),i(),r(8,"input",53),M("input",function(n){C(t);let a=g();return _(a.eraserSize=+n.target.value)}),i(),r(9,"span",10),s(10),i()(),B(11,Xi,3,0,"div",49),i()}if(l&2){let t=g();c(8),f("value",t.eraserSize),c(2),E("",t.eraserSize,"px"),c(),f("ngIf",t.isErasing)}}function Ki(l,e){if(l&1&&(r(0,"div",54)(1,"h5"),s(2,"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30"),i(),r(3,"p"),s(4,"\uC810\uB4E4\uC744 \uD074\uB9AD\uD558\uC5EC \uC5F0\uACB0\uD558\uACE0, '\uB2E4\uAC01\uD615 \uC644\uB8CC' \uBC84\uD2BC\uC744 \uB20C\uB7EC \uB9C8\uBB34\uB9AC\uD558\uC138\uC694."),i(),r(5,"div",47),s(6),i()()),l&2){let t=g();c(6),E(" \uD604\uC7AC \uC810 \uAC1C\uC218: ",t.currentPoints.length," ")}}function Ji(l,e){if(l&1&&(mt(),r(0,"defs")(1,"pattern",55),R(2,"path",56),i()()),l&2){let t=g();c(),ut("width",t.gridSize)("height",t.gridSize),c(),ut("d","M "+t.gridSize+" 0 L 0 0 0 "+t.gridSize)}}function Zi(l,e){l&1&&(mt(),R(0,"rect",57))}function Qi(l,e){if(l&1){let t=F();mt(),r(0,"path",58),M("click",function(){let n=C(t).$implicit,a=g();return _(a.selectPath(n))}),i()}if(l&2){let t=e.$implicit,o=g();H("selected",o.selectedPath===t)("brush-path",t.d.includes("Q")),ut("d",t.d)("stroke",t.stroke)("stroke-width",t.strokeWidth)("fill",t.fill)("fill-opacity",t.fillOpacity)("stroke-opacity",t.strokeOpacity)("transform",t.transform)("stroke-linecap",t.d.includes("Q")?"round":"butt")("stroke-linejoin",t.d.includes("Q")?"round":"miter")}}function tr(l,e){if(l&1&&(mt(),R(0,"path")),l&2){let t=g();H("preview-path",!0)("brush-preview",t.currentTool==="brush"),ut("d",t.previewPath.d)("stroke",t.previewPath.stroke)("stroke-width",t.previewPath.strokeWidth)("fill",t.previewPath.fill)("fill-opacity",t.previewPath.fillOpacity)("stroke-opacity",t.previewPath.strokeOpacity)("stroke-linecap",t.currentTool==="brush"?"round":"butt")("stroke-linejoin",t.currentTool==="brush"?"round":"miter")}}function er(l,e){if(l&1&&(mt(),r(0,"g"),R(1,"circle",60),r(2,"text",61),s(3),i(),r(4,"text",62),s(5),i()()),l&2){let t=e.$implicit,o=e.index,n=g(2);c(),ut("cx",t.x)("cy",t.y)("fill",o===0||o===n.bezierPoints.length-1&&n.bezierPoints.length===4?"#ff4444":"#4444ff")("stroke","white")("stroke-width",3)("opacity",.9),c(),ut("x",t.x)("y",t.y+1),c(),E(" ",o+1," "),c(),ut("x",t.x)("y",t.y-20),c(),E(" ",o===0?"\uC2DC\uC791":o===1?"\uC870\uC8081":o===2?"\uC870\uC8082":"\uB05D"," ")}}function nr(l,e){if(l&1&&(mt(),r(0,"g"),B(1,er,6,12,"g",59),i()),l&2){let t=g();c(),f("ngForOf",t.bezierPoints)}}function or(l,e){if(l&1&&(mt(),R(0,"circle",64)),l&2){let t=e.$implicit;ut("cx",t.x)("cy",t.y)}}function ir(l,e){if(l&1&&(mt(),r(0,"g"),B(1,or,1,2,"circle",63),i()),l&2){let t=g();c(),f("ngForOf",t.currentPoints)}}function rr(l,e){if(l&1){let t=F();r(0,"div",68),M("click",function(){let n=C(t).$implicit,a=g(2);return _(a.selectPath(n))}),r(1,"div",69),mt(),r(2,"svg",70),R(3,"path",71),i()(),Qt(),r(4,"div",72)(5,"div",73),s(6),i(),r(7,"div",74),s(8),i()(),r(9,"button",75),M("click",function(n){let a=C(t).$implicit;return g(2).deletePath(a),_(n.stopPropagation())}),s(10," \u2715 "),i()()}if(l&2){let t=e.$implicit,o=e.index,n=g(2);H("selected",n.selectedPath===t),c(3),ut("d",t.d)("stroke",t.stroke)("stroke-width",n.Math.max(1,t.strokeWidth/2))("fill",t.fill)("fill-opacity",t.fillOpacity)("stroke-opacity",t.strokeOpacity),c(3),E("\uD328\uC2A4 ",o+1),c(2),ht(" ",t.stroke," / ",t.strokeWidth,"px ")}}function ar(l,e){if(l&1&&(r(0,"div",65)(1,"h4"),s(2),i(),r(3,"div",66),B(4,rr,11,11,"div",67),i()()),l&2){let t=g();c(2),E("\uD328\uC2A4 \uBAA9\uB85D (",t.paths.length,"\uAC1C)"),c(2),f("ngForOf",t.paths)("ngForTrackBy",t.trackByPath)}}function sr(l,e){l&1&&(r(0,"div",76)(1,"h5"),s(2,"\uD0A4\uBCF4\uB4DC \uB2E8\uCD95\uD0A4"),i(),r(3,"ul")(4,"li")(5,"strong"),s(6,"Del"),i(),s(7,": \uC120\uD0DD\uD55C \uD328\uC2A4 \uC0AD\uC81C"),i(),r(8,"li")(9,"strong"),s(10,"Esc"),i(),s(11,": \uD604\uC7AC \uADF8\uB9AC\uAE30 \uCDE8\uC18C"),i(),r(12,"li")(13,"strong"),s(14,"Ctrl+Z"),i(),s(15,": \uC2E4\uD589 \uCDE8\uC18C"),i()()())}var Pe=class l{svgCanvas;canvasContainer;width=800;height=600;backgroundColor="#ffffff";gridSize=20;showGrid=!0;snapToGrid=!1;pathsChanged=new L;pathSelected=new L;Math=Math;drawingTools=[{type:"pen",name:"\uD39C \uB3C4\uAD6C",icon:"\u270F\uFE0F"},{type:"brush",name:"\uBE0C\uB7EC\uC2DC (\uC790\uC720 \uADF8\uB9AC\uAE30)",icon:"\u{1F58C}\uFE0F"},{type:"eraser",name:"\uC9C0\uC6B0\uAC1C",icon:"\u{1F9FD}"},{type:"bezier",name:"\uBCA0\uC9C0\uC5B4 \uACE1\uC120",icon:"\u{1F30A}"},{type:"line",name:"\uC9C1\uC120",icon:"\u{1F4CF}"},{type:"rectangle",name:"\uC0AC\uAC01\uD615",icon:"\u2B1C"},{type:"ellipse",name:"\uD0C0\uC6D0",icon:"\u2B55"},{type:"polygon",name:"\uB2E4\uAC01\uD615",icon:"\u{1F537}"}];currentTool="pen";currentStroke="#000000";currentStrokeWidth=2;currentFill="none";currentFillOpacity=1;currentStrokeOpacity=1;paths=[];selectedPath=null;previewPath=null;isDrawing=!1;currentPoints=[];startPoint=null;isFreeDraw=!1;freeDrawPath="";lastPoint=null;isErasing=!1;eraserSize=20;bezierPoints=[];showControlPoints=!0;zoom=1;panX=0;panY=0;selectedPoints=[];draggingPoint=null;constructor(){}ngOnInit(){this.setupEventListeners()}ngOnDestroy(){this.removeEventListeners()}setupEventListeners(){}removeEventListeners(){}selectTool(e){this.currentTool==="bezier"&&e!=="bezier"&&(this.removeTemporaryBezierPath(),this.bezierPoints=[]),this.currentTool=e,this.finishCurrentPath()}setStroke(e){this.currentStroke=e,this.selectedPath&&(this.selectedPath.stroke=e,this.emitPathsChanged())}setStrokeWidth(e){this.currentStrokeWidth=e,this.selectedPath&&(this.selectedPath.strokeWidth=e,this.emitPathsChanged())}setFill(e){this.currentFill=e,this.selectedPath&&(this.selectedPath.fill=e,this.emitPathsChanged())}onMouseDown(e){let t=this.getMousePoint(e);switch(this.currentTool){case"pen":this.startPenDrawing(t);break;case"brush":this.startFreeDrawing(t);break;case"eraser":this.startErasing(t);break;case"bezier":this.handleBezierPoint(t);break;case"line":case"rectangle":case"ellipse":this.startShapeDrawing(t);break;case"polygon":this.handlePolygonPoint(t);break}}onMouseMove(e){if(!this.isDrawing&&!this.isFreeDraw&&!this.isErasing)return;let t=this.getMousePoint(e);switch(this.currentTool){case"pen":this.continuePenDrawing(t);break;case"brush":this.continueFreeDrawing(t);break;case"eraser":this.continueErasing(t);break;case"line":case"rectangle":case"ellipse":this.updateShapePreview(t);break}}onMouseUp(e){let t=this.getMousePoint(e);switch(this.currentTool){case"pen":this.finishPenDrawing();break;case"brush":this.finishFreeDrawing();break;case"eraser":this.finishErasing();break;case"line":case"rectangle":case"ellipse":this.finishShapeDrawing(t);break}}getMousePoint(e){let t=this.svgCanvas.nativeElement.getBoundingClientRect(),o=(e.clientX-t.left)/this.zoom-this.panX,n=(e.clientY-t.top)/this.zoom-this.panY;return this.snapToGrid&&(o=Math.round(o/this.gridSize)*this.gridSize,n=Math.round(n/this.gridSize)*this.gridSize),{x:o,y:n}}startPenDrawing(e){this.isDrawing=!0,this.currentPoints=[{x:e.x,y:e.y,type:"M"}]}continuePenDrawing(e){this.currentPoints.push({x:e.x,y:e.y,type:"L"}),this.updatePreviewPath()}finishPenDrawing(){if(this.currentPoints.length>1){let e=this.pointsToPathData(this.currentPoints);this.addPath(e)}this.isDrawing=!1,this.currentPoints=[],this.previewPath=null}handleBezierPoint(e){let t={x:Math.round(e.x*10)/10,y:Math.round(e.y*10)/10,type:"M"};if(this.bezierPoints.length>0){let o=this.bezierPoints[this.bezierPoints.length-1],n=Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2));if(n<5){console.log("\uC810\uC774 \uB108\uBB34 \uAC00\uAE4C\uC6CC \uBB34\uC2DC\uB428:",n);return}}if(this.bezierPoints.push(t),console.log(`\uBCA0\uC9C0\uC5B4 \uC810 ${this.bezierPoints.length} \uCD94\uAC00:`,t),this.bezierPoints.length>=2&&this.updateBezierPreview(),this.bezierPoints.length===4){this.removeTemporaryBezierPath();let o=this.createBezierPath(this.bezierPoints);this.addPath(o),this.bezierPoints=[],console.log("\uBCA0\uC9C0\uC5B4 \uACE1\uC120 \uC644\uC131")}}updateBezierPreview(){let e=this.createBezierPathProgressive(this.bezierPoints),t=this.paths.findIndex(n=>n.id.startsWith("temp-bezier-")),o={id:"temp-bezier-current",d:e,stroke:this.currentStroke,strokeWidth:this.currentStrokeWidth,fill:this.currentFill,fillOpacity:this.currentFillOpacity,strokeOpacity:this.currentStrokeOpacity*.7};t>=0?this.paths[t]=o:this.paths.push(o),this.pathsChanged.emit(this.paths)}removeTemporaryBezierPath(){let e=this.paths.length;this.paths=this.paths.filter(t=>!t.id.startsWith("temp-bezier-")),this.paths.length!==e&&(console.log("\uC784\uC2DC \uBCA0\uC9C0\uC5B4 \uD328\uC2A4 \uC81C\uAC70\uB428"),this.pathsChanged.emit(this.paths))}createBezierPathProgressive(e){if(e.length<2)return"";let t=`M ${e[0].x} ${e[0].y}`;return e.length===2?t+=` L ${e[1].x} ${e[1].y}`:e.length===3?t+=` Q ${e[1].x} ${e[1].y} ${e[2].x} ${e[2].y}`:e.length>=4&&(t+=` C ${e[1].x} ${e[1].y} ${e[2].x} ${e[2].y} ${e[3].x} ${e[3].y}`),t}createBezierPath(e){if(e.length!==4)return"";let[t,o,n,a]=e;return`M ${t.x} ${t.y} C ${o.x} ${o.y} ${n.x} ${n.y} ${a.x} ${a.y}`}startShapeDrawing(e){this.isDrawing=!0,this.startPoint=e}updateShapePreview(e){if(!this.startPoint)return;let t=this.getShapePathData(this.startPoint,e);this.previewPath={id:"preview",d:t,stroke:this.currentStroke,strokeWidth:this.currentStrokeWidth,fill:this.currentFill,fillOpacity:this.currentFillOpacity,strokeOpacity:this.currentStrokeOpacity}}finishShapeDrawing(e){if(!this.startPoint)return;let t=this.getShapePathData(this.startPoint,e);this.addPath(t),this.isDrawing=!1,this.startPoint=null,this.previewPath=null}getShapePathData(e,t){let o=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y),a=Math.min(e.x,t.x),d=Math.min(e.y,t.y);switch(this.currentTool){case"line":return`M ${e.x} ${e.y} L ${t.x} ${t.y}`;case"rectangle":return`M ${a} ${d} L ${a+o} ${d} L ${a+o} ${d+n} L ${a} ${d+n} Z`;case"ellipse":let p=a+o/2,m=d+n/2,u=o/2,h=n/2;return`M ${p-u} ${m} A ${u} ${h} 0 1 0 ${p+u} ${m} A ${u} ${h} 0 1 0 ${p-u} ${m}`;default:return""}}handlePolygonPoint(e){this.currentPoints.push({x:e.x,y:e.y,type:this.currentPoints.length===0?"M":"L"}),this.updatePreviewPath()}finishPolygon(){if(this.currentPoints.length>2){this.currentPoints.push({x:0,y:0,type:"Z"});let e=this.pointsToPathData(this.currentPoints);this.addPath(e)}this.currentPoints=[],this.previewPath=null}pointsToPathData(e){return e.map(t=>{switch(t.type){case"M":return`M ${t.x} ${t.y}`;case"L":return`L ${t.x} ${t.y}`;case"C":return`C ${t.controlPoint1?.x} ${t.controlPoint1?.y} ${t.controlPoint2?.x} ${t.controlPoint2?.y} ${t.x} ${t.y}`;case"Z":return"Z";default:return`L ${t.x} ${t.y}`}}).join(" ")}updatePreviewPath(){this.currentPoints.length!==0&&(this.previewPath={id:"preview",d:this.pointsToPathData(this.currentPoints),stroke:this.currentStroke,strokeWidth:this.currentStrokeWidth,fill:"none",fillOpacity:this.currentFillOpacity,strokeOpacity:this.currentStrokeOpacity})}addPath(e){let t={id:this.generatePathId(),d:e,stroke:this.currentStroke,strokeWidth:this.currentStrokeWidth,fill:this.currentFill,fillOpacity:this.currentFillOpacity,strokeOpacity:this.currentStrokeOpacity};this.paths.push(t),this.emitPathsChanged()}generatePathId(){return"path_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}selectPath(e){this.selectedPath=e,this.pathSelected.emit(e)}deletePath(e){let t=this.paths.indexOf(e);t>-1&&(this.paths.splice(t,1),this.selectedPath===e&&(this.selectedPath=null,this.pathSelected.emit(null)),this.emitPathsChanged())}deleteSelectedPath(){this.selectedPath&&this.deletePath(this.selectedPath)}finishCurrentPath(){this.isDrawing=!1,this.isFreeDraw=!1,this.isErasing=!1,this.currentPoints=[],this.bezierPoints.length>0&&(this.removeTemporaryBezierPath(),this.bezierPoints=[]),this.startPoint=null,this.previewPath=null,this.freeDrawPath="",this.lastPoint=null}clearAll(){this.paths=[],this.selectedPath=null,this.finishCurrentPath(),this.emitPathsChanged(),this.pathSelected.emit(null)}undo(){this.paths.length>0&&(this.paths.pop(),this.emitPathsChanged())}emitPathsChanged(){this.pathsChanged.emit([...this.paths])}zoomIn(){this.zoom=Math.min(this.zoom*1.2,5)}zoomOut(){this.zoom=Math.max(this.zoom/1.2,.2)}resetView(){this.zoom=1,this.panX=0,this.panY=0}exportToSVG(){let e=this.svgCanvas.nativeElement;return new XMLSerializer().serializeToString(e)}startFreeDrawing(e){this.isFreeDraw=!0,this.isDrawing=!0,this.lastPoint=e,this.freeDrawPath=`M ${e.x} ${e.y}`,this.previewPath={id:"preview",d:this.freeDrawPath,stroke:this.currentStroke,strokeWidth:this.currentStrokeWidth,fill:"none",fillOpacity:this.currentFillOpacity,strokeOpacity:this.currentStrokeOpacity}}continueFreeDrawing(e){if(!this.isFreeDraw||!this.lastPoint)return;let t=e.x-this.lastPoint.x,o=e.y-this.lastPoint.y;if(Math.sqrt(t*t+o*o)>2){let a=(this.lastPoint.x+e.x)/2,d=(this.lastPoint.y+e.y)/2;this.freeDrawPath+=` Q ${this.lastPoint.x} ${this.lastPoint.y} ${a} ${d}`,this.lastPoint=e,this.previewPath&&(this.previewPath.d=this.freeDrawPath)}}finishFreeDrawing(){if(!this.isFreeDraw||!this.freeDrawPath)return;let e={id:this.generateId(),d:this.freeDrawPath,stroke:this.currentStroke,strokeWidth:this.currentStrokeWidth,fill:"none",fillOpacity:this.currentFillOpacity,strokeOpacity:this.currentStrokeOpacity};this.paths.push(e),this.selectedPath=e,this.isFreeDraw=!1,this.isDrawing=!1,this.freeDrawPath="",this.lastPoint=null,this.previewPath=null,this.emitPathsChanged(),this.pathSelected.emit(e)}startErasing(e){this.isErasing=!0,this.eraseAtPoint(e)}continueErasing(e){this.isErasing&&this.eraseAtPoint(e)}finishErasing(){this.isErasing=!1}eraseAtPoint(e){let t=this.eraserSize/2,o=[];this.paths.forEach(n=>{this.isPathIntersectingEraser(n,e,t)&&o.push(n)}),o.length>0&&(o.forEach(n=>{let a=this.paths.indexOf(n);a>-1&&this.paths.splice(a,1)}),o.includes(this.selectedPath)&&(this.selectedPath=null,this.pathSelected.emit(null)),this.emitPathsChanged())}isPathIntersectingEraser(e,t,o){let a=e.d.match(/([ML])\s*([\d.-]+)\s*([\d.-]+)/g);if(!a)return!1;for(let d of a){let p=d.match(/([ML])\s*([\d.-]+)\s*([\d.-]+)/);if(p){let m=parseFloat(p[2]),u=parseFloat(p[3]);if(Math.sqrt(Math.pow(m-t.x,2)+Math.pow(u-t.y,2))<=o)return!0}}return!1}generateId(){return"path-"+Math.random().toString(36).substr(2,9)+"-"+Date.now()}getPathsData(){return[...this.paths]}loadPaths(e){this.paths=[...e],this.selectedPath=null,this.emitPathsChanged(),this.pathSelected.emit(null)}onKeyDown(e){e.key==="Delete"&&this.selectedPath?this.deleteSelectedPath():e.key==="Escape"?this.finishCurrentPath():e.ctrlKey&&e.key==="z"&&(e.preventDefault(),this.undo())}trackByPath(e,t){return t.id}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ct({type:l,selectors:[["app-vector-path-drawer"]],viewQuery:function(t,o){if(t&1&&(It(Ai,7),It(Ii,7)),t&2){let n;Vt(n=Ft())&&(o.svgCanvas=n.first),Vt(n=Ft())&&(o.canvasContainer=n.first)}},hostBindings:function(t,o){t&1&&M("keydown",function(a){return o.onKeyDown(a)},Ct)},inputs:{width:"width",height:"height",backgroundColor:"backgroundColor",gridSize:"gridSize",showGrid:"showGrid",snapToGrid:"snapToGrid"},outputs:{pathsChanged:"pathsChanged",pathSelected:"pathSelected"},standalone:!1,decls:83,vars:43,consts:[["canvasContainer",""],["svgCanvas",""],[1,"vector-path-drawer"],[1,"tools-panel"],[1,"drawing-tools"],["class","tool-btn",3,"active","title","click",4,"ngFor","ngForOf"],[1,"style-controls"],[1,"control-group"],["type","color",1,"color-picker",3,"input","value"],["type","range","min","1","max","20",1,"range-input",3,"input","value"],[1,"value"],[1,"toggle-btn",3,"click"],["type","range","min","0","max","1","step","0.1",1,"range-input",3,"input","value"],["class","control-group",4,"ngIf"],[1,"view-controls"],[1,"button-group"],[1,"control-btn",3,"click"],["type","checkbox",1,"checkbox",3,"ngModelChange","ngModel"],[1,"zoom-info"],[1,"action-buttons"],["class","action-btn finish",3,"click",4,"ngIf"],["class","action-btn cancel",3,"click",4,"ngIf"],["class","action-btn delete",3,"click",4,"ngIf"],[1,"action-btn","undo",3,"click","disabled"],[1,"action-btn","clear",3,"click","disabled"],["class","bezier-guide",4,"ngIf"],["class","brush-guide",4,"ngIf"],["class","eraser-guide",4,"ngIf"],["class","polygon-guide",4,"ngIf"],[1,"canvas-area"],[1,"canvas-header"],[1,"canvas-info"],[1,"canvas-container"],[1,"svg-canvas",3,"mousedown","mousemove","mouseup"],[4,"ngIf"],["width","100%","height","100%","fill","url(#grid)",4,"ngIf"],["class","vector-path",3,"selected","brush-path","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"preview-path","brush-preview",4,"ngIf"],["class","paths-list",4,"ngIf"],["class","keyboard-shortcuts",4,"ngIf"],[1,"tool-btn",3,"click","title"],[1,"tool-icon"],[1,"tool-name"],[1,"action-btn","finish",3,"click"],[1,"action-btn","cancel",3,"click"],[1,"action-btn","delete",3,"click"],[1,"bezier-guide"],[1,"progress"],[1,"brush-guide"],["class","drawing-status",4,"ngIf"],[1,"drawing-status"],[1,"status-indicator"],[1,"eraser-guide"],["type","range","min","10","max","50",1,"range-input",3,"input","value"],[1,"polygon-guide"],["id","grid","patternUnits","userSpaceOnUse"],["fill","none","stroke","#e0e0e0","stroke-width","0.5"],["width","100%","height","100%","fill","url(#grid)"],[1,"vector-path",3,"click"],[4,"ngFor","ngForOf"],["r","12",1,"control-point","bezier-point"],["text-anchor","middle","alignment-baseline","middle","fill","white","font-size","12","font-weight","bold",1,"control-point-number"],["text-anchor","middle","fill","#333","font-size","10","font-weight","bold",1,"control-point-label"],["r","3","fill","#ff4444","class","polygon-point",4,"ngFor","ngForOf"],["r","3","fill","#ff4444",1,"polygon-point"],[1,"paths-list"],[1,"path-items"],["class","path-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"path-item",3,"click"],[1,"path-preview"],["width","40","height","20","viewBox","0 0 40 20"],["transform","scale(0.1) translate(0, 0)"],[1,"path-info"],[1,"path-name"],[1,"path-details"],["title","\uC0AD\uC81C",1,"delete-path-btn",3,"click"],[1,"keyboard-shortcuts"]],template:function(t,o){if(t&1){let n=F();r(0,"div",2)(1,"div",3)(2,"h3"),s(3,"\uBCA1\uD130 \uADF8\uB9AC\uAE30 \uB3C4\uAD6C"),i(),r(4,"div",4),B(5,Vi,5,5,"button",5),i(),r(6,"div",6)(7,"h4"),s(8,"\uC2A4\uD0C0\uC77C \uC124\uC815"),i(),r(9,"div",7)(10,"label"),s(11,"\uC120 \uC0C9\uC0C1:"),i(),r(12,"input",8),M("input",function(d){return C(n),_(o.setStroke(d.target.value))}),i()(),r(13,"div",7)(14,"label"),s(15,"\uC120 \uB450\uAED8:"),i(),r(16,"input",9),M("input",function(d){return C(n),_(o.setStrokeWidth(+d.target.value))}),i(),r(17,"span",10),s(18),i()(),r(19,"div",7)(20,"label"),s(21,"\uCC44\uC6B0\uAE30:"),i(),r(22,"input",8),M("input",function(d){return C(n),_(o.setFill(d.target.value))}),i(),r(23,"button",11),M("click",function(){return C(n),_(o.setFill(o.currentFill==="none"?"#ffffff":"none"))}),s(24),i()(),r(25,"div",7)(26,"label"),s(27,"\uC120 \uD22C\uBA85\uB3C4:"),i(),r(28,"input",12),M("input",function(d){return C(n),_(o.currentStrokeOpacity=+d.target.value)}),i(),r(29,"span",10),s(30),i()(),B(31,Fi,6,2,"div",13),i(),r(32,"div",14)(33,"h4"),s(34,"\uBDF0 \uCEE8\uD2B8\uB864"),i(),r(35,"div",15)(36,"button",16),M("click",function(){return C(n),_(o.zoomIn())}),s(37,"\uD655\uB300 (+)"),i(),r(38,"button",16),M("click",function(){return C(n),_(o.zoomOut())}),s(39,"\uCD95\uC18C (-)"),i(),r(40,"button",16),M("click",function(){return C(n),_(o.resetView())}),s(41,"\uB9AC\uC14B"),i()(),r(42,"div",7)(43,"label")(44,"input",17),j("ngModelChange",function(d){return C(n),W(o.showGrid,d)||(o.showGrid=d),_(d)}),i(),s(45," \uACA9\uC790 \uD45C\uC2DC "),i()(),r(46,"div",7)(47,"label")(48,"input",17),j("ngModelChange",function(d){return C(n),W(o.snapToGrid,d)||(o.snapToGrid=d),_(d)}),i(),s(49," \uACA9\uC790\uC5D0 \uB9DE\uCDA4 "),i()(),r(50,"div",18),s(51),i()(),r(52,"div",19),B(53,$i,2,0,"button",20)(54,zi,2,0,"button",21)(55,Gi,2,0,"button",22),r(56,"button",23),M("click",function(){return C(n),_(o.undo())}),s(57," \uC2E4\uD589 \uCDE8\uC18C "),i(),r(58,"button",24),M("click",function(){return C(n),_(o.clearAll())}),s(59," \uBAA8\uB450 \uC9C0\uC6B0\uAE30 "),i()(),B(60,Yi,21,18,"div",25)(61,Ui,13,1,"div",26)(62,qi,12,3,"div",27)(63,Ki,7,1,"div",28),i(),r(64,"div",29)(65,"div",30)(66,"h3"),s(67,"\uBCA1\uD130 \uCE94\uBC84\uC2A4"),i(),r(68,"div",31),s(69),i()(),r(70,"div",32,0),mt(),r(72,"svg",33,1),M("mousedown",function(d){return C(n),_(o.onMouseDown(d))})("mousemove",function(d){return C(n),_(o.onMouseMove(d))})("mouseup",function(d){return C(n),_(o.onMouseUp(d))}),s(74,"> "),B(75,Ji,3,3,"defs",34)(76,Zi,1,0,"rect",35)(77,Qi,1,13,"path",36)(78,tr,1,12,"path",37)(79,nr,2,1,"g",34)(80,ir,2,1,"g",34),i()(),B(81,ar,5,3,"div",38),i()(),B(82,sr,16,0,"div",39)}t&2&&(c(5),f("ngForOf",o.drawingTools),c(7),f("value",o.currentStroke),c(4),f("value",o.currentStrokeWidth),c(2),E("",o.currentStrokeWidth,"px"),c(4),f("value",o.currentFill==="none"?"#ffffff":o.currentFill),c(),H("active",o.currentFill!=="none"),c(),E(" ",o.currentFill==="none"?"\uCC44\uC6B0\uAE30 \uC5C6\uC74C":"\uCC44\uC6B0\uAE30 \uC788\uC74C"," "),c(4),f("value",o.currentStrokeOpacity),c(2),E("",(o.currentStrokeOpacity*100).toFixed(0),"%"),c(),f("ngIf",o.currentFill!=="none"),c(13),N("ngModel",o.showGrid),c(4),N("ngModel",o.snapToGrid),c(3),E(" \uC90C: ",(o.zoom*100).toFixed(0),"% "),c(2),f("ngIf",o.currentTool==="polygon"&&o.currentPoints.length>2),c(),f("ngIf",o.isDrawing),c(),f("ngIf",o.selectedPath),c(),f("disabled",o.paths.length===0),c(2),f("disabled",o.paths.length===0),c(2),f("ngIf",o.currentTool==="bezier"),c(),f("ngIf",o.currentTool==="brush"),c(),f("ngIf",o.currentTool==="eraser"),c(),f("ngIf",o.currentTool==="polygon"),c(6),qt(" ",o.width," \xD7 ",o.height," | ",o.paths.length,"\uAC1C \uD328\uC2A4 "),c(),q("background-color",o.backgroundColor),c(2),q("transform","scale("+o.zoom+") translate("+o.panX+"px, "+o.panY+"px)"),ut("width",o.width)("height",o.height)("viewBox","0 0 "+o.width+" "+o.height)("data-tool",o.currentTool),c(3),f("ngIf",o.showGrid),c(),f("ngIf",o.showGrid),c(),f("ngForOf",o.paths)("ngForTrackBy",o.trackByPath),c(),f("ngIf",o.previewPath),c(),f("ngIf",o.currentTool==="bezier"&&o.showControlPoints),c(),f("ngIf",o.currentTool==="polygon"),c(),f("ngIf",o.paths.length>0),c(),f("ngIf",!1))},dependencies:[_t,dt,Le,ft,Pt],styles:[".vector-path-drawer[_ngcontent-%COMP%]{display:flex;height:100vh;background:#f5f5f5;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]{width:300px;background:#fff;border-right:1px solid #e0e0e0;padding:20px;overflow-y:auto;box-shadow:2px 0 5px #0000001a}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px;color:#333}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;border-bottom:2px solid #4285f4;padding-bottom:10px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-top:25px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:13px;font-weight:600;margin-top:15px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px;margin-bottom:25px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer;transition:all .2s ease}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#4285f4}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .tool-btn.active[_ngcontent-%COMP%]{background:#4285f4;color:#fff;border-color:#4285f4}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:10px;min-width:24px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]   .tool-name[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]{margin-bottom:25px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:5px;color:#555}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]{width:100%;height:35px;border:1px solid #ddd;border-radius:4px;cursor:pointer}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:11px;color:#666;text-align:right}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:12px;margin-top:5px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover, .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#4285f4;color:#fff;border-color:#4285f4}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{width:auto;margin-right:8px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:has(.checkbox), .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:has(.checkbox){flex-direction:row;align-items:center;font-size:12px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px;margin-bottom:15px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{padding:8px 4px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:11px;transition:background .2s}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover, .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .zoom-info[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   .zoom-info[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;padding:8px;background:#f8f9fa;border-radius:4px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:12px;font-weight:500;transition:all .2s}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 2px 5px #0000001a}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.finish[_ngcontent-%COMP%]{background:#34a853;color:#fff;border-color:#34a853}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.cancel[_ngcontent-%COMP%]{background:#fbbc04;color:#333;border-color:#fbbc04}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.delete[_ngcontent-%COMP%]{background:#ea4335;color:#fff;border-color:#ea4335}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.undo[_ngcontent-%COMP%]{background:#4285f4;color:#fff;border-color:#4285f4}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.clear[_ngcontent-%COMP%]{background:#ea4335;color:#fff;border-color:#ea4335}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]{background:#e8f4ff;padding:15px;border-radius:6px;border-left:4px solid #4285f4;margin-top:20px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:12px;color:#555}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:10px 0 10px 20px;padding:0}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px;color:#666;margin-bottom:3px;transition:all .3s ease}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]{color:#28a745;font-weight:600;background:#28a7451a;padding:2px 4px;border-radius:3px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:#4285f4;color:#fff;padding:6px 10px;border-radius:4px;font-size:11px;font-weight:600;text-align:center;margin-top:10px}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .bezier-guide[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]   .polygon-guide[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:4px;font-size:10px;opacity:.9;font-style:italic}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:#fff}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:#f8f9fa;border-bottom:1px solid #e0e0e0}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-header[_ngcontent-%COMP%]   .canvas-info[_ngcontent-%COMP%]{font-size:12px;color:#666}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;display:flex;justify-content:center;align-items:center}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;cursor:crosshair;transition:transform .2s ease}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .vector-path[_ngcontent-%COMP%]{cursor:pointer;transition:stroke-width .2s}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .vector-path[_ngcontent-%COMP%]:hover{stroke-width:attr(stroke-width)1}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .vector-path.selected[_ngcontent-%COMP%]{stroke-dasharray:5,5;animation:_ngcontent-%COMP%_dash 1s linear infinite}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .preview-path[_ngcontent-%COMP%]{opacity:.7;stroke-dasharray:3,3}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .control-point[_ngcontent-%COMP%]{cursor:pointer;stroke:#fff;stroke-width:2;transition:all .2s ease}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .control-point[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .control-point.bezier-point[_ngcontent-%COMP%]{stroke-width:3;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .control-point.bezier-point[_ngcontent-%COMP%]:hover{transform:scale(1.15);filter:drop-shadow(0 3px 6px rgba(0,0,0,.3))}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .control-point-number[_ngcontent-%COMP%]{pointer-events:none;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .control-point-label[_ngcontent-%COMP%]{pointer-events:none;background:#ffffffe6;padding:2px 4px;border-radius:3px;font-family:Segoe UI,sans-serif}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .svg-canvas[_ngcontent-%COMP%]   .polygon-point[_ngcontent-%COMP%]{cursor:pointer;stroke:#fff;stroke-width:1}@keyframes _ngcontent-%COMP%_dash{to{stroke-dashoffset:-10}}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding:15px 20px;background:#f8f9fa;border-top:1px solid #e0e0e0}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:14px;color:#333}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background:#fff;border:1px solid #ddd;border-radius:4px;cursor:pointer;transition:all .2s}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translateY(-1px);box-shadow:0 2px 5px #0000001a}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item.selected[_ngcontent-%COMP%]{border-color:#4285f4;background:#e8f4ff}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   .path-preview[_ngcontent-%COMP%]{margin-right:12px;border:1px solid #ddd;border-radius:2px;background:#fff}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   .path-info[_ngcontent-%COMP%]{flex:1}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   .path-info[_ngcontent-%COMP%]   .path-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#333;margin-bottom:2px}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   .path-info[_ngcontent-%COMP%]   .path-details[_ngcontent-%COMP%]{font-size:10px;color:#666}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   .delete-path-btn[_ngcontent-%COMP%]{width:24px;height:24px;border:none;border-radius:50%;background:#ea4335;color:#fff;cursor:pointer;font-size:12px;display:flex;align-items:center;justify-content:center;transition:all .2s}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]   .paths-list[_ngcontent-%COMP%]   .path-items[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   .delete-path-btn[_ngcontent-%COMP%]:hover{background:#d33b2c;transform:scale(1.1)}.vector-path-drawer[_ngcontent-%COMP%]   .keyboard-shortcuts[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background:#000c;color:#fff;padding:15px;border-radius:6px;font-size:12px;max-width:250px}.vector-path-drawer[_ngcontent-%COMP%]   .keyboard-shortcuts[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 10px;font-size:13px}.vector-path-drawer[_ngcontent-%COMP%]   .keyboard-shortcuts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:15px}.vector-path-drawer[_ngcontent-%COMP%]   .keyboard-shortcuts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.vector-path-drawer[_ngcontent-%COMP%]   .keyboard-shortcuts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#4285f4}@media (max-width: 768px){.vector-path-drawer[_ngcontent-%COMP%]{flex-direction:column;height:auto}.vector-path-drawer[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]{width:100%;max-height:300px;order:2}.vector-path-drawer[_ngcontent-%COMP%]   .canvas-area[_ngcontent-%COMP%]{order:1;min-height:400px}}.brush-guide[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:15px;border-radius:8px;margin-bottom:20px}.brush-guide[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px;color:#fff}.brush-guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-bottom:8px;opacity:.9}.brush-guide[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:11px;margin:8px 0;padding-left:15px;opacity:.9}.brush-guide[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:3px}.brush-guide[_ngcontent-%COMP%]   .drawing-status[_ngcontent-%COMP%]{margin-top:12px;padding:8px;background:#ffffff1a;border-radius:4px;text-align:center}.brush-guide[_ngcontent-%COMP%]   .drawing-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{font-size:12px;font-weight:600;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.6}to{opacity:1}}.eraser-guide[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24);color:#fff;padding:15px;border-radius:8px;margin-bottom:20px}.eraser-guide[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px;color:#fff}.eraser-guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-bottom:12px;opacity:.9}.eraser-guide[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{margin-bottom:12px}.eraser-guide[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:5px;display:block;opacity:.9}.eraser-guide[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.eraser-guide[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:11px;opacity:.8}.eraser-guide[_ngcontent-%COMP%]   .drawing-status[_ngcontent-%COMP%]{margin-top:12px;padding:8px;background:#ffffff1a;border-radius:4px;text-align:center}.eraser-guide[_ngcontent-%COMP%]   .drawing-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{font-size:12px;font-weight:600;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.svg-canvas[data-tool=brush][_ngcontent-%COMP%]{cursor:crosshair}.svg-canvas[data-tool=brush][_ngcontent-%COMP%]:active{cursor:none}.svg-canvas[data-tool=eraser][_ngcontent-%COMP%]{cursor:grab}.svg-canvas[data-tool=eraser][_ngcontent-%COMP%]:active{cursor:grabbing}.preview-path[_ngcontent-%COMP%]{opacity:.7;filter:drop-shadow(0 0 2px rgba(0,0,0,.3))}.preview-path.brush-preview[_ngcontent-%COMP%]{stroke-linecap:round;stroke-linejoin:round}.vector-path[_ngcontent-%COMP%]{cursor:pointer}.vector-path.brush-path[_ngcontent-%COMP%]{stroke-linecap:round;stroke-linejoin:round;filter:drop-shadow(0 1px 2px rgba(0,0,0,.2))}.vector-path.selected[_ngcontent-%COMP%]{filter:drop-shadow(0 0 4px rgba(66,133,244,.8))}.vector-path[_ngcontent-%COMP%]:hover{opacity:.8}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})};var lr=["vectorPathDrawer"],dr=["signatureCanvas"],gr=["pdfContainer"],pr=()=>({current:0,total:0}),xe=()=>[];function ur(l,e){if(l&1){let t=F();r(0,"app-pdf-analysis-dashboard",30),M("closeEvent",function(){C(t);let n=g();return _(n.closePdfAnalysisDashboard())})("createSvgPdfEvent",function(n){C(t);let a=g();return _(a.createPdfFromVectorSvg(n))})("createTextStructureDocEvent",function(){C(t);let n=g();return _(n.createNewFromStructure())})("createCombinedDocEvent",function(){C(t);let n=g();return _(n.createCombinedDocument())})("requestMinimapEvent",function(n){C(t);let a=g();return _(a.generateVectorMinimap(n))})("exportPdfEvent",function(){C(t);let n=g();return _(n.exportPdfFromDashboard())})("createImagePdfEvent",function(n){C(t);let a=g();return _(a.loadImagePdfToEditor(n))}),i()}if(l&2){let t=g();f("analysisData",t.pdfAnalysisData)("isCollapsed",!1)("isDraggable",!0)("isCompact",!0)("vectorData",t.loadedVectorData)("vectorMinimaps",t.vectorMinimaps)("debugLogs",t.debugLogs)}}function mr(l,e){if(l&1&&(r(0,"div",40)(1,"strong"),s(2,"\uD398\uC774\uC9C0 1:"),i(),r(3,"ul")(4,"li"),s(5),i(),r(6,"li"),s(7),i(),r(8,"li"),s(9),i()()()),l&2){let t=g(2);c(5),E("\uBBF8\uB514\uC5B4\uBC15\uC2A4: [",(t.pdfStructureData.pageTree==null||t.pdfStructureData.pageTree.kids[0]==null||t.pdfStructureData.pageTree.kids[0].mediaBox==null?null:t.pdfStructureData.pageTree.kids[0].mediaBox.join(", "))||"N/A","]"),c(2),E("\uCF58\uD150\uCE20: ",(t.pdfStructureData.pageTree==null||t.pdfStructureData.pageTree.kids[0]==null?null:t.pdfStructureData.pageTree.kids[0].contents)||"N/A"),c(2),E("\uB9AC\uC18C\uC2A4: ",(t.pdfStructureData.pageTree==null||t.pdfStructureData.pageTree.kids[0]==null?null:t.pdfStructureData.pageTree.kids[0].resources)||"N/A")}}function Cr(l,e){if(l&1&&(r(0,"div",33)(1,"p")(2,"strong"),s(3,"\uC2A4\uD2B8\uB9BC 1 (\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0):"),i()(),r(4,"ul")(5,"li"),s(6),i(),r(7,"li"),s(8),i(),r(9,"li"),s(10),i()(),r(11,"p",34),s(12,"\uD398\uC774\uC9C0\uC758 \uC2E4\uC81C \uCF58\uD150\uCE20(\uD14D\uC2A4\uD2B8, \uADF8\uB798\uD53D)\uB97C \uD3EC\uD568\uD558\uB294 \uBC14\uC774\uB108\uB9AC \uB370\uC774\uD130\uC785\uB2C8\uB2E4. (\uD604\uC7AC \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uBD84\uC11D)"),i()()),l&2){let t=g(2);c(6),E("\uAE38\uC774: ",(t.pdfStructureData.contentStreams[0]==null?null:t.pdfStructureData.contentStreams[0].length)||0," bytes"),c(2),E("\uD544\uD130: ",(t.pdfStructureData.contentStreams[0]==null?null:t.pdfStructureData.contentStreams[0].filter)||"None"),c(2),E("\uB514\uCF54\uB4DC \uD30C\uB77C\uBBF8\uD130: ",(t.pdfStructureData.contentStreams[0]==null?null:t.pdfStructureData.contentStreams[0].decodeParams)||"N/A")}}function _r(l,e){if(l&1&&(r(0,"tr")(1,"td"),s(2),i(),r(3,"td"),s(4),i(),r(5,"td"),s(6),i(),r(7,"td"),s(8),i()()),l&2){let t=e.$implicit;c(2),T((t==null?null:t.objectNumber)||0),c(2),T((t==null?null:t.offset)||0),c(2),T((t==null?null:t.generation)||0),c(2),T(t!=null&&t.inUse?"\uC0AC\uC6A9\uC911":"\uBBF8\uC0AC\uC6A9")}}function hr(l,e){if(l&1&&(r(0,"div",41)(1,"p")(2,"strong"),s(3,"\uCC98\uC74C 5\uAC1C \uD56D\uBAA9:"),i()(),r(4,"table")(5,"tr")(6,"th"),s(7,"\uAC1D\uCCB4 \uBC88\uD638"),i(),r(8,"th"),s(9,"\uC624\uD504\uC14B"),i(),r(10,"th"),s(11,"\uC138\uB300"),i(),r(12,"th"),s(13,"\uC0C1\uD0DC"),i()(),B(14,_r,9,4,"tr",38),i()()),l&2){let t=g(2);c(14),f("ngForOf",((t.pdfStructureData.xrefTable==null?null:t.pdfStructureData.xrefTable.entries)||Gt(1,xe)).slice(0,5))}}function fr(l,e){if(l&1&&(r(0,"div"),s(1),i()),l&2){let t=e.$implicit;c(),qt(" - ",(t==null?null:t.name)||"N/A"," (",(t==null?null:t.subtype)||"N/A",", ",(t==null?null:t.encoding)||"N/A",") ")}}function Pr(l,e){if(l&1&&(r(0,"li"),s(1),i()),l&2){let t=e.$implicit,o=e.index;c(),ht(" ",o+1,". ",t," ")}}function xr(l,e){if(l&1&&(r(0,"li",50),s(1),i()),l&2){let t=g(3);c(),E(" ... \uC678 ",t.pdfStructureData.textStreamAnalysis.uniqueFonts.length-10,"\uAC1C \uB354 \uC788\uC74C ")}}function Mr(l,e){if(l&1&&(r(0,"div",60)(1,"span",61),s(2),i(),r(3,"span",62),s(4),i()()),l&2){let t=e.$implicit,o=e.index;c(2),E("",o+1,"."),c(2),T(t)}}function br(l,e){if(l&1&&(r(0,"div",63),s(1),i()),l&2){let t=g(4);c(),E(" ... \uC678 ",t.pdfStructureData.textStreamAnalysis.firstPageSample.sentenceCount-5,"\uAC1C \uBB38\uC7A5\uC774 \uB354 \uC788\uC2B5\uB2C8\uB2E4. ")}}function vr(l,e){if(l&1&&(r(0,"div",51)(1,"p")(2,"strong"),s(3,"\u{1F4C4} \uCCAB \uD398\uC774\uC9C0 \uC0C1\uC138 \uBD84\uC11D:"),i()(),r(4,"div",52)(5,"table",53)(6,"tr")(7,"td",54),s(8,"\uD398\uC774\uC9C0 \uBC88\uD638:"),i(),r(9,"td",55),s(10),i()(),r(11,"tr")(12,"td",54),s(13,"\uD398\uC774\uC9C0 \uD06C\uAE30:"),i(),r(14,"td",55),s(15),i()(),r(16,"tr")(17,"td",54),s(18,"\uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C:"),i(),r(19,"td",55),s(20),lt(21,"number"),i()(),r(22,"tr")(23,"td",54),s(24,"\uBB38\uC7A5 \uC218:"),i(),r(25,"td",55),s(26),lt(27,"number"),i()(),r(28,"tr")(29,"td",54),s(30,"\uB2E8\uC5B4 \uC218:"),i(),r(31,"td",55),s(32),lt(33,"number"),i()()()(),r(34,"p",56)(35,"strong"),s(36,"\u{1F4DD} \uCD94\uCD9C\uB41C \uD14D\uC2A4\uD2B8 \uC0D8\uD50C (\uCC98\uC74C 5\uAC1C \uBB38\uC7A5):"),i()(),r(37,"div",57),B(38,Mr,5,2,"div",58)(39,br,2,1,"div",59),i()()),l&2){let t=g(3);c(10),T(t.pdfStructureData.textStreamAnalysis.firstPageSample.pageNumber),c(5),E("",t.pdfStructureData.textStreamAnalysis.firstPageSample.dimensions," pts"),c(5),E("",gt(21,7,t.pdfStructureData.textStreamAnalysis.firstPageSample.textItemCount),"\uAC1C"),c(6),E("",gt(27,9,t.pdfStructureData.textStreamAnalysis.firstPageSample.sentenceCount),"\uAC1C"),c(6),E("",gt(33,11,t.pdfStructureData.textStreamAnalysis.firstPageSample.wordCount),"\uAC1C"),c(6),f("ngForOf",t.pdfStructureData.textStreamAnalysis.firstPageSample.sampleSentences),c(),f("ngIf",t.pdfStructureData.textStreamAnalysis.firstPageSample.sentenceCount>5)}}function Or(l,e){if(l&1&&(r(0,"div",96)(1,"span",97),s(2),i(),r(3,"span",98),s(4),i(),r(5,"span",99),s(6),i()()),l&2){let t=e.$implicit,o=e.index;c(2),E("",o+1,"."),c(),Fe("op-type-"+t.type),c(),T(t.operation),c(2),T(t.description)}}function yr(l,e){if(l&1&&(r(0,"div",100),s(1),i()),l&2){let t=g(9);c(),E(" ... \uC678 ",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].operations.length-10,"\uAC1C \uC5F0\uC0B0 ")}}function wr(l,e){if(l&1&&(r(0,"div",92)(1,"details")(2,"summary"),s(3,"\u{1F50D} \uC8FC\uC694 \uC5F0\uC0B0 \uBCF4\uAE30 (\uCC98\uC74C 10\uAC1C)"),i(),r(4,"div",93),B(5,Or,7,5,"div",94)(6,yr,2,1,"div",95),i()()()),l&2){let t=g(8);c(5),f("ngForOf",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].operations.slice(0,10)),c(),f("ngIf",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].operations.length>10)}}function Dr(l,e){if(l&1&&(r(0,"div",86)(1,"div",87)(2,"strong"),s(3),i(),r(4,"span",88),s(5),i()(),r(6,"div",89)(7,"div",90)(8,"span"),s(9,"\u{1F4CD} \uACBD\uB85C:"),i(),r(10,"span"),s(11),i()(),r(12,"div",90)(13,"span"),s(14,"\u{1F4CF} \uC9C1\uC120:"),i(),r(15,"span"),s(16),i()(),r(17,"div",90)(18,"span"),s(19,"\u3030\uFE0F \uACE1\uC120:"),i(),r(20,"span"),s(21),i()(),r(22,"div",90)(23,"span"),s(24,"\u25AD \uC0AC\uAC01\uD615:"),i(),r(25,"span"),s(26),i()(),r(27,"div",90)(28,"span"),s(29,"\u{1F3A8} \uCC44\uC6B0\uAE30:"),i(),r(30,"span"),s(31),i()(),r(32,"div",90)(33,"span"),s(34,"\u270F\uFE0F \uD14C\uB450\uB9AC:"),i(),r(35,"span"),s(36),i()()(),B(37,wr,7,2,"div",91),i()),l&2){let t=g(7);c(3),E("\uD398\uC774\uC9C0 ",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].pageNumber),c(2),E("",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].operations.length,"\uAC1C \uC5F0\uC0B0"),c(6),T(t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].statistics.pathCount),c(5),T(t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].statistics.lineCount),c(5),T(t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].statistics.curveCount),c(5),T(t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].statistics.rectangleCount),c(5),T(t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].statistics.fillCount),c(5),T(t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].statistics.strokeCount),c(),f("ngIf",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0].operations.length>0)}}function Sr(l,e){if(l&1&&(r(0,"div",82)(1,"h5",83),s(2,"\u{1F4C4} \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uACC4"),i(),r(3,"div",84),B(4,Dr,38,9,"div",85),i()()),l&2){let t=g(6);c(4),f("ngIf",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails[0])}}function Er(l,e){if(l&1){let t=F();r(0,"div",73)(1,"h5"),s(2,"\u{1F4CA} \uC804\uCCB4 \uC694\uC57D"),i(),r(3,"div",74)(4,"div",75)(5,"div",76)(6,"span",54),s(7,"\uCD1D \uBCA1\uD130 \uC5F0\uC0B0:"),i(),r(8,"span",55),s(9),lt(10,"number"),i()(),r(11,"div",76)(12,"span",54),s(13,"\uACBD\uB85C(Path):"),i(),r(14,"span",55),s(15),lt(16,"number"),i()(),r(17,"div",76)(18,"span",54),s(19,"\uC9C1\uC120(Line):"),i(),r(20,"span",55),s(21),lt(22,"number"),i()(),r(23,"div",76)(24,"span",54),s(25,"\uACE1\uC120(Curve):"),i(),r(26,"span",55),s(27),lt(28,"number"),i()(),r(29,"div",76)(30,"span",54),s(31,"\uC0AC\uAC01\uD615:"),i(),r(32,"span",55),s(33),lt(34,"number"),i()(),r(35,"div",76)(36,"span",54),s(37,"\uCC44\uC6B0\uAE30(Fill):"),i(),r(38,"span",55),s(39),lt(40,"number"),i()(),r(41,"div",76)(42,"span",54),s(43,"\uD14C\uB450\uB9AC(Stroke):"),i(),r(44,"span",55),s(45),lt(46,"number"),i()(),r(47,"div",76)(48,"span",54),s(49,"\uD074\uB9AC\uD551(Clip):"),i(),r(50,"span",55),s(51),lt(52,"number"),i()()()(),B(53,Sr,5,1,"div",77),r(54,"p",78)(55,"strong"),s(56,"\u2139\uFE0F \uC124\uBA85:"),i(),s(57," \uBCA1\uD130 \uADF8\uB798\uD53D\uC740 \uC120, \uACE1\uC120, \uB3C4\uD615 \uB4F1\uC758 \uC218\uD559\uC801 \uACBD\uB85C\uB85C \uC815\uC758\uB41C \uC774\uBBF8\uC9C0\uC785\uB2C8\uB2E4. \uC704 \uD1B5\uACC4\uB294 PDF.js OperatorList\uB97C \uBD84\uC11D\uD558\uC5EC \uCD94\uCD9C\uD55C \uC2E4\uC81C \uADF8\uB798\uD53D \uBA85\uB839\uC5B4 \uC815\uBCF4\uC785\uB2C8\uB2E4. "),i(),r(58,"div",79)(59,"button",80),M("click",function(){C(t);let n=g(5);return _(n.downloadVectorStreamJson())}),s(60," \u{1F3A8} \uBCA1\uD130 \uC2A4\uD2B8\uB9BC JSON \uB2E4\uC6B4\uB85C\uB4DC "),i(),r(61,"p",81),s(62," \uBCA1\uD130 \uADF8\uB798\uD53D \uC5F0\uC0B0\uC758 \uC0C1\uC138 \uC815\uBCF4\uB97C JSON \uD30C\uC77C\uB85C \uB2E4\uC6B4\uB85C\uB4DC\uD569\uB2C8\uB2E4. "),i()()()}if(l&2){let t=g(5);c(9),E("",gt(10,9,t.textStreamRawData.metadata.vectorGraphicsDetails.totalOperations),"\uAC1C"),c(6),E("",gt(16,11,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalPaths),"\uAC1C"),c(6),E("",gt(22,13,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalLines),"\uAC1C"),c(6),E("",gt(28,15,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalCurves),"\uAC1C"),c(6),E("",gt(34,17,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalRectangles),"\uAC1C"),c(6),E("",gt(40,19,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalFillOperations),"\uAC1C"),c(6),E("",gt(46,21,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalStrokeOperations),"\uAC1C"),c(6),E("",gt(52,23,t.textStreamRawData.metadata.vectorGraphicsDetails.summary.totalClipOperations),"\uAC1C"),c(2),f("ngIf",t.textStreamRawData.metadata.vectorGraphicsDetails.pageDetails.length>0)}}function kr(l,e){l&1&&(r(0,"div",73)(1,"p")(2,"strong"),s(3,"\uC0C1\uD0DC:"),i(),s(4," \uC774 PDF\uC5D0\uB294 \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uD3EC\uD568\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4."),i(),r(5,"p")(6,"strong"),s(7,"\uC124\uBA85:"),i(),s(8," \uBCA1\uD130 \uADF8\uB798\uD53D\uC740 \uC120, \uACE1\uC120, \uB3C4\uD615 \uB4F1\uC758 \uC218\uD559\uC801 \uACBD\uB85C\uB85C \uC815\uC758\uB41C \uC774\uBBF8\uC9C0\uC785\uB2C8\uB2E4."),i(),r(9,"p")(10,"strong"),s(11,"\uCC38\uACE0:"),i(),s(12," \uC0C1\uC138 \uBD84\uC11D \uC815\uBCF4\uB97C \uAC00\uC838\uC624\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."),i()())}function Br(l,e){if(l&1&&(r(0,"div",71)(1,"h4"),s(2,"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C1\uC138 \uBD84\uC11D"),i(),B(3,Er,63,25,"div",72)(4,kr,13,0,"div",72),i()),l&2){let t=g(4);c(3),f("ngIf",t.textStreamRawData.metadata.vectorGraphicsDetails),c(),f("ngIf",!t.textStreamRawData.metadata.vectorGraphicsDetails)}}function Tr(l,e){if(l&1){let t=F();r(0,"div",64)(1,"div",65)(2,"h4"),s(3,"\u{1F50D} \uC804\uCCB4 TextStreamData JSON"),i(),r(4,"div",66)(5,"button",67),M("click",function(){C(t);let n=g(3);return _(n.copyJsonToClipboard())}),s(6,"\u{1F4CB} \uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC"),i(),r(7,"button",68),M("click",function(){C(t);let n=g(3);return _(n.downloadJsonFile())}),s(8,"\u{1F4BE} JSON \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC"),i(),r(9,"button",68),M("click",function(){C(t);let n=g(3);return _(n.downloadVectorStreamJson())}),s(10,"\u{1F3A8} \uBCA1\uD130 \uC2A4\uD2B8\uB9BC JSON \uB2E4\uC6B4\uB85C\uB4DC"),i()()(),r(11,"div",69)(12,"pre"),s(13),lt(14,"json"),i()(),B(15,Br,5,2,"div",70),i()}if(l&2){let t=g(3);c(13),T(gt(14,2,t.textStreamRawData)),c(2),f("ngIf",t.textStreamRawData.metadata.hasVectorGraphics)}}function Ar(l,e){if(l&1){let t=F();r(0,"div",32)(1,"h3"),s(2,"9\uFE0F\u20E3 \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uBD84\uC11D (Ez-Reader Service) - \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0"),i(),r(3,"div",33)(4,"p")(5,"strong"),s(6,"\u{1F4CA} \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uD1B5\uACC4:"),i()(),r(7,"ul")(8,"li"),s(9),i(),r(10,"li"),s(11),lt(12,"number"),i(),r(13,"li"),s(14),lt(15,"number"),i(),r(16,"li"),s(17),lt(18,"number"),i()(),r(19,"p")(20,"strong"),s(21,"\u{1F3A8} \uC0AC\uC6A9\uB41C \uB9AC\uC18C\uC2A4:"),i()(),r(22,"ul")(23,"li")(24,"strong"),s(25,"\uD3F0\uD2B8:"),i(),s(26),i(),r(27,"div",42),B(28,Pr,2,2,"li",38)(29,xr,2,1,"li",43),i(),r(30,"li",44)(31,"strong"),s(32,"\uC774\uBBF8\uC9C0 \uD3EC\uD568:"),i(),s(33),i(),r(34,"li")(35,"strong"),s(36,"\uBCA1\uD130 \uADF8\uB798\uD53D:"),i(),s(37),i()(),B(38,vr,40,13,"div",45),r(39,"p",46)(40,"strong"),s(41,"\u2139\uFE0F \uC815\uBCF4:"),i(),s(42," Ez-Reader \uC11C\uBE44\uC2A4\uB97C \uD1B5\uD574 \uCD94\uCD9C\uB41C \uC2E4\uC81C PDF \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uC815\uBCF4\uC785\uB2C8\uB2E4. \uC804\uCCB4 JSON \uAD6C\uC870\uB294 \uBE0C\uB77C\uC6B0\uC800 \uCF58\uC194(F12)\uC5D0\uC11C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. "),i(),r(43,"div",47)(44,"button",48),M("click",function(){C(t);let n=g(2);return _(n.showJsonViewer=!n.showJsonViewer)}),s(45),i()(),B(46,Tr,16,4,"div",49),i()()}if(l&2){let t=g(2);c(9),E("\uBD84\uC11D \uD398\uC774\uC9C0: ",t.pdfStructureData.textStreamAnalysis.totalPages,"\uD398\uC774\uC9C0 (\u{1F512} \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC)"),c(2),E("\uCD1D \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C: ",gt(12,12,t.pdfStructureData.textStreamAnalysis.totalTextItems)),c(3),E("\uCD1D \uB2E8\uC5B4 \uC218: ",gt(15,14,t.pdfStructureData.textStreamAnalysis.totalWords)),c(3),E("\uCD1D \uBB38\uC790 \uC218: ",gt(18,16,t.pdfStructureData.textStreamAnalysis.totalCharacters)),c(9),E(" ",t.pdfStructureData.textStreamAnalysis.uniqueFonts.length,"\uAC1C"),c(2),f("ngForOf",t.pdfStructureData.textStreamAnalysis.uniqueFonts.slice(0,10)),c(),f("ngIf",t.pdfStructureData.textStreamAnalysis.uniqueFonts.length>10),c(4),E(" ",t.pdfStructureData.textStreamAnalysis.hasImages?"\u2705 \uC608":"\u274C \uC544\uB2C8\uC624"),c(4),E(" ",t.pdfStructureData.textStreamAnalysis.hasVectorGraphics?"\u2705 \uC608":"\u274C \uC544\uB2C8\uC624"),c(),f("ngIf",t.pdfStructureData.textStreamAnalysis.firstPageSample),c(7),E(" ",t.showJsonViewer?"\u{1F4D5} JSON \uB370\uC774\uD130 \uC228\uAE30\uAE30":"\u{1F4D6} \uC804\uCCB4 JSON \uB370\uC774\uD130 \uBCF4\uAE30"," "),c(),f("ngIf",t.showJsonViewer&&t.textStreamRawData)}}function Ir(l,e){if(l&1&&(r(0,"div",31)(1,"div",32)(2,"h3"),s(3,"1\uFE0F\u20E3 PDF \uD5E4\uB354 (Header)"),i(),r(4,"div",33)(5,"p")(6,"strong"),s(7,"\uBC84\uC804:"),i(),s(8),i(),r(9,"p")(10,"strong"),s(11,"\uBC14\uC774\uB108\uB9AC \uB9C8\uCEE4:"),i(),s(12),i(),r(13,"p",34),s(14,"PDF \uD30C\uC77C\uC758 \uC2DC\uC791\uC744 \uB098\uD0C0\uB0B4\uBA70 \uBC84\uC804 \uC815\uBCF4\uB97C \uD3EC\uD568\uD569\uB2C8\uB2E4."),i()()(),r(15,"div",32)(16,"h3"),s(17,"2\uFE0F\u20E3 \uBB38\uC11C \uCE74\uD0C8\uB85C\uADF8 (Catalog)"),i(),r(18,"div",33)(19,"p")(20,"strong"),s(21,"\uD0C0\uC785:"),i(),s(22),i(),r(23,"p")(24,"strong"),s(25,"\uD398\uC774\uC9C0 \uD2B8\uB9AC \uCC38\uC870:"),i(),s(26),i(),r(27,"p")(28,"strong"),s(29,"\uBA54\uD0C0\uB370\uC774\uD130:"),i(),s(30),i(),r(31,"p",34),s(32,"PDF \uBB38\uC11C\uC758 \uB8E8\uD2B8 \uAC1D\uCCB4\uB85C \uD398\uC774\uC9C0 \uD2B8\uB9AC\uC640 \uAE30\uD0C0 \uB9AC\uC18C\uC2A4\uB97C \uCC38\uC870\uD569\uB2C8\uB2E4."),i()()(),r(33,"div",32)(34,"h3"),s(35,"3\uFE0F\u20E3 \uD398\uC774\uC9C0 \uD2B8\uB9AC (Page Tree) - \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0"),i(),r(36,"div",33)(37,"p")(38,"strong"),s(39,"\uCD1D \uD398\uC774\uC9C0 \uC218:"),i(),s(40),i(),r(41,"p")(42,"strong"),s(43,"\uBD84\uC11D \uB300\uC0C1:"),i(),s(44," \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uD45C\uC2DC"),i(),B(45,mr,10,3,"div",35),r(46,"p",34),s(47,"\uD398\uC774\uC9C0\uB4E4\uC758 \uACC4\uCE35 \uAD6C\uC870\uC640 \uAC01 \uD398\uC774\uC9C0\uC758 \uC18D\uC131\uC744 \uC815\uC758\uD569\uB2C8\uB2E4. (\uD604\uC7AC \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uBD84\uC11D)"),i()()(),r(48,"div",32)(49,"h3"),s(50,"4\uFE0F\u20E3 \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC (Content Streams) - \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0"),i(),B(51,Cr,13,3,"div",36),i(),r(52,"div",32)(53,"h3"),s(54,"5\uFE0F\u20E3 \uAD50\uCC28 \uCC38\uC870 \uD14C\uC774\uBE14 (XREF Table)"),i(),r(55,"div",33)(56,"p")(57,"strong"),s(58,"\uC2DC\uC791 \uC624\uD504\uC14B:"),i(),s(59),i(),r(60,"p")(61,"strong"),s(62,"\uCD1D \uD56D\uBAA9 \uC218:"),i(),s(63),i(),B(64,hr,15,2,"div",37),r(65,"p",34),s(66,"\uAC01 \uAC1D\uCCB4\uC758 \uD30C\uC77C \uB0B4 \uC704\uCE58\uB97C \uBE60\uB974\uAC8C \uCC3E\uAE30 \uC704\uD55C \uC778\uB371\uC2A4 \uD14C\uC774\uBE14\uC785\uB2C8\uB2E4."),i()()(),r(67,"div",32)(68,"h3"),s(69,"6\uFE0F\u20E3 \uD2B8\uB808\uC77C\uB7EC (Trailer)"),i(),r(70,"div",33)(71,"p")(72,"strong"),s(73,"\uD30C\uC77C \uD06C\uAE30:"),i(),s(74),i(),r(75,"p")(76,"strong"),s(77,"\uB8E8\uD2B8 \uCC38\uC870:"),i(),s(78),i(),r(79,"p")(80,"strong"),s(81,"XREF \uC624\uD504\uC14B:"),i(),s(82),i(),r(83,"p",34),s(84,"PDF \uD30C\uC77C\uC758 \uB05D\uC5D0 \uC704\uCE58\uD558\uBA70 \uBB38\uC11C\uC758 \uBA54\uD0C0 \uC815\uBCF4\uB97C \uD3EC\uD568\uD569\uB2C8\uB2E4."),i()()(),r(85,"div",32)(86,"h3"),s(87,"7\uFE0F\u20E3 \uB9AC\uC18C\uC2A4 (Resources)"),i(),r(88,"div",33)(89,"p")(90,"strong"),s(91,"\uD3F0\uD2B8:"),i(),s(92),i(),B(93,fr,2,3,"div",38),r(94,"p")(95,"strong"),s(96,"\uC774\uBBF8\uC9C0:"),i(),s(97),i(),r(98,"p",34),s(99,"\uBB38\uC11C\uC5D0\uC11C \uC0AC\uC6A9\uB418\uB294 \uD3F0\uD2B8, \uC774\uBBF8\uC9C0 \uB4F1\uC758 \uC678\uBD80 \uB9AC\uC18C\uC2A4\uC785\uB2C8\uB2E4."),i()()(),r(100,"div",32)(101,"h3"),s(102,"8\uFE0F\u20E3 \uC555\uCD95 \uC815\uBCF4 (Compression)"),i(),r(103,"div",33)(104,"p")(105,"strong"),s(106,"\uC555\uCD95 \uBC29\uC2DD:"),i(),s(107),i(),r(108,"p")(109,"strong"),s(110,"\uC6D0\uBCF8 \uD06C\uAE30:"),i(),s(111),i(),r(112,"p")(113,"strong"),s(114,"\uC555\uCD95 \uD06C\uAE30:"),i(),s(115),i(),r(116,"p")(117,"strong"),s(118,"\uC555\uCD95\uB960:"),i(),s(119),i(),r(120,"p",34),s(121,"\uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC\uC758 \uC555\uCD95 \uBC29\uC2DD\uACFC \uD6A8\uC728\uC131 \uC815\uBCF4\uC785\uB2C8\uB2E4."),i()()(),B(122,Ar,47,18,"div",39),i()),l&2){let t=g();c(8),E(" ",(t.pdfStructureData.header==null?null:t.pdfStructureData.header.version)||"N/A"),c(4),E(" ",(t.pdfStructureData.header==null?null:t.pdfStructureData.header.binaryMarker)||"N/A"),c(10),E(" ",(t.pdfStructureData.catalog==null?null:t.pdfStructureData.catalog.type)||"N/A"),c(4),E(" ",(t.pdfStructureData.catalog==null?null:t.pdfStructureData.catalog.pages)||"N/A"),c(4),E(" ",(t.pdfStructureData.catalog==null?null:t.pdfStructureData.catalog.metadata)||"N/A"),c(10),E(" ",(t.pdfStructureData.pageTree==null?null:t.pdfStructureData.pageTree.count)||0),c(5),f("ngIf",((t.pdfStructureData.pageTree==null?null:t.pdfStructureData.pageTree.kids)||Gt(22,xe)).length>0),c(6),f("ngIf",(t.pdfStructureData.contentStreams||Gt(23,xe)).length>0),c(8),E(" ",(t.pdfStructureData.xrefTable==null?null:t.pdfStructureData.xrefTable.startOffset)||0),c(4),E(" ",(t.pdfStructureData.xrefTable==null||t.pdfStructureData.xrefTable.entries==null?null:t.pdfStructureData.xrefTable.entries.length)||0),c(),f("ngIf",(t.pdfStructureData.xrefTable==null||t.pdfStructureData.xrefTable.entries==null?null:t.pdfStructureData.xrefTable.entries.length)>0),c(10),E(" ",(t.pdfStructureData.trailer==null?null:t.pdfStructureData.trailer.size)||0," \uAC1D\uCCB4"),c(4),E(" ",(t.pdfStructureData.trailer==null?null:t.pdfStructureData.trailer.root)||"N/A"),c(4),E(" ",(t.pdfStructureData.trailer==null?null:t.pdfStructureData.trailer.startXref)||0),c(10),E(" ",(t.pdfStructureData.resources==null||t.pdfStructureData.resources.fonts==null?null:t.pdfStructureData.resources.fonts.length)||0,"\uAC1C"),c(),f("ngForOf",(t.pdfStructureData.resources==null?null:t.pdfStructureData.resources.fonts)||Gt(24,xe)),c(4),E(" ",(t.pdfStructureData.resources==null||t.pdfStructureData.resources.images==null?null:t.pdfStructureData.resources.images.length)||0,"\uAC1C"),c(10),E(" ",(t.pdfStructureData.compression==null?null:t.pdfStructureData.compression.method)||"N/A"),c(4),E(" ",(t.pdfStructureData.compression==null?null:t.pdfStructureData.compression.originalSize)||0," bytes"),c(4),E(" ",(t.pdfStructureData.compression==null?null:t.pdfStructureData.compression.compressedSize)||0," bytes"),c(4),E(" ",(t.pdfStructureData.compression==null?null:t.pdfStructureData.compression.ratio)||0,"%"),c(3),f("ngIf",t.pdfStructureData.textStreamAnalysis)}}function Vr(l,e){if(l&1){let t=F();r(0,"div",101),M("click",function(){C(t);let n=g();return _(n.closeVectorGraphicsModal())}),r(1,"div",102),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",7)(3,"h2"),s(4),i(),r(5,"button",8),M("click",function(){C(t);let n=g();return _(n.closeVectorGraphicsModal())}),s(6,"\u2715"),i()(),r(7,"div",103)(8,"button",104),M("click",function(){C(t);let n=g();return _(n.loadPreviousPageVectorGraphics())}),s(9," \u25C0 \uC774\uC804 "),i(),r(10,"span",105),s(11),i(),r(12,"button",106),M("click",function(){C(t);let n=g();return _(n.loadNextPageVectorGraphics())}),s(13," \uB2E4\uC74C \u25B6 "),i(),r(14,"button",68),M("click",function(){C(t);let n=g();return _(n.downloadVectorGraphicsSVG())}),s(15," \u{1F4BE} SVG \uB2E4\uC6B4\uB85C\uB4DC "),i()(),r(16,"div",107),R(17,"div",108),i(),r(18,"div",10)(19,"button",11),M("click",function(){C(t);let n=g();return _(n.closeVectorGraphicsModal())}),s(20,"\uB2EB\uAE30"),i()()()()}if(l&2){let t=g();c(4),E("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uBDF0\uC5B4 - \uD398\uC774\uC9C0 ",t.currentVectorGraphicsPageNum),c(4),f("disabled",t.currentVectorGraphicsPageNum<=1),c(3),E("\uD398\uC774\uC9C0 ",t.currentVectorGraphicsPageNum)}}function Fr(l,e){if(l&1){let t=F();r(0,"div",109)(1,"div",5),M("click",function(){C(t);let n=g();return _(n.showTextEditor=!1)}),i(),r(2,"div",110)(3,"div",7)(4,"h2"),s(5,"\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30 \u270F\uFE0F"),i(),r(6,"button",8),M("click",function(){C(t);let n=g();return _(n.showTextEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"div",111)(10,"div",112)(11,"h3"),s(12,"\uD14D\uC2A4\uD2B8 \uB0B4\uC6A9"),i(),r(13,"textarea",113),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.text,n)||(a.textEditorData.text=n),_(n)}),i()(),r(14,"div",114)(15,"h3"),s(16,"\uC2A4\uD0C0\uC77C \uC124\uC815"),i(),r(17,"div",115)(18,"div",116)(19,"label"),s(20,"\uAE00\uAF34:"),i(),r(21,"select",117),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.fontFamily,n)||(a.textEditorData.fontFamily=n),_(n)}),r(22,"optgroup",118)(23,"option",119),s(24,"Noto Sans KR"),i(),r(25,"option",120),s(26,"\uB098\uB214\uACE0\uB515"),i(),r(27,"option",121),s(28,"\uB098\uB214\uBC14\uB978\uACE0\uB515"),i(),r(29,"option",122),s(30,"IBM Plex Sans KR"),i(),r(31,"option",123),s(32,"\uB098\uB214\uC2A4\uD018\uC5B4"),i(),r(33,"option",124),s(34,"Black Han Sans (\uAD75\uC740\uCCB4)"),i()(),r(35,"optgroup",125)(36,"option",126),s(37,"Noto Serif KR"),i(),r(38,"option",127),s(39,"\uB098\uB214\uBA85\uC870"),i()(),r(40,"optgroup",128)(41,"option",129),s(42,"\uB098\uB214\uC190\uAE00\uC528\uD39C"),i(),r(43,"option",130),s(44,"\uB098\uB214\uC190\uAE00\uC528\uBD93"),i(),r(45,"option",131),s(46,"\uB3C4\uD604\uCCB4"),i(),r(47,"option",132),s(48,"\uC8FC\uC544\uCCB4"),i(),r(49,"option",133),s(50,"\uAC1C\uAD6C\uC7C1\uC774\uCCB4"),i(),r(51,"option",134),s(52,"\uAC10\uC790\uAF43\uCCB4"),i(),r(53,"option",135),s(54,"\uD574\uBC14\uB77C\uAE30\uCCB4"),i(),r(55,"option",136),s(56,"\uB3D9\uD574\uB3C5\uB3C4\uCCB4"),i(),r(57,"option",137),s(58,"\uD558\uC774\uBA5C\uB85C\uB514\uCCB4"),i()(),r(59,"optgroup",138)(60,"option",139),s(61,"Arial"),i(),r(62,"option",140),s(63,"Helvetica"),i(),r(64,"option",141),s(65,"Times New Roman"),i(),r(66,"option",142),s(67,"Courier New"),i(),r(68,"option",143),s(69,"Georgia"),i(),r(70,"option",144),s(71,"Verdana"),i(),r(72,"option",145),s(73,"Roboto"),i(),r(74,"option",146),s(75,"Open Sans"),i(),r(76,"option",147),s(77,"Lato"),i(),r(78,"option",148),s(79,"Montserrat"),i(),r(80,"option",149),s(81,"Poppins"),i(),r(82,"option",150),s(83,"Inter"),i(),r(84,"option",151),s(85,"Ubuntu"),i()()()(),r(86,"div",116)(87,"label"),s(88,"\uD06C\uAE30:"),i(),r(89,"input",152),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.fontSize,n)||(a.textEditorData.fontSize=n),_(n)}),i(),r(90,"span"),s(91),i()(),r(92,"div",116)(93,"label"),s(94,"\uC0C9\uC0C1:"),i(),r(95,"input",153),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.color,n)||(a.textEditorData.color=n),_(n)}),i()()()(),r(96,"div",154)(97,"h3"),s(98,"\uC704\uCE58 \uC124\uC815"),i(),r(99,"div",155)(100,"div",116)(101,"label"),s(102,"X \uC704\uCE58:"),i(),r(103,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.x,n)||(a.textEditorData.x=n),_(n)}),i()(),r(104,"div",116)(105,"label"),s(106,"Y \uC704\uCE58:"),i(),r(107,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.y,n)||(a.textEditorData.y=n),_(n)}),i()(),r(108,"div",116)(109,"label"),s(110,"\uB108\uBE44:"),i(),r(111,"input",157),j("ngModelChange",function(n){C(t);let a=g();return W(a.textEditorData.width,n)||(a.textEditorData.width=n),_(n)}),i()()()(),r(112,"div",158)(113,"h3"),s(114,"\uBBF8\uB9AC\uBCF4\uAE30"),i(),r(115,"div",159),s(116),i()()()(),r(117,"div",10)(118,"button",11),M("click",function(){C(t);let n=g();return _(n.closeTextEditor())}),s(119,"\uCDE8\uC18C"),i(),r(120,"button",12),M("click",function(){C(t);let n=g();return _(n.applyTextEditor())}),s(121,"\uD14D\uC2A4\uD2B8 \uCD94\uAC00"),i()()()()}if(l&2){let t=g();c(13),N("ngModel",t.textEditorData.text),c(8),N("ngModel",t.textEditorData.fontFamily),c(68),N("ngModel",t.textEditorData.fontSize),c(2),E("",t.textEditorData.fontSize,"px"),c(4),N("ngModel",t.textEditorData.color),c(8),N("ngModel",t.textEditorData.x),f("max",t.pageWidth),c(4),N("ngModel",t.textEditorData.y),f("max",t.pageHeight),c(4),N("ngModel",t.textEditorData.width),f("max",t.pageWidth),c(4),q("font-size",t.textEditorData.fontSize,"px")("font-family",t.textEditorData.fontFamily)("color",t.textEditorData.color),c(),E(" ",t.textEditorData.text||"\uD14D\uC2A4\uD2B8 \uBBF8\uB9AC\uBCF4\uAE30"," ")}}function $r(l,e){if(l&1&&(r(0,"div",158)(1,"h3"),s(2,"\uC774\uBBF8\uC9C0 \uBBF8\uB9AC\uBCF4\uAE30"),i(),r(3,"div",170),R(4,"img",171),i()()),l&2){let t=g(2);c(4),q("max-width","300px")("max-height","200px"),f("src",t.imageEditorData.src,St)}}function zr(l,e){if(l&1){let t=F();r(0,"div",160)(1,"div",5),M("click",function(){C(t);let n=g();return _(n.showImageEditor=!1)}),i(),r(2,"div",161)(3,"div",7)(4,"h2"),s(5,"\uC774\uBBF8\uC9C0 \uD3B8\uC9D1\uAE30 \u{1F5BC}\uFE0F"),i(),r(6,"button",8),M("click",function(){C(t);let n=g();return _(n.showImageEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"div",162)(10,"div",163)(11,"h3"),s(12,"\uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC"),i(),r(13,"div",164)(14,"input",165),M("change",function(n){C(t);let a=g();return _(a.onImageFileSelect(n))}),i(),r(15,"label",166)(16,"span",167),s(17,"\u{1F4C1}"),i(),r(18,"span"),s(19,"\uC774\uBBF8\uC9C0 \uD30C\uC77C\uC744 \uC120\uD0DD\uD558\uC138\uC694"),i(),r(20,"small"),s(21,"(JPG, PNG, GIF \uC9C0\uC6D0)"),i()()()(),B(22,$r,5,5,"div",168),r(23,"div",154)(24,"h3"),s(25,"\uC704\uCE58 \uBC0F \uD06C\uAE30 \uC124\uC815"),i(),r(26,"div",155)(27,"div",116)(28,"label"),s(29,"X \uC704\uCE58:"),i(),r(30,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.imageEditorData.x,n)||(a.imageEditorData.x=n),_(n)}),i()(),r(31,"div",116)(32,"label"),s(33,"Y \uC704\uCE58:"),i(),r(34,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.imageEditorData.y,n)||(a.imageEditorData.y=n),_(n)}),i()(),r(35,"div",116)(36,"label"),s(37,"\uB108\uBE44:"),i(),r(38,"input",157),j("ngModelChange",function(n){C(t);let a=g();return W(a.imageEditorData.width,n)||(a.imageEditorData.width=n),_(n)}),i()(),r(39,"div",116)(40,"label"),s(41,"\uB192\uC774:"),i(),r(42,"input",157),j("ngModelChange",function(n){C(t);let a=g();return W(a.imageEditorData.height,n)||(a.imageEditorData.height=n),_(n)}),i()()()()()(),r(43,"div",10)(44,"button",11),M("click",function(){C(t);let n=g();return _(n.closeImageEditor())}),s(45,"\uCDE8\uC18C"),i(),r(46,"button",169),M("click",function(){C(t);let n=g();return _(n.applyImageEditor())}),s(47,"\uC774\uBBF8\uC9C0 \uCD94\uAC00"),i()()()()}if(l&2){let t=g();c(22),f("ngIf",t.imageEditorData.src),c(8),N("ngModel",t.imageEditorData.x),f("max",t.pageWidth),c(4),N("ngModel",t.imageEditorData.y),f("max",t.pageHeight),c(4),N("ngModel",t.imageEditorData.width),f("max",t.pageWidth),c(4),N("ngModel",t.imageEditorData.height),f("max",t.pageHeight),c(4),f("disabled",!t.imageEditorData.src)}}function Gr(l,e){if(l&1&&R(0,"div",186),l&2){let t=g(2);q("background-color",t.shapeEditorData.fillColor)("border",t.shapeEditorData.strokeWidth+"px solid "+t.shapeEditorData.strokeColor)}}function Lr(l,e){if(l&1&&R(0,"div",187),l&2){let t=g(2);q("background-color",t.shapeEditorData.fillColor)("border",t.shapeEditorData.strokeWidth+"px solid "+t.shapeEditorData.strokeColor)}}function Rr(l,e){if(l&1&&R(0,"div",188),l&2){let t=g(2);q("height",t.shapeEditorData.strokeWidth,"px")("background-color",t.shapeEditorData.strokeColor)}}function Nr(l,e){if(l&1){let t=F();r(0,"div",172)(1,"div",5),M("click",function(){C(t);let n=g();return _(n.showShapeEditor=!1)}),i(),r(2,"div",173)(3,"div",7)(4,"h2"),s(5,"\uB3C4\uD615 \uD3B8\uC9D1\uAE30 \u{1F537}"),i(),r(6,"button",8),M("click",function(){C(t);let n=g();return _(n.showShapeEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"div",174)(10,"div",175)(11,"h3"),s(12,"\uB3C4\uD615 \uC885\uB958"),i(),r(13,"div",176)(14,"button",177),M("click",function(){C(t);let n=g();return _(n.shapeEditorData.shapeType="rectangle")}),r(15,"span",178),s(16,"\u25AD"),i(),r(17,"span"),s(18,"\uC0AC\uAC01\uD615"),i()(),r(19,"button",177),M("click",function(){C(t);let n=g();return _(n.shapeEditorData.shapeType="circle")}),r(20,"span",178),s(21,"\u25CF"),i(),r(22,"span"),s(23,"\uC6D0\uD615"),i()(),r(24,"button",177),M("click",function(){C(t);let n=g();return _(n.shapeEditorData.shapeType="line")}),r(25,"span",178),s(26,"\u2501"),i(),r(27,"span"),s(28,"\uC120"),i()()()(),r(29,"div",114)(30,"h3"),s(31,"\uC2A4\uD0C0\uC77C \uC124\uC815"),i(),r(32,"div",115)(33,"div",116)(34,"label"),s(35,"\uCC44\uC6B0\uAE30 \uC0C9\uC0C1:"),i(),r(36,"input",153),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.fillColor,n)||(a.shapeEditorData.fillColor=n),_(n)}),i()(),r(37,"div",116)(38,"label"),s(39,"\uD14C\uB450\uB9AC \uC0C9\uC0C1:"),i(),r(40,"input",153),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.strokeColor,n)||(a.shapeEditorData.strokeColor=n),_(n)}),i()(),r(41,"div",116)(42,"label"),s(43,"\uD14C\uB450\uB9AC \uB450\uAED8:"),i(),r(44,"input",179),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.strokeWidth,n)||(a.shapeEditorData.strokeWidth=n),_(n)}),i(),r(45,"span"),s(46),i()()()(),r(47,"div",154)(48,"h3"),s(49,"\uC704\uCE58 \uBC0F \uD06C\uAE30 \uC124\uC815"),i(),r(50,"div",155)(51,"div",116)(52,"label"),s(53,"X \uC704\uCE58:"),i(),r(54,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.x,n)||(a.shapeEditorData.x=n),_(n)}),i()(),r(55,"div",116)(56,"label"),s(57,"Y \uC704\uCE58:"),i(),r(58,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.y,n)||(a.shapeEditorData.y=n),_(n)}),i()(),r(59,"div",116)(60,"label"),s(61,"\uB108\uBE44:"),i(),r(62,"input",180),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.width,n)||(a.shapeEditorData.width=n),_(n)}),i()(),r(63,"div",116)(64,"label"),s(65,"\uB192\uC774:"),i(),r(66,"input",180),j("ngModelChange",function(n){C(t);let a=g();return W(a.shapeEditorData.height,n)||(a.shapeEditorData.height=n),_(n)}),i()()()(),r(67,"div",158)(68,"h3"),s(69,"\uBBF8\uB9AC\uBCF4\uAE30"),i(),r(70,"div",181)(71,"div",182),B(72,Gr,1,4,"div",183)(73,Lr,1,4,"div",184)(74,Rr,1,4,"div",185),i()()()()(),r(75,"div",10)(76,"button",11),M("click",function(){C(t);let n=g();return _(n.closeShapeEditor())}),s(77,"\uCDE8\uC18C"),i(),r(78,"button",12),M("click",function(){C(t);let n=g();return _(n.applyShapeEditor())}),s(79,"\uB3C4\uD615 \uCD94\uAC00"),i()()()()}if(l&2){let t=g();c(14),H("active",t.shapeEditorData.shapeType==="rectangle"),c(5),H("active",t.shapeEditorData.shapeType==="circle"),c(5),H("active",t.shapeEditorData.shapeType==="line"),c(12),N("ngModel",t.shapeEditorData.fillColor),c(4),N("ngModel",t.shapeEditorData.strokeColor),c(4),N("ngModel",t.shapeEditorData.strokeWidth),c(2),E("",t.shapeEditorData.strokeWidth,"px"),c(8),N("ngModel",t.shapeEditorData.x),f("max",t.pageWidth),c(4),N("ngModel",t.shapeEditorData.y),f("max",t.pageHeight),c(4),N("ngModel",t.shapeEditorData.width),f("max",t.pageWidth),c(4),N("ngModel",t.shapeEditorData.height),f("max",t.pageHeight),c(6),f("ngIf",t.shapeEditorData.shapeType==="rectangle"),c(),f("ngIf",t.shapeEditorData.shapeType==="circle"),c(),f("ngIf",t.shapeEditorData.shapeType==="line")}}function Wr(l,e){if(l&1&&R(0,"img",217),l&2){let t=g(2);f("src",t.signatureEditorData.canvasData,St)}}function jr(l,e){if(l&1&&(r(0,"div",218),s(1),i()),l&2){let t=g(2);q("color",t.signatureEditorData.strokeColor)("font-size",t.signatureEditorData.fontSize,"px")("font-family",t.getSignatureFontFamily(t.signatureEditorData.signatureStyle))("font-weight",t.signatureEditorData.strokeWidth*100),c(),E(" ",t.signatureEditorData.signatureText||"\uC11C\uBA85 \uBBF8\uB9AC\uBCF4\uAE30"," ")}}function Yr(l,e){if(l&1){let t=F();r(0,"div",189)(1,"div",5),M("click",function(){C(t);let n=g();return _(n.showSignatureEditor=!1)}),i(),r(2,"div",190)(3,"div",7)(4,"h2"),s(5,"\uC11C\uBA85 \uD3B8\uC9D1\uAE30 \u270D\uFE0F"),i(),r(6,"button",8),M("click",function(){C(t);let n=g();return _(n.showSignatureEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"div",191)(10,"div",192)(11,"h3"),s(12,"\uC11C\uBA85 \uD14D\uC2A4\uD2B8"),i(),r(13,"input",193),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.signatureText,n)||(a.signatureEditorData.signatureText=n),_(n)}),i()(),r(14,"div",194)(15,"h3"),s(16,"\uC11C\uBA85 \uC2A4\uD0C0\uC77C"),i(),r(17,"div",195)(18,"button",196),M("click",function(){C(t);let n=g();return _(n.signatureEditorData.signatureStyle="handwritten")}),r(19,"span",197),s(20,"\u270D\uFE0F"),i(),r(21,"span"),s(22,"\uD544\uAE30\uCCB4"),i()(),r(23,"button",196),M("click",function(){C(t);let n=g();return _(n.signatureEditorData.signatureStyle="formal")}),r(24,"span",198),s(25,"\u{1F4DD}"),i(),r(26,"span"),s(27,"\uC815\uC2DD"),i()(),r(28,"button",196),M("click",function(){C(t);let n=g();return _(n.signatureEditorData.signatureStyle="casual")}),r(29,"span",199),s(30,"\u270F\uFE0F"),i(),r(31,"span"),s(32,"\uCE90\uC8FC\uC5BC"),i()()()(),r(33,"div",200)(34,"h3"),s(35,"\uC11C\uBA85 \uC0C9\uC0C1 \uBC0F \uD06C\uAE30"),i(),r(36,"div",201)(37,"div",116)(38,"label"),s(39,"\uC0C9\uC0C1:"),i(),r(40,"input",153),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.strokeColor,n)||(a.signatureEditorData.strokeColor=n),_(n)}),i()(),r(41,"div",116)(42,"label"),s(43,"\uAE00\uAF34 \uD06C\uAE30:"),i(),r(44,"input",202),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.fontSize,n)||(a.signatureEditorData.fontSize=n),_(n)}),i(),r(45,"span"),s(46),i()(),r(47,"div",116)(48,"label"),s(49,"\uC120 \uB450\uAED8:"),i(),r(50,"input",203),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.strokeWidth,n)||(a.signatureEditorData.strokeWidth=n),_(n)}),i(),r(51,"span"),s(52),i()()()(),r(53,"div",204)(54,"h3"),s(55,"\uC704\uCE58 \uBC0F \uD06C\uAE30 \uC124\uC815"),i(),r(56,"div",155)(57,"div",116)(58,"label"),s(59,"X \uC704\uCE58:"),i(),r(60,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.x,n)||(a.signatureEditorData.x=n),_(n)}),i()(),r(61,"div",116)(62,"label"),s(63,"Y \uC704\uCE58:"),i(),r(64,"input",156),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.y,n)||(a.signatureEditorData.y=n),_(n)}),i()(),r(65,"div",116)(66,"label"),s(67,"\uB108\uBE44:"),i(),r(68,"input",157),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.width,n)||(a.signatureEditorData.width=n),_(n)}),i()(),r(69,"div",116)(70,"label"),s(71,"\uB192\uC774:"),i(),r(72,"input",205),j("ngModelChange",function(n){C(t);let a=g();return W(a.signatureEditorData.height,n)||(a.signatureEditorData.height=n),_(n)}),i()()()(),r(73,"div",206)(74,"h3"),s(75,"\uC9C1\uC811 \uC11C\uBA85 \uADF8\uB9AC\uAE30 \u270F\uFE0F"),i(),r(76,"div",207)(77,"canvas",208,0),M("mousedown",function(n){C(t);let a=g();return _(a.startDrawing(n))})("mousemove",function(n){C(t);let a=g();return _(a.draw(n))})("mouseup",function(){C(t);let n=g();return _(n.stopDrawing())})("mouseleave",function(){C(t);let n=g();return _(n.stopDrawing())})("touchstart",function(n){C(t);let a=g();return _(a.handleTouch(n))})("touchmove",function(n){C(t);let a=g();return _(a.handleTouch(n))})("touchend",function(){C(t);let n=g();return _(n.stopDrawing())}),i(),r(79,"div",209)(80,"button",210),M("click",function(){C(t);let n=g();return _(n.clearCanvas())}),r(81,"span"),s(82,"\u{1F5D1}\uFE0F"),i(),s(83," \uC9C0\uC6B0\uAE30 "),i(),r(84,"button",211),M("click",function(){C(t);let n=g();return _(n.useCanvasSignature())}),r(85,"span"),s(86,"\u2705"),i(),s(87," \uCE94\uBC84\uC2A4 \uC11C\uBA85 \uC0AC\uC6A9 "),i()()()(),r(88,"div",212)(89,"h3"),s(90,"\uC11C\uBA85 \uBBF8\uB9AC\uBCF4\uAE30"),i(),r(91,"div",213)(92,"div",214),B(93,Wr,1,1,"img",215)(94,jr,2,9,"div",216),i()()()()(),r(95,"div",10)(96,"button",11),M("click",function(){C(t);let n=g();return _(n.closeSignatureEditor())}),s(97,"\uCDE8\uC18C"),i(),r(98,"button",12),M("click",function(){C(t);let n=g();return _(n.applySignatureEditor())}),s(99,"\uC11C\uBA85 \uCD94\uAC00"),i()()()()}if(l&2){let t=g();c(13),N("ngModel",t.signatureEditorData.signatureText),c(5),H("active",t.signatureEditorData.signatureStyle==="handwritten"),c(5),H("active",t.signatureEditorData.signatureStyle==="formal"),c(5),H("active",t.signatureEditorData.signatureStyle==="casual"),c(12),N("ngModel",t.signatureEditorData.strokeColor),c(4),N("ngModel",t.signatureEditorData.fontSize),c(2),E("",t.signatureEditorData.fontSize,"px"),c(4),N("ngModel",t.signatureEditorData.strokeWidth),c(2),E("",t.signatureEditorData.strokeWidth,"px"),c(8),N("ngModel",t.signatureEditorData.x),f("max",t.pageWidth),c(4),N("ngModel",t.signatureEditorData.y),f("max",t.pageHeight),c(4),N("ngModel",t.signatureEditorData.width),f("max",t.pageWidth),c(4),N("ngModel",t.signatureEditorData.height),f("max",t.pageHeight),c(21),f("ngIf",t.signatureEditorData.canvasData),c(),f("ngIf",!t.signatureEditorData.canvasData)}}function Hr(l,e){if(l&1){let t=F();r(0,"div",219),M("click",function(){C(t);let n=g();return _(n.closeWatermarkEditor())}),r(1,"div",220),M("click",function(n){return C(t),_(n.stopPropagation())}),r(2,"div",7)(3,"h2"),s(4,"\uC6CC\uD130\uB9C8\uD06C \uD3B8\uC9D1\uAE30 \u{1F4A7}"),i(),r(5,"button",8),M("click",function(){C(t);let n=g();return _(n.closeWatermarkEditor())}),s(6,"\u2715"),i()(),r(7,"div",221)(8,"div",222)(9,"h3"),s(10,"\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8"),i(),r(11,"div",223)(12,"input",224),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.text,n)||(a.watermarkEditorData.text=n),_(n)}),i()()(),r(13,"div",225)(14,"h3"),s(15,"\uAE00\uAF34 \uD06C\uAE30 \uBC0F \uD22C\uBA85\uB3C4"),i(),r(16,"div",226)(17,"div",116)(18,"label"),s(19,"\uD06C\uAE30:"),i(),r(20,"input",227),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.fontSize,n)||(a.watermarkEditorData.fontSize=n),_(n)}),i(),r(21,"input",228),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.fontSize,n)||(a.watermarkEditorData.fontSize=n),_(n)}),i()(),r(22,"div",116)(23,"label"),s(24,"\uD22C\uBA85\uB3C4:"),i(),r(25,"input",229),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.opacity,n)||(a.watermarkEditorData.opacity=n),_(n)}),i(),r(26,"span",230),s(27),lt(28,"number"),i()()()(),r(29,"div",231)(30,"h3"),s(31,"\uC0C9\uC0C1 \uBC0F \uD68C\uC804"),i(),r(32,"div",226)(33,"div",116)(34,"label"),s(35,"\uC0C9\uC0C1:"),i(),r(36,"input",153),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.color,n)||(a.watermarkEditorData.color=n),_(n)}),i()(),r(37,"div",116)(38,"label"),s(39,"\uD68C\uC804:"),i(),r(40,"input",232),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.rotation,n)||(a.watermarkEditorData.rotation=n),_(n)}),i(),r(41,"span",233),s(42),i()()()(),r(43,"div",234)(44,"h3"),s(45,"\uC704\uCE58 \uC124\uC815"),i(),r(46,"div",155)(47,"div",116)(48,"label"),s(49,"X:"),i(),r(50,"input",235),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.x,n)||(a.watermarkEditorData.x=n),_(n)}),i()(),r(51,"div",116)(52,"label"),s(53,"Y:"),i(),r(54,"input",235),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.y,n)||(a.watermarkEditorData.y=n),_(n)}),i()(),r(55,"div",116)(56,"label"),s(57,"\uB108\uBE44:"),i(),r(58,"input",236),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.width,n)||(a.watermarkEditorData.width=n),_(n)}),i()(),r(59,"div",116)(60,"label"),s(61,"\uB192\uC774:"),i(),r(62,"input",237),j("ngModelChange",function(n){C(t);let a=g();return W(a.watermarkEditorData.height,n)||(a.watermarkEditorData.height=n),_(n)}),i()()()(),r(63,"div",238)(64,"h3"),s(65,"\uC6CC\uD130\uB9C8\uD06C \uBBF8\uB9AC\uBCF4\uAE30"),i(),r(66,"div",239)(67,"div",240)(68,"div",241),s(69),i()()()()(),r(70,"div",242)(71,"button",243),M("click",function(){C(t);let n=g();return _(n.closeWatermarkEditor())}),s(72,"\uCDE8\uC18C"),i(),r(73,"button",244),M("click",function(){C(t);let n=g();return _(n.applyWatermarkEditor())}),s(74,"\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00"),i()()()()}if(l&2){let t=g();c(12),N("ngModel",t.watermarkEditorData.text),c(8),N("ngModel",t.watermarkEditorData.fontSize),c(),N("ngModel",t.watermarkEditorData.fontSize),c(4),N("ngModel",t.watermarkEditorData.opacity),c(2),E("",oe(28,21,t.watermarkEditorData.opacity*100,"1.0-0"),"%"),c(9),N("ngModel",t.watermarkEditorData.color),c(4),N("ngModel",t.watermarkEditorData.rotation),c(2),E("",t.watermarkEditorData.rotation,"\xB0"),c(8),N("ngModel",t.watermarkEditorData.x),c(4),N("ngModel",t.watermarkEditorData.y),c(4),N("ngModel",t.watermarkEditorData.width),c(4),N("ngModel",t.watermarkEditorData.height),c(6),q("color",t.watermarkEditorData.color)("font-size",t.watermarkEditorData.fontSize*.5,"px")("opacity",t.watermarkEditorData.opacity)("transform","rotate("+t.watermarkEditorData.rotation+"deg)"),c(),E(" ",t.watermarkEditorData.text||"\uC6CC\uD130\uB9C8\uD06C \uBBF8\uB9AC\uBCF4\uAE30"," ")}}function Ur(l,e){if(l&1){let t=F();r(0,"div",245)(1,"app-docs-left-menu",246),M("menuAction",function(n){C(t);let a=g();return _(a.onLeftMenuAction(n))})("close",function(){C(t);let n=g();return _(n.closeLeftPanel())})("itemClick",function(n){C(t);let a=g();return _(a.onItemSelected(n))})("expand",function(){C(t);let n=g();return _(n.expandLeftPanel())}),i()()}if(l&2){let t=g();H("collapsed",t.isLeftPanelCollapsed),c(),f("recentWorks",t.getRecentWorksForMenu())("isCollapsed",t.isLeftPanelCollapsed)}}function Xr(l,e){if(l&1){let t=F();De(0),r(1,"div",252),M("click",function(){let n=C(t).$implicit,a=g(3);return _(a.onSentenceOverlayClick(n))}),i(),Se()}if(l&2){let t=e.$implicit;c(),q("position","absolute")("left",t.x,"px")("top",t.y,"px")("width",t.width,"px")("height",t.height,"px")("z-index",t.isActive?1e3:10)("background-color",t.isActive?"rgba(0, 122, 204, 0.1)":"transparent")("border",t.isActive?"2px solid #007ACC":"1px dashed rgba(100, 100, 100, 0.5)")("cursor","pointer"),H("active",t.isActive),f("title","\uD074\uB9AD\uD558\uC5EC \uD3B8\uC9D1: "+t.text)}}function qr(l,e){if(l&1){let t=F();r(0,"app-pdf-text-modifier",254),M("configChange",function(n){C(t);let a=g(4);return _(a.onTextEditorConfigChange(n))})("close",function(){C(t);let n=g(4);return _(n.onTextEditorClose())})("delete",function(n){C(t);let a=g(4);return _(a.onTextEditorDelete(n))})("deactivate",function(n){C(t);let a=g(4);return _(a.onTextEditorDeactivate(n))}),i()}if(l&2){let t=g().$implicit;f("config",t)("isVisible",!0)}}function Kr(l,e){if(l&1&&(De(0),B(1,qr,1,2,"app-pdf-text-modifier",253),Se()),l&2){let t=e.$implicit;c(),f("ngIf",t.isActive||t.isModified)}}function Jr(l,e){if(l&1&&(r(0,"div",251),B(1,Xr,2,21,"ng-container",38)(2,Kr,2,1,"ng-container",38),i()),l&2){let t=g(2);c(),f("ngForOf",t.sentenceTextEditors),c(),f("ngForOf",t.sentenceTextEditors)}}function Zr(l,e){if(l&1){let t=F();r(0,"div",247,1)(2,"ngx-extended-pdf-viewer",248),M("pdfLoaded",function(n){C(t);let a=g();return _(a.onPdfLoaded(n))})("pdfLoadingFailed",function(n){C(t);let a=g();return _(a.onPdfLoadingFailed(n))})("pageChange",function(n){C(t);let a=g();return _(a.onPageChange(n))})("zoomChange",function(n){C(t);let a=g();return _(a.onZoomChange(n))}),i(),B(3,Jr,3,2,"div",249),r(4,"app-text-edit-info-modal",250),M("confirm",function(){C(t);let n=g();return _(n.onTextEditInfoModalConfirm())})("cancel",function(){C(t);let n=g();return _(n.onTextEditInfoModalCancel())}),i()()}if(l&2){let t=g();c(2),f("src",t.pdfSrc)("zoom",t.zoomLevel)("page",t.currentPage)("showToolbar",!1)("showSidebarButton",!1)("sidebarVisible",!1)("showFindButton",!1)("showPagingButtons",!1)("showZoomButtons",!1)("showPresentationModeButton",!1)("showOpenFileButton",!1)("showPrintButton",!1)("showDownloadButton",!1)("showSecondaryToolbarButton",!1)("showRotateButton",!1)("showSpreadButton",!1)("showPropertiesButton",!1)("showHandToolButton",!1)("handTool",!1)("textLayer",!0)("showBorders",!1)("enableDragAndDrop",!1)("showUnverifiedSignatures",!1)("showDrawEditor",!1)("showStampEditor",!1)("showHighlightEditor",!1),c(),f("ngIf",t.textEditorVisible&&t.sentenceTextEditors.length>0),c(),f("isVisible",t.isTextEditInfoModalVisible)("totalTextItems",t.textEditModalInfo.totalTextItems)("sentenceGroupCount",t.textEditModalInfo.sentenceGroupCount)("currentPage",t.textEditModalInfo.currentPage)("totalPages",t.textEditModalInfo.totalPages)}}function Qr(l,e){if(l&1){let t=F();r(0,"div",274),M("dblclick",function(){C(t);let n=g().$implicit,a=g(3);return _(a.startEditingText(n))})("blur",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.stopEditingText(a,n))})("keydown.enter",function(n){C(t);let a=g().$implicit,d=g(3);return n.preventDefault(),_(d.stopEditingText(a,n))})("keydown.escape",function(){C(t);let n=g().$implicit,a=g(3);return _(a.cancelEditingText(n))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),s(1),i()}if(l&2){let t=g().$implicit,o=g(3);q("font-size",t.fontSize||16,"px")("font-family",t.fontFamily||"Arial")("font-weight",t.fontWeight||"normal")("font-style",t.fontStyle||"normal")("color",t.color||"#000"),H("editing",(o.editingElement==null?null:o.editingElement.id)===t.id),f("contentEditable",(o.editingElement==null?null:o.editingElement.id)===t.id),c(),E(" ",t.text," ")}}function ta(l,e){if(l&1){let t=F();r(0,"img",275),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startElementDrag(n,a))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),i()}if(l&2){let t=g().$implicit,o=g(3);q("width",t.width,"px")("height",t.height,"px"),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id),f("src",t.src,St)}}function ea(l,e){if(l&1&&R(0,"img",279),l&2){let t=g(2).$implicit;f("src",t.src,St)}}function na(l,e){if(l&1&&(r(0,"span"),s(1),i()),l&2){let t=g(2).$implicit;c(),T(t.text)}}function oa(l,e){l&1&&(r(0,"span"),s(1,"\uC11C\uBA85"),i())}function ia(l,e){if(l&1){let t=F();r(0,"div",276),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startElementDrag(n,a))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),B(1,ea,1,1,"img",277)(2,na,2,1,"span",278)(3,oa,2,0,"span",278),i()}if(l&2){let t=g().$implicit,o=g(3);q("width",t.width,"px")("height",t.height,"px")("font-size",t.fontSize||24,"px")("color",t.color||"#000000")("font-family",o.getSignatureFontFamily((t.properties==null?null:t.properties.signatureStyle)||"handwritten"))("font-weight",((t.properties==null?null:t.properties.strokeWidth)||2)*100)("border",(o.selectedElement==null?null:o.selectedElement.id)===t.id?"2px dashed #007bff":"1px dashed transparent")("background-color","rgba(255, 255, 255, 0.8)")("border-radius","4px")("display","flex")("align-items","center")("justify-content","center")("padding","5px"),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id),c(),f("ngIf",t.src),c(),f("ngIf",!t.src&&t.text),c(),f("ngIf",!t.src&&!t.text)}}function ra(l,e){if(l&1){let t=F();r(0,"div",280),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startElementDrag(n,a))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),r(1,"span",281),s(2),i()()}if(l&2){let t=g().$implicit,o=g(3);q("left",t.x,"px")("top",t.y,"px")("width",t.width,"px")("height",t.height,"px")("transform","rotate("+((t.properties==null?null:t.properties.rotation)||0)+"deg)")("opacity",(t.properties==null?null:t.properties.opacity)||1),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id),c(),q("color",t.color)("font-size",t.fontSize,"px"),c(),E(" ",t.text||"WATERMARK"," ")}}function aa(l,e){if(l&1){let t=F();r(0,"div",282),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startElementDrag(n,a))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),mt(),r(1,"svg",283),R(2,"path",284),i()()}if(l&2){let t=g().$implicit,o=g(3);q("width",t.width,"px")("height",t.height,"px")("border",(o.selectedElement==null?null:o.selectedElement.id)===t.id?"2px solid #3498db":"1px dashed rgba(52, 152, 219, 0.3)")("display",(t.properties==null?null:t.properties.visible)===!1?"none":"block"),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id)("hidden",(t.properties==null?null:t.properties.visible)===!1),c(),ut("width",t.width)("height",t.height)("viewBox",(t.properties==null?null:t.properties.viewBox)||"0 0 "+t.width+" "+t.height),c(),ut("d",t.pathData)("stroke",t.strokeColor||"#2c3e50")("stroke-width",t.strokeWidth||2)("fill",t.fill||"none")("fill-opacity",t.fillOpacity||1)("stroke-opacity",t.strokeOpacity||1)}}function sa(l,e){if(l&1){let t=F();r(0,"div",285),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startElementDrag(n,a))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),i()}if(l&2){let t=g().$implicit,o=g(3);q("width",t.width,"px")("height",t.height,"px")("border",(o.selectedElement==null?null:o.selectedElement.id)===t.id?"2px solid #e74c3c":"1px dashed rgba(231, 76, 60, 0.3)")("overflow","visible"),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id),f("innerHTML",o.sanitizeSvg(t.content||t.svgContent),te)}}function ca(l,e){if(l&1){let t=F();r(0,"div",286),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startElementDrag(n,a))})("click",function(n){C(t);let a=g().$implicit,d=g().$implicit,p=g(2);return n.stopPropagation(),_(p.selectElement(a,d.pageNumber))}),i()}if(l&2){let t=g().$implicit,o=g(3);q("width",t.width,"px")("height",t.height,"px")("background-color",t.fillColor||"#3498db")("border","2px solid "+(t.strokeColor||t.fillColor||"#2980b9")),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id)}}function la(l,e){if(l&1){let t=F();r(0,"div",287)(1,"div",288),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"nw"))}),i(),r(2,"div",289),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"ne"))}),i(),r(3,"div",290),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"sw"))}),i(),r(4,"div",291),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"se"))}),i(),r(5,"div",292),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"n"))}),i(),r(6,"div",293),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"s"))}),i(),r(7,"div",294),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"w"))}),i(),r(8,"div",295),M("mousedown",function(n){C(t);let a=g().$implicit,d=g(3);return _(d.startResize(n,a,"e"))}),i()()}}function da(l,e){if(l&1){let t=F();r(0,"div",265),M("click",function(){let n=C(t).$implicit,a=g().$implicit,d=g(2);return _(d.selectElement(n,a.pageNumber))})("mousedown",function(n){let a=C(t).$implicit,d=g(3);return _(d.startElementDrag(n,a))}),B(1,Qr,2,14,"div",266)(2,ta,1,7,"img",267)(3,ia,4,31,"div",268)(4,ra,3,19,"div",269)(5,aa,3,21,"div",270)(6,sa,1,11,"div",271)(7,ca,1,10,"div",272)(8,la,9,0,"div",273),i()}if(l&2){let t=e.$implicit,o=g(3);q("left",t.x,"px")("top",t.y,"px")("width",t.width,"px")("height",t.height,"px"),H("selected",(o.selectedElement==null?null:o.selectedElement.id)===t.id),f("ngClass","element-"+t.type),c(),f("ngIf",t.type==="text"),c(),f("ngIf",t.type==="image"),c(),f("ngIf",t.type==="signature"),c(),f("ngIf",t.type==="watermark"),c(),f("ngIf",t.type==="vector-path"),c(),f("ngIf",t.type==="svg"),c(),f("ngIf",t.type==="shape"),c(),f("ngIf",(o.selectedElement==null?null:o.selectedElement.id)===t.id)}}function ga(l,e){if(l&1){let t=F();r(0,"div",261)(1,"div",262),M("click",function(){let n=C(t).$implicit,a=g(2);return _(a.switchToPage(n.pageNumber))}),r(2,"div",263),s(3),i(),B(4,da,9,19,"div",264),i()()}if(l&2){let t=e.$implicit,o=g(2);H("active",o.currentPage===t.pageNumber),f("id","page-"+t.pageNumber),c(),q("width",o.pageWidth,"px")("height",o.pageHeight,"px"),c(2),E("\uD398\uC774\uC9C0 ",t.pageNumber),c(),f("ngForOf",t.elements)("ngForTrackBy",o.trackByElement)}}function pa(l,e){if(l&1){let t=F();r(0,"div",255)(1,"div",256),B(2,ga,5,10,"div",257),r(3,"div",258)(4,"button",259),M("click",function(){C(t);let n=g();return _(n.addNewPage())}),r(5,"i",260),s(6,"+"),i(),r(7,"span"),s(8,"\uC0C8 \uD398\uC774\uC9C0 \uCD94\uAC00"),i()()()()()}if(l&2){let t=g();c(2),f("ngForOf",t.pdfPages)("ngForTrackBy",t.trackByPage)}}function ua(l,e){if(l&1){let t=F();r(0,"div",296)(1,"app-docs-right-sidebar",297),M("addText",function(){C(t);let n=g();return _(n.addText())})("addImage",function(){C(t);let n=g();return _(n.addImage())})("addShape",function(){C(t);let n=g();return _(n.addShape())})("addSignature",function(){C(t);let n=g();return _(n.addSignature())})("addWatermark",function(){C(t);let n=g();return _(n.addWatermark())})("addVectorPath",function(){C(t);let n=g();return _(n.openVectorPathEditor())})("addPage",function(){C(t);let n=g();return _(n.addNewPage())})("deletePage",function(){C(t);let n=g();return _(n.deleteCurrentPage())})("zoomIn",function(){C(t);let n=g();return _(n.zoomIn())})("zoomOut",function(){C(t);let n=g();return _(n.zoomOut())})("rotatePage",function(){C(t);let n=g();return _(n.rotateCurrentPage())})("pageSelect",function(n){C(t);let a=g();return _(a.onPageSelect(n))})("elementPropertyChange",function(n){C(t);let a=g();return _(a.onElementPropertyChange(n))})("deselectElement",function(){C(t);let n=g();return _(n.onDeselectElement())})("deleteElement",function(){C(t);let n=g();return _(n.onDeleteElement())})("sidebarAction",function(n){C(t);let a=g();return _(a.onSidebarAction(n))})("keepOnlyFirstPage",function(){C(t);let n=g();return _(n.keepOnlyFirstPage())})("close",function(){C(t);let n=g();return _(n.closeRightPanel())})("expand",function(){C(t);let n=g();return _(n.expandRightPanel())}),i()()}if(l&2){let t=g();H("collapsed",t.isRightPanelCollapsed),c(),f("generatedDocs","")("selectedElement",t.selectedElement)("currentPage",t.currentPage)("totalPages",t.pdfPages.length)("zoomLevel",t.zoomLevel)("pdfPages",t.pdfPages)("isPdfViewer",!!t.pdfSrc)("isCollapsed",t.isRightPanelCollapsed)}}function ma(l,e){if(l&1){let t=F();r(0,"div",298)(1,"div",5),M("click",function(){C(t);let n=g();return _(n.onConfirmModalCancel())}),i(),r(2,"div",299)(3,"div",7)(4,"h3"),s(5),i(),r(6,"button",8),M("click",function(){C(t);let n=g();return _(n.onConfirmModalCancel())}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"p",300),s(10),i()(),r(11,"div",10)(12,"button",301),M("click",function(){C(t);let n=g();return _(n.onConfirmModalCancel())}),s(13,"\uCDE8\uC18C"),i(),r(14,"button",302),M("click",function(){C(t);let n=g();return _(n.onConfirmModalConfirm())}),s(15,"\uD655\uC778"),i()()()()}if(l&2){let t=g();c(5),T(t.confirmModalTitle),c(5),T(t.confirmModalMessage)}}function Ca(l,e){if(l&1){let t=F();r(0,"div",309)(1,"app-vector-path-drawer",310,2),M("pathsChanged",function(n){C(t);let a=g(2);return _(a.onVectorPathsChanged(n))})("pathSelected",function(n){C(t);let a=g(2);return _(a.onVectorPathSelected(n))}),i()()}if(l&2){let t=g(2);c(),f("width",t.pageWidth)("height",t.pageHeight)("backgroundColor","#ffffff")}}function _a(l,e){if(l&1&&(r(0,"div",312)(1,"h4"),s(2,"\uBBF8\uB9AC\uBCF4\uAE30"),i(),r(3,"div",324),mt(),r(4,"svg",325),R(5,"path",326),i()()()),l&2){let t=g(3);c(5),ut("d",t.previewPath)("stroke",t.vectorPathStyle.stroke)("stroke-width",t.vectorPathStyle.strokeWidth)("fill",t.vectorPathStyle.fill)}}function ha(l,e){if(l&1){let t=F();r(0,"div")(1,"div",311)(2,"h3"),s(3,"\uBCA1\uD130 \uD328\uC2A4 \uC0DD\uC131\uD558\uAE30"),i(),r(4,"div",312)(5,"h4"),s(6,"\uADF8\uB9AC\uAE30 \uB3C4\uAD6C"),i(),r(7,"div",313)(8,"button",314),M("click",function(){C(t);let n=g(2);return _(n.openDirectDrawing())}),r(9,"span",315),s(10,"\u{1F58C}\uFE0F"),i(),r(11,"span"),s(12,"\uC9C1\uC811 \uADF8\uB9AC\uAE30"),i(),r(13,"small"),s(14,"\uB9C8\uC6B0\uC2A4\uB85C \uC790\uC720\uB86D\uAC8C \uADF8\uB9AC\uC138\uC694"),i()()()(),r(15,"div",312)(16,"h4"),s(17,"\uBBF8\uB9AC \uB9CC\uB4E4\uC5B4\uC9C4 \uD328\uD134"),i(),r(18,"div",316)(19,"button",317),M("click",function(){C(t);let n=g(2);return _(n.addPresetPath("wave"))}),r(20,"span",318),s(21,"\u3030\uFE0F"),i(),r(22,"span"),s(23,"\uBB3C\uACB0"),i()(),r(24,"button",317),M("click",function(){C(t);let n=g(2);return _(n.addPresetPath("curve"))}),r(25,"span",318),s(26,"\u{1F30A}"),i(),r(27,"span"),s(28,"\uACE1\uC120"),i()(),r(29,"button",317),M("click",function(){C(t);let n=g(2);return _(n.addPresetPath("heart"))}),r(30,"span",318),s(31,"\u{1F496}"),i(),r(32,"span"),s(33,"\uD558\uD2B8"),i()(),r(34,"button",317),M("click",function(){C(t);let n=g(2);return _(n.addPresetPath("star"))}),r(35,"span",318),s(36,"\u2B50"),i(),r(37,"span"),s(38,"\uBCC4"),i()(),r(39,"button",317),M("click",function(){C(t);let n=g(2);return _(n.addPresetPath("arrow"))}),r(40,"span",318),s(41,"\u27A1\uFE0F"),i(),r(42,"span"),s(43,"\uD654\uC0B4\uD45C"),i()(),r(44,"button",317),M("click",function(){C(t);let n=g(2);return _(n.addPresetPath("spiral"))}),r(45,"span",318),s(46,"\u{1F300}"),i(),r(47,"span"),s(48,"\uB098\uC120"),i()()()(),r(49,"div",312)(50,"h4"),s(51,"\uC2A4\uD0C0\uC77C \uC124\uC815"),i(),r(52,"div",115)(53,"div",116)(54,"label"),s(55,"\uC120 \uC0C9\uC0C1:"),i(),r(56,"input",153),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.vectorPathStyle.stroke,n)||(a.vectorPathStyle.stroke=n),_(n)}),i()(),r(57,"div",116)(58,"label"),s(59,"\uC120 \uB450\uAED8:"),i(),r(60,"input",319),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.vectorPathStyle.strokeWidth,n)||(a.vectorPathStyle.strokeWidth=n),_(n)}),i(),r(61,"span"),s(62),i()(),r(63,"div",116)(64,"label"),s(65,"\uCC44\uC6B0\uAE30:"),i(),r(66,"input",153),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.vectorPathStyle.fill,n)||(a.vectorPathStyle.fill=n),_(n)}),i(),r(67,"button",320),M("click",function(){C(t);let n=g(2);return _(n.toggleFill())}),s(68),i()()()(),B(69,_a,6,4,"div",321),r(70,"div",312)(71,"h4"),s(72,"\uACE0\uAE09 \uC124\uC815"),i(),r(73,"div",322)(74,"div",116)(75,"label"),s(76,"\uC0AC\uC6A9\uC790 \uC815\uC758 \uD328\uC2A4:"),i(),r(77,"textarea",323),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.customPath,n)||(a.customPath=n),_(n)}),i(),r(78,"button",11),M("click",function(){C(t);let n=g(2);return _(n.applyCustomPath())}),s(79,"\uC801\uC6A9"),i()()()()()()}if(l&2){let t=g(2);c(56),N("ngModel",t.vectorPathStyle.stroke),c(4),N("ngModel",t.vectorPathStyle.strokeWidth),c(2),E("",t.vectorPathStyle.strokeWidth,"px"),c(4),N("ngModel",t.vectorPathStyle.fill),c(2),E(" ",t.vectorPathStyle.fill==="none"?"\uCC44\uC6B0\uAE30 \uC5C6\uC74C":"\uCC44\uC6B0\uAE30 \uC788\uC74C"," "),c(),f("ngIf",t.previewPath),c(8),N("ngModel",t.customPath)}}function fa(l,e){if(l&1){let t=F();r(0,"div",327)(1,"button",11),M("click",function(){C(t);let n=g(2);return _(n.exitDirectDrawing())}),s(2,"\uB4A4\uB85C \uAC00\uAE30"),i(),r(3,"button",12),M("click",function(){C(t);let n=g(2);return _(n.applyDirectDrawing())}),s(4,"\uADF8\uB9B0 \uD328\uC2A4\uB4E4 \uC801\uC6A9"),i(),r(5,"button",11),M("click",function(){C(t);let n=g(2);return _(n.closeVectorPathEditor())}),s(6,"\uB2EB\uAE30"),i()()}}function Pa(l,e){if(l&1){let t=F();r(0,"div",328)(1,"button",11),M("click",function(){C(t);let n=g(2);return _(n.closeVectorPathEditor())}),s(2,"\uCDE8\uC18C"),i(),r(3,"button",169),M("click",function(){C(t);let n=g(2);return _(n.addCurrentVectorPath())}),s(4,"\uD328\uC2A4 \uCD94\uAC00"),i()()}if(l&2){let t=g(2);c(3),f("disabled",!t.previewPath)}}function xa(l,e){if(l&1&&(r(0,"div",158)(1,"h3"),s(2,"\uC774\uBBF8\uC9C0 \uBBF8\uB9AC\uBCF4\uAE30"),i(),r(3,"div",170),R(4,"img",171),i()()),l&2){let t=g(3);c(4),q("max-width","300px")("max-height","200px"),f("src",t.imageEditorData.src,St)}}function Ma(l,e){if(l&1){let t=F();r(0,"div",160)(1,"div",5),M("click",function(){C(t);let n=g(2);return _(n.showImageEditor=!1)}),i(),r(2,"div",161)(3,"div",7)(4,"h2"),s(5,"\uC774\uBBF8\uC9C0 \uD3B8\uC9D1\uAE30 \u{1F5BC}\uFE0F"),i(),r(6,"button",8),M("click",function(){C(t);let n=g(2);return _(n.showImageEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"div",162)(10,"div",163)(11,"h3"),s(12,"\uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC"),i(),r(13,"div",164)(14,"input",165),M("change",function(n){C(t);let a=g(2);return _(a.onImageFileSelect(n))}),i(),r(15,"label",166)(16,"span",167),s(17,"\u{1F4C1}"),i(),r(18,"span"),s(19,"\uC774\uBBF8\uC9C0 \uD30C\uC77C\uC744 \uC120\uD0DD\uD558\uC138\uC694"),i(),r(20,"small"),s(21,"(JPG, PNG, GIF \uC9C0\uC6D0)"),i()()()(),B(22,xa,5,5,"div",168),r(23,"div",154)(24,"h3"),s(25,"\uC704\uCE58 \uBC0F \uD06C\uAE30 \uC124\uC815"),i(),r(26,"div",155)(27,"div",116)(28,"label"),s(29,"X \uC704\uCE58:"),i(),r(30,"input",156),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.imageEditorData.x,n)||(a.imageEditorData.x=n),_(n)}),i()(),r(31,"div",116)(32,"label"),s(33,"Y \uC704\uCE58:"),i(),r(34,"input",156),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.imageEditorData.y,n)||(a.imageEditorData.y=n),_(n)}),i()(),r(35,"div",116)(36,"label"),s(37,"\uB108\uBE44:"),i(),r(38,"input",157),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.imageEditorData.width,n)||(a.imageEditorData.width=n),_(n)}),i()(),r(39,"div",116)(40,"label"),s(41,"\uB192\uC774:"),i(),r(42,"input",157),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.imageEditorData.height,n)||(a.imageEditorData.height=n),_(n)}),i()()()()()(),r(43,"div",10)(44,"button",11),M("click",function(){C(t);let n=g(2);return _(n.closeImageEditor())}),s(45,"\uCDE8\uC18C"),i(),r(46,"button",169),M("click",function(){C(t);let n=g(2);return _(n.applyImageEditor())}),s(47,"\uC774\uBBF8\uC9C0 \uCD94\uAC00"),i()()()()}if(l&2){let t=g(2);c(22),f("ngIf",t.imageEditorData.src),c(8),N("ngModel",t.imageEditorData.x),f("max",t.pageWidth),c(4),N("ngModel",t.imageEditorData.y),f("max",t.pageHeight),c(4),N("ngModel",t.imageEditorData.width),f("max",t.pageWidth),c(4),N("ngModel",t.imageEditorData.height),f("max",t.pageHeight),c(4),f("disabled",!t.imageEditorData.src)}}function ba(l,e){if(l&1&&R(0,"div",186),l&2){let t=g(3);q("background-color",t.shapeEditorData.fillColor)("border",t.shapeEditorData.strokeWidth+"px solid "+t.shapeEditorData.strokeColor)}}function va(l,e){if(l&1&&R(0,"div",187),l&2){let t=g(3);q("background-color",t.shapeEditorData.fillColor)("border",t.shapeEditorData.strokeWidth+"px solid "+t.shapeEditorData.strokeColor)}}function Oa(l,e){if(l&1&&R(0,"div",188),l&2){let t=g(3);q("height",t.shapeEditorData.strokeWidth,"px")("background-color",t.shapeEditorData.strokeColor)}}function ya(l,e){if(l&1){let t=F();r(0,"div",172)(1,"div",5),M("click",function(){C(t);let n=g(2);return _(n.showShapeEditor=!1)}),i(),r(2,"div",173)(3,"div",7)(4,"h2"),s(5,"\uB3C4\uD615 \uD3B8\uC9D1\uAE30 \u{1F537}"),i(),r(6,"button",8),M("click",function(){C(t);let n=g(2);return _(n.showShapeEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"div",174)(10,"div",175)(11,"h3"),s(12,"\uB3C4\uD615 \uC885\uB958"),i(),r(13,"div",176)(14,"button",177),M("click",function(){C(t);let n=g(2);return _(n.shapeEditorData.shapeType="rectangle")}),r(15,"span",178),s(16,"\u25AD"),i(),r(17,"span"),s(18,"\uC0AC\uAC01\uD615"),i()(),r(19,"button",177),M("click",function(){C(t);let n=g(2);return _(n.shapeEditorData.shapeType="circle")}),r(20,"span",178),s(21,"\u25CF"),i(),r(22,"span"),s(23,"\uC6D0\uD615"),i()(),r(24,"button",177),M("click",function(){C(t);let n=g(2);return _(n.shapeEditorData.shapeType="line")}),r(25,"span",178),s(26,"\u2501"),i(),r(27,"span"),s(28,"\uC120"),i()()()(),r(29,"div",114)(30,"h3"),s(31,"\uC2A4\uD0C0\uC77C \uC124\uC815"),i(),r(32,"div",115)(33,"div",116)(34,"label"),s(35,"\uCC44\uC6B0\uAE30 \uC0C9\uC0C1:"),i(),r(36,"input",153),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.fillColor,n)||(a.shapeEditorData.fillColor=n),_(n)}),i()(),r(37,"div",116)(38,"label"),s(39,"\uD14C\uB450\uB9AC \uC0C9\uC0C1:"),i(),r(40,"input",153),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.strokeColor,n)||(a.shapeEditorData.strokeColor=n),_(n)}),i()(),r(41,"div",116)(42,"label"),s(43,"\uD14C\uB450\uB9AC \uB450\uAED8:"),i(),r(44,"input",179),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.strokeWidth,n)||(a.shapeEditorData.strokeWidth=n),_(n)}),i(),r(45,"span"),s(46),i()()()(),r(47,"div",154)(48,"h3"),s(49,"\uC704\uCE58 \uBC0F \uD06C\uAE30 \uC124\uC815"),i(),r(50,"div",155)(51,"div",116)(52,"label"),s(53,"X \uC704\uCE58:"),i(),r(54,"input",156),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.x,n)||(a.shapeEditorData.x=n),_(n)}),i()(),r(55,"div",116)(56,"label"),s(57,"Y \uC704\uCE58:"),i(),r(58,"input",156),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.y,n)||(a.shapeEditorData.y=n),_(n)}),i()(),r(59,"div",116)(60,"label"),s(61,"\uB108\uBE44:"),i(),r(62,"input",180),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.width,n)||(a.shapeEditorData.width=n),_(n)}),i()(),r(63,"div",116)(64,"label"),s(65,"\uB192\uC774:"),i(),r(66,"input",180),j("ngModelChange",function(n){C(t);let a=g(2);return W(a.shapeEditorData.height,n)||(a.shapeEditorData.height=n),_(n)}),i()()()(),r(67,"div",158)(68,"h3"),s(69,"\uBBF8\uB9AC\uBCF4\uAE30"),i(),r(70,"div",181)(71,"div",182),B(72,ba,1,4,"div",183)(73,va,1,4,"div",184)(74,Oa,1,4,"div",185),i()()()()(),r(75,"div",10)(76,"button",11),M("click",function(){C(t);let n=g(2);return _(n.closeShapeEditor())}),s(77,"\uCDE8\uC18C"),i(),r(78,"button",12),M("click",function(){C(t);let n=g(2);return _(n.applyShapeEditor())}),s(79,"\uB3C4\uD615 \uCD94\uAC00"),i()()()()}if(l&2){let t=g(2);c(14),H("active",t.shapeEditorData.shapeType==="rectangle"),c(5),H("active",t.shapeEditorData.shapeType==="circle"),c(5),H("active",t.shapeEditorData.shapeType==="line"),c(12),N("ngModel",t.shapeEditorData.fillColor),c(4),N("ngModel",t.shapeEditorData.strokeColor),c(4),N("ngModel",t.shapeEditorData.strokeWidth),c(2),E("",t.shapeEditorData.strokeWidth,"px"),c(8),N("ngModel",t.shapeEditorData.x),f("max",t.pageWidth),c(4),N("ngModel",t.shapeEditorData.y),f("max",t.pageHeight),c(4),N("ngModel",t.shapeEditorData.width),f("max",t.pageWidth),c(4),N("ngModel",t.shapeEditorData.height),f("max",t.pageHeight),c(6),f("ngIf",t.shapeEditorData.shapeType==="rectangle"),c(),f("ngIf",t.shapeEditorData.shapeType==="circle"),c(),f("ngIf",t.shapeEditorData.shapeType==="line")}}function wa(l,e){if(l&1&&(r(0,"tr")(1,"td")(2,"code"),s(3),i()(),r(4,"td")(5,"code"),s(6),i()(),r(7,"td"),s(8),i()()),l&2){let t=e.$implicit;c(3),T(t.name),c(3),T(t.value),c(2),T(t.description)}}function Da(l,e){if(l&1&&(r(0,"tr")(1,"td")(2,"code"),s(3),i()(),r(4,"td")(5,"code"),s(6),i()(),r(7,"td"),s(8),i()()),l&2){let t=e.$implicit;c(3),T(t.name),c(3),T(t.value),c(2),T(t.description)}}function Sa(l,e){if(l&1&&(r(0,"tr")(1,"td")(2,"code"),s(3),i()(),r(4,"td")(5,"code"),s(6),i()(),r(7,"td"),s(8),i()()),l&2){let t=e.$implicit;c(3),T(t.name),c(3),T(t.value),c(2),T(t.description)}}function Ea(l,e){if(l&1&&(r(0,"div",359)(1,"div",360),s(2),i(),r(3,"div",361),s(4),i()()),l&2){let t=e.$implicit;c(2),T(t.code),c(2),T(t.description)}}function ka(l,e){if(l&1&&(r(0,"tr")(1,"td")(2,"code"),s(3),i()(),r(4,"td")(5,"code"),s(6),i()(),r(7,"td"),s(8),i()()),l&2){let t=e.$implicit;c(3),T(t.name),c(3),T(t.value),c(2),T(t.description)}}function Ba(l,e){if(l&1&&(r(0,"div",362)(1,"strong"),s(2),i(),r(3,"span"),s(4),i()()),l&2){let t=e.$implicit;c(2),T(t.name),c(2),ht("",t.baseFont," (",t.type,")")}}function Ta(l,e){if(l&1&&(r(0,"div",362)(1,"strong"),s(2),i(),r(3,"span"),s(4),i()()),l&2){let t=e.$implicit;c(2),T(t.name),c(2),qt("",t.width,"\xD7",t.height," (",t.colorSpace,")")}}function Aa(l,e){if(l&1&&(r(0,"div",363)(1,"h4"),s(2),i(),r(3,"p"),s(4),i()()),l&2){let t=e.$implicit;c(2),T(t.filter),c(2),T(t.description)}}function Ia(l,e){if(l&1&&(r(0,"div",31)(1,"div",32)(2,"div",329)(3,"h3"),s(4,"\u{1F4C4} \uAE30\uBCF8 \uC815\uBCF4"),i()(),r(5,"div",330)(6,"div",331)(7,"div",332),s(8,"\u{1F4CB}"),i(),r(9,"div",333)(10,"div",334),s(11,"PDF \uBC84\uC804"),i(),r(12,"div",335),s(13),i(),r(14,"div",336),s(15),i()()(),r(16,"div",331)(17,"div",332),s(18,"\u{1F4D1}"),i(),r(19,"div",333)(20,"div",334),s(21,"\uCD1D \uD398\uC774\uC9C0"),i(),r(22,"div",335),s(23),i(),r(24,"div",336),s(25,"\uBB38\uC11C\uC758 \uC804\uCCB4 \uD398\uC774\uC9C0 \uC218"),i()()(),r(26,"div",331)(27,"div",332),s(28,"\u{1F9E9}"),i(),r(29,"div",333)(30,"div",334),s(31,"\uCD1D \uAC1D\uCCB4"),i(),r(32,"div",335),s(33),i(),r(34,"div",336),s(35,"PDF \uB0B4\uBD80 \uAC1D\uCCB4\uC758 \uCD1D \uAC1C\uC218"),i()()()()(),r(36,"div",32)(37,"div",329)(38,"h3"),s(39,"\u{1F3D7}\uFE0F \uBB38\uC11C \uAD6C\uC870"),i(),r(40,"p",337),s(41,"PDF \uD30C\uC77C\uC740 4\uAC1C\uC758 \uC8FC\uC694 \uAD6C\uC870\uB85C \uAD6C\uC131\uB429\uB2C8\uB2E4"),i()(),r(42,"div",338)(43,"div",339)(44,"span",340),s(45,"1"),i(),r(46,"h4"),s(47),i(),r(48,"span",341),s(49,"Header"),i()(),r(50,"p",342),s(51),i()(),r(52,"div",338)(53,"div",339)(54,"span",340),s(55,"2"),i(),r(56,"h4"),s(57,"\uBB38\uC11C \uCE74\uD0C8\uB85C\uADF8 (Document Catalog)"),i(),r(58,"span",343),s(59),i()(),r(60,"p",342),s(61),i(),r(62,"div",344)(63,"table")(64,"thead")(65,"tr")(66,"th"),s(67,"\uC18D\uC131\uBA85"),i(),r(68,"th"),s(69,"\uAC12"),i(),r(70,"th"),s(71,"\uC124\uBA85"),i()()(),r(72,"tbody"),B(73,wa,9,3,"tr",38),i()()()(),r(74,"div",338)(75,"div",339)(76,"span",340),s(77,"3"),i(),r(78,"h4"),s(79,"\uD398\uC774\uC9C0 \uD2B8\uB9AC (Page Tree)"),i(),r(80,"span",345),s(81),i()(),r(82,"p",342),s(83),i(),r(84,"div",344)(85,"table")(86,"thead")(87,"tr")(88,"th"),s(89,"\uC18D\uC131\uBA85"),i(),r(90,"th"),s(91,"\uAC12"),i(),r(92,"th"),s(93,"\uC124\uBA85"),i()()(),r(94,"tbody"),B(95,Da,9,3,"tr",38),i()()()(),r(96,"div",338)(97,"div",339)(98,"span",340),s(99,"4"),i(),r(100,"h4"),s(101,"\uD398\uC774\uC9C0 \uAC1D\uCCB4 (Page Objects)"),i(),r(102,"span",346),s(103),i()(),r(104,"p",342),s(105),i(),r(106,"div",344)(107,"table")(108,"thead")(109,"tr")(110,"th"),s(111,"\uC18D\uC131\uBA85"),i(),r(112,"th"),s(113,"\uAC12"),i(),r(114,"th"),s(115,"\uC124\uBA85"),i()()(),r(116,"tbody"),B(117,Sa,9,3,"tr",38),i()()()()(),r(118,"div",32)(119,"div",329)(120,"h3"),s(121,"\u{1F4C4} \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC (Content Streams)"),i(),r(122,"p",337),s(123,"\uD398\uC774\uC9C0 \uB0B4\uC6A9\uC744 \uC815\uC758\uD558\uB294 \uBA85\uB839\uC5B4 \uC2DC\uD000\uC2A4"),i()(),r(124,"div",338)(125,"div",339)(126,"h4"),s(127),i(),r(128,"span",347),s(129),i()(),r(130,"p",342),s(131),i(),r(132,"div",348),B(133,Ea,5,2,"div",349),i()()(),r(134,"div",32)(135,"div",329)(136,"h3"),s(137,"\u{1F517} \uAD50\uCC28 \uCC38\uC870 \uD14C\uC774\uBE14 (XREF Table)"),i()(),r(138,"div",350)(139,"div",351)(140,"h4"),s(141),i(),r(142,"p")(143,"strong"),s(144,"\uBAA9\uC801:"),i(),s(145),i(),r(146,"p")(147,"strong"),s(148,"\uD56D\uBAA9 \uC218:"),i(),s(149),i(),r(150,"div",352)(151,"pre"),s(152),i()()()()(),r(153,"div",32)(154,"div",329)(155,"h3"),s(156,"\u{1F51A} \uD2B8\uB808\uC77C\uB7EC (Trailer)"),i()(),r(157,"div",338)(158,"p",342),s(159),i(),r(160,"div",344)(161,"table")(162,"thead")(163,"tr")(164,"th"),s(165,"\uC18D\uC131\uBA85"),i(),r(166,"th"),s(167,"\uAC12"),i(),r(168,"th"),s(169,"\uC124\uBA85"),i()()(),r(170,"tbody"),B(171,ka,9,3,"tr",38),i()()(),r(172,"div",33)(173,"strong"),s(174,"startxref:"),i(),s(175),i()()(),r(176,"div",32)(177,"div",329)(178,"h3"),s(179,"\u{1F3A8} \uB9AC\uC18C\uC2A4 (Resources)"),i()(),r(180,"div",353)(181,"div",354)(182,"h4"),s(183),i(),r(184,"div",355),B(185,Ba,5,3,"div",356),i()(),r(186,"div",354)(187,"h4"),s(188),i(),r(189,"div",355),B(190,Ta,5,4,"div",356),i()()()(),r(191,"div",32)(192,"div",329)(193,"h3"),s(194,"\u{1F5DC}\uFE0F \uC555\uCD95 \uD544\uD130 (Compression Filters)"),i()(),r(195,"div",357),B(196,Aa,5,2,"div",358),i()()()),l&2){let t=g(2);c(13),T(t.pdfStructureData.version),c(2),T(t.pdfStructureData.header.description),c(8),T(t.pdfStructureData.pages),c(10),T(t.pdfStructureData.objects),c(14),T(t.pdfStructureData.header.magic),c(4),T(t.pdfStructureData.header.description),c(8),E("Object ",t.pdfStructureData.catalog.objectNumber),c(2),T(t.pdfStructureData.catalog.description),c(12),f("ngForOf",t.pdfStructureData.catalog.properties),c(8),E("Object ",t.pdfStructureData.pageTree.objectNumber),c(2),T(t.pdfStructureData.pageTree.description),c(12),f("ngForOf",t.pdfStructureData.pageTree.properties),c(8),E("Object ",t.pdfStructureData.pageObjects[0].objectNumber),c(2),T(t.pdfStructureData.pageObjects[0].description),c(12),f("ngForOf",t.pdfStructureData.pageObjects[0].properties),c(10),E("Stream Object ",t.pdfStructureData.contentStreams[0].objectNumber),c(2),T(t.pdfStructureData.contentStreams[0].encoding),c(2),T(t.pdfStructureData.contentStreams[0].description),c(2),f("ngForOf",t.pdfStructureData.contentStreams[0].operators),c(8),T(t.pdfStructureData.xrefTable.description),c(4),E(" ",t.pdfStructureData.xrefTable.purpose),c(4),E(" ",t.pdfStructureData.xrefTable.entries),c(3),T(t.pdfStructureData.xrefTable.structure),c(7),T(t.pdfStructureData.trailer.description),c(12),f("ngForOf",t.pdfStructureData.trailer.properties),c(4),E(" ",t.pdfStructureData.trailer.startxref," "),c(8),E("\u{1F524} \uD3F0\uD2B8 (",t.pdfStructureData.resources.fonts.length,")"),c(2),f("ngForOf",t.pdfStructureData.resources.fonts),c(3),E("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 (",t.pdfStructureData.resources.images.length,")"),c(2),f("ngForOf",t.pdfStructureData.resources.images),c(6),f("ngForOf",t.pdfStructureData.compression)}}function Va(l,e){if(l&1){let t=F();r(0,"div",364)(1,"div",5),M("click",function(){C(t);let n=g(2);return _(n.showDebugModal=!1)}),i(),r(2,"div",6)(3,"div",7)(4,"h2"),s(5,"\u{1F50D} \uB514\uBC84\uADF8 \uB85C\uADF8 (\uB4DC\uB798\uADF8\uB85C \uBCF5\uC0AC \uAC00\uB2A5)"),i(),r(6,"button",8),M("click",function(){C(t);let n=g(2);return _(n.showDebugModal=!1)}),s(7,"\u2715"),i()(),r(8,"div",31)(9,"pre",365),s(10),i()(),r(11,"div",10)(12,"button",11),M("click",function(){C(t);let n=g(2);return _(n.showDebugModal=!1)}),s(13,"\uB2EB\uAE30"),i(),r(14,"button",12),M("click",function(){C(t);let n=g(2);return _(n.copyDebugLogs())}),s(15,"\u{1F4CB} \uC804\uCCB4 \uBCF5\uC0AC"),i()()()()}if(l&2){let t=g(2);c(10),T(t.debugLogs.join(`
`))}}function Fa(l,e){if(l&1){let t=F();r(0,"div",303)(1,"div",5),M("click",function(){C(t);let n=g();return _(n.showVectorPathEditor=!1)}),i(),r(2,"div",304)(3,"div",7)(4,"h2"),s(5,"\uBCA1\uD130 \uD328\uC2A4 \uD3B8\uC9D1\uAE30 \u{1F3A8}"),i(),r(6,"button",8),M("click",function(){C(t);let n=g();return _(n.showVectorPathEditor=!1)}),s(7,"\u2715"),i()(),r(8,"div",31),B(9,Ca,3,3,"div",305)(10,ha,80,7,"div",278),r(11,"div",10),B(12,fa,7,0,"div",306)(13,Pa,5,1,"div",307),i()()(),B(14,Ma,48,10,"div",17)(15,ya,80,21,"div",18),r(16,"div",4)(17,"div",5),M("click",function(){C(t);let n=g();return _(n.closePdfStructureModal())}),i(),r(18,"div",6)(19,"div",7)(20,"h2"),s(21,"\u{1F4D6} PDF \uAD6C\uC870 \uC0C1\uC138 \uC124\uBA85 (ISO 32000-1:2008)"),i(),r(22,"button",8),M("click",function(){C(t);let n=g();return _(n.closePdfStructureModal())}),s(23,"\u2715"),i()(),B(24,Ia,197,31,"div",9),r(25,"div",10)(26,"button",11),M("click",function(){C(t);let n=g();return _(n.closePdfStructureModal())}),s(27,"\uB2EB\uAE30"),i(),r(28,"button",12),M("click",function(){C(t);let n=g();return _(n.closePdfStructureModal())}),s(29,"\uD655\uC778"),i()()()(),B(30,Va,16,1,"div",308),i()}if(l&2){let t=g();c(9),f("ngIf",t.showDirectDrawingMode),c(),f("ngIf",!t.showDirectDrawingMode),c(2),f("ngIf",t.showDirectDrawingMode),c(),f("ngIf",!t.showDirectDrawingMode),c(),f("ngIf",t.showImageEditor),c(),f("ngIf",t.showShapeEditor),c(),q("display",t.showPdfStructureModal?"block":"none"),ut("aria-hidden",!t.showPdfStructureModal),c(8),f("ngIf",t.pdfStructureData),c(6),f("ngIf",t.showDebugModal)}}var Me=class l{constructor(e,t,o,n,a,d,p,m,u,h,x){this.router=e;this.snackbar=t;this.indexedDbService=o;this.cdr=n;this.pdfTextStreamService=a;this.pdfPageDeleterService=d;this.textEditorService=p;this.renderer=m;this.vectorGraphicsRenderService=u;this.sanitizer=h;this.docsAuthService=x}MAX_PAGES=1;SINGLE_PAGE_MODE=!0;vectorPathDrawer;signatureCanvas;currentPage=1;totalPages=1;zoomLevel=100;pageWidth=595;pageHeight=842;showGrid=!0;pdfPages=[];pageElements=[];selectedElement=null;editingElement=null;pdfSrc=null;loadedFileName="";pdfBase64Data="";currentDocument=null;panelPosition={x:300,y:100};isDragging=!1;dragOffset={x:0,y:0};isDraggingElement=!1;isResizingElement=!1;dragStartPosition={x:0,y:0};elementStartPosition={x:0,y:0,width:0,height:0};resizeDirection="";currentDragElement=null;undoStack=[];redoStack=[];isDocumentModalVisible=!1;documentModalMode="save";showConfirmModal=!1;confirmModalTitle="";confirmModalMessage="";confirmModalCallback=null;isGeneratingThumbnails=!1;showVectorPathEditor=!1;showDirectDrawingMode=!1;selectedVectorPath=null;drawnPaths=[];vectorPathStyle={stroke:"#2c3e50",strokeWidth:3,fill:"none"};loadedVectorData=null;renderedVectorGraphics=[];showVectorGraphicsPreview=!1;vectorMinimaps={};showDebugModal=!1;debugLogs=[];vectorRenderOptions={canvasWidth:595,canvasHeight:842,scale:1,offsetX:0,offsetY:0,strokeColor:"#2c3e50",fillColor:"transparent",strokeWidth:2,showDebugInfo:!1};vectorDebugInfo={};previewPath="";customPath="";showTextEditor=!1;textEditorData={text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:16,fontFamily:"Arial",color:"#000000",x:100,y:100,width:200,height:30};showImageEditor=!1;imageEditorData={src:"",x:150,y:150,width:200,height:150,file:null};showShapeEditor=!1;shapeEditorData={shapeType:"rectangle",fillColor:"#3498db",strokeColor:"#2980b9",strokeWidth:2,x:200,y:200,width:100,height:100};showSignatureEditor=!1;signatureEditorData={signatureText:"\uD64D\uAE38\uB3D9",signatureStyle:"handwritten",strokeColor:"#000000",strokeWidth:2,fontSize:24,x:100,y:100,width:150,height:60,canvasData:null};showWatermarkEditor=!1;watermarkEditorData={text:"CONFIDENTIAL",fontSize:48,color:"#808080",opacity:.3,rotation:-45,x:200,y:300,width:300,height:80};pdfStructureData=null;textStreamRawData=null;showPdfStructureModal=!1;showJsonViewer=!0;enablePdfAnalysis=!1;showAnalysisDashboard=!1;pdfAnalysisData=null;enableDebugLogs=!1;showVectorGraphicsModal=!1;vectorGraphicsSvgContent="";currentVectorGraphicsPageNum=1;showRightPanel=!0;showLeftPanel=!0;isLeftPanelCollapsed=!0;isRightPanelCollapsed=!0;screenWidth=window.innerWidth;isDrawing=!1;lastX=0;lastY=0;docsSettings={type:"business",format:"report",template:"standard",language:"korean",structure:"outline",style:"formal"};docsTitle="";additionalRequests="";documentType="empty";isGenerating=!1;generatedDocs="";currentStep="setup";get totalElementCount(){return this.pdfPages.reduce((e,t)=>e+t.elements.length,0)}get hasContent(){return this.totalElementCount>0||this.docsTitle.trim().length>0}docsPages=[];currentPageIndex=0;wordCount=0;isSearchMode=!1;searchResults={current:0,total:0};rightSidebarVisible=!1;showDocsManager=!1;editingTitleId=null;editingTitle="";currentDocsId=null;isEditMode=!1;autoSaveStatus="idle";autoSaveTimeout;isPdfMode=!0;typeOptions=[{value:"business",label:"\uBE44\uC988\uB2C8\uC2A4 \uBB38\uC11C"},{value:"technical",label:"\uAE30\uC220 \uBB38\uC11C"},{value:"academic",label:"\uD559\uC220 \uBB38\uC11C"},{value:"legal",label:"\uBC95\uBB34 \uBB38\uC11C"}];formatOptions=[{value:"report",label:"\uBCF4\uACE0\uC11C"},{value:"proposal",label:"\uC81C\uC548\uC11C"},{value:"manual",label:"\uB9E4\uB274\uC5BC"},{value:"presentation",label:"\uD504\uB808\uC820\uD14C\uC774\uC158"}];templateOptions=[{value:"standard",label:"\uD45C\uC900"},{value:"creative",label:"\uCC3D\uC758\uC801"},{value:"formal",label:"\uACF5\uC2DD"},{value:"simple",label:"\uAC04\uB2E8"}];languageOptions=[{value:"korean",label:"\uD55C\uAD6D\uC5B4"},{value:"english",label:"\uC601\uC5B4"},{value:"mixed",label:"\uD63C\uD569"}];structureOptions=[{value:"outline",label:"\uAC1C\uC694"},{value:"detailed",label:"\uC0C1\uC138"},{value:"bullet",label:"\uBD88\uB9BF \uD3EC\uC778\uD2B8"},{value:"narrative",label:"\uC11C\uC220\uD615"}];styleOptions=[{value:"formal",label:"\uACF5\uC2DD"},{value:"casual",label:"\uCE90\uC8FC\uC5BC"},{value:"technical",label:"\uAE30\uC220\uC801"},{value:"persuasive",label:"\uC124\uB4DD\uC801"}];sentenceTextEditors=[];textEditorInstances=[];sentenceGroups=[];textEditorVisible=!1;pdfContainer;isTextEditInfoModalVisible=!1;textEditModalInfo={totalTextItems:0,sentenceGroupCount:0,currentPage:1,totalPages:1};scrollLeft=0;scrollTop=0;scrollListenerDestroy;scrollListenerAttached=!1;ngOnInit(){this.initializeComponent(),this.checkScreenSize()}ngAfterViewInit(){this.setupPdfScrollListener()}ngOnDestroy(){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),this.scrollListenerDestroy&&this.scrollListenerDestroy(),this.clearPdfCache()}checkScreenSize(){this.screenWidth=window.innerWidth,this.showLeftPanel=!0,this.showRightPanel=!0}onResize(e){this.screenWidth=window.innerWidth}initializeComponent(){this.initializePdfEditor(),this.migrateToIndexedDB(),this.initializeDarkMode(),console.log("DocsGenerator initialized")}migrateToIndexedDB(){return V(this,null,function*(){try{yield this.indexedDbService.migrateFromLocalStorage(),yield this.updateRecentDocsCache(),console.log("IndexedDB \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC644\uB8CC")}catch(e){console.error("IndexedDB \uB9C8\uC774\uADF8\uB808\uC774\uC158 \uC2E4\uD328:",e)}})}initializePdfEditor(){let e={id:"page-1",pageNumber:1,elements:[],width:this.pageWidth,height:this.pageHeight};this.pdfPages=[e],this.totalPages=1,this.currentPage=1,this.documentType="new-document",this.docsTitle.trim()||(this.docsTitle="\uC0C8 \uBB38\uC11C")}addNewPage(){let e=this.totalPages+1,t={id:"page-"+e,pageNumber:e,elements:[],width:this.pageWidth,height:this.pageHeight};this.pdfPages.push(t),this.totalPages++,this.currentPage=e,this.autoCloseRightPanel()}switchToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.selectedElement=null)}onPageSelect(e){this.switchToPage(e),this.scrollToPage(e)}scrollToPage(e){setTimeout(()=>{let t=document.querySelector(`#page-${e}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},100)}trackByPage(e,t){return t.id}trackByElement(e,t){return t.id}selectElement(e,t){console.log("selectElement called with:",e,"pageNumber:",t),t&&this.switchToPage(t),this.selectedElement=e,console.log("selectedElement set to:",this.selectedElement)}generateDocument(){return V(this,null,function*(){this.isGenerating=!0,this.currentStep="generating";try{yield this.simulateDocumentGeneration(),this.currentStep="result"}catch(e){console.error("\uBB38\uC11C \uC0DD\uC131 \uC911 \uC624\uB958:",e),this.snackbar.showError("\uBB38\uC11C \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}finally{this.isGenerating=!1}})}toggleRightPanel(){this.isRightPanelCollapsed=!this.isRightPanelCollapsed,this.isRightPanelCollapsed?this.snackbar.showInfo("\uC6B0\uCE21 \uD328\uB110\uC774 \uCD95\uC18C\uB418\uC5C8\uC2B5\uB2C8\uB2E4"):this.snackbar.showInfo("\uC6B0\uCE21 \uD328\uB110\uC774 \uD655\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4")}toggleLeftPanel(){this.isLeftPanelCollapsed=!this.isLeftPanelCollapsed,this.isLeftPanelCollapsed?this.snackbar.showInfo("\uC88C\uCE21 \uD328\uB110\uC774 \uCD95\uC18C\uB418\uC5C8\uC2B5\uB2C8\uB2E4"):this.snackbar.showInfo("\uC88C\uCE21 \uD328\uB110\uC774 \uD655\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4")}onPdfAnalysisToggle(e){this.enablePdfAnalysis=e,e?(this.snackbar.showSuccess("PDF \uBD84\uC11D \uC790\uB3D9 \uC2E4\uD589\uC774 \uD65C\uC131\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4"),console.log("\u2705 PDF \uBD84\uC11D \uD1A0\uAE00 \uD65C\uC131\uD654\uB428")):(this.snackbar.showInfo("PDF \uBD84\uC11D \uC790\uB3D9 \uC2E4\uD589\uC774 \uBE44\uD65C\uC131\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4"),console.log("\u23F8\uFE0F PDF \uBD84\uC11D \uD1A0\uAE00 \uBE44\uD65C\uC131\uD654\uB428"))}closeRightPanel(){this.isRightPanelCollapsed=!0}closeLeftPanel(){this.isLeftPanelCollapsed=!0}expandLeftPanel(){this.isLeftPanelCollapsed=!1}expandRightPanel(){this.isRightPanelCollapsed=!1}autoCloseRightPanel(){setTimeout(()=>{this.isRightPanelCollapsed=!0,console.log("\u{1F504} \uC6B0\uCE21 \uD328\uB110 \uC790\uB3D9 \uB2EB\uD798")},300)}simulateDocumentGeneration(){return V(this,null,function*(){return new Promise(e=>{setTimeout(()=>{this.generatedDocs="\uBB38\uC11C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",this.wordCount=this.generatedDocs.length,e()},3e3)})})}onMenuChange(e){console.log("\uBA54\uB274 \uBCC0\uACBD:",e)}onToolbarAction(e){switch(console.log("\uD234\uBC14 \uC561\uC158:",e),e){case"save":case"save-document":this.saveDocument();break;case"export":case"export-document":console.log("\uB0B4\uBCF4\uB0B4\uAE30 \uC804 \uB370\uC774\uD130 \uC0C1\uD0DC \uD655\uC778:"),console.log("\uC804\uCCB4 \uD398\uC774\uC9C0:",this.pdfPages),console.log("\uCD1D \uC694\uC18C \uAC1C\uC218:",this.totalElementCount),this.exportToPdf();break;case"new-document":this.createNewDocument();break;case"open-document":this.openDocument();break;default:console.log("\uCC98\uB9AC\uB418\uC9C0 \uC54A\uC740 \uC561\uC158:",e)}}onSearch(e){console.log("\uAC80\uC0C9:",e)}onLeftMenuAction(e){console.log("\uC88C\uCE21 \uBA54\uB274 \uC561\uC158:",e);let t=!1;if(e.menuId)this.handleMenuAction(e.menuId),t=!0;else switch(e.type){case"recent":e.data&&e.data.data&&(this.loadDocumentFromData(e.data),t=!0);break;case"edit-pdf":console.log("\u270F\uFE0F PDF \uD3B8\uC9D1 \uC561\uC158:",e.subAction),this.handlePdfEditAction(e.subAction),t=!0;break;case"templates":console.log("\uD15C\uD50C\uB9BF \uC120\uD0DD:",e.data),t=!0;break;case"formats":this.handleExportFormat(e.subAction),t=!0;break;case"settings":console.log("\uC124\uC815 \uBCC0\uACBD:",e.data);break}t&&setTimeout(()=>{this.isLeftPanelCollapsed=!0,console.log("\u{1F504} \uC88C\uCE21 \uD328\uB110 \uC790\uB3D9 \uB2EB\uD798")},300)}handleMenuAction(e){switch(console.log("\u{1F3AF} \uBA54\uB274 \uC561\uC158:",e),e){case"new-document":this.createNewDocument();break;case"open-file":this.openFile();break;case"recent-docs":this.showRecentDocuments();break;case"save-document":this.saveCurrentDocument();break;case"view-pdf-structure":case"analyze-structure":case"edit-text-direct":case"view-stream-data":case"modify-objects":this.handlePdfEditAction(e);break;case"vector-graphics-view":this.openVectorGraphicsViewer();break;case"add-text":this.addText();break;case"add-image":this.addImage();break;case"add-shape":this.addShape();break;case"add-signature":this.addSignature();break;case"add-vector-path":this.snackbar.showInfo("\uBCA1\uD130 \uD328\uC2A4 \uADF8\uB9AC\uAE30 \uBAA8\uB4DC");break;case"add-page":this.SINGLE_PAGE_MODE?this.snackbar.showWarning("\uD604\uC7AC \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uD3B8\uC9D1 \uAC00\uB2A5\uD569\uB2C8\uB2E4. \uD398\uC774\uC9C0 \uCD94\uAC00 \uAE30\uB2A5\uC740 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."):this.snackbar.showInfo("\uD398\uC774\uC9C0 \uCD94\uAC00 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"delete-page":this.SINGLE_PAGE_MODE?this.snackbar.showWarning("\uD604\uC7AC \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uD3B8\uC9D1 \uAC00\uB2A5\uD569\uB2C8\uB2E4. \uD398\uC774\uC9C0 \uC0AD\uC81C \uAE30\uB2A5\uC740 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."):this.snackbar.showInfo("\uD398\uC774\uC9C0 \uC0AD\uC81C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"rotate-page":this.snackbar.showInfo("\uD398\uC774\uC9C0 \uD68C\uC804 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"reorder-pages":this.snackbar.showInfo("\uD398\uC774\uC9C0 \uC7AC\uC815\uB82C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"export-pdf":this.handleExportFormat("pdf");break;case"export-docx":this.handleExportFormat("docx");break;case"export-txt":this.handleExportFormat("txt");break;case"export-image":this.handleExportFormat("image");break;case"merge-pdf":this.snackbar.showInfo("PDF \uBCD1\uD569 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"split-pdf":this.snackbar.showInfo("PDF \uBD84\uD560 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"compress-pdf":this.compressPdf();break;case"watermark":this.snackbar.showInfo("\uC6CC\uD130\uB9C8\uD06C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;case"password":this.snackbar.showInfo("\uBE44\uBC00\uBC88\uD638 \uC124\uC815 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4");break;default:console.warn("\uCC98\uB9AC\uB418\uC9C0 \uC54A\uC740 \uBA54\uB274 \uC561\uC158:",e)}}openFile(){let e=document.createElement("input");e.type="file",e.accept=".pdf",e.onchange=t=>V(this,null,function*(){let o=t.target.files[0];if(o){console.log("\u{1F4C4} PDF \uD30C\uC77C \uC120\uD0DD\uB428:",o.name),yield this.clearPdfCache();let n=new FileReader;n.onload=a=>V(this,null,function*(){this.pdfSrc=a.target.result,this.enablePdfAnalysis?(console.log("\u2705 PDF \uBD84\uC11D \uD1A0\uAE00 \uD65C\uC131\uD654\uB428 - \uC790\uB3D9 \uBD84\uC11D \uC2DC\uC791"),yield this.performCompletePdfAnalysis()):(console.log("\u23F8\uFE0F PDF \uBD84\uC11D \uD1A0\uAE00 \uBE44\uD65C\uC131\uD654\uB428 - \uBD84\uC11D \uAC74\uB108\uB700"),this.snackbar.showInfo('PDF\uB97C \uBD88\uB7EC\uC654\uC2B5\uB2C8\uB2E4. \uBD84\uC11D\uD558\uB824\uBA74 \uC0C1\uB2E8\uC758 "\uBD84\uC11D\uD558\uAE30" \uD1A0\uAE00\uC744 \uD65C\uC131\uD654\uD558\uC138\uC694.'))}),n.readAsDataURL(o)}}),e.click()}clearPdfCache(){return V(this,null,function*(){console.log("\u{1F9F9} \uC774\uC804 PDF \uCE90\uC2DC \uB370\uC774\uD130 \uCD08\uAE30\uD654 \uC911..."),this.textStreamRawData=null,this.pdfStructureData=null,this.loadedVectorData=null,this.pdfAnalysisData=null,this.vectorMinimaps={},this.debugLogs=[],this.vectorDebugInfo={},this.showPdfStructureModal=!1,this.showAnalysisDashboard=!1,this.showJsonViewer=!1;try{yield this.indexedDbService.clearAllPdfAnalysis(),console.log("\u2705 IndexedDB PDF \uBD84\uC11D \uB370\uC774\uD130 \uC0AD\uC81C \uC644\uB8CC")}catch(e){console.error("\u274C IndexedDB \uB370\uC774\uD130 \uC0AD\uC81C \uC2E4\uD328:",e)}this.cdr.detectChanges(),console.log("\u2705 PDF \uCE90\uC2DC \uC644\uC804 \uCD08\uAE30\uD654 \uC644\uB8CC")})}savePdfAnalysisToCache(e,t,o){return V(this,null,function*(){try{let n=`pdf_${e}_${t}`;yield this.indexedDbService.savePdfAnalysis({id:n,textStreamData:this.textStreamRawData,vectorData:this.loadedVectorData,structureData:this.pdfStructureData,analysisData:this.pdfAnalysisData,timestamp:Date.now(),fileSize:t,fileName:e}),this.textStreamRawData=null,this.loadedVectorData=null,console.log("\u{1F4BE} PDF \uBD84\uC11D \uB370\uC774\uD130 IndexedDB \uC800\uC7A5 \uC644\uB8CC (\uB300\uC6A9\uB7C9 \uBA54\uBAA8\uB9AC \uD574\uC81C)"),console.log("\u{1F4CA} \uC720\uC9C0\uB41C \uB370\uC774\uD130:",{pdfStructureData:!!this.pdfStructureData,pdfAnalysisData:!!this.pdfAnalysisData,showAnalysisDashboard:this.showAnalysisDashboard})}catch(n){console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uC800\uC7A5 \uC2E4\uD328:",n)}})}loadPdfAnalysisFromCache(e,t){return V(this,null,function*(){try{let o=`pdf_${e}_${t}`,n=yield this.indexedDbService.loadPdfAnalysis(o);return n?(this.textStreamRawData=n.textStreamData,this.loadedVectorData=n.vectorData,this.pdfStructureData=n.structureData,this.pdfAnalysisData=n.analysisData,this.showAnalysisDashboard=!!n.analysisData,console.log("\u{1F4C2} IndexedDB\uC5D0\uC11C PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC"),!0):!1}catch(o){return console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:",o),!1}})}performCompletePdfAnalysis(){return V(this,null,function*(){if(!this.pdfSrc){console.warn("\u26A0\uFE0F PDF \uC18C\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{yield this.analyzePdfStructure(),console.log("\u2705 \uD1B5\uD569 PDF \uBD84\uC11D \uC644\uB8CC")}catch(e){console.error("\u274C PDF \uBD84\uC11D \uC624\uB958:",e),this.snackbar.showError("PDF \uBD84\uC11D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4")}})}showRecentDocuments(){this.snackbar.showInfo("\uCD5C\uADFC \uBB38\uC11C \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4")}saveCurrentDocument(){if(!this.pdfSrc){this.snackbar.showWarning("\uC800\uC7A5\uD560 \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4");return}this.snackbar.showInfo("\uBB38\uC11C \uC800\uC7A5 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4")}resetDocument(){this.pdfSrc="",this.pdfPages=[],this.currentPage=1,this.totalPages=0}handlePdfEditAction(e){if(console.log("\u270F\uFE0F PDF \uD3B8\uC9D1 \uC561\uC158:",e),!this.pdfSrc){this.snackbar.showWarning("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694");return}switch(e){case"edit-text-direct":this.createSentenceOverlays(),this.snackbar.showSuccess("\uD14D\uC2A4\uD2B8 \uC9C1\uC811 \uD3B8\uC9D1 \uBAA8\uB4DC \uD65C\uC131\uD654");break;case"view-pdf-structure":case"analyze-structure":default:console.log("\u{1F3D7}\uFE0F PDF \uAD6C\uC870 \uBCF4\uAE30 \uC2DC\uC791..."),this.textStreamRawData&&this.pdfStructureData?(console.log("\u2705 [\uC989\uC2DC] \uBA54\uBAA8\uB9AC\uC758 \uBD84\uC11D \uB370\uC774\uD130\uB85C \uBAA8\uB2EC \uC5F4\uAE30"),this.showPdfStructureModal=!0):this.loadAndShowPdfStructure()}}loadAndShowPdfStructure(){return V(this,null,function*(){try{let e=this.docsTitle||"document";(yield this.loadPdfAnalysisFromCache(e,0))&&this.textStreamRawData&&this.pdfStructureData?(this.showPdfStructureModal=!0,this.snackbar.showSuccess("PDF \uAD6C\uC870 \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC")):(console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showError("PDF\uB97C \uBA3C\uC800 \uC5C5\uB85C\uB4DC\uD574\uC8FC\uC138\uC694"))}catch(e){console.error("\u274C PDF \uAD6C\uC870 \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:",e),this.snackbar.showError("PDF \uAD6C\uC870 \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4")}})}analyzePdfStructure(){return V(this,null,function*(){try{if(console.log("\u{1F50D} PDF \uAD6C\uC870 \uBD84\uC11D \uC2DC\uC791..."),console.log("\u{1F4CA} \uD604\uC7AC \uCE90\uC2DC \uC0C1\uD0DC:",{textStreamRawData:!!this.textStreamRawData,pdfStructureData:!!this.pdfStructureData,loadedVectorData:!!this.loadedVectorData,showAnalysisDashboard:this.showAnalysisDashboard}),(this.textStreamRawData||this.pdfStructureData)&&(console.log("\u{1F9F9} \uAE30\uC874 \uBD84\uC11D \uB370\uC774\uD130 \uAC10\uC9C0 - \uC644\uC804 \uCD08\uAE30\uD654 \uD6C4 \uC0C8\uB85C \uBD84\uC11D \uC2DC\uC791"),yield this.clearPdfCache()),console.log("\u{1F195} \uC0C8 \uBB38\uC11C \uBD84\uC11D \uC2DC\uC791..."),this.pdfSrc){this.snackbar.startProgress(["\uD14D\uC2A4\uD2B8 \uCD94\uCD9C","\uC774\uBBF8\uC9C0 \uCD94\uCD9C","\uBCA1\uD130 \uADF8\uB798\uD53D \uCD94\uCD9C","\uBD84\uC11D \uB370\uC774\uD130 \uC0DD\uC131"]);let t=yield(yield fetch(this.pdfSrc)).blob(),o=new File([t],this.docsTitle||"document.pdf",{type:"application/pdf"}),n=yield this.pdfTextStreamService.extractTextStreamAsJson(o);if(this.SINGLE_PAGE_MODE&&n.pages&&n.pages.length>0){n.pages=[n.pages[0]],n.pageCount=1;let d=n.pages[0];n.metadata.totalTextItems=d.textItems.length,n.metadata.totalWords=d.statistics.wordCount,n.metadata.totalCharacters=d.statistics.charCount}this.snackbar.updateProgress(0);let a=yield this.extractPdfImages(o);this.snackbar.updateProgress(1),this.enableDebugLogs&&this.addDebugLog("VECTOR_EXTRACTION","\uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uCD94\uCD9C \uC2DC\uC791");try{if(this.loadedVectorData=yield this.pdfTextStreamService.extractVectorStreamData(o),this.SINGLE_PAGE_MODE&&this.loadedVectorData&&this.loadedVectorData.pageDetails.length>0){console.log("\u{1F512} \uBCA1\uD130 \uB370\uC774\uD130 \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uC720\uC9C0\uD569\uB2C8\uB2E4.");let p=this.loadedVectorData.pageDetails[0];this.loadedVectorData.pageDetails=[p],this.loadedVectorData.pageCount=1,this.loadedVectorData.totalOperations=p.operations.length,this.loadedVectorData.summary={totalPaths:p.statistics.pathCount,totalLines:p.statistics.lineCount,totalCurves:p.statistics.curveCount,totalRectangles:p.statistics.rectangleCount,totalFillOperations:p.statistics.fillCount,totalStrokeOperations:p.statistics.strokeCount,totalClipOperations:p.statistics.clipCount}}this.loadedVectorData&&this.pdfSrc&&(this.loadedVectorData.pdfSrc=this.pdfSrc);let d={totalOperations:this.loadedVectorData.totalOperations,totalPaths:this.loadedVectorData.summary.totalPaths,totalLines:this.loadedVectorData.summary.totalLines,totalCurves:this.loadedVectorData.summary.totalCurves,totalRectangles:this.loadedVectorData.summary.totalRectangles,pageCount:this.loadedVectorData.pageCount,pagesWithVector:this.loadedVectorData.pageDetails.length,hasPdfSrc:!!this.loadedVectorData.pdfSrc};this.vectorDebugInfo.extraction=d,this.addDebugLog("VECTOR_EXTRACTION","\uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uCD94\uCD9C \uC644\uB8CC",d),this.loadedVectorData.pageDetails.forEach((p,m)=>{let u={pageNumber:p.pageNumber,operationCount:p.operations.length,statistics:p.statistics};this.addDebugLog("VECTOR_PAGE_DETAIL",`\uD398\uC774\uC9C0 ${p.pageNumber} \uBCA1\uD130 \uB370\uC774\uD130`,u)})}catch(d){this.addDebugLog("VECTOR_EXTRACTION","\uBCA1\uD130 \uADF8\uB798\uD53D \uCD94\uCD9C \uC2E4\uD328",{error:d}),this.loadedVectorData=null,this.vectorMinimaps={}}this.snackbar.updateProgress(2),this.showJsonViewer=!0,this.pdfStructureData=this.convertTextStreamToStructure(n,o.size),this.updateAnalysisDashboard(n,o.size,a),this.showAnalysisDashboard=!0,this.textStreamRawData=n,yield this.savePdfAnalysisToCache(o.name,o.size,n),this.snackbar.updateProgress(3),this.snackbar.completeProgress(),this.debugLogs=[],this.vectorDebugInfo={},this.cdr.detectChanges()}else console.warn("\u26A0\uFE0F PDF \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC608\uC2DC \uB370\uC774\uD130\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4."),this.pdfStructureData=this.getExamplePdfStructure()}catch(e){console.error("\u274C PDF \uAD6C\uC870 \uBD84\uC11D \uC624\uB958:",e),this.pdfStructureData=this.getExamplePdfStructure()}})}convertTextStreamToStructure(e,t){let o=e.pages[0];return this.SINGLE_PAGE_MODE&&console.log("\u{1F512} \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: PDF \uAD6C\uC870\uB97C \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uAE30\uC900\uC73C\uB85C \uBCC0\uD658\uD569\uB2C8\uB2E4."),{filename:e.fileName,fileSize:t,header:{version:"1.7",binaryMarker:"Present",raw:"%PDF-1.7"},catalog:{type:"Catalog",pages:"2 0 R",metadata:"N/A"},pageTree:{type:"Pages",count:e.pageCount,kids:o?[{type:"Page",mediaBox:[0,0,o.width,o.height],contents:"N/A",resources:"N/A"}]:[]},contentStreams:o?[{length:o.textItems.length*50,filter:"FlateDecode",decodeParams:null,textItems:o.textItems.length,sampleText:o.textItems.slice(0,3).map(n=>n.text).join(" ")}]:[],xrefTable:{startOffset:t-1024,entries:[]},trailer:{size:e.pageCount+10,root:"1 0 R",startXref:t-1024},resources:{fonts:e.metadata.uniqueFonts.map((n,a)=>({name:`F${a+1}`,subtype:"Type1",encoding:"Identity-H",originalName:n})),images:[]},compression:{method:"FlateDecode",originalSize:e.metadata.totalCharacters*2,compressedSize:Math.floor(e.metadata.totalCharacters*.4),ratio:60},textStreamAnalysis:{totalPages:e.pageCount,totalTextItems:e.metadata.totalTextItems,totalWords:e.metadata.totalWords,totalCharacters:e.metadata.totalCharacters,uniqueFonts:e.metadata.uniqueFonts,hasImages:e.metadata.hasImages,hasVectorGraphics:e.metadata.hasVectorGraphics,firstPageSample:o?{pageNumber:o.pageNumber,dimensions:`${Math.round(o.width)} x ${Math.round(o.height)}`,textItemCount:o.textItems.length,sentenceCount:o.sentences.length,wordCount:o.statistics.wordCount,sampleSentences:o.sentences.slice(0,Math.min(5,o.sentences.length)).map(n=>n.text.trim()).filter(n=>n.length>0)}:null}}}parsePdfBinary(e,t){return V(this,null,function*(){console.log("\u{1F4CA} PDF \uBC14\uC774\uB108\uB9AC \uD30C\uC2F1 \uC2DC\uC791"),this.SINGLE_PAGE_MODE&&console.log("\u{1F512} \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uBD84\uC11D\uD569\uB2C8\uB2E4.");let o={filename:t,fileSize:e.length};o.header=this.parsePdfHeader(e);let n=this.findTrailer(e);if(o.trailer=n.trailer,o.xrefTable=yield this.parseXrefTable(e,n.xrefOffset),o.trailer.root){let a=this.parseReference(o.trailer.root);o.catalog=yield this.parseObjectAt(e,a,o.xrefTable)}if(o.catalog&&o.catalog.pages){let a=this.parseReference(o.catalog.pages);o.pageTree=yield this.parsePageTreeAt(e,a,o.xrefTable)}return o.contentStreams=yield this.collectContentStreamInfo(e,o.pageTree,o.xrefTable),o.resources=yield this.collectResourceInfo(e,o.pageTree,o.xrefTable),o.compression=this.calculateCompressionInfo(o.contentStreams),o})}parsePdfHeader(e){try{let t=e.slice(0,20),o=new TextDecoder("utf-8").decode(t),n=o.match(/%PDF-(\d+\.\d+)/);return{version:n?n[1]:"Unknown",binaryMarker:e[8]>=128?"Present (Binary PDF)":"Absent (Text PDF)",raw:o.split(`
`)[0].trim()}}catch(t){return console.error("\uD5E4\uB354 \uD30C\uC2F1 \uC624\uB958:",t),{version:"1.7",binaryMarker:"Unknown",raw:"%PDF-1.7"}}}findTrailer(e){try{let t=e.slice(-2048),o=new TextDecoder("utf-8").decode(t);console.log("\u{1F50D} \uD2B8\uB808\uC77C\uB7EC \uAC80\uC0C9 \uC911...");let n=o.lastIndexOf("%%EOF");if(n===-1)throw console.warn("\u26A0\uFE0F %%EOF\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("%%EOF\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let a=o.slice(0,n).match(/startxref\s+(\d+)/),d=a?parseInt(a[1]):0;console.log("\u{1F4CD} XREF \uC624\uD504\uC14B:",d);let p=o.indexOf("trailer");p===-1&&console.warn("\u26A0\uFE0F trailer \uD0A4\uC6CC\uB4DC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let m=o.substring(p),u={startXref:d},h=m.match(/\/Size\s+(\d+)/);h&&(u.size=parseInt(h[1]),console.log("\u{1F4CA} Size:",u.size));let x=m.match(/\/Root\s+(\d+)\s+(\d+)\s+R/);x&&(u.root=`${x[1]} ${x[2]} R`,console.log("\u{1F517} Root:",u.root));let P=m.match(/\/Info\s+(\d+)\s+(\d+)\s+R/);return P&&(u.info=`${P[1]} ${P[2]} R`,console.log("\u2139\uFE0F Info:",u.info)),m.match(/\/ID\s*\[/)&&console.log("\u{1F194} ID \uD544\uB4DC \uBC1C\uACAC"),{trailer:u,xrefOffset:d}}catch(t){return console.error("\u274C \uD2B8\uB808\uC77C\uB7EC \uD30C\uC2F1 \uC624\uB958:",t),{trailer:{size:0,root:"1 0 R",startXref:0},xrefOffset:0}}}parseXrefTable(e,t){return V(this,null,function*(){try{let o=new TextDecoder("utf-8").decode(e.slice(t,t+1e4)),n=[];if(!o.startsWith("xref"))return console.warn("\u26A0\uFE0F XREF \uD14C\uC774\uBE14\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),{startOffset:t,entries:[]};let a=o.split(`
`),d=0;for(let p=1;p<a.length&&p<200;p++){let m=a[p].trim();if(/^\d+\s+\d+$/.test(m)){let[h]=m.split(/\s+/).map(Number);d=h;continue}let u=m.match(/^(\d{10})\s+(\d{5})\s+([fn])/);if(u&&n.push({objectNumber:d++,offset:parseInt(u[1]),generation:parseInt(u[2]),inUse:u[3]==="n"}),m.startsWith("trailer"))break}return{startOffset:t,entries:n}}catch(o){return console.error("XREF \uD30C\uC2F1 \uC624\uB958:",o),{startOffset:t,entries:[]}}})}parseReference(e){let t=e.match(/(\d+)\s+(\d+)\s+R/);return t?{num:parseInt(t[1]),gen:parseInt(t[2])}:{num:0,gen:0}}parseObjectAt(e,t,o){return V(this,null,function*(){try{console.log(`\u{1F50D} \uAC1D\uCCB4 \uD30C\uC2F1 \uC2DC\uB3C4: ${t.num} ${t.gen} R`);let n=o.entries.find(O=>O.objectNumber===t.num&&O.inUse);if(!n)return console.warn(`\u26A0\uFE0F XREF\uC5D0\uC11C \uAC1D\uCCB4 ${t.num}\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`),{type:"Unknown"};console.log(`\u{1F4CD} \uAC1D\uCCB4 ${t.num} \uC704\uCE58: offset ${n.offset}`);let a=new TextDecoder("utf-8").decode(e.slice(n.offset,n.offset+5e3)),d=a.indexOf(`${t.num} ${t.gen} obj`);if(d===-1)return console.warn(`\u26A0\uFE0F \uAC1D\uCCB4 ${t.num} ${t.gen} obj\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`),{type:"Unknown"};let p=a.substring(d),m={},u=p.match(/\/Type\s*\/(\w+)/);u&&(m.type=u[1],console.log(`  \u2713 Type: ${m.type}`));let h=p.match(/\/(?:Pages|Kids)\s*(\d+\s+\d+\s+R)/);h&&(m.pages=h[1],console.log(`  \u2713 Pages/Kids: ${m.pages}`));let x=p.match(/\/Count\s+(\d+)/);x&&(m.count=parseInt(x[1]),console.log(`  \u2713 Count: ${m.count}`));let P=p.match(/\/Metadata\s*(\d+\s+\d+\s+R)/);return P&&(m.metadata=P[1],console.log(`  \u2713 Metadata: ${m.metadata}`)),console.log(`\u2705 \uAC1D\uCCB4 ${t.num} \uD30C\uC2F1 \uC644\uB8CC:`,m),m}catch(n){return console.error("\uAC1D\uCCB4 \uD30C\uC2F1 \uC624\uB958:",n),{type:"Unknown"}}})}parsePageTreeAt(e,t,o){return V(this,null,function*(){try{console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uD2B8\uB9AC \uD30C\uC2F1 \uC2DC\uC791"),this.SINGLE_PAGE_MODE&&console.log("\u{1F512} \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uD30C\uC2F1\uD569\uB2C8\uB2E4.");let n=yield this.parseObjectAt(e,t,o);console.log("\uFFFD \uD398\uC774\uC9C0 \uD2B8\uB9AC \uAC1D\uCCB4:",n);let a=null;n.pages&&(a=this.parseReference(n.pages),console.log("\u{1F517} \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uCC38\uC870:",a));let d={type:"Page",mediaBox:[0,0,612,792],contents:"N/A",resources:"N/A"};if(a&&a.num>0){let m=yield this.parseObjectAt(e,a,o);console.log("\u{1F4C4} \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uAC1D\uCCB4:",m);let u=o.entries.find(h=>h.objectNumber===a.num&&h.inUse);if(u){let h=new TextDecoder("utf-8").decode(e.slice(u.offset,u.offset+3e3)),x=h.match(/\/MediaBox\s*\[\s*([\d\.\s]+)\]/);x&&(d.mediaBox=x[1].trim().split(/\s+/).map(Number),console.log("\u{1F4D0} MediaBox:",d.mediaBox));let P=h.match(/\/Contents\s+(\d+\s+\d+\s+R)/);P&&(d.contents=P[1],console.log("\u{1F4DD} Contents:",d.contents));let O=h.match(/\/Resources\s+(\d+\s+\d+\s+R)/);O&&(d.resources=O[1],console.log("\u{1F3A8} Resources:",d.resources))}}let p={type:"Pages",count:n.count||0,kids:[d]};return console.log("\u2705 \uD398\uC774\uC9C0 \uD2B8\uB9AC \uD30C\uC2F1 \uC644\uB8CC:",p),p}catch(n){return console.error("\u274C \uD398\uC774\uC9C0 \uD2B8\uB9AC \uD30C\uC2F1 \uC624\uB958:",n),{type:"Pages",count:0,kids:[]}}})}collectContentStreamInfo(e,t,o){return V(this,null,function*(){let n=[];if(console.log("\u{1F3AC} \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC \uC218\uC9D1 \uC2DC\uC791"),this.SINGLE_PAGE_MODE&&console.log("\u{1F512} \uB2E8\uC77C \uD398\uC774\uC9C0 \uBAA8\uB4DC: \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC\uB9CC \uC218\uC9D1\uD569\uB2C8\uB2E4."),t&&t.kids&&t.kids.length>0){let a=t.kids[0];if(console.log("\u{1F4C4} \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0:",a),a.contents&&a.contents!=="N/A"){let d=this.parseReference(a.contents);if(console.log("\u{1F517} Contents \uCC38\uC870:",d),d.num>0){let p=o.entries.find(m=>m.objectNumber===d.num&&m.inUse);if(p){let m=new TextDecoder("utf-8").decode(e.slice(p.offset,p.offset+1e3)),u=m.match(/\/Length\s+(\d+)/),h=u?parseInt(u[1]):0,x=m.match(/\/Filter\s*\/(\w+)/),P=x?x[1]:"None";n.push({length:h,filter:P,decodeParams:null}),console.log(`\u2705 \uC2A4\uD2B8\uB9BC \uC815\uBCF4: length=${h}, filter=${P}`)}}}}return n.length===0&&console.warn("\u26A0\uFE0F \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),n})}collectResourceInfo(e,t,o){return V(this,null,function*(){return{fonts:[{name:"F1",subtype:"Type1",encoding:"WinAnsiEncoding"},{name:"F2",subtype:"TrueType",encoding:"Identity-H"}],images:[]}})}calculateCompressionInfo(e){let t=e.reduce((n,a)=>n+(a.length||0),0),o=Math.floor(t*.35);return{method:"FlateDecode (Zlib)",originalSize:t,compressedSize:o,ratio:t>0?Math.round((1-o/t)*100):0}}getExamplePdfStructure(){let e=this.SINGLE_PAGE_MODE?1:this.totalPages;return console.log("\u{1F512} \uC608\uC2DC PDF \uAD6C\uC870 \uC0DD\uC131:",e,"\uD398\uC774\uC9C0"),{version:"1.7",pages:e,objects:150,fonts:5,images:3,streams:45,header:{magic:"%PDF-1.7",description:"PDF \uD30C\uC77C \uC2DC\uC791 \uB9E4\uC9C1 \uB118\uBC84 \uBC0F \uBC84\uC804 \uC815\uBCF4"},catalog:{type:"Catalog",objectNumber:1,description:"PDF \uBB38\uC11C\uC758 \uB8E8\uD2B8 \uAC1D\uCCB4",properties:[{name:"Type",value:"/Catalog",description:"\uBB38\uC11C \uCE74\uD0C8\uB85C\uADF8 \uD0C0\uC785"},{name:"Pages",value:"2 0 R",description:"\uD398\uC774\uC9C0 \uD2B8\uB9AC \uCC38\uC870"},{name:"Metadata",value:"3 0 R",description:"\uBA54\uD0C0\uB370\uC774\uD130 \uC2A4\uD2B8\uB9BC \uCC38\uC870"},{name:"MarkInfo",value:"{ /Marked true }",description:"\uD0DC\uADF8 \uC815\uBCF4"}]},pageTree:{type:"Pages",objectNumber:2,description:"\uD398\uC774\uC9C0 \uACC4\uCE35 \uAD6C\uC870",properties:[{name:"Type",value:"/Pages",description:"\uD398\uC774\uC9C0 \uD2B8\uB9AC \uD0C0\uC785"},{name:"Count",value:e.toString(),description:"\uCD1D \uD398\uC774\uC9C0 \uC218"},{name:"Kids",value:this.SINGLE_PAGE_MODE?"[4 0 R]":"[4 0 R, 5 0 R, ...]",description:"\uC790\uC2DD \uD398\uC774\uC9C0 \uAC1D\uCCB4 \uBC30\uC5F4"}]},pageObjects:[{objectNumber:4,type:"Page",description:"\uAC1C\uBCC4 \uD398\uC774\uC9C0 \uAC1D\uCCB4",properties:[{name:"Type",value:"/Page",description:"\uD398\uC774\uC9C0 \uD0C0\uC785"},{name:"Parent",value:"2 0 R",description:"\uBD80\uBAA8 \uD398\uC774\uC9C0 \uD2B8\uB9AC \uCC38\uC870"},{name:"MediaBox",value:"[0 0 595 842]",description:"\uD398\uC774\uC9C0 \uD06C\uAE30 (A4)"},{name:"Contents",value:"6 0 R",description:"\uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC \uCC38\uC870"},{name:"Resources",value:"{ /Font {...}, /XObject {...} }",description:"\uB9AC\uC18C\uC2A4 \uB515\uC154\uB108\uB9AC"}]}],contentStreams:[{objectNumber:6,type:"Stream",description:"\uD398\uC774\uC9C0 \uCF58\uD150\uCE20 \uC2A4\uD2B8\uB9BC",encoding:"FlateDecode",operators:[{code:"BT",description:"Begin Text - \uD14D\uC2A4\uD2B8 \uBE14\uB85D \uC2DC\uC791"},{code:"Tf",description:"Text Font - \uD3F0\uD2B8 \uC120\uD0DD (\uC608: /F1 12 Tf)"},{code:"Td",description:"Text Position - \uD14D\uC2A4\uD2B8 \uC704\uCE58 \uC774\uB3D9"},{code:"Tj",description:"Show Text - \uD14D\uC2A4\uD2B8 \uD45C\uC2DC"},{code:"ET",description:"End Text - \uD14D\uC2A4\uD2B8 \uBE14\uB85D \uC885\uB8CC"},{code:"q",description:"Save Graphics State - \uADF8\uB798\uD53D \uC0C1\uD0DC \uC800\uC7A5"},{code:"Q",description:"Restore Graphics State - \uADF8\uB798\uD53D \uC0C1\uD0DC \uBCF5\uC6D0"},{code:"cm",description:"Concat Matrix - \uBCC0\uD658 \uB9E4\uD2B8\uB9AD\uC2A4 \uC801\uC6A9"},{code:"Do",description:"Draw XObject - \uC774\uBBF8\uC9C0/\uD3FC \uADF8\uB9AC\uAE30"}]}],xrefTable:{description:"\uAD50\uCC28 \uCC38\uC870 \uD14C\uC774\uBE14 (Cross-Reference Table)",purpose:"\uD30C\uC77C \uB0B4 \uBAA8\uB4E0 \uAC1D\uCCB4\uC758 \uBC14\uC774\uD2B8 \uC624\uD504\uC14B \uC704\uCE58 \uC815\uBCF4",structure:`xref
0 151
0000000000 65535 f
0000000015 00000 n
...`,entries:150},trailer:{description:"\uD2B8\uB808\uC77C\uB7EC (Trailer Dictionary)",properties:[{name:"Size",value:"151",description:"\uAD50\uCC28 \uCC38\uC870 \uD14C\uC774\uBE14 \uD56D\uBAA9 \uC218"},{name:"Root",value:"1 0 R",description:"\uBB38\uC11C \uCE74\uD0C8\uB85C\uADF8 \uCC38\uC870"},{name:"Info",value:"7 0 R",description:"\uBB38\uC11C \uC815\uBCF4 \uB515\uC154\uB108\uB9AC \uCC38\uC870"},{name:"ID",value:"[<hex1><hex2>]",description:"\uD30C\uC77C \uC2DD\uBCC4\uC790"}],startxref:"\uD30C\uC77C \uB05D\uC758 xref \uD14C\uC774\uBE14 \uC2DC\uC791 \uC704\uCE58"},resources:{fonts:[{name:"/F1",type:"Type1",baseFont:"Helvetica",encoding:"WinAnsiEncoding"},{name:"/F2",type:"TrueType",baseFont:"Arial",encoding:"Identity-H"},{name:"/F3",type:"Type0",baseFont:"NanumGothic",encoding:"Identity-H"}],images:[{name:"/Im1",type:"XObject",subtype:"Image",width:1024,height:768,colorSpace:"DeviceRGB"},{name:"/Im2",type:"XObject",subtype:"Image",width:512,height:512,colorSpace:"DeviceGray"}]},compression:[{filter:"FlateDecode",description:"Zlib/Deflate \uC555\uCD95 (\uAC00\uC7A5 \uC77C\uBC18\uC801)"},{filter:"DCTDecode",description:"JPEG \uC555\uCD95"},{filter:"CCITTFaxDecode",description:"CCITT Group 3/4 \uD329\uC2A4 \uC555\uCD95"},{filter:"LZWDecode",description:"LZW \uC555\uCD95"}]}}exportPdfStructure(){if(!this.pdfStructureData){this.snackbar.showError("\uB0B4\uBCF4\uB0BC \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let e=JSON.stringify(this.pdfStructureData,null,2),t=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download=`pdf-structure-${new Date().getTime()}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o),this.snackbar.showSuccess("PDF \uAD6C\uC870\uAC00 JSON \uD30C\uC77C\uB85C \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\uAD6C\uC870 \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",e),this.snackbar.showError("\uAD6C\uC870 \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}createNewFromStructure(){if(!this.pdfStructureData){this.snackbar.showError("\uC0C8\uB85C \uB9CC\uB4E4 \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{this.addDebugLog("CREATE_DOCUMENT","\uC0C8 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791",{hasPdfStructure:!!this.pdfStructureData,hasVectorData:!!this.loadedVectorData,vectorOperations:this.loadedVectorData?.totalOperations||0}),this.closePdfStructureModal(),this.initializeNewDocument(),this.createPagesFromStructure(),this.addDebugLog("CREATE_DOCUMENT","\uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC",{pageCount:this.pdfPages.length,pages:this.pdfPages.map(e=>({pageNumber:e.pageNumber,elementCount:e.elements.length,elementTypes:[...new Set(e.elements.map(t=>t.type))]}))}),this.addDebugLog("VECTOR_INTEGRATION","\uD14D\uC2A4\uD2B8\uB9CC \uC0DD\uC131 (\uBCA1\uD130 \uADF8\uB798\uD53D \uC81C\uC678)"),this.snackbar.showSuccess("PDF \uAD6C\uC870\uB97C \uBC14\uD0D5\uC73C\uB85C \uD14D\uC2A4\uD2B8\uB9CC \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),this.addDebugLog("CREATE_DOCUMENT","\uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC",{totalPages:this.pdfPages.length,totalElements:this.pdfPages.reduce((e,t)=>e+t.elements.length,0),vectorElements:this.pdfPages.reduce((e,t)=>e+t.elements.filter(o=>o.type==="vector-path").length,0)})}catch(e){this.addDebugLog("CREATE_DOCUMENT","\uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328",{error:e}),this.snackbar.showError("\uAD6C\uC870\uB97C \uBC14\uD0D5\uC73C\uB85C \uD55C \uC0C8 \uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}initializeNewDocument(){console.log("\u{1F4C4} \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC911..."),this.pdfPages=[],this.currentPage=1,this.totalPages=0,this.selectedElement=null,this.pageElements=[],this.renderedVectorGraphics=[],this.showVectorGraphicsPreview=!1,this.vectorMinimaps={},this.showTextEditor=!1,this.showImageEditor=!1,this.showShapeEditor=!1,this.showSignatureEditor=!1,this.showWatermarkEditor=!1,this.pdfSrc=null,console.log("\u2705 \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC")}createPagesFromStructure(){if(!this.pdfStructureData?.pageTree?.kids){console.warn("\uD398\uC774\uC9C0 \uD2B8\uB9AC \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F4D1} \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB97C \uBC14\uD0D5\uC73C\uB85C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC911..."),console.log("\u{1F50D} \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uB370\uC774\uD130:",{pdfStructureData:this.pdfStructureData,textStreamRawData:this.textStreamRawData}),this.textStreamRawData?.pages&&this.textStreamRawData.pages.length>0?this.createPagesFromTextStream():this.createPagesFromBasicStructure()}createPagesFromTextStream(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C \uD398\uC774\uC9C0 \uC0DD\uC131:",this.textStreamRawData);let e=this.textStreamRawData,t=e.pages;console.log("\u{1F3A8} textStreamData.pages \uC0C9\uC0C1 \uC815\uBCF4 \uD655\uC778:"),t.length>0&&t[0].textItems.length>0&&(console.log("  \uCCAB \uD398\uC774\uC9C0 \uCCAB \uC544\uC774\uD15C:",t[0].textItems[0]),console.log("  \uCCAB \uC544\uC774\uD15C color \uD544\uB4DC:",t[0].textItems[0].color),console.log("  \uCCAB \uC544\uC774\uD15C style.color:",t[0].textItems[0].style?.color)),t.forEach((o,n)=>{console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${n+1} \uC0DD\uC131 \uC911... (${o.textItems.length}\uAC1C \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C)`);let a=o.textItems.slice(0,3).map(p=>p.color||p.style?.color||"undefined");console.log("  \uC0D8\uD50C \uC0C9\uC0C1:",a);let d={id:`page-${Date.now()}-${n}`,pageNumber:n+1,width:o.width,height:o.height,elements:[]};if(o.textItems.forEach((p,m)=>{if(!p.text||p.text.trim().length===0)return;let u=p.text.trim().length,h=p.font.size>0?p.font.size:12,x=h*.7,P=u*x,O=p.position.width>0?p.position.width:200,y=Math.max(O,P)*1.15,D=Math.max(100,Math.min(y,600)),S=p.position.height>0?p.position.height:20,b=Math.ceil(P/D),A=Math.max(S,h*b*1.4),w={id:`text-${Date.now()}-${n}-${m}`,type:"text",x:p.position.x,y:p.position.y,width:D,height:A,text:p.text.trim(),fontSize:h,fontFamily:p.font.name||"Arial",color:p.color||p.style.color||"#000000"};m<5&&console.log(`\u{1F4DD} \uD14D\uC2A4\uD2B8 \uC694\uC18C ${m+1}:`,{text:(w.text||"").substring(0,50)+((w.text||"").length>50?"...":""),position:`(${Math.round(w.x)}, ${Math.round(w.y)})`,size:`${Math.round(w.width)} x ${Math.round(w.height)}`,originalSize:`\uC6D0\uBCF8: ${Math.round(O)} x ${Math.round(S)}`,sizeIncrease:`\uC99D\uAC00\uC728: ${Math.round(D/O*100)}%`,fontSize:w.fontSize,font:w.fontFamily,textLength:u,itemColor:p.color,styleColor:p.style.color,finalColor:w.color}),d.elements.push(w)}),n===0){let m=e.metadata.hasVectorGraphics?` (\uBCA1\uD130 \uADF8\uB798\uD53D ${e.metadata.vectorGraphicsDetails?.summary?.totalPaths||0}\uAC1C \uD328\uC2A4\uB294 \uC81C\uC678\uB428)`:"",u={id:`header-${Date.now()}`,type:"text",x:50,y:30,width:d.width-100,height:30,text:`\u{1F4C4} \uD14D\uC2A4\uD2B8\uB9CC \uC0DD\uC131\uB41C \uBB38\uC11C (${e.pageCount}\uD398\uC774\uC9C0, ${e.metadata.totalTextItems}\uAC1C \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C${m})`,fontSize:10,fontFamily:"Arial",color:"#666666"};d.elements.unshift(u)}this.pdfPages.push(d),console.log(`\u2705 \uD398\uC774\uC9C0 ${n+1} \uC0DD\uC131 \uC644\uB8CC: ${d.elements.length}\uAC1C \uC694\uC18C`)}),this.totalPages=this.pdfPages.length,this.currentPage=1,this.loadPage(),console.log(`\u{1F389} \uCD1D ${this.totalPages}\uAC1C \uD398\uC774\uC9C0\uAC00 \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.snackbar.showSuccess(`\uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C ${this.totalPages}\uAC1C \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}integrateVectorGraphicsIntoPages(){return V(this,null,function*(){if(this.addDebugLog("VECTOR_INTEGRATION","\uBCA1\uD130 \uD1B5\uD569 \uC2DC\uC791 \uC804 \uC0C1\uD0DC \uD655\uC778",{hasVectorData:!!this.loadedVectorData,pageCount:this.pdfPages.length,vectorDataDetails:this.loadedVectorData?{totalOperations:this.loadedVectorData.totalOperations,pageDetailsCount:this.loadedVectorData.pageDetails.length}:null}),!this.loadedVectorData||this.pdfPages.length===0){this.addDebugLog("VECTOR_INTEGRATION","\uBCA1\uD130 \uD1B5\uD569 \uC911\uB2E8",{reason:this.loadedVectorData?"pdfPages\uAC00 \uBE44\uC5B4\uC788\uC74C":"loadedVectorData\uAC00 null",hasVectorData:!!this.loadedVectorData,pageCount:this.pdfPages.length});return}try{let e=0,t=[];for(let o=0;o<this.pdfPages.length;o++){let n=this.pdfPages[o],a=o+1,d=this.loadedVectorData.pageDetails.find(x=>x.pageNumber===a),p={pageNumber:a,hasVectorData:!!d,operationCount:d?.operations.length||0};if(!d||d.operations.length===0){p.status="skipped",p.reason=d?"\uC5F0\uC0B0 \uC5C6\uC74C":"\uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C",this.addDebugLog("VECTOR_INTEGRATION",`\uD398\uC774\uC9C0 ${a} \uC2A4\uD0B5`,p),t.push(p);continue}this.addDebugLog("VECTOR_INTEGRATION",`\uD398\uC774\uC9C0 ${a} \uCC98\uB9AC \uC2DC\uC791`,{operationCount:d.operations.length,operations:d.operations.slice(0,10).map(x=>({type:x.type,args:x.args}))});let m=this.convertVectorOperationsToElements(d,a);m.forEach(x=>{x.properties||(x.properties={}),x.properties.visible=!0}),p.vectorElementsCreated=m.length,p.elementDetails=m.map(x=>({id:x.id,type:x.type,position:{x:x.x,y:x.y},size:{width:x.width,height:x.height},hasPathData:!!x.pathData,pathDataLength:x.pathData?.length||0,pathDataPreview:x.pathData?.substring(0,50)}));let u=n.elements.length;n.elements=n.elements.filter(x=>x.type!=="vector-path"),n.elements.push(...m);let h=n.elements.length;p.beforeElementCount=u,p.afterElementCount=h,p.status="success",e+=m.length,t.push(p),this.addDebugLog("VECTOR_INTEGRATION",`\uD398\uC774\uC9C0 ${a} \uC644\uB8CC`,p)}this.vectorDebugInfo.integration={totalVectorElementsCreated:e,pagesProcessed:t.length,details:t},this.addDebugLog("VECTOR_INTEGRATION","\uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC644\uB8CC",{totalVectorElementsCreated:e,pagesProcessed:t.length,summary:t}),this.snackbar.showSuccess(`${e}\uAC1C \uBCA1\uD130 \uC694\uC18C\uAC00 \uD398\uC774\uC9C0\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}catch(e){this.addDebugLog("VECTOR_INTEGRATION","\uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC624\uB958",{error:e}),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}convertVectorOperationsToElements(e,t){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uC5F0\uC0B0 \uBCC0\uD658 \uC2DC\uC791:`,{operationCount:e.operations.length,operations:e.operations.slice(0,10).map(P=>({type:P.type,argsCount:P.args?.length||0,hasCoordinates:!!P.coordinates}))});let o=[],n="",a=0,d=0,p=!1,m=0,u=[],h=null,x=null;return e.operations.forEach((P,O)=>{let v=P.args||[],y=P.coordinates;switch(this.addDebugLog("VECTOR_OPERATION",`Operation ${O}: ${P.type}`,{type:P.type,args:v,coordinates:y,isVectorGraphic:P.isVectorGraphic}),P.type){case"moveTo":p&&n&&u.length>0&&(this.createVectorElementFromPath(o,n,u,t,m++),u.length=0),y&&y.x!==void 0&&y.y!==void 0?(a=y.x,d=y.y,n=`M ${a} ${d}`,u.push({x:a,y:d}),p=!0,console.log(`\u2713 moveTo from coordinates: (${a}, ${d})`)):v.length>=2&&typeof v[0]=="number"&&(a=Number(v[0]),d=Number(v[1]),n=`M ${a} ${d}`,u.push({x:a,y:d}),p=!0,console.log(`\u2713 moveTo from args: (${a}, ${d})`));break;case"lineTo":if(p){let D,S;y&&y.x!==void 0&&y.y!==void 0?(D=y.x,S=y.y):v.length>=2&&typeof v[0]=="number"&&(D=Number(v[0]),S=Number(v[1])),D!==void 0&&S!==void 0&&(n+=` L ${D} ${S}`,u.push({x:D,y:S}),a=D,d=S,console.log(`\u2713 lineTo: (${D}, ${S})`))}break;case"curve":case"bezierCurveTo":if(p&&v.length>=6){let D=Number(v[0]),S=Number(v[1]),b=Number(v[2]),A=Number(v[3]),w=Number(v[4]),I=Number(v[5]);n+=` C ${D} ${S} ${b} ${A} ${w} ${I}`,u.push({x:D,y:S},{x:b,y:A},{x:w,y:I}),a=w,d=I,console.log(`\u2713 curve: control1(${D}, ${S}) control2(${b}, ${A}) end(${w}, ${I})`)}break;case"rectangle":if(y&&y.x!==void 0&&y.y!==void 0){let D=y.x,S=y.y,b=y.transform||v.slice(0,4),A=b[0]||50,w=b[3]||50,I={id:`vector-rect-${t}-${m++}`,type:"vector-path",x:D,y:S,width:Math.abs(A),height:Math.abs(w),pathData:`M ${D} ${S} L ${D+A} ${S} L ${D+A} ${S+w} L ${D} ${S+w} Z`,strokeColor:this.vectorRenderOptions.strokeColor||"#2c3e50",strokeWidth:this.vectorRenderOptions.strokeWidth||2,fill:this.vectorRenderOptions.fillColor||"none",fillOpacity:1,strokeOpacity:1,properties:{originalType:"rectangle",coordinates:[D,S,A,w],pageNumber:t}};o.push(I),console.log(`\u2713 rectangle: (${D}, ${S}) ${A}x${w}`)}else if(v.length>=4&&typeof v[0]=="number"){let D=Number(v[0]),S=Number(v[1]),b=Number(v[2]),A=Number(v[3]),w={id:`vector-rect-${t}-${m++}`,type:"vector-path",x:D,y:S,width:Math.abs(b),height:Math.abs(A),pathData:`M ${D} ${S} L ${D+b} ${S} L ${D+b} ${S+A} L ${D} ${S+A} Z`,strokeColor:this.vectorRenderOptions.strokeColor||"#2c3e50",strokeWidth:this.vectorRenderOptions.strokeWidth||2,fill:this.vectorRenderOptions.fillColor||"none",fillOpacity:1,strokeOpacity:1,properties:{originalType:"rectangle",coordinates:[D,S,b,A],pageNumber:t}};o.push(w),console.log(`\u2713 rectangle from args: (${D}, ${S}) ${b}x${A}`)}break;case"closePath":p&&n&&(n+=" Z",x="path");break;case"fill":if(h){let{x:D,y:S,scaleX:b,scaleY:A}=h,w=Math.max(Math.abs(b),Math.abs(A),5),I={id:`vector-fill-${t}-${m++}`,type:"vector-path",x:D,y:S,width:w,height:w,pathData:this.createCirclePath(D,S,w/2),strokeColor:this.vectorRenderOptions.strokeColor||"none",strokeWidth:0,fill:this.vectorRenderOptions.fillColor||"#e74c3c",fillOpacity:.8,strokeOpacity:0,properties:{originalType:"fill-operation",transform:[b,0,0,A,D,S],pageNumber:t}};o.push(I),console.log(`\u{1F3A8} fill operation: (${D}, ${S}) size=${w}`)}P.currentPath&&P.currentPath.length>0&&(console.log(`\u{1F4CD} fill with explicit path: ${P.pathSegments} segments`),P.currentPath.forEach(D=>{if(D.type==="implicitRect"){let[S,b,A,w]=D.coords,I={id:`vector-implicit-${t}-${m++}`,type:"vector-path",x:S,y:b,width:A,height:w,pathData:this.createRectanglePath(S,b,A,w),strokeColor:"none",strokeWidth:0,fill:this.vectorRenderOptions.fillColor||"#3498db",fillOpacity:.7,strokeOpacity:0,properties:{originalType:"implicit-rect-fill",pageNumber:t}};o.push(I),console.log(`\u{1F539} implicit rect: (${S.toFixed(2)}, ${b.toFixed(2)}) ${A.toFixed(2)}x${w.toFixed(2)}`)}else if(D.type==="rectangle"){let[S,b,A,w]=D.coords,I={id:`vector-explicit-${t}-${m++}`,type:"vector-path",x:S,y:b,width:Math.abs(A),height:Math.abs(w),pathData:this.createRectanglePath(S,b,A,w),strokeColor:"none",strokeWidth:0,fill:this.vectorRenderOptions.fillColor||"#2ecc71",fillOpacity:.7,strokeOpacity:0,properties:{originalType:"explicit-rect-fill",pageNumber:t}};o.push(I),console.log(`\u{1F7E2} explicit rect: (${S}, ${b}) ${Math.abs(A)}x${Math.abs(w)}`)}})),p&&n&&u.length>1&&(this.createVectorElementFromPath(o,n,u,t,m++),n="",u.length=0,p=!1),h=null,x=null;break;case"stroke":p&&n&&u.length>1&&(this.createVectorElementFromPath(o,n,u,t,m++),n="",u.length=0,p=!1),h=null,x=null;break;case"styleSettings":if(y&&y.x!==void 0&&y.y!==void 0){let D=y.transform||[];h={x:y.x,y:y.y,scaleX:D[0]||1,scaleY:D[3]||1}}else v.length===6&&(h={x:Number(v[4]),y:Number(v[5]),scaleX:Number(v[0]),scaleY:Number(v[3])});break;case"unknownVectorGraphic":if(y&&y.x!==void 0&&y.y!==void 0){let D=y.transform||[],S=D[0]||20,b=D[3]||20,A={id:`vector-unknown-${t}-${m++}`,type:"vector-path",x:y.x,y:y.y,width:Math.abs(S),height:Math.abs(b),pathData:`M ${y.x} ${y.y} L ${y.x+S} ${y.y} L ${y.x+S} ${y.y+b} L ${y.x} ${y.y+b} Z`,strokeColor:this.vectorRenderOptions.strokeColor||"#3498db",strokeWidth:this.vectorRenderOptions.strokeWidth||1,fill:this.vectorRenderOptions.fillColor||"rgba(52, 152, 219, 0.3)",fillOpacity:.3,strokeOpacity:1,properties:{originalType:"unknownVectorGraphic",coordinates:[y.x,y.y,S,b],transform:D,pageNumber:t}};o.push(A),console.log(`\u2713 unknown vector: (${y.x}, ${y.y}) ${S}x${b}`)}break}}),p&&n&&u.length>1&&this.createVectorElementFromPath(o,n,u,t,m++),console.log(`\u{1F4DD} \uD398\uC774\uC9C0 ${t}: ${o.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`),o.length>0?console.log("\u2705 \uC0DD\uC131\uB41C \uBCA1\uD130 \uC694\uC18C \uC0D8\uD50C:",o.slice(0,5).map(P=>({id:P.id,type:P.type,position:`(${P.x}, ${P.y})`,size:`${P.width}x${P.height}`,pathData:P.pathData?.substring(0,80)+"..."}))):console.warn("\u26A0\uFE0F \uBCA1\uD130 \uC694\uC18C\uAC00 \uC0DD\uC131\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4!"),o}createCirclePath(e,t,o){return`M ${e},${t-o} A ${o},${o} 0 1,0 ${e},${t+o} A ${o},${o} 0 1,0 ${e},${t-o} Z`}createRectanglePath(e,t,o,n){return`M ${e} ${t} L ${e+o} ${t} L ${e+o} ${t+n} L ${e} ${t+n} Z`}createVectorElementFromPath(e,t,o,n,a){if(!t||t.trim()===""||o.length===0)return;let d=this.calculateBoundingBoxFromPoints(o),p=5,m=Math.max(d.width,p),u=Math.max(d.height,p),h={id:`vector-path-${n}-${a}`,type:"vector-path",x:d.x,y:d.y,width:m,height:u,pathData:t,strokeColor:this.vectorRenderOptions.strokeColor||"#2c3e50",strokeWidth:this.vectorRenderOptions.strokeWidth||2,fill:this.vectorRenderOptions.fillColor||"none",fillOpacity:1,strokeOpacity:1,properties:{originalType:"path",pointCount:o.length,pageNumber:n}};console.log(`\u270F\uFE0F \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131: ${h.id}`,{position:`(${h.x}, ${h.y})`,size:`${h.width}x${h.height}`,pointCount:o.length,pathPreview:t.substring(0,50)}),e.push(h)}calculateBoundingBoxFromPoints(e){if(e.length===0)return{x:0,y:0,width:0,height:0};let t=e[0].x,o=e[0].x,n=e[0].y,a=e[0].y;for(let d of e)t=Math.min(t,d.x),o=Math.max(o,d.x),n=Math.min(n,d.y),a=Math.max(a,d.y);return{x:t,y:n,width:o-t,height:a-n}}extractCoordinatesFromPath(e){let t=[],o=/[-+]?[0-9]*\.?[0-9]+/g,n;for(;(n=o.exec(e))!==null;)t.push(parseFloat(n[0]));return t}calculateBoundingBox(e){if(e.length<2)return{x:0,y:0,width:0,height:0};let t=e[0],o=e[0],n=e[1],a=e[1];for(let d=2;d<e.length;d+=2)d+1<e.length&&(t=Math.min(t,e[d]),o=Math.max(o,e[d]),n=Math.min(n,e[d+1]),a=Math.max(a,e[d+1]));return{x:t,y:n,width:o-t,height:a-n}}addVectorGraphicsToPage(e,t,o){if(!this.textStreamRawData?.metadata?.hasVectorGraphics)return;console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${o+1}\uC5D0 \uBCA1\uD130 \uADF8\uB798\uD53D \uC694\uC18C \uCD94\uAC00 \uC911...`);let n=this.textStreamRawData.metadata.vectorGraphicsDetails;if(!n?.pageDetails)return;let a=n.pageDetails.find(d=>d.pageNumber===o+1);!a||!a.operations||(console.log(`\u{1F4CA} \uD398\uC774\uC9C0 ${o+1} \uBCA1\uD130 \uD1B5\uACC4:`,a.statistics),console.log(`\u{1F50D} \uD398\uC774\uC9C0 ${o+1} \uBCA1\uD130 \uC5F0\uC0B0 ${a.operations.length}\uAC1C \uBD84\uC11D \uC911...`))}createElementsFromVectorOperations(e,t,o){if(!t||t.length===0)return;console.log(`\u{1F527} ${t.length}\uAC1C \uBCA1\uD130 \uC5F0\uC0B0\uC744 PDF \uC694\uC18C\uB85C \uBCC0\uD658 \uC911...`);let n=this.groupVectorOperations(t),a=0;n.forEach((d,p)=>{let m=this.createElementFromOperationGroup(d,e,o,p);m&&(e.elements.push(m),a++)}),console.log(`\u2705 \uD398\uC774\uC9C0 ${o+1}\uC5D0 ${a}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`)}groupVectorOperations(e){let t=[],o=[];return e.forEach(n=>{n.type==="moveTo"&&o.length>0?(t.push([...o]),o=[n]):n.type==="rectangle"?(o.length>0&&(t.push([...o]),o=[]),t.push([n])):o.push(n)}),o.length>0&&t.push(o),t}createElementFromOperationGroup(e,t,o,n){if(!e||e.length===0)return null;let a=e[0];return a.type==="rectangle"&&a.args&&a.args.length>=4?this.createRectangleFromArgs(a.args,t,o,n):a.type==="moveTo"?this.createPathElementFromGroup(e,t,o,n):this.createVectorIndicator(e,t,o,n)}createRectangleFromArgs(e,t,o,n){let a=e[0]||0,d=e[1]||0,p=Math.abs(e[2]||50),m=Math.abs(e[3]||50),u=t.height-d-m,h={id:`vector-rect-${Date.now()}-${o}-${n}`,type:"shape",x:Math.max(0,a),y:Math.max(0,u),width:Math.min(p,t.width-a),height:Math.min(m,t.height-u),shapeType:"rectangle",fillColor:"rgba(100, 149, 237, 0.3)",strokeColor:"#4169E1",strokeWidth:2};return console.log(`\u{1F4D0} \uC0AC\uAC01\uD615 \uC694\uC18C \uC0DD\uC131: (${Math.round(a)}, ${Math.round(u)}) ${Math.round(p)}x${Math.round(m)}`),h}createPathElementFromGroup(e,t,o,n){let a="",d=1/0,p=1/0,m=-1/0,u=-1/0;e.forEach(v=>{if(v.args&&v.args.length>=2){let y=v.args[0],D=v.args[1];switch(d=Math.min(d,y),p=Math.min(p,D),m=Math.max(m,y),u=Math.max(u,D),v.type){case"moveTo":a+=`M ${y} ${D} `;break;case"lineTo":a+=`L ${y} ${D} `;break;case"curveTo":v.args.length>=6&&(a+=`C ${v.args[0]} ${v.args[1]} ${v.args[2]} ${v.args[3]} ${v.args[4]} ${v.args[5]} `);break}}}),d===1/0&&(d=50,m=150,p=50,u=150);let h=Math.max(20,m-d),x=Math.max(20,u-p),P=t.height-u,O={id:`vector-path-${Date.now()}-${o}-${n}`,type:"vector-path",x:Math.max(0,d),y:Math.max(0,P),width:Math.min(h,t.width-d),height:Math.min(x,t.height-P),pathData:a.trim()||"M 10 10 L 40 40",strokeColor:"#FF6B6B",strokeWidth:2,fill:"none",fillOpacity:1,strokeOpacity:1};return console.log(`\u{1F3A8} \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uC0DD\uC131: (${Math.round(d)}, ${Math.round(P)}) ${Math.round(h)}x${Math.round(x)}`),O}createVectorIndicator(e,t,o,n){let a=50,d=50;for(let u of e)if(u.args&&u.args.length>=2){a=u.args[0]||a,d=u.args[1]||d;break}let p=t.height-d-30,m={id:`vector-indicator-${Date.now()}-${o}-${n}`,type:"text",x:Math.max(0,a),y:Math.max(0,p),width:120,height:25,text:"\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D",fontSize:10,fontFamily:"Arial",color:"#FF6B6B"};return console.log(`\u{1F3F7}\uFE0F \uBCA1\uD130 \uD45C\uC2DC\uC790 \uC0DD\uC131: (${Math.round(a)}, ${Math.round(p)})`),m}addDefaultVectorGraphics(e,t){let o={id:`vector-${Date.now()}-${t}`,type:"shape",x:50,y:e.height-200,width:100,height:100,shapeType:"rectangle",fillColor:"rgba(200, 200, 200, 0.3)",strokeColor:"#666666",strokeWidth:2};e.elements.push(o),console.log(`\u{1F4E6} \uAE30\uBCF8 \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${t+1})`)}addVectorPathElements(e,t,o){let n=Math.min(t.statistics.pathCount,5);for(let a=0;a<n;a++){let d={id:`vector-path-${Date.now()}-${o}-${a}`,type:"vector-path",x:100+a*120,y:e.height-150,width:80,height:80,pathData:this.generateSamplePathData(a),strokeColor:this.getVectorColor(a),strokeWidth:2,fill:"none",fillOpacity:1,strokeOpacity:1};e.elements.push(d)}console.log(`\u{1F3A8} ${n}\uAC1C \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${o+1})`)}addRectangleElements(e,t,o){let n=Math.min(t.statistics.rectangleCount,3);for(let a=0;a<n;a++){let d={id:`vector-rect-${Date.now()}-${o}-${a}`,type:"shape",x:50+a*80,y:e.height-300,width:60,height:40,shapeType:"rectangle",fillColor:`rgba(${100+a*50}, ${150+a*30}, 200, 0.3)`,strokeColor:this.getVectorColor(a),strokeWidth:1};e.elements.push(d)}console.log(`\u{1F4D0} ${n}\uAC1C \uC0AC\uAC01\uD615 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${o+1})`)}addLineElements(e,t,o){let n=Math.min(t.statistics.lineCount,4);for(let a=0;a<n;a++){let d={id:`vector-line-${Date.now()}-${o}-${a}`,type:"shape",x:200+a*60,y:e.height-250,width:50,height:2,shapeType:"line",strokeColor:this.getVectorColor(a),strokeWidth:2};e.elements.push(d)}console.log(`\u{1F4CF} ${n}\uAC1C \uC120 \uC694\uC18C \uCD94\uAC00\uB428 (\uD398\uC774\uC9C0 ${o+1})`)}generateSamplePathData(e){let t=["M 20 20 Q 40 5 60 20 Q 80 35 100 20","M 10 40 L 50 10 L 90 40 L 70 70 L 30 70 Z","M 20 60 C 20 30 80 30 80 60 C 80 90 20 90 20 60","M 10 10 L 90 10 L 90 90 L 10 90 Z","M 50 10 Q 90 50 50 90 Q 10 50 50 10"];return t[e%t.length]}getVectorColor(e){let t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"];return t[e%t.length]}createPagesFromBasicStructure(){console.log("\u{1F4CB} \uAE30\uBCF8 \uAD6C\uC870 \uB370\uC774\uD130\uB85C \uD398\uC774\uC9C0 \uC0DD\uC131");let e=this.pdfStructureData.pageTree.count||1,o=this.pdfStructureData.pageTree.kids[0]?.mediaBox||[0,0,595,842],n=o[2]-o[0],a=o[3]-o[1];for(let d=0;d<e;d++){let p={id:`page-${Date.now()}-${d}`,pageNumber:d+1,width:n,height:a,elements:[]};if(d===0){let m={id:this.generateElementId(),type:"text",x:50,y:50,width:n-100,height:200,text:`\uC774 \uBB38\uC11C\uB294 PDF \uAD6C\uC870 \uBD84\uC11D\uC744 \uBC14\uD0D5\uC73C\uB85C \uD14D\uC2A4\uD2B8\uB9CC \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.

\uC6D0\uBCF8 \uAD6C\uC870 \uC815\uBCF4:
- \uBC84\uC804: ${this.pdfStructureData.header?.version||"N/A"}
- \uD398\uC774\uC9C0 \uC218: ${e}
- \uBBF8\uB514\uC5B4\uBC15\uC2A4: [${o.join(", ")}]

\u26A0\uFE0F \uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC5B4 \uAE30\uBCF8 \uAD6C\uC870\uB9CC \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.
\u{1F4DD} \uBCA1\uD130 \uADF8\uB798\uD53D\uC740 \uC81C\uC678\uB418\uACE0 \uD14D\uC2A4\uD2B8\uB9CC \uD3EC\uD568\uB429\uB2C8\uB2E4.`,fontSize:14,fontFamily:"Arial",color:"#333333"};p.elements.push(m)}this.pdfPages.push(p)}this.totalPages=this.pdfPages.length,this.currentPage=1,this.loadPage(),console.log(`\u2705 ${e}\uAC1C\uC758 \uAE30\uBCF8 \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.snackbar.showInfo(`\uAE30\uBCF8 \uAD6C\uC870\uB85C ${e}\uAC1C \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}openPdfStructureModal(){let e=performance.now();if(console.log("\u{1F680} [\uCE21\uC815] openPdfStructureModal \uC2DC\uC791"),this.textStreamRawData&&this.pdfStructureData){this.showPdfStructureModal=!0;let t=performance.now();return}console.error("\u274C PDF \uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. PDF\uB97C \uBA3C\uC800 \uC5C5\uB85C\uB4DC\uD574\uC8FC\uC138\uC694."),this.snackbar.showError("PDF\uB97C \uBA3C\uC800 \uC5C5\uB85C\uB4DC\uD574\uC8FC\uC138\uC694")}closePdfStructureModal(){this.showPdfStructureModal=!1}copyDebugLogs(){let e=this.debugLogs.join(`
`);navigator.clipboard.writeText(e).then(()=>{this.snackbar.showSuccess("\u{1F4CB} \uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}).catch(t=>{console.error("\uBCF5\uC0AC \uC2E4\uD328:",t),this.snackbar.showError("\uBCF5\uC0AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")})}closePdfAnalysisDashboard(){this.showAnalysisDashboard=!1,this.pdfAnalysisData=null}createPdfFromVectorSvg(e){return V(this,null,function*(){try{console.log("\u{1F525} createPdfFromVectorSvg \uD568\uC218 \uC2DC\uC791!"),this.debugLogs=[],this.debugLogs.push("=== \u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D PDF \uC0DD\uC131 \uC2DC\uC791 ==="),this.debugLogs.push(`\uC2DC\uAC04: ${new Date().toLocaleString()}`),this.debugLogs.push(`eventData: ${JSON.stringify(e?Object.keys(e):null)}`),console.log("\u{1F50D} showDebugModal\uC744 true\uB85C \uC124\uC815 \uC804:",this.showDebugModal),this.showDebugModal=!0,console.log("\u{1F50D} showDebugModal\uC744 true\uB85C \uC124\uC815 \uD6C4:",this.showDebugModal),console.log("\u{1F50D} debugLogs \uB0B4\uC6A9:",this.debugLogs),this.cdr.detectChanges(),console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D SVG\uB85C \uC0C8 PDF \uC0DD\uC131 \uC2DC\uC791...",e),this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D\uC744 \uC0C8 PDF\uB85C \uC0DD\uC131 \uC911...");let{vectorData:t,analysisData:o,selectedPage:n}=e;this.debugLogs.push(`
vectorData \uC874\uC7AC: ${!!t}`),this.debugLogs.push(`analysisData \uC874\uC7AC: ${!!o}`),this.initializeNewDocument(),yield this.createPagesFromOriginalPdfSvg(t,o),this.debugLogs.push(`
\u2705 PDF \uC0DD\uC131 \uC644\uB8CC!`),this.debugLogs.push(`\uCD1D \uD398\uC774\uC9C0: ${this.pdfPages.length}`),this.debugLogs.push(`SVG \uC694\uC18C: ${this.pdfPages.reduce((a,d)=>a+d.elements.filter(p=>p.type==="svg").length,0)}`),console.log("\u{1F50D} \uCD5C\uC885 debugLogs:",this.debugLogs),console.log("\u{1F50D} debugLogs \uAE38\uC774:",this.debugLogs.length),this.cdr.detectChanges(),this.snackbar.showSuccess("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D SVG\uB85C \uC0C8 PDF\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4!"),console.log("\u2705 SVG PDF \uC0DD\uC131 \uC644\uB8CC:",{totalPages:this.pdfPages.length,svgElements:this.pdfPages.reduce((a,d)=>a+d.elements.filter(p=>p.type==="svg").length,0)})}catch(t){console.error("\u274C \uBCA1\uD130 SVG PDF \uC0DD\uC131 \uC2E4\uD328:",t),this.debugLogs.push(`
\u274C \uC5D0\uB7EC \uBC1C\uC0DD: ${t}`),this.snackbar.showError("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D SVG PDF \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),this.cdr.detectChanges()}})}loadImagePdfToEditor(e){return V(this,null,function*(){try{console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF\uB97C \uD3B8\uC9D1\uAE30\uC5D0 \uB85C\uB4DC \uC2DC\uC791...",e),this.snackbar.showInfo("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF\uB97C \uD3B8\uC9D1\uAE30\uC5D0 \uB85C\uB4DC \uC911..."),this.initializeNewDocument();let t=yield e.arrayBuffer(),o=window["pdfjs-dist/build/pdf"];if(!o)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let a=yield o.getDocument({data:t}).promise;console.log(`\u{1F4C4} PDF \uB85C\uB4DC \uC644\uB8CC: ${a.numPages} \uD398\uC774\uC9C0`);for(let d=1;d<=a.numPages;d++){let p=yield a.getPage(d),m=p.getViewport({scale:2});console.log(`\u{1F50D} \uD398\uC774\uC9C0 ${d} \uB85C\uB4DC`,{pageWidth:m.width,pageHeight:m.height,scale:2});let u=yield p.getOperatorList(),h=[];for(let O=0;O<u.fnArray.length;O++){let v=u.fnArray[O],y=u.argsArray[O];if(v===85||v===86){let D=y[0],S=null,b=[];for(let A=O-1;A>=0&&A>=O-20;A--){let w=u.fnArray[A],I=u.argsArray[A];if((w===12||w===74||w===75)&&b.unshift({fn:w,args:I}),w===11)break}if(b.length>0){let A=(I,z)=>[I[0]*z[0]+I[2]*z[1],I[1]*z[0]+I[3]*z[1],I[0]*z[2]+I[2]*z[3],I[1]*z[2]+I[3]*z[3],I[0]*z[4]+I[2]*z[5]+I[4],I[1]*z[4]+I[3]*z[5]+I[5]],w=b[0].args;for(let I=1;I<b.length;I++)w=A(w,b[I].args);S=w}h.push({name:D,transform:S,index:O})}}console.log(`\u{1F4E6} \uD398\uC774\uC9C0 ${d} \uC774\uBBF8\uC9C0 \uBC1C\uACAC: ${h.length}\uAC1C`,h);let x=document.createElement("canvas");x.width=m.width,x.height=m.height;let P=x.getContext("2d");if(P){yield p.render({canvasContext:P,viewport:m}).promise;let O={id:`page-${d}-${Date.now()}`,pageNumber:d,width:m.width/2,height:m.height/2,elements:[]};for(let v of h){let y=v.transform;if(y){let D=Math.abs(y[0]),S=Math.abs(y[3]),b=y[4],A=y[5],w=m.height/2,I=w-A-S,z=(w-A-S)*2;console.log(`\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC694\uC18C \uC0DD\uC131: ${v.name}`,{transform:y,pdfX:b,pdfY:A,canvasX:b,canvasY:I,canvasSrcY:z,width:D,height:S,pageHeight:w});let J=document.createElement("canvas");J.width=D*2,J.height=S*2;let K=J.getContext("2d");if(K){K.drawImage(x,b*2,z,D*2,S*2,0,0,D*2,S*2);let et=J.toDataURL("image/png");O.elements.push({id:`image-${d}-${v.index}-${Date.now()}`,type:"image",x:b,y:I,width:D,height:S,src:et})}}else console.warn(`\u26A0\uFE0F transform \uC5C6\uB294 \uC774\uBBF8\uC9C0: ${v.name}`)}if(h.length===0){let v=x.toDataURL("image/png");O.elements.push({id:`image-${d}-${Date.now()}`,type:"image",x:0,y:0,width:m.width/2,height:m.height/2,src:v})}this.pdfPages.push(O)}}this.currentPageIndex=0,this.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC644\uB8CC! (${a.numPages} \uD398\uC774\uC9C0)`),console.log("\u2705 \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC644\uB8CC:",{totalPages:this.pdfPages.length,imageElements:this.pdfPages.reduce((d,p)=>d+p.elements.filter(m=>m.type==="image").length,0)})}catch(t){console.error("\u274C \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("\u274C \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}createCombinedDocument(){return V(this,null,function*(){try{console.log("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8)..."),this.debugLogs=[],this.debugLogs.push("=== \u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8) ==="),this.debugLogs.push(`\uC2DC\uC791 \uC2DC\uAC04: ${new Date().toLocaleString()}`),this.cdr.detectChanges(),this.debugLogs.push(`
\u{1F4CB} [1\uB2E8\uACC4] \uB370\uC774\uD130 \uC0C1\uD0DC \uD655\uC778:`),this.debugLogs.push(`  - loadedVectorData \uC874\uC7AC: ${!!this.loadedVectorData}`),this.debugLogs.push(`  - textStreamRawData \uC874\uC7AC: ${!!this.textStreamRawData}`),this.debugLogs.push(`  - pdfAnalysisData \uC874\uC7AC: ${!!this.pdfAnalysisData}`),this.loadedVectorData&&this.debugLogs.push(`  - \uBCA1\uD130 \uD398\uC774\uC9C0 \uC218: ${this.loadedVectorData.pageDetails?.length||0}`),this.textStreamRawData&&(this.debugLogs.push(`  - \uD14D\uC2A4\uD2B8 \uD398\uC774\uC9C0 \uC218: ${this.textStreamRawData.pageCount||0}`),this.debugLogs.push(`  - \uCD1D \uD14D\uC2A4\uD2B8 \uD56D\uBAA9: ${this.textStreamRawData.metadata?.totalTextItems||0}`)),this.cdr.detectChanges();let e=this.loadedVectorData&&this.pdfAnalysisData?.hasVectorGraphics,t=this.textStreamRawData&&this.pdfAnalysisData&&this.pdfAnalysisData.totalTextItems>0;if(this.debugLogs.push(`
\u2705 [\uD655\uC778] \uBCA1\uD130 \uADF8\uB798\uD53D: ${e?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}`),this.debugLogs.push(`\u2705 [\uD655\uC778] \uD14D\uC2A4\uD2B8: ${t?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}`),this.cdr.detectChanges(),!e&&!t){this.snackbar.showError("\u274C \uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.debugLogs.push(`
\u274C \uC5D0\uB7EC: \uBCA1\uD130\uC640 \uD14D\uC2A4\uD2B8 \uBAA8\uB450 \uC5C6\uC74C`),this.cdr.detectChanges();return}this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (1/2: \uBCA1\uD130 \uCC98\uB9AC)"),this.debugLogs.push(`
\u{1F504} [2\uB2E8\uACC4] \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654...`),this.initializeNewDocument(),this.debugLogs.push("  \u2705 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC (pdfPages \uBC30\uC5F4 \uC0DD\uC131\uB428)"),this.cdr.detectChanges();let o=0,n=0;if(e){this.debugLogs.push(`
\u{1F3A8} [3\uB2E8\uACC4] \uBCA1\uD130 \uADF8\uB798\uD53D \uCC98\uB9AC \uC2DC\uC791 (\uBC30\uACBD \uB808\uC774\uC5B4)...`),this.debugLogs.push(`  - \uCC98\uB9AC\uD560 \uBCA1\uD130 \uD398\uC774\uC9C0: ${this.loadedVectorData?.pageDetails?.length||0}\uAC1C`),this.cdr.detectChanges(),yield this.createPagesFromOriginalPdfSvg(this.loadedVectorData,this.pdfAnalysisData),o=this.pdfPages.length;let m=this.pdfPages.reduce((u,h)=>u+h.elements.filter(x=>x.type==="svg").length,0);this.debugLogs.push(`  \u2705 \uBCA1\uD130 \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC: ${o}\uCABD`),this.debugLogs.push(`  - SVG \uC694\uC18C: ${m}\uAC1C`),this.pdfPages.slice(0,3).forEach((u,h)=>{let x=u.elements.filter(P=>P.type==="svg").length;this.debugLogs.push(`    \uD398\uC774\uC9C0 ${h+1}: SVG ${x}\uAC1C, \uD06C\uAE30: ${u.width}x${u.height}`)}),this.pdfPages.length>3&&this.debugLogs.push(`    ... \uC678 ${this.pdfPages.length-3}\uAC1C \uD398\uC774\uC9C0`),this.cdr.detectChanges()}if(this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (2/2: \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774)"),t&&e){this.debugLogs.push(`
\u{1F4DD} [4\uB2E8\uACC4] \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uCC98\uB9AC \uC2DC\uC791...`),this.debugLogs.push("  \u{1F4A1} \uC804\uB7B5: \uBCA1\uD130 \uD398\uC774\uC9C0 \uC704\uC5D0 \uD14D\uC2A4\uD2B8\uB97C \uACB9\uCCD0 \uADF8\uB9BD\uB2C8\uB2E4 (\uAC19\uC740 \uD398\uC774\uC9C0)"),this.debugLogs.push(`  - \uD14D\uC2A4\uD2B8 \uB370\uC774\uD130 \uD398\uC774\uC9C0 \uC218: ${this.textStreamRawData?.pages?.length||0}`),this.cdr.detectChanges(),yield this.overlayTextOnPages();let m=this.pdfPages.reduce((u,h)=>u+h.elements.filter(x=>x.type==="text").length,0);this.debugLogs.push("  \u2705 \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC644\uB8CC"),this.debugLogs.push(`  - \uCD94\uAC00\uB41C \uD14D\uC2A4\uD2B8 \uC694\uC18C: ${m}\uAC1C`),this.debugLogs.push(`  - \uCD5C\uC885 \uD398\uC774\uC9C0 \uC218: ${this.pdfPages.length}\uCABD (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8 \uACB0\uD569)`),this.debugLogs.push(`
  \u{1F4CA} \uD398\uC774\uC9C0\uBCC4 \uD14D\uC2A4\uD2B8 \uC694\uC18C \uD1B5\uACC4:`),this.pdfPages.slice(0,3).forEach((u,h)=>{let x=u.elements.filter(v=>v.type==="text").length,P=u.elements.filter(v=>v.type==="svg").length,O=[...new Set(u.elements.filter(v=>v.type==="text").map(v=>v.color))];this.debugLogs.push(`    \uD398\uC774\uC9C0 ${h+1}: SVG ${P}\uAC1C + \uD14D\uC2A4\uD2B8 ${x}\uAC1C`),x>0&&(this.debugLogs.push(`      \uC0AC\uC6A9\uB41C \uC0C9\uC0C1: ${O.slice(0,5).join(", ")}${O.length>5?` \uC678 ${O.length-5}\uAC1C`:""}`),u.elements.filter(v=>v.type==="text").slice(0,2).forEach((v,y)=>{this.debugLogs.push(`      [\uC0D8\uD50C ${y+1}] "${v.text?.substring(0,20)}..." \uC0C9\uC0C1:${v.color} \uD3F0\uD2B8:${v.fontFamily}/${v.fontSize}pt`)}))}),this.pdfPages.length>3&&this.debugLogs.push(`    ... \uC678 ${this.pdfPages.length-3}\uAC1C \uD398\uC774\uC9C0`),this.cdr.detectChanges()}else t&&!e&&(this.debugLogs.push(`
\u{1F4DD} [4\uB2E8\uACC4] \uD14D\uC2A4\uD2B8 \uC804\uC6A9 \uD398\uC774\uC9C0 \uC0DD\uC131...`),this.cdr.detectChanges(),yield this.createPagesFromTextStream(),n=this.pdfPages.length,this.debugLogs.push(`  \u2705 \uD14D\uC2A4\uD2B8 \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC: ${n}\uCABD`),this.cdr.detectChanges());let a=this.pdfPages.reduce((m,u)=>m+u.elements.filter(h=>h.type==="svg").length,0),d=this.pdfPages.reduce((m,u)=>m+u.elements.filter(h=>h.type==="text").length,0);this.debugLogs.push(`
\u{1F389} === \u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC === \u{1F389}`),this.debugLogs.push(`\uC644\uB8CC \uC2DC\uAC04: ${new Date().toLocaleString()}`),this.debugLogs.push(`
\u{1F4CA} \uCD5C\uC885 \uD1B5\uACC4:`),this.debugLogs.push(`  \uCD1D \uD398\uC774\uC9C0: ${this.pdfPages.length}\uCABD`),this.debugLogs.push(`  - SVG \uC694\uC18C: ${a}\uAC1C (\uBC30\uACBD \uB808\uC774\uC5B4)`),this.debugLogs.push(`  - \uD14D\uC2A4\uD2B8 \uC694\uC18C: ${d}\uAC1C (\uC624\uBC84\uB808\uC774 \uB808\uC774\uC5B4)`),this.debugLogs.push(`  - \uCD1D \uC694\uC18C: ${this.pdfPages.reduce((m,u)=>m+u.elements.length,0)}\uAC1C`);let p=new Set;this.pdfPages.forEach(m=>{m.elements.filter(u=>u.type==="text"&&u.color).forEach(u=>p.add(u.color))}),this.debugLogs.push(`  - \uC0AC\uC6A9\uB41C \uD14D\uC2A4\uD2B8 \uC0C9\uC0C1: ${p.size}\uC885\uB958`),p.size>0&&this.debugLogs.push(`    \uC0C9\uC0C1 \uBAA9\uB85D: ${[...p].slice(0,10).join(", ")}${p.size>10?` \uC678 ${p.size-10}\uAC1C`:""}`),this.debugLogs.push(`
\u{1F4A1} \uB2E4\uC74C \uB2E8\uACC4: "\u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30" \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC5EC PDF\uB85C \uC800\uC7A5\uD558\uC138\uC694.`),this.debugLogs.push(`  - \uD14D\uC2A4\uD2B8 \uC694\uC18C: ${d}\uAC1C (\uC624\uBC84\uB808\uC774)`),this.debugLogs.push("  \u{1F4A1} \uAC01 \uD398\uC774\uC9C0\uB294 \uBCA1\uD130(\uBC30\uACBD) + \uD14D\uC2A4\uD2B8(\uC804\uACBD) \uB808\uC774\uC5B4\uB85C \uAD6C\uC131"),this.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC! (${this.pdfPages.length}\uCABD, SVG ${a}\uAC1C + \uD14D\uC2A4\uD2B8 ${d}\uAC1C)`),console.log("\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC:",{totalPages:this.pdfPages.length,svgElements:a,textElements:d})}catch(e){console.error("\u274C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328:",e),this.debugLogs.push(`
\u274C \uC5D0\uB7EC \uBC1C\uC0DD: ${e}`),this.snackbar.showError("\u274C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),this.cdr.detectChanges()}})}overlayTextOnPages(){return V(this,null,function*(){if(this.debugLogs.push(`
  [\uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC2DC\uC791]`),this.cdr.detectChanges(),!this.textStreamRawData||!this.textStreamRawData.pages){this.debugLogs.push("  \u26A0\uFE0F \uD14D\uC2A4\uD2B8 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.cdr.detectChanges();return}let e=this.textStreamRawData.pages,t=-.9,o=-.1;this.debugLogs.push("  \u{1F4A1} \uC88C\uD45C \uBCF4\uC815:"),this.debugLogs.push(`    - Y \uC624\uD504\uC14B: \uD3F0\uD2B8 \uD06C\uAE30 \xD7 ${t} (\uC704\uB85C)`),this.debugLogs.push(`    - X \uC624\uD504\uC14B: \uD3F0\uD2B8 \uD06C\uAE30 \xD7 ${o} (\uC67C\uCABD)`),this.cdr.detectChanges();for(let n=0;n<Math.min(this.pdfPages.length,e.length);n++){let a=this.pdfPages[n],d=e[n];this.debugLogs.push(`
  [\uD398\uC774\uC9C0 ${n+1}] \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC911...`),this.debugLogs.push(`    - \uAE30\uC874 \uC694\uC18C: ${a.elements.length}\uAC1C`),this.debugLogs.push(`    - \uCD94\uAC00\uD560 \uD14D\uC2A4\uD2B8: ${d.textItems.length}\uAC1C`);let p=d.textItems.slice(0,3).map(u=>u.color||u.style?.color||"undefined");this.debugLogs.push(`    \u{1F3A8} \uC0D8\uD50C \uC0C9\uC0C1: ${p.join(", ")}`),this.cdr.detectChanges();let m=0;d.textItems.forEach((u,h)=>{if(!u.text||u.text.trim().length===0)return;let x=u.text.trim().length,P=u.font.size>0?u.font.size:12,O=P*.7,v=x*O,y=u.position.width>0?u.position.width:200,D=Math.max(y,v),S=Math.max(100,Math.min(D*1.15,600)),b=u.position.height>0?u.position.height:20,A=Math.ceil(v/S),w=Math.max(b,P*A*1.4),I=P*o,z=P*t,J=u.position.x+I,K=u.position.y+z,et={id:`text-overlay-${Date.now()}-${n}-${h}`,type:"text",x:J,y:K,width:S,height:w,text:u.text.trim(),fontSize:P,fontFamily:u.font.name||"Arial",color:u.color||u.style.color||"#000000"};a.elements.push(et),m++,m<=3&&(this.debugLogs.push(`      [${m}] "${u.text.substring(0,20)}" \u2192 ${et.color}`),this.cdr.detectChanges())}),this.debugLogs.push(`    \u2705 ${m}\uAC1C \uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uC644\uB8CC`),this.debugLogs.push(`    - \uCD5C\uC885 \uC694\uC18C: ${a.elements.length}\uAC1C`),this.cdr.detectChanges()}this.debugLogs.push(`
  \u2705 \uBAA8\uB4E0 \uD398\uC774\uC9C0 \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774 \uC644\uB8CC`),this.cdr.detectChanges()})}generateVectorMinimap(e){let{pageNumber:t,vectorData:o}=e;console.log(`\u{1F3AF} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC694\uCCAD`,o);try{let n=o||this.loadedVectorData;if(!n||!n.pageDetails){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}let a=n.pageDetails.find(d=>d.pageNumber===t);if(!a){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}if(a.svgContent){console.log(`\u2705 \uD398\uC774\uC9C0 ${t} SVG \uCF58\uD150\uCE20\uB97C \uBBF8\uB2C8\uB9F5\uC5D0 \uC800\uC7A5`),this.vectorMinimaps[t]=a.svgContent;return}if(a.operations&&a.operations.length>0){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${t} operations\uB85C SVG \uBBF8\uB2C8\uB9F5 \uC0DD\uC131`);let d=this.generateSvgFromOperations(a,t);this.vectorMinimaps[t]=d}else console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC5D0 \uD45C\uC2DC\uD560 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`)}catch(n){console.error(`\u274C \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uBBF8\uB2C8\uB9F5 \uC0DD\uC131 \uC2E4\uD328:`,n)}}generateSvgFromOperations(e,t){let a=.6722689075630253,d=565/842,p=[],m="",u=!1;return e.operations.forEach(h=>{let x=h.coordinates,P=h.args||[];switch(h.type){case"moveTo":u&&m&&p.push(`<path d="${m}" fill="none" stroke="#667eea" stroke-width="1" opacity="0.6"/>`);let O=0,v=0;x&&x.x!==void 0&&x.y!==void 0?(O=x.x*a,v=565-x.y*d):P.length>=2&&(O=P[0]*a,v=565-P[1]*d),m=`M ${O} ${v}`,u=!0;break;case"lineTo":if(u){let A=0,w=0;x&&x.x!==void 0&&x.y!==void 0?(A=x.x*a,w=565-x.y*d):P.length>=2&&(A=P[0]*a,w=565-P[1]*d),m+=` L ${A} ${w}`}break;case"rectangle":let y=0,D=0,S=50,b=50;if(x&&x.x!==void 0&&x.y!==void 0){y=x.x*a,D=565-x.y*d;let A=x.transform||P.slice(0,4);S=(A[0]||50)*a,b=(A[3]||50)*d}else P.length>=4&&(y=P[0]*a,D=565-P[1]*d,S=P[2]*a,b=P[3]*d);p.push(`<rect x="${y}" y="${D-Math.abs(b)}" width="${Math.abs(S)}" height="${Math.abs(b)}" fill="rgba(236, 72, 153, 0.3)" stroke="#ec4899" stroke-width="1"/>`);break;case"fill":u&&m&&(p.push(`<path d="${m}" fill="rgba(245, 158, 11, 0.4)" stroke="none"/>`),m="",u=!1);break;case"stroke":u&&m&&(p.push(`<path d="${m}" fill="none" stroke="#8b5cf6" stroke-width="1.5" opacity="0.8"/>`),m="",u=!1);break}}),u&&m&&p.push(`<path d="${m}" fill="none" stroke="#667eea" stroke-width="1" opacity="0.6"/>`),`
      <svg width="400" height="565" viewBox="0 0 400 565" xmlns="http://www.w3.org/2000/svg">
        <!-- \uBC30\uACBD -->
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
        
        <!-- \uADF8\uB9AC\uB4DC -->
        <defs>
          <pattern id="grid-${t}" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e2e8f0" stroke-width="0.5" opacity="0.3"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid-${t})" />
        
        <!-- \uBCA1\uD130 \uACBD\uB85C\uB4E4 -->
        ${p.join(`
        `)}
        
        <!-- \uD398\uC774\uC9C0 \uC815\uBCF4 -->
        <text x="10" y="20" font-family="Arial" font-size="12" fill="#64748b" font-weight="600">
          Page ${t}
        </text>
        <text x="10" y="35" font-family="Arial" font-size="10" fill="#94a3b8">
          ${e.operations.length} operations
        </text>
      </svg>
    `}createPagesFromVectorSvg(e,t){return V(this,null,function*(){if(console.log("\u{1F50D} \uBCA1\uD130 \uB370\uC774\uD130 \uAD6C\uC870 \uD655\uC778:",{vectorData:e,hasPageDetails:!!e?.pageDetails,pageDetailsLength:e?.pageDetails?.length||0,samplePageDetail:e?.pageDetails?.[0]}),!e||!e.pageDetails){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.createEmptyVectorPage();return}console.log("\u{1F4DD} \uBCA1\uD130 \uB370\uC774\uD130\uB85C SVG \uD398\uC774\uC9C0 \uC0DD\uC131 \uC911...",e.pageDetails.length,"\uAC1C \uD398\uC774\uC9C0");for(let o of e.pageDetails){let n=o.pageNumber,a=o.operations||[];console.log(`\uFFFD \uD398\uC774\uC9C0 ${n} \uCC98\uB9AC \uC911:`,{pageNumber:n,operationsCount:a.length,sampleOperations:a.slice(0,3),statistics:o.statistics});let d={id:`svg-page-${Date.now()}-${n}`,pageNumber:n,width:595,height:842,elements:[]},p={id:`title-${Date.now()}-${n}`,type:"text",x:50,y:30,width:d.width-100,height:30,text:`\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D SVG \uD398\uC774\uC9C0 ${n} (\uC5F0\uC0B0 ${a.length}\uAC1C)`,fontSize:12,fontFamily:"Arial",color:"#333333"};if(d.elements.push(p),a.length>0){let m=this.generateSvgFromVectorOperations(a,d.width,d.height-80);if(console.log(`\u{1F4CA} \uD398\uC774\uC9C0 ${n} SVG \uC0DD\uC131 \uACB0\uACFC:`,{svgContentLength:m?.length||0,hasContent:!!m,svgPreview:m?.substring(0,200)}),m&&m.trim().length>100){let u={id:`svg-${Date.now()}-${n}`,type:"svg",x:20,y:80,width:d.width-40,height:d.height-120,svgContent:m};d.elements.push(u)}else{let u={id:`no-svg-${Date.now()}-${n}`,type:"text",x:50,y:100,width:d.width-100,height:100,text:`\u26A0\uFE0F \uD398\uC774\uC9C0 ${n}\uC758 \uBCA1\uD130 \uC5F0\uC0B0\uC744 SVG\uB85C \uBCC0\uD658\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.

\uC5F0\uC0B0 \uC885\uB958: ${a.map(h=>h.type).join(", ")}

\uCCAB \uBC88\uC9F8 \uC5F0\uC0B0 \uC608\uC2DC: ${JSON.stringify(a[0],null,2)}`,fontSize:10,fontFamily:"Arial",color:"#e74c3c"};d.elements.push(u)}}else{let m={id:`no-ops-${Date.now()}-${n}`,type:"text",x:50,y:100,width:d.width-100,height:50,text:`\u{1F4ED} \uD398\uC774\uC9C0 ${n}\uC5D0\uB294 \uBCA1\uD130 \uADF8\uB798\uD53D \uC5F0\uC0B0\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.`,fontSize:10,fontFamily:"Arial",color:"#95a5a6"};d.elements.push(m)}this.pdfPages.push(d)}this.totalPages=this.pdfPages.length,this.currentPage=1,this.loadPage(),console.log(`\u2705 ${this.pdfPages.length}\uAC1C SVG \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)})}createEmptyVectorPage(){let e={id:`empty-vector-page-${Date.now()}`,pageNumber:1,width:595,height:842,elements:[{id:`empty-title-${Date.now()}`,type:"text",x:50,y:50,width:495,height:150,text:`\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uC5C6\uC74C

\uC120\uD0DD\uD55C PDF\uC5D0\uC11C \uBCA1\uD130 \uADF8\uB798\uD53D \uC815\uBCF4\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.
PDF\uB97C \uB2E4\uC2DC \uBD84\uC11D\uD558\uAC70\uB098 \uB2E4\uB978 PDF\uB97C \uC2DC\uB3C4\uD574\uBCF4\uC138\uC694.

\uD655\uC778\uC0AC\uD56D:
1. PDF\uC5D0 \uC2E4\uC81C \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uD3EC\uD568\uB418\uC5B4 \uC788\uB294\uC9C0
2. PDF \uBD84\uC11D\uC774 \uC644\uB8CC\uB418\uC5C8\uB294\uC9C0
3. \uBD84\uC11D \uB300\uC2DC\uBCF4\uB4DC\uC5D0\uC11C \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uAC10\uC9C0\uB418\uC5C8\uB294\uC9C0`,fontSize:12,fontFamily:"Arial",color:"#e74c3c"}]};this.pdfPages.push(e),this.totalPages=1,this.currentPage=1,this.loadPage()}createPagesFromOriginalPdfSvg(e,t){return V(this,null,function*(){console.log("\u{1F3A8} \uC6D0\uBCF8 PDF\uC5D0\uC11C \uC9C1\uC811 SVG \uC0DD\uC131 \uC2DC\uC791..."),this.debugLogs.push(`
=== createPagesFromOriginalPdfSvg \uC2DC\uC791 ===`);let o={hasVectorData:!!e,hasAnalysisData:!!t,vectorDataKeys:e?Object.keys(e):[],vectorDataPages:e?.pages?Object.keys(e.pages):[],vectorDataPageDetails:e?.pageDetails?e.pageDetails.length:0,vectorDataSample:e?JSON.stringify(e).substring(0,500):"null"};this.debugLogs.push(JSON.stringify(o,null,2));try{if(e&&e.pageDetails&&Array.isArray(e.pageDetails)){this.debugLogs.push(`
\u2705 vectorData.pageDetails \uBC1C\uACAC!`),this.debugLogs.push(`\uD398\uC774\uC9C0 \uC218: ${e.pageDetails.length}`),console.log("\u2705 vectorData.pageDetails\uC5D0\uC11C \uC9C1\uC811 \uD398\uC774\uC9C0 \uC815\uBCF4 \uCD94\uCD9C");for(let u of e.pageDetails){let h=u.pageNumber;this.debugLogs.push(`
\uD398\uC774\uC9C0 ${h} \uCC98\uB9AC \uC911...`),this.debugLogs.push(`- operations: ${u.operations?.length||0}\uAC1C`),console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${h} \uCC98\uB9AC \uC911...`,{hasOperations:!!u.operations,operationsCount:u.operations?.length||0});let x={id:`vector-page-${Date.now()}-${h}`,pageNumber:h,width:595,height:842,elements:[]};try{this.debugLogs.push("  PDF \uD398\uC774\uC9C0\uB97C SVG\uB85C \uB80C\uB354\uB9C1 \uC911 (\uBCA1\uD130 \uADF8\uB798\uD53D\uB9CC)...");let P=null,O=window.PDFViewerApplication;if(O?.pdfDocument&&(P=O.pdfDocument,this.debugLogs.push("  \u2713 PDFViewerApplication\uC5D0\uC11C \uBB38\uC11C \uB85C\uB4DC")),!P&&e.pdfSrc&&(this.debugLogs.push("  \u2699\uFE0F vectorData.pdfSrc\uC5D0\uC11C PDF \uB85C\uB4DC \uC911..."),P=yield window.pdfjsLib.getDocument(e.pdfSrc).promise,this.debugLogs.push("  \u2713 PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC")),!P&&this.pdfSrc&&(this.debugLogs.push("  \u2699\uFE0F this.pdfSrc\uC5D0\uC11C PDF \uB85C\uB4DC \uC911..."),P=yield window.pdfjsLib.getDocument(this.pdfSrc).promise,this.debugLogs.push("  \u2713 PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC")),!P){if(this.debugLogs.push("  \u26A0\uFE0F PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC74C - \uC774\uBBF8\uC9C0 \uAE30\uBC18 \uB80C\uB354\uB9C1 \uC0AC\uC6A9"),u.canvasImageData){let k={id:`img-${h}-${Date.now()}`,type:"image",x:0,y:0,width:595,height:842,src:u.canvasImageData,properties:{originalType:"rendered-page",pageNumber:h}};x.elements.push(k),this.debugLogs.push("  \u{1F4DD} \uC774\uBBF8\uC9C0 \uC694\uC18C\uB85C \uCD94\uAC00 \uC644\uB8CC")}else throw new Error("PDF \uBB38\uC11C\uC640 \uC774\uBBF8\uC9C0 \uB370\uC774\uD130\uB97C \uBAA8\uB450 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");this.pdfPages.push(x);continue}let v=yield P.getPage(h),y=v.getViewport({scale:1});this.debugLogs.push(`  - viewport: ${Math.round(y.width)} x ${Math.round(y.height)}`);let D=yield v.getOperatorList();this.debugLogs.push(`  - \uC804\uCCB4 operations: ${D.fnArray.length}\uAC1C`);let S=window.pdfjsLib,b=S.OPS,A=new Set([b.moveTo,b.lineTo,b.curveTo,b.curveTo2,b.curveTo3,b.closePath,b.rectangle,b.constructPath,b.stroke,b.closeStroke,b.fill,b.eoFill,b.fillStroke,b.eoFillStroke,b.closeFillStroke,b.closeEOFillStroke,b.clip,b.eoClip,b.setLineWidth,b.setLineCap,b.setLineJoin,b.setMiterLimit,b.setDash,b.setRenderingIntent,b.setFlatness,b.setGState,b.save,b.restore,b.transform,b.setStrokeColorSpace,b.setFillColorSpace,b.setStrokeColor,b.setStrokeColorN,b.setFillColor,b.setFillColorN,b.setStrokeGray,b.setFillGray,b.setStrokeRGBColor,b.setFillRGBColor,b.setStrokeCMYKColor,b.setFillCMYKColor,b.shadingFill]),w=[],I=[];for(let k=0;k<D.fnArray.length;k++){let Q=D.fnArray[k];A.has(Q)&&(w.push(Q),I.push(D.argsArray[k]))}this.debugLogs.push(`  - \uD544\uD130\uB9C1\uB41C operations: ${w.length}\uAC1C (\uBCA1\uD130 \uADF8\uB798\uD53D\uB9CC)`);let z={fnArray:w,argsArray:I,lastChunk:!0},K=document.createElementNS("http://www.w3.org/2000/svg","svg");K.setAttribute("width",y.width.toString()),K.setAttribute("height",y.height.toString()),K.setAttribute("viewBox",`0 0 ${y.width} ${y.height}`);let Y=yield new S.SVGGraphics(v.commonObjs,v.objs).getSVG(z,y);K.appendChild(Y);let $=new XMLSerializer().serializeToString(K);this.debugLogs.push(`  \u2705 SVG \uC0DD\uC131 \uC644\uB8CC (${Math.round($.length/1024)}KB, \uBCA1\uD130 \uADF8\uB798\uD53D\uB9CC)`);let U={id:`svg-${h}-${Date.now()}`,type:"svg",x:0,y:0,width:y.width,height:y.height,svgContent:$,properties:{originalType:"svg-render-vector-only",pageNumber:h,viewport:{width:y.width,height:y.height},filteredOperations:w.length}};x.elements.push(U),this.debugLogs.push("  \u{1F4DD} SVG \uC694\uC18C \uCD94\uAC00 \uC644\uB8CC (\uBCA1\uD130 \uADF8\uB798\uD53D\uB9CC, \uD14D\uC2A4\uD2B8 \uC81C\uC678)"),this.debugLogs.push(`     SVG \uD06C\uAE30: ${Math.round($.length/1024)} KB`)}catch(P){console.error(`\uD398\uC774\uC9C0 ${h} SVG \uB80C\uB354\uB9C1 \uC2E4\uD328:`,P),this.debugLogs.push(`  \u274C SVG \uB80C\uB354\uB9C1 \uC2E4\uD328: ${P}`)}this.pdfPages.push(x)}this.totalPages=this.pdfPages.length,this.currentPage=1,this.loadPage(),this.debugLogs.push(`
\u2705 \uCD1D ${this.totalPages}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC`);return}if(e&&e.pages){this.debugLogs.push(`
\u2705 vectorData.pages \uBC1C\uACAC!`),this.debugLogs.push(`\uD398\uC774\uC9C0 \uC218: ${Object.keys(e.pages).length}`),console.log("\u2705 vectorData\uC5D0\uC11C \uC9C1\uC811 \uD398\uC774\uC9C0 \uC815\uBCF4 \uCD94\uCD9C");let u=Object.keys(e.pages).map(Number).sort((h,x)=>h-x);for(let h of u){let x=e.pages[h];console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${h} \uCC98\uB9AC \uC911...`,{hasOperations:!!x.operations,hasSvgContent:!!x.svgContent,operationsCount:x.operations?.length||0});let P={id:`vector-page-${Date.now()}-${h}`,pageNumber:h,width:595,height:842,elements:[]},O={id:`title-${Date.now()}-${h}`,type:"text",x:50,y:30,width:P.width-100,height:30,text:`\u{1F4C4} \uBCA1\uD130 \uD398\uC774\uC9C0 ${h} (vectorData \uC0AC\uC6A9)`,fontSize:12,fontFamily:"Arial",color:"#333333"};if(P.elements.push(O),x.operations&&x.operations.fnArray){let v={fnArray:x.operations.fnArray,argsArray:x.operations.argsArray},y={width:595*2,height:842*2},D=yield this.convertOperatorListToVectorElements(v,null,y,P.width,P.height);console.log(`\u2705 \uD398\uC774\uC9C0 ${h} \uBCA1\uD130 \uC694\uC18C \uBCC0\uD658 \uC644\uB8CC:`,{elementCount:D.length}),h===u[0]&&(this.debugLogs.push(`
\u2705 \uCCAB \uD398\uC774\uC9C0 \uBCC0\uD658 \uC644\uB8CC!`),this.debugLogs.push(`\uC0DD\uC131\uB41C \uBCA1\uD130 \uC694\uC18C: ${D.length}\uAC1C`));let S={pageNumber:h,totalElements:D.length,sampleElements:D.slice(0,3).map(A=>({type:A.type,x:A.x,y:A.y,pathData:A.pathData?.substring(0,50)}))},b={id:`debug-${Date.now()}-${h}`,type:"text",x:50,y:60,width:P.width-100,height:200,text:JSON.stringify(S,null,2),fontSize:8,fontFamily:"Courier",color:"#666666"};P.elements.push(b),P.elements.push(...D)}this.pdfPages.push(P)}this.totalPages=this.pdfPages.length,this.currentPage=1,this.loadPage(),this.debugLogs.push(`
\u{1F389} \uC644\uB8CC!`),this.debugLogs.push(`\uCD1D ${this.pdfPages.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131`),console.log(`\u2705 ${this.pdfPages.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC!`);return}this.debugLogs.push(`
\u26A0\uFE0F vectorData.pages\uAC00 \uC5C6\uC74C, PDF.js\uC5D0\uC11C \uC9C1\uC811 \uAC00\uC838\uC624\uAE30 \uC2DC\uB3C4...`);let n=window.pdfjsLib,a=window.PDFViewerApplication;if(this.debugLogs.push(`pdfjsLib: ${!!n}`),this.debugLogs.push(`PDFViewerApplication: ${!!a}`),this.debugLogs.push(`pdfDocument: ${!!a?.pdfDocument}`),!n||!a?.pdfDocument){this.debugLogs.push(`
\u274C PDF.js \uB610\uB294 PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4!`),this.debugLogs.push("Fallback \uBC29\uC2DD\uC744 \uC0AC\uC6A9\uD569\uB2C8\uB2E4."),console.error("\u274C PDF.js \uB610\uB294 PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),yield this.createPagesFromVectorSvg(e,t);return}this.debugLogs.push(`
\u2705 PDF.js \uB85C\uB4DC \uC131\uACF5!`),this.debugLogs.push(`\uD398\uC774\uC9C0 \uC218: ${a.pdfDocument.numPages}`);let d=a.pdfDocument;if(!(n.SVGGraphics||n.SVGGraphics)){console.warn("\u26A0\uFE0F PDF.js SVGGraphics\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC5B4 fallback \uC0AC\uC6A9"),yield this.createPagesFromVectorSvg(e,t);return}let m=d.numPages;console.log(`\u{1F4C4} \uCD1D ${m}\uAC1C \uD398\uC774\uC9C0 \uCC98\uB9AC \uC2DC\uC791`),this.debugLogs.push(`
\u{1F680} \uBCA1\uD130 \uBCC0\uD658 \uC2DC\uC791! \uCD1D ${m}\uAC1C \uD398\uC774\uC9C0 \uCC98\uB9AC`);for(let u=1;u<=m;u++){console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${u} SVG \uC0DD\uC131 \uC911...`);let h=yield d.getPage(u),x=h.getViewport({scale:2}),P={id:`svg-page-${Date.now()}-${u}`,pageNumber:u,width:595,height:842,elements:[]},O={id:`title-${Date.now()}-${u}`,type:"text",x:50,y:30,width:P.width-100,height:30,text:`\u{1F3A8} PDF.js SVG \uD398\uC774\uC9C0 ${u} (\uC6D0\uBCF8 \uC815\uD655\uB3C4 100%)`,fontSize:12,fontFamily:"Arial",color:"#333333"};P.elements.push(O);try{let v=yield h.getOperatorList({intent:"display"});console.log(`\u2705 \uD398\uC774\uC9C0 ${u} operatorList \uCD94\uCD9C:`,{fnCount:v.fnArray.length,argsCount:v.argsArray.length});let y=yield this.convertOperatorListToVectorElements(v,h,x,P.width,P.height);console.log(`\u2705 \uD398\uC774\uC9C0 ${u} \uBCA1\uD130 \uC694\uC18C \uBCC0\uD658 \uC644\uB8CC:`,{elementCount:y.length,types:y.map(b=>b.type).slice(0,10)}),u===1&&this.debugLogs.push(`
\u2705 \uD398\uC774\uC9C0 1 \uBCC0\uD658 \uC644\uB8CC! ${y.length}\uAC1C \uC694\uC18C`),console.log("\u{1F50D} \uC0DD\uC131\uB41C \uBCA1\uD130 \uC694\uC18C \uC0D8\uD50C (\uCC98\uC74C 3\uAC1C):"),y.slice(0,3).forEach((b,A)=>{console.log(`  [${A}] type=${b.type}`),b.type==="shape"?(console.log(`       \u2192 shape: ${b.shapeType} at (${b.x.toFixed(1)}, ${b.y.toFixed(1)}) size ${b.width.toFixed(1)}x${b.height.toFixed(1)}`),console.log(`       \u2192 colors: fill=${b.fillColor}, stroke=${b.strokeColor}`)):b.type==="vector-path"&&(console.log(`       \u2192 pathData: "${b.pathData?.substring(0,80)}..."`),console.log(`       \u2192 stroke: ${b.strokeColor}, width: ${b.strokeWidth}, fill: ${b.fill}`))});let D={pageNumber:u,totalElements:y.length,sampleElements:y.slice(0,5).map(b=>({type:b.type,x:b.x,y:b.y,width:b.width,height:b.height,pathData:b.pathData?.substring(0,100),strokeColor:b.strokeColor,fillColor:b.fillColor||b.fill,strokeWidth:b.strokeWidth})),coordinateInfo:{scaleX:595/x.width,scaleY:842/x.height,viewportWidth:x.width,viewportHeight:x.height,targetWidth:P.width,targetHeight:P.height}},S={id:`debug-${Date.now()}-${u}`,type:"text",x:50,y:60,width:P.width-100,height:600,text:JSON.stringify(D,null,2),fontSize:8,fontFamily:"Courier",color:"#666666"};P.elements.push(S),P.elements.push(...y)}catch(v){console.error(`\u274C \uD398\uC774\uC9C0 ${u} \uBCA1\uD130 \uBCC0\uD658 \uC2E4\uD328:`,v);let y=v instanceof Error?v.message:String(v),D={id:`error-${Date.now()}-${u}`,type:"text",x:50,y:100,width:P.width-100,height:100,text:`\u26A0\uFE0F \uD398\uC774\uC9C0 ${u} SVG \uC0DD\uC131 \uC2E4\uD328

\uC624\uB958: ${y}

PDF.js SVG \uB80C\uB354\uB9C1\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`,fontSize:10,fontFamily:"Arial",color:"#e74c3c"};P.elements.push(D)}this.pdfPages.push(P)}this.totalPages=this.pdfPages.length,this.currentPage=1,this.loadPage(),this.debugLogs.push(`
\u{1F389} \uC644\uB8CC! \uCD1D ${this.pdfPages.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131`),console.log(`\u2705 ${this.pdfPages.length}\uAC1C \uC815\uD655\uD55C SVG \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC!`)}catch(n){console.error("\u274C \uC6D0\uBCF8 PDF SVG \uC0DD\uC131 \uC2E4\uD328:",n),yield this.createPagesFromVectorSvg(e,t)}})}convertOperatorListToVectorElements(e,t,o,n,a){return V(this,null,function*(){let d=[];console.log("\u{1F3A8} operatorList \u2192 \uBCA1\uD130 \uC694\uC18C \uBCC0\uD658 \uC2DC\uC791...");let p=e.fnArray,m=e.argsArray,u=n/o.width,h=a/o.height;console.log("\u{1F4D0} \uC88C\uD45C \uBCC0\uD658 \uBE44\uC728:",{scaleX:u,scaleY:h,viewport:o});let x=[],P=0,O=0,v="#000000",y="#000000",D=1,S={moveTo:21,lineTo:22,curveTo:23,rectangle:25,closePath:26,stroke:27,fill:28,fillStroke:29,setLineWidth:30,setStrokeRGBColor:33,setFillRGBColor:34,constructPath:53};for(let b=0;b<p.length;b++){let A=p[b],w=m[b];try{switch(A){case S.setLineWidth:D=w[0]*u;break;case S.setStrokeRGBColor:y=`rgb(${Math.round(w[0]*255)}, ${Math.round(w[1]*255)}, ${Math.round(w[2]*255)})`;break;case S.setFillRGBColor:v=`rgb(${Math.round(w[0]*255)}, ${Math.round(w[1]*255)}, ${Math.round(w[2]*255)})`;break;case S.rectangle:{let I=w[0]*u,z=a-w[1]*h-w[3]*h,J=w[2]*u,K=w[3]*h;d.push({id:`rect-${Date.now()}-${b}`,type:"shape",shapeType:"rectangle",x:I,y:z,width:J,height:K,fillColor:v,strokeColor:y,strokeWidth:D});break}case S.moveTo:P=w[0]*u,O=a-w[1]*h,x=[{x:P,y:O}];break;case S.lineTo:P=w[0]*u,O=a-w[1]*h,x.push({x:P,y:O});break;case S.curveTo:{let I=w[4]*u,z=a-w[5]*h;P=I,O=z,x.push({x:I,y:z});break}case S.closePath:x.length>0&&x.push(yt({},x[0]));break;case S.stroke:case S.fill:case S.fillStroke:if(x.length>=2){let I=`M ${x.map(z=>`${z.x},${z.y}`).join(" L ")}`;d.push({id:`path-${Date.now()}-${b}`,type:"vector-path",x:0,y:0,width:n,height:a,pathData:I,strokeColor:A===S.fill?"none":y,fill:A===S.stroke?"none":v,strokeWidth:D}),x=[]}break;case S.constructPath:{let I=w[0],z=w[1],J=0,K="",et=0,Y=0;for(let G of I)switch(G){case S.moveTo:{let $=z[J++]*u,U=a-z[J++]*h;K+=`M ${$},${U} `,et=$,Y=U;break}case S.lineTo:{let $=z[J++]*u,U=a-z[J++]*h;K+=`L ${$},${U} `;break}case S.curveTo:{let $=z[J++]*u,U=a-z[J++]*h,k=z[J++]*u,Q=a-z[J++]*h,at=z[J++]*u,ot=a-z[J++]*h;K+=`C ${$},${U} ${k},${Q} ${at},${ot} `;break}case S.rectangle:{let $=z[J++]*u,U=a-z[J++]*h,k=z[J++]*u,Q=z[J++]*h;K+=`M ${$},${U} L ${$+k},${U} L ${$+k},${U-Q} L ${$},${U-Q} Z `;break}case S.closePath:K+="Z ";break}K.length>0&&d.push({id:`complex-path-${Date.now()}-${b}`,type:"vector-path",x:0,y:0,width:n,height:a,pathData:K.trim(),strokeColor:y,fill:v,strokeWidth:D});break}}}catch(I){console.warn(`\u26A0\uFE0F Operator ${A} \uCC98\uB9AC \uC2E4\uD328:`,I)}}return console.log(`\u2705 ${d.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`),d})}validateCoordinate(e,t=0){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e=="string"){let o=parseFloat(e);if(!isNaN(o))return o}return t}convertToSvgY(e,t,o=1){if(!isFinite(e)||!isFinite(t)||t<=0)return console.warn(`\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC88C\uD45C: pdfY=${e}, height=${t}`),Math.max(0,t/2);let a=e/o;if(a>t*1.5){let p=t*.9/a,m=a*p,u=t-m;return Math.max(0,Math.min(t,u))}let d=t-a;return d<0?Math.max(0,t*.05):d>t?t*.95:d}convertToSvgX(e,t,o=1){if(!isFinite(e)||!isFinite(t)||t<=0)return console.warn(`\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 X \uC88C\uD45C: pdfX=${e}, width=${t}`),Math.max(0,t/2);let n=e/o;return n<0?(console.warn(`\u26A0\uFE0F \uC74C\uC218 X \uC88C\uD45C \uBCF4\uC815: ${n} -> 0`),0):n>t?(console.warn(`\u26A0\uFE0F X \uC88C\uD45C \uBC94\uC704 \uCD08\uACFC \uBCF4\uC815: ${n} -> ${t}`),t):n}analyzeCoordinateRange(e,t){let o=1/0,n=-1/0,a=1/0,d=-1/0;e.forEach(x=>{x.coordinates&&(typeof x.coordinates.x=="number"&&(o=Math.min(o,x.coordinates.x),n=Math.max(n,x.coordinates.x)),typeof x.coordinates.y=="number"&&(a=Math.min(a,x.coordinates.y),d=Math.max(d,x.coordinates.y))),Array.isArray(x.args)&&x.args.forEach(P=>{typeof P=="number"&&P>=0&&P<=2e3&&(o=Math.min(o,P),n=Math.max(n,P),a=Math.min(a,P),d=Math.max(d,P))})}),isFinite(o)||(o=0),isFinite(n)||(n=t.width),isFinite(a)||(a=0),isFinite(d)||(d=t.height);let p=n>t.width*1.2||o<-t.width*.2,m=d>t.height*1.2||a<-t.height*.2,u=p||m,h=1;if(u){let x=n>t.width?n/(t.width*.9):1,P=d>t.height?d/(t.height*.9):1;h=Math.max(x,P),console.log("\u{1F50D} \uC2A4\uCF00\uC77C \uACC4\uC0B0 \uC0C1\uC138:",{maxX:n,maxY:d,"dimensions.width":t.width,"dimensions.height":t.height,xScale:isFinite(x)?x.toFixed(3):String(x),yScale:isFinite(P)?P.toFixed(3):String(P),finalScaleFactor:isFinite(h)?h.toFixed(3):String(h)})}return console.log("\u{1F4CA} \uC88C\uD45C \uBC94\uC704 \uBD84\uC11D:",{xRange:{min:o,max:n},yRange:{min:a,max:d},needsScaling:u,scaleFactor:isFinite(h)?h.toFixed(3):String(h)}),{xRange:{min:o,max:n},yRange:{min:a,max:d},needsScaling:u,scaleFactor:h}}applyTransform(e,t,o){if(!o||o.length<6)return{x:e,y:t};let[n,a,d,p,m,u]=o;return{x:n*e+d*t+m,y:a*e+p*t+u}}createSafeSvgElement(e,t){let o=Object.entries(t).filter(([n,a])=>a!=null).map(([n,a])=>`${n}="${a}"`).join(" ");return`<${e} ${o}/>`}generateSvgFromVectorOperations(e,t,o){console.log(`\u{1F3A8} SVG \uC0DD\uC131 \uC2DC\uC791 - \uC5F0\uC0B0 ${e.length}\uAC1C, \uD06C\uAE30 ${t}x${o}`);let n=(b,A=1)=>{let w=typeof b=="number"?b:parseFloat(b);return isFinite(w)?w.toFixed(A):String(b)},a,d,p,m=this.analyzeCoordinateRange(e,{width:t,height:o}),u=m.scaleFactor;console.log("\u{1F4CA} Coordinate Analysis:",{xRange:m.xRange,yRange:m.yRange,scaleFactor:m.scaleFactor,needsScaling:m.needsScaling,originalMax:{x:m.xRange.max,y:m.yRange.max},scaledMax:{x:m.xRange.max/u,y:m.yRange.max/u}});let h={timestamp:new Date().toISOString(),svgGeneration:{startTime:performance.now(),totalOperations:e.length,dimensions:{width:t,height:o},processedOperations:[],svgElements:[],statistics:{byOperationType:{},processingTime:0,elementsGenerated:0}}};if(!e||e.length===0)return console.warn("\u26A0\uFE0F \uC5F0\uC0B0\uC774 \uC5C6\uC5B4\uC11C \uBE48 SVG \uBC18\uD658"),h.svgGeneration.result="empty",this.downloadLogData(h,"svg-generation-empty"),this.createEmptySvg(t,o);let x=[],P="",O=0,v=0,y=!1,D=0;if(console.log("\u{1F50D} \uCCAB 5\uAC1C \uC5F0\uC0B0 \uBBF8\uB9AC\uBCF4\uAE30:",e.slice(0,5)),console.log(`\u{1F4D0} \uCE94\uBC84\uC2A4 \uD06C\uAE30: ${t}x${o} (\uC88C\uD45C \uBCC0\uD658 \uAE30\uC900\uC810), \uC2A4\uCF00\uC77C \uD329\uD130: ${isFinite(u)?u.toFixed(3):String(u)}`),e.forEach((b,A)=>{let w=b.args||[];console.log(`\uCC98\uB9AC \uC911 [${A}]: ${b.type}, args:`,w);let I={index:A,type:b.type,args:Array.isArray(w)?w:[w],coordinates:b.coordinates||null,transformMatrix:b.transformMatrix||null,processed:!1,svgElementGenerated:!1};switch(h.svgGeneration.statistics.byOperationType[b.type]||(h.svgGeneration.statistics.byOperationType[b.type]=0),h.svgGeneration.statistics.byOperationType[b.type]++,b.type){case"moveTo":y&&P&&(x.push(`<path d="${P}" stroke="#2c3e50" stroke-width="2" fill="none"/>`),console.log(`\u2705 \uD328\uC2A4 \uC644\uB8CC: ${P}`)),O=this.convertToSvgX(this.validateCoordinate(w[0],0),t,u),v=this.convertToSvgY(this.validateCoordinate(w[1],0),o,u),P=`M ${O} ${v}`,y=!0,D++,I.processed=!0,console.log(`\u{1F4CD} MoveTo: PDF(${w[0]}, ${w[1]}) -> SVG(${O}, ${v})`);break;case"lineTo":if(y){let tt=this.convertToSvgX(this.validateCoordinate(w[0],O),t,u),rt=this.convertToSvgY(this.validateCoordinate(w[1],v),o,u);O=tt,v=rt,P+=` L ${O} ${v}`,D++,I.processed=!0,console.log(`\u{1F4CF} LineTo: PDF(${w[0]}, ${w[1]}) -> SVG(${O}, ${v})`)}break;case"curveTo":case"bezierCurveTo":if(y&&w.length>=6){let tt=this.convertToSvgX(this.validateCoordinate(w[0]),t,u),rt=this.convertToSvgY(this.validateCoordinate(w[1]),o,u),Z=this.convertToSvgX(this.validateCoordinate(w[2]),t,u),X=this.convertToSvgY(this.validateCoordinate(w[3]),o,u);O=this.convertToSvgX(this.validateCoordinate(w[4]),t,u),v=this.convertToSvgY(this.validateCoordinate(w[5]),o,u),P+=` C ${tt} ${rt} ${Z} ${X} ${O} ${v}`,D++,I.processed=!0,console.log(`\u{1F300} CurveTo: control(${tt}, ${rt}) -> (${Z}, ${X}) -> (${O}, ${v})`)}break;case"rectangle":let z=this.convertToSvgX(this.validateCoordinate(w[0],0),t,u),J=this.validateCoordinate(w[1],0),K=Math.abs(this.validateCoordinate(w[2],50))/u,et=Math.abs(this.validateCoordinate(w[3],50))/u,Y=this.convertToSvgY(J+et*u,o,u),G=this.createSafeSvgElement("rect",{x:z,y:Y,width:K,height:et,stroke:"#e74c3c","stroke-width":2,fill:"rgba(231, 76, 60, 0.1)"});x.push(G),h.svgGeneration.svgElements.push({type:"rect",operation:"rectangle",coordinates:{x:z,y:Y,width:K,height:et},element:G,originalPdfCoords:{x:w[0],y:J,width:w[2]*u,height:w[3]*u}}),I.svgElementGenerated=!0,I.processed=!0,D++;let $=(tt,rt=1)=>{let Z=typeof tt=="number"?tt:parseFloat(tt);return isFinite(Z)?Z.toFixed(rt):String(tt)};console.log(`\u{1F4E6} Rectangle: PDF(${$(this.validateCoordinate(w[0],0))}, ${$(J)}) w:${$(this.validateCoordinate(w[2],50))} h:${$(this.validateCoordinate(w[3],50))} \u2192 SVG(${$(z)}, ${$(Y)}) w:${$(K)} h:${$(et)} [scale:${$(u,3)}]`);break;case"closePath":y&&P&&(P+=" Z",console.log("\u{1F512} ClosePath"));break;case"fill":let U=!1;if(y&&P){let tt=`<path d="${P}" fill="rgba(52, 152, 219, 0.3)" stroke="#3498db" stroke-width="1"/>`;x.push(tt),h.svgGeneration.svgElements.push({type:"path",operation:"fill",pathData:P,element:tt}),P="",y=!1,U=!0,console.log("\u{1F3A8} Fill\uC744 \uACBD\uB85C\uC5D0 \uC801\uC6A9")}else{let tt=0,rt=0;b.transformMatrix&&Array.isArray(b.transformMatrix)&&b.transformMatrix.length>=6?(tt=this.convertToSvgX(this.validateCoordinate(b.transformMatrix[4]),t,u),rt=this.convertToSvgY(this.validateCoordinate(b.transformMatrix[5]),o,u)):b.coordinates&&(tt=this.convertToSvgX(this.validateCoordinate(b.coordinates.x),t,u),rt=this.convertToSvgY(this.validateCoordinate(b.coordinates.y),o,u));let Z=this.createSafeSvgElement("circle",{cx:tt,cy:rt,r:3,fill:"rgba(52, 152, 219, 0.7)"});x.push(Z),h.svgGeneration.svgElements.push({type:"circle",operation:"fill",coordinates:{x:tt,y:rt,radius:3},element:Z}),U=!0,console.log(`\u{1F3A8} Fill\uC744 \uC810\uC73C\uB85C \uD45C\uC2DC: (${tt}, ${rt})`)}U&&(I.svgElementGenerated=!0,I.processed=!0,D++);break;case"stroke":y&&P&&(x.push(`<path d="${P}" stroke="#2c3e50" stroke-width="2" fill="none"/>`),console.log(`\u270F\uFE0F Stroke \uC801\uC6A9: ${P}`),P="",y=!1,D++);break;case"styleSettings":if(a=0,d=0,p=!1,Array.isArray(w)&&w.length>=6){a=this.convertToSvgX(this.validateCoordinate(w[4]),t,u),d=this.convertToSvgY(this.validateCoordinate(w[5]),o,u),p=!0;let tt=[w[0],w[1],w[2],w[3],w[4],w[5]];I.transformMatrix=tt}else Array.isArray(w)&&w.length>=2?(a=this.convertToSvgX(this.validateCoordinate(w[0]),t,u),d=this.convertToSvgY(this.validateCoordinate(w[1]),o,u),p=!0):b.coordinates&&(a=this.convertToSvgX(this.validateCoordinate(b.coordinates.x),t,u),d=this.convertToSvgY(this.validateCoordinate(b.coordinates.y),o,u),p=!0);if(p){if(b.transformMatrix&&Array.isArray(b.transformMatrix)){let rt=this.applyTransform(a,d,b.transformMatrix);a=rt.x,d=rt.y}let tt=this.createSafeSvgElement("rect",{x:a,y:d,width:2,height:2,fill:"purple",opacity:.6});x.push(tt),h.svgGeneration.svgElements.push({type:"rect",operation:"styleSettings",coordinates:{x:a,y:d},element:tt}),I.svgElementGenerated=!0,I.processed=!0,D++,console.log(`\u{1F3A8} StyleSettings\uB85C \uC810 \uD45C\uC2DC: (${a}, ${d})`)}break;case"matrixTransform":x.push('<circle cx="10" cy="10" r="1" fill="orange" opacity="0.5"/>'),console.log("\u{1F4D0} MatrixTransform \uD45C\uC2DC");break;case"unknownVectorGraphic":if(Array.isArray(w)&&w.length>=6){let tt=this.convertToSvgX(this.validateCoordinate(w[4]),t,u),rt=this.convertToSvgY(this.validateCoordinate(w[5]),o,u),Z=Math.min(this.validateCoordinate(w[0],5),this.validateCoordinate(w[3],5)),X=this.createSafeSvgElement("circle",{cx:tt,cy:rt,r:Z/2,fill:"red",opacity:.7});x.push(X),h.svgGeneration.svgElements.push({type:"circle",operation:"unknownVectorGraphic",coordinates:{x:tt,y:rt,radius:Z/2},element:X}),I.svgElementGenerated=!0,I.processed=!0,D++,console.log(`\u{1F534} UnknownVectorGraphic\uC744 \uC6D0\uC73C\uB85C \uD45C\uC2DC: (${tt}, ${rt}), r=${Z/2}`)}break;case"clip":let k=0,Q=0,at=t/u,ot=o/u;b.transformMatrix&&Array.isArray(b.transformMatrix)&&b.transformMatrix.length>=6?(k=this.convertToSvgX(this.validateCoordinate(b.transformMatrix[4]),t,u),Q=this.convertToSvgY(this.validateCoordinate(b.transformMatrix[5]),o,u)):b.coordinates&&(k=this.convertToSvgX(this.validateCoordinate(b.coordinates.x),t,u),Q=this.convertToSvgY(this.validateCoordinate(b.coordinates.y),o,u));let nt=this.createSafeSvgElement("rect",{x:k,y:Q,width:at,height:ot,fill:"none",stroke:"cyan","stroke-width":.5,opacity:.3,"stroke-dasharray":"5,5"});x.push(nt),h.svgGeneration.svgElements.push({type:"rect",operation:"clip",coordinates:{x:k,y:Q,width:at,height:ot},element:nt}),I.svgElementGenerated=!0,I.processed=!0,D++,console.log(`\u2702\uFE0F \uD074\uB9BD \uC601\uC5ED \uD45C\uC2DC: (${k}, ${Q})`);break;default:if(p=!1,a=0,d=0,b.coordinates&&(b.coordinates.x!==void 0||b.coordinates.y!==void 0)?(a=this.convertToSvgX(this.validateCoordinate(b.coordinates.x),t,u),d=this.convertToSvgY(this.validateCoordinate(b.coordinates.y),o,u),p=!0):Array.isArray(w)&&w.length>=2?(a=this.convertToSvgX(this.validateCoordinate(w[0]),t,u),d=this.convertToSvgY(this.validateCoordinate(w[1]),o,u),p=!0):b.transformMatrix&&Array.isArray(b.transformMatrix)&&b.transformMatrix.length>=6&&(a=this.convertToSvgX(this.validateCoordinate(b.transformMatrix[4]),t,u),d=this.convertToSvgY(this.validateCoordinate(b.transformMatrix[5]),o,u),p=!0),p){let tt=this.createSafeSvgElement("circle",{cx:a,cy:d,r:.5,fill:"gray",opacity:.4});x.push(tt),h.svgGeneration.svgElements.push({type:"circle",operation:b.type,coordinates:{x:a,y:d,radius:.5},element:tt}),I.svgElementGenerated=!0,I.processed=!0,D++,console.log(`\u26AB \uC54C \uC218 \uC5C6\uB294 \uC5F0\uC0B0\uC744 \uC810\uC73C\uB85C \uD45C\uC2DC: (${a}, ${d})`)}else console.log(`\u2753 \uC88C\uD45C\uAC00 \uC5C6\uB294 \uC54C \uC218 \uC5C6\uB294 \uC5F0\uC0B0: ${b.type}`);break}h.svgGeneration.processedOperations.push(I)}),y&&P){let b=`<path d="${P}" stroke="#2c3e50" stroke-width="2" fill="none"/>`;x.push(b),h.svgGeneration.svgElements.push({type:"path",operation:"finalPath",pathData:P,element:b}),console.log(`\u{1F3C1} \uB9C8\uC9C0\uB9C9 \uD328\uC2A4: ${P}`),D++}console.log(`\u{1F4CA} SVG \uC0DD\uC131 \uACB0\uACFC: ${D}\uAC1C \uC5F0\uC0B0 \uCC98\uB9AC, ${x.length}\uAC1C SVG \uC694\uC18C \uC0DD\uC131`);let S=this.createSvgWithElements(x,t,o);return h.svgGeneration.statistics.processingTime=performance.now()-h.svgGeneration.startTime,h.svgGeneration.statistics.elementsGenerated=x.length,h.svgGeneration.result="success",h.svgGeneration.finalSvg=S.substring(0,1e3),console.log(`\u2705 \uCD5C\uC885 SVG \uAE38\uC774: ${S.length}\uC790`),console.log("\u{1F50D} SVG \uBBF8\uB9AC\uBCF4\uAE30:",S.substring(0,300)),this.downloadLogData(h,"svg-generation-success"),S}downloadLogData(e,t,o=!1){try{if(console.log("\u{1F4CA} SVG \uC0DD\uC131 \uD1B5\uACC4:",{\uCC98\uB9AC\uC2DC\uAC04:`${e.svgGeneration.statistics.processingTime.toFixed(2)}ms`,\uCD1D\uC5F0\uC0B0\uC218:e.svgGeneration.totalOperations,\uCC98\uB9AC\uB41C\uC5F0\uC0B0:e.svgGeneration.processedOperations.filter(h=>h.processed).length,SVG\uC694\uC18C\uC0DD\uC131:e.svgGeneration.statistics.elementsGenerated,\uC5F0\uC0B0\uD0C0\uC785\uD1B5\uACC4:e.svgGeneration.statistics.byOperationType}),!o){console.log("\u2139\uFE0F SVG \uB514\uBC84\uADF8 \uB85C\uADF8 \uB2E4\uC6B4\uB85C\uB4DC \uBE44\uD65C\uC131\uD654 (\uAC1C\uBC1C \uBAA8\uB4DC\uC5D0\uC11C\uB9CC \uD65C\uC131\uD654)");return}let n=e.svgGeneration.finalSvg||"",a=h=>h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),d=`
<!--
=== SVG \uC0DD\uC131 \uB514\uBC84\uAE45 \uC815\uBCF4 ===
\uC0DD\uC131 \uC2DC\uAC01: ${e.timestamp}
\uCC98\uB9AC \uC2DC\uAC04: ${e.svgGeneration.statistics.processingTime.toFixed(2)}ms
\uCD1D \uC5F0\uC0B0 \uC218: ${e.svgGeneration.totalOperations}
\uCC98\uB9AC\uB41C \uC5F0\uC0B0: ${e.svgGeneration.processedOperations.filter(h=>h.processed).length}
SVG \uC694\uC18C \uC0DD\uC131: ${e.svgGeneration.statistics.elementsGenerated}
\uCE94\uBC84\uC2A4 \uD06C\uAE30: ${e.svgGeneration.dimensions.width}x${e.svgGeneration.dimensions.height}

\uC5F0\uC0B0 \uD0C0\uC785\uBCC4 \uD1B5\uACC4:
${Object.entries(e.svgGeneration.statistics.byOperationType).map(([h,x])=>`  ${h}: ${x}\uAC1C`).join(`
`)}

\uC0DD\uC131\uB41C SVG \uC694\uC18C:
${e.svgGeneration.svgElements.slice(0,20).map((h,x)=>`  [${x+1}] ${h.type} (${h.operation})`).join(`
`)}
${e.svgGeneration.svgElements.length>20?`
  ... \uC678 ${e.svgGeneration.svgElements.length-20}\uAC1C`:""}

\uCC98\uB9AC\uB41C \uC5F0\uC0B0 \uC0D8\uD50C (\uCC98\uC74C 10\uAC1C):
${e.svgGeneration.processedOperations.slice(0,10).map((h,x)=>{let P=h.args.slice(0,4).map(O=>typeof O=="object"?"[obj]":a(String(O))).join(", ");return`  [${x+1}] ${h.type} - \uCC98\uB9AC: ${h.processed?"O":"X"}, SVG\uC0DD\uC131: ${h.svgElementGenerated?"O":"X"}
      args: [${P}${h.args.length>4?"...":""}]`}).join(`
`)}
-->
`;n.includes("<svg")&&(n=n.replace(">",">"+d));let p=new Blob([n],{type:"image/svg+xml"}),m=window.URL.createObjectURL(p),u=document.createElement("a");u.href=m,u.download=`${t}-${new Date().getTime()}.svg`,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m),console.log(`\u{1F4C1} SVG \uB514\uBC84\uADF8 \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC: ${t}.svg`)}catch(n){console.error("\u{1F4C1} SVG \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",n)}}convertYCoordinate(e,t){return t-e}createEmptySvg(e,t){return`
      <svg width="${e}" height="${t}" viewBox="0 0 ${e} ${t}" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f8f9fa" stroke="#e9ecef" stroke-width="2"/>
        <text x="50%" y="50%" text-anchor="middle" fill="#6c757d" font-size="16" font-family="Arial">
          \uBCA1\uD130 \uC5F0\uC0B0\uC774 \uC5C6\uC2B5\uB2C8\uB2E4
        </text>
      </svg>
    `}createSvgWithElements(e,t,o){return e.length===0?this.createEmptySvg(t,o):`
      <svg width="${t}" height="${o}" viewBox="0 0 ${t} ${o}" xmlns="http://www.w3.org/2000/svg">
        <!-- \uBC30\uACBD -->
        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
        
        <!-- \uADF8\uB9AC\uB4DC (\uC635\uC158) -->
        <defs>
          <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e7ff" stroke-width="0.5"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" opacity="0.3"/>
        
        <!-- \uBCA1\uD130 \uADF8\uB798\uD53D \uC694\uC18C\uB4E4 -->
        ${e.join(`
        `)}
        
        <!-- \uC815\uBCF4 \uD14D\uC2A4\uD2B8 -->
        <text x="10" y="${o-20}" fill="#6c757d" font-size="10" font-family="Arial">
          ${e.length}\uAC1C \uBCA1\uD130 \uC694\uC18C
        </text>
      </svg>
    `}copyJsonToClipboard(){if(!this.textStreamRawData){this.snackbar.showWarning("\uBCF5\uC0AC\uD560 JSON \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=JSON.stringify(this.textStreamRawData,null,2);navigator.clipboard.writeText(e).then(()=>{this.snackbar.showSuccess("\u2705 JSON \uB370\uC774\uD130\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!")}).catch(t=>{console.error("\uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC \uC2E4\uD328:",t),this.snackbar.showError("\uD074\uB9BD\uBCF4\uB4DC \uBCF5\uC0AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")})}downloadJsonFile(){if(!this.textStreamRawData){this.snackbar.showWarning("\uB2E4\uC6B4\uB85C\uB4DC\uD560 JSON \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=JSON.stringify(this.textStreamRawData,null,2),t=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(t),n=this.textStreamRawData.fileName.replace(".pdf","")+"_textstream_data.json",a=document.createElement("a");a.href=o,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),this.snackbar.showSuccess(`\u2705 JSON \uD30C\uC77C\uC774 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4: ${n}`)}switchToMode(e){e==="pdf"&&this.router.navigate(["/pdf"])}getRecentWorksForMenu(){return this.cachedRecentDocs||[]}cachedRecentDocs=[];updateRecentDocsCache(){return V(this,null,function*(){try{let e=yield this.indexedDbService.getRecentDocuments(5);console.log("\uCD5C\uADFC \uBB38\uC11C \uC870\uD68C \uACB0\uACFC:",e.length,"\uAC1C",e.map(t=>({title:t.title,type:t.documentType,pdfSrc:!!t.pdfSrc}))),this.cachedRecentDocs=e.map(t=>{let o=t.documentType||(t.pdfSrc?"viewer":"editor"),n=o==="viewer",a=n?"\u{1F4D6}":"\u{1F4DD}",d=n?"\uBDF0\uC5B4":"\uC0DD\uC131",p=n?"PDF \uBDF0\uC5B4\uB85C \uC5F4\uB9B0 \uBB38\uC11C":"\uD3B8\uC9D1\uAE30\uB85C \uC0DD\uC131\uD55C \uBB38\uC11C";return{id:t.id,title:t.title,description:`${p} | \uC800\uC7A5\uC77C: ${new Date(t.updatedAt).toLocaleDateString()} | ${t.elementCount||0}\uAC1C \uC694\uC18C`,date:t.updatedAt,data:t,typeIcon:a,typeLabel:d,documentType:o}}),console.log("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC:",this.cachedRecentDocs.length,"\uAC1C"),this.cdr.detectChanges()}catch(e){console.error("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC624\uB958:",e),this.cachedRecentDocs=[]}})}onCloseSidebar(){}onItemSelected(e){console.log("\uC544\uC774\uD15C \uC120\uD0DD:",e)}loadDocumentFromData(e){try{if(e.data){let t=e.data;console.log("\uBB38\uC11C \uB85C\uB4DC:",t.title,"\uD0C0\uC785:",t.documentType),t.documentType==="viewer"&&t.pdfSrc?(this.documentType="pdf-viewer",this.loadAsViewerMode(t)):(this.documentType="new-document",this.loadAsEditorMode(t)),this.docsTitle=t.title,this.cdr.detectChanges();let o=t.documentType==="viewer"?"PDF \uBDF0\uC5B4":"\uD3B8\uC9D1\uAE30";this.snackbar.showSuccess(`\uBB38\uC11C "${t.title}"\uB97C ${o} \uBAA8\uB4DC\uB85C \uBD88\uB7EC\uC654\uC2B5\uB2C8\uB2E4.`)}else this.snackbar.showWarning("\uBB38\uC11C \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(t){console.error("\uBB38\uC11C \uB85C\uB4DC \uC624\uB958:",t),this.snackbar.showError("\uBB38\uC11C\uB97C \uBD88\uB7EC\uC624\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}}loadAsViewerMode(e){if(e.pdfBase64)try{let t=e.pdfBase64.split(",")[1]||e.pdfBase64,o=atob(t),n=new Uint8Array(o.length);for(let p=0;p<o.length;p++)n[p]=o.charCodeAt(p);let a=new Blob([n],{type:"application/pdf"}),d=URL.createObjectURL(a);this.pdfSrc=d,this.pdfBase64Data=e.pdfBase64,console.log("Base64 \uB370\uC774\uD130\uB85C\uBD80\uD130 PDF URL \uC0DD\uC131\uB428:",d)}catch(t){if(console.error("Base64 \uB370\uC774\uD130 \uBCC0\uD658 \uC2E4\uD328:",t),e.pdfSrc)this.pdfSrc=e.pdfSrc;else{this.snackbar.showError("PDF \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),this.loadAsEditorMode(e);return}}else if(e.pdfSrc)this.pdfSrc=e.pdfSrc,console.log("\uAE30\uC874 pdfSrc \uC0AC\uC6A9:",e.pdfSrc);else{console.warn("PDF \uBDF0\uC5B4 \uBB38\uC11C\uC778\uB370 PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uD569\uB2C8\uB2E4."),this.loadAsEditorMode(e);return}this.loadedFileName=e.fileName||e.title,this.pdfPages=e.pages||[],this.totalPages=this.pdfPages.length,this.currentPage=1,console.log("PDF \uBDF0\uC5B4 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uB428:","\uD398\uC774\uC9C0 \uC218:",this.totalPages),setTimeout(()=>{this.pdfPages.every(o=>o.thumbnail)||(console.log("\uC77C\uBD80 \uC378\uB124\uC77C\uC774 \uC5C6\uC5B4 \uB2E4\uC2DC \uC0DD\uC131\uD569\uB2C8\uB2E4."),this.generatePdfThumbnailsOptimized())},1500)}loadAsEditorMode(e){this.pdfSrc=null,this.loadedFileName="",this.pdfBase64Data="",this.pdfPages=e.pages||[{id:"page-1",pageNumber:1,elements:[],width:this.pageWidth,height:this.pageHeight}],this.selectedElement=null,this.editingElement=null,this.currentPage=1,this.totalPages=this.pdfPages.length,console.log("\uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uB428:",this.pdfPages.length,"\uD398\uC774\uC9C0")}handleExportFormat(e){if(e)switch(e){case"pdf":this.exportToPdf();break;case"word":this.snackbar.showInfo("Word \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.");break;case"html":this.snackbar.showInfo("HTML \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.");break;case"txt":this.snackbar.showInfo("\uD14D\uC2A4\uD2B8 \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.");break;default:console.log("\uC9C0\uC6D0\uD558\uC9C0 \uC54A\uB294 \uB0B4\uBCF4\uB0B4\uAE30 \uD615\uC2DD:",e)}}getCurrentDocumentData(){return{title:this.docsTitle,content:this.generatedDocs,settings:this.docsSettings,wordCount:this.wordCount}}editDocument(){this.isEditMode=!0}exportDocument(){this.exportToPdf()}copyToClipboard(){this.generatedDocs&&navigator.clipboard.writeText(this.generatedDocs).then(()=>{console.log("\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB428")})}resetToSetup(){this.currentStep="setup",this.generatedDocs="",this.wordCount=0}continueEdit(){this.isEditMode=!0}addText(){this.closeAllModals(),this.textEditorData={text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:16,fontFamily:"Arial",color:"#000000",x:100,y:100,width:200,height:30},this.showTextEditor=!0,this.autoCloseRightPanel()}addImage(){this.closeAllModals(),this.imageEditorData={src:"",x:150,y:150,width:200,height:150,file:null},this.showImageEditor=!0,this.autoCloseRightPanel()}addShape(){this.closeAllModals(),this.shapeEditorData={shapeType:"rectangle",fillColor:"#3498db",strokeColor:"#2980b9",strokeWidth:2,x:200,y:200,width:100,height:100},this.showShapeEditor=!0,this.autoCloseRightPanel()}addLine(){let e={id:this.generateElementId(),type:"shape",x:100,y:300,width:200,height:4,fillColor:"#000000",strokeColor:"#000000",strokeWidth:4,shapeType:"line"};console.log("\uC0C8 \uC120 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uC120 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages]),this.selectedElement=e,this.saveToUndoStack()}addCircle(){let e={id:this.generateElementId(),type:"shape",x:150,y:150,width:80,height:80,fillColor:"#e74c3c",strokeColor:"#c0392b",strokeWidth:2,shapeType:"circle"};console.log("\uC0C8 \uC6D0\uD615 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uC6D0\uD615 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages]),this.selectedElement=e,this.saveToUndoStack()}addVectorPath(){let e={id:this.generateElementId(),type:"vector-path",x:100,y:100,width:200,height:200,pathData:"M 50 50 Q 100 20 150 50 Q 200 80 250 50",strokeColor:"#2c3e50",strokeWidth:3,fill:"none",fillOpacity:1,strokeOpacity:1};console.log("\uC0C8 \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages],this.selectElement(e),this.loadPage()),this.selectedElement=e,this.saveToUndoStack(),this.autoCloseRightPanel()}openVectorPathEditor(){this.closeAllModals(),this.showVectorPathEditor=!0}closeAllModals(){this.showVectorPathEditor=!1,this.showTextEditor=!1,this.showImageEditor=!1,this.showShapeEditor=!1,this.showSignatureEditor=!1,this.showWatermarkEditor=!1,this.showDirectDrawingMode=!1}openDirectDrawing(){this.showVectorPathEditor=!0,this.showDirectDrawingMode=!0}onVectorPathsChanged(e){console.log("\uBCA1\uD130 \uD328\uC2A4 \uBCC0\uACBD\uB428:",e),this.drawnPaths=[...e]}onVectorPathSelected(e){console.log("\uBCA1\uD130 \uD328\uC2A4 \uC120\uD0DD\uB428:",e),this.selectedVectorPath=e}exitDirectDrawing(){this.showDirectDrawingMode=!1}applyDirectDrawing(){let e=this.drawnPaths;if((!e||e.length===0)&&this.vectorPathDrawer&&(e=this.vectorPathDrawer.getPathsData(),console.log("\uBCA1\uD130 \uD328\uC2A4 \uD3B8\uC9D1\uAE30\uC5D0\uC11C \uC9C1\uC811 \uAC00\uC838\uC628 \uD328\uC2A4\uB4E4:",e)),!e||e.length===0){this.snackbar.showWarning("\uADF8\uB824\uC9C4 \uD328\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 \uCE94\uBC84\uC2A4\uC5D0 \uADF8\uB9BC\uC744 \uADF8\uB824\uC8FC\uC138\uC694.");return}let t=this.currentPage-1;if(this.pdfPages[t]){let o=0;e.forEach(n=>{let a={id:this.generateElementId(),type:"vector-path",x:0,y:0,width:this.pageWidth,height:this.pageHeight,pathData:n.d,strokeColor:n.stroke||"#000000",strokeWidth:n.strokeWidth||2,fill:n.fill||"none",fillOpacity:n.fillOpacity||1,strokeOpacity:n.strokeOpacity||1};this.pdfPages[t].elements.push(a),o++}),this.pdfPages=[...this.pdfPages],console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 ${o}\uAC1C\uC758 \uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00\uB428`),this.snackbar.showSuccess(`${o}\uAC1C\uC758 \uBCA1\uD130 \uD328\uC2A4\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.saveToUndoStack()}this.closeVectorPathEditor()}closeVectorPathEditor(){this.showVectorPathEditor=!1,this.showDirectDrawingMode=!1,this.selectedVectorPath=null,this.drawnPaths=[]}applyTextEditor(){let e={id:this.generateElementId(),type:"text",x:this.textEditorData.x,y:this.textEditorData.y,width:this.textEditorData.width,height:this.textEditorData.height,text:this.textEditorData.text,fontSize:this.textEditorData.fontSize,fontFamily:this.textEditorData.fontFamily,color:this.textEditorData.color},t=this.currentPage-1;t>=0&&t<this.pdfPages.length&&(this.pdfPages[t].elements.push(e),this.pdfPages=[...this.pdfPages],this.selectedElement=e,this.snackbar.showSuccess("\uD14D\uC2A4\uD2B8\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeTextEditor()}closeTextEditor(){this.showTextEditor=!1}onImageFileSelect(e){let t=e.target.files[0];if(t){this.imageEditorData.file=t;let o=new FileReader;o.onload=n=>{this.imageEditorData.src=n.target?.result},o.readAsDataURL(t)}}applyImageEditor(){if(!this.imageEditorData.src){this.snackbar.showWarning("\uC774\uBBF8\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");return}let e={id:this.generateElementId(),type:"image",x:this.imageEditorData.x,y:this.imageEditorData.y,width:this.imageEditorData.width,height:this.imageEditorData.height,src:this.imageEditorData.src},t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),this.pdfPages=[...this.pdfPages],this.selectedElement=e,this.snackbar.showSuccess("\uC774\uBBF8\uC9C0\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeImageEditor()}closeImageEditor(){this.showImageEditor=!1,this.imageEditorData={src:"",x:150,y:150,width:200,height:150,file:null}}applyShapeEditor(){let e={id:this.generateElementId(),type:"shape",x:this.shapeEditorData.x,y:this.shapeEditorData.y,width:this.shapeEditorData.width,height:this.shapeEditorData.height,fillColor:this.shapeEditorData.fillColor,strokeColor:this.shapeEditorData.strokeColor,strokeWidth:this.shapeEditorData.strokeWidth,shapeType:this.shapeEditorData.shapeType},t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),this.pdfPages=[...this.pdfPages],this.selectedElement=e,this.snackbar.showSuccess("\uB3C4\uD615\uC774 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeShapeEditor()}closeShapeEditor(){this.showShapeEditor=!1}applySignatureEditor(){let e={id:this.generateElementId(),type:"signature",x:this.signatureEditorData.x,y:this.signatureEditorData.y,width:this.signatureEditorData.width,height:this.signatureEditorData.height,text:this.signatureEditorData.signatureText,fontSize:this.signatureEditorData.fontSize,color:this.signatureEditorData.strokeColor,src:this.signatureEditorData.canvasData||void 0,properties:{signatureStyle:this.signatureEditorData.signatureStyle,strokeWidth:this.signatureEditorData.strokeWidth}},t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),this.pdfPages=[...this.pdfPages],this.selectedElement=e,this.snackbar.showSuccess("\uC11C\uBA85\uC774 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),this.closeSignatureEditor()}closeSignatureEditor(){this.showSignatureEditor=!1}getSignatureFontFamily(e){switch(e){case"handwritten":return'cursive, "Comic Sans MS", "Apple Chancery"';case"formal":return'serif, "Times New Roman", "Georgia"';case"casual":return'sans-serif, "Arial", "Helvetica"';default:return"cursive"}}onVectorPathUpdated(e){let t=this.currentPage-1;this.pdfPages[t]&&(e.forEach(o=>{let n={id:this.generateElementId(),type:"vector-path",x:0,y:0,width:this.pageWidth,height:this.pageHeight,pathData:o.d,strokeColor:o.stroke,strokeWidth:o.strokeWidth,fill:o.fill,fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity,transform:o.transform};this.pdfPages[t].elements.push(n)}),this.pdfPages=[...this.pdfPages]),this.saveToUndoStack()}addPresetPath(e){let t="";switch(e){case"wave":t="M 10 50 Q 50 20 90 50 Q 130 80 170 50";break;case"curve":t="M 20 80 Q 100 10 180 80";break;case"heart":t="M 100 70 C 100 50 80 30 60 30 C 40 30 20 50 20 70 C 20 90 100 130 100 130 C 100 130 180 90 180 70 C 180 50 160 30 140 30 C 120 30 100 50 100 70 Z";break;case"star":t="M 100 10 L 110 40 L 140 40 L 118 58 L 128 88 L 100 70 L 72 88 L 82 58 L 60 40 L 90 40 Z";break;case"arrow":t="M 20 50 L 150 50 M 130 30 L 150 50 L 130 70";break;case"spiral":t="M 100 100 C 100 80 120 80 120 100 C 120 130 70 130 70 100 C 70 60 140 60 140 100 C 140 160 40 160 40 100";break;default:t="M 50 50 Q 100 20 150 50"}this.previewPath=t}toggleFill(){this.vectorPathStyle.fill==="none"?this.vectorPathStyle.fill="#3498db":this.vectorPathStyle.fill="none"}applyCustomPath(){this.customPath.trim()&&(this.previewPath=this.customPath.trim())}addCurrentVectorPath(){if(this.previewPath){let e={id:this.generateElementId(),type:"vector-path",x:100,y:100,width:200,height:200,pathData:this.previewPath,strokeColor:this.vectorPathStyle.stroke,strokeWidth:this.vectorPathStyle.strokeWidth,fill:this.vectorPathStyle.fill,fillOpacity:1,strokeOpacity:1};console.log("\uC0C8 \uBCA1\uD130 \uD328\uC2A4 \uC694\uC18C \uC0DD\uC131:",e);let t=this.currentPage-1;this.pdfPages[t]&&(this.pdfPages[t].elements.push(e),console.log(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00\uB428. \uCD1D \uC694\uC18C \uAC1C\uC218: ${this.pdfPages[t].elements.length}`),this.pdfPages=[...this.pdfPages]),this.selectedElement=e,this.showVectorPathEditor=!1,this.saveToUndoStack()}}undo(){if(this.undoStack.length>0){let e=this.currentPage-1,t=this.pdfPages[e];t&&(this.redoStack.push([...t.elements]),t.elements=this.undoStack.pop()||[],this.selectedElement=null)}}redo(){if(this.redoStack.length>0){let e=this.currentPage-1,t=this.pdfPages[e];t&&(this.undoStack.push([...t.elements]),t.elements=this.redoStack.pop()||[],this.selectedElement=null)}}previousPage(){this.currentPage>1&&(this.savePage(),this.currentPage--,this.loadPage())}nextPage(){this.currentPage<this.totalPages?(this.savePage(),this.currentPage++,this.loadPage()):(this.savePage(),this.totalPages++,this.currentPage=this.totalPages,this.pageElements=[],this.selectedElement=null)}zoomIn(){this.zoomLevel<200&&(this.zoomLevel+=25)}zoomOut(){this.zoomLevel>50&&(this.zoomLevel-=25)}onCanvasClick(e){this.selectedElement=null}onDragOver(e){e.preventDefault()}onDrop(e){e.preventDefault()}updateElement(){this.saveToUndoStack()}deleteElement(){if(console.log("deleteElement called"),this.selectedElement){let e=this.currentPage-1,t=this.pdfPages[e];if(t){let o=t.elements.findIndex(n=>n.id===this.selectedElement.id);console.log("Deleting element:",this.selectedElement.id,"at index:",o),o>-1?(t.elements.splice(o,1),console.log("Element deleted successfully. Remaining elements:",t.elements.length),this.selectedElement=null,this.saveToUndoStack()):console.warn("Element not found in current page")}else console.error("Current page not found:",e)}else console.warn("No element selected for deletion")}savePdf(){console.log("PDF \uC800\uC7A5"),this.autoCloseRightPanel()}preview(){console.log("\uBBF8\uB9AC\uBCF4\uAE30")}generateElementId(){return"element-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}sanitizeSvg(e){return e?this.sanitizer.bypassSecurityTrustHtml(e):""}saveToUndoStack(){let e=this.currentPage-1,t=this.pdfPages[e];t&&(this.undoStack.push([...t.elements]),this.redoStack=[],this.undoStack.length>20&&this.undoStack.shift())}savePage(){let e=this.currentPage-1;this.pdfPages[e]||(this.pdfPages[e]={id:"page-"+this.currentPage,pageNumber:this.currentPage,elements:[],width:this.pageWidth,height:this.pageHeight}),this.pdfPages[e].elements=[...this.pageElements]}loadPage(){let e=this.currentPage-1;this.pdfPages[e]?this.pageElements=[...this.pdfPages[e].elements]:this.pageElements=[],this.selectedElement=null}addSignature(){this.signatureEditorData={signatureText:"\uD64D\uAE38\uB3D9",signatureStyle:"handwritten",strokeColor:"#000000",strokeWidth:2,fontSize:24,x:100,y:100,width:150,height:60,canvasData:null},this.showSignatureEditor=!0,setTimeout(()=>{this.initializeCanvasIfNeeded()},100),this.autoCloseRightPanel()}addWatermark(){this.watermarkEditorData={text:"CONFIDENTIAL",fontSize:48,color:"#808080",opacity:.3,rotation:-45,x:200,y:300,width:300,height:80},this.showWatermarkEditor=!0,this.autoCloseRightPanel()}applyWatermarkEditor(){let e={id:this.generateElementId(),type:"watermark",x:this.watermarkEditorData.x,y:this.watermarkEditorData.y,width:this.watermarkEditorData.width,height:this.watermarkEditorData.height,text:this.watermarkEditorData.text,fontSize:this.watermarkEditorData.fontSize,color:this.watermarkEditorData.color,properties:{opacity:this.watermarkEditorData.opacity,rotation:this.watermarkEditorData.rotation}};console.log("\uC6CC\uD130\uB9C8\uD06C \uC694\uC18C \uC0DD\uC131:",e),console.log("\uD604\uC7AC \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",this.currentPage-1),console.log("PDF \uD398\uC774\uC9C0\uB4E4:",this.pdfPages);let t=this.currentPage-1;this.pdfPages[t]?(this.pdfPages[t].elements.push(e),this.pdfPages=[...this.pdfPages],this.selectedElement=e,console.log("\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00 \uD6C4 \uD398\uC774\uC9C0 \uC694\uC18C\uB4E4:",this.pdfPages[t].elements),this.snackbar.showSuccess("\uC6CC\uD130\uB9C8\uD06C\uAC00 \uBB38\uC11C\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")):console.error("\uD604\uC7AC \uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4:",t),this.closeWatermarkEditor()}closeWatermarkEditor(){this.showWatermarkEditor=!1,this.closeAllModals()}deleteCurrentPage(){if(this.totalPages<=1){console.warn("\uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0\uB294 \uC0AD\uC81C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=this.currentPage-1;this.pdfPages.splice(e,1),this.totalPages--,this.pdfPages.forEach((t,o)=>{t.pageNumber=o+1}),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),this.loadPage(),this.autoCloseRightPanel()}showConfirm(e,t,o){this.confirmModalTitle=e,this.confirmModalMessage=t,this.confirmModalCallback=o,this.showConfirmModal=!0}onConfirmModalConfirm(){this.showConfirmModal=!1,this.confirmModalCallback&&(this.confirmModalCallback(),this.confirmModalCallback=null)}onConfirmModalCancel(){this.showConfirmModal=!1,this.confirmModalCallback=null}keepOnlyFirstPage(){return V(this,null,function*(){if(console.log("\u{1F525} keepOnlyFirstPage \uBA54\uC18C\uB4DC \uD638\uCD9C\uB428"),console.log("\uD604\uC7AC \uC0C1\uD0DC:",{totalPages:this.totalPages,pdfSrc:this.pdfSrc?"PDF \uC788\uC74C":"PDF \uC5C6\uC74C",pdfPages:this.pdfPages.length,currentPage:this.currentPage}),this.totalPages<=1){console.log("\u26A0\uFE0F \uC774\uBBF8 1\uD398\uC774\uC9C0\uB9CC \uC788\uC74C"),this.snackbar.showInfo("\uC774\uBBF8 1\uD398\uC774\uC9C0\uB9CC \uC788\uC2B5\uB2C8\uB2E4.");return}this.showConfirm("\uD398\uC774\uC9C0 \uC0AD\uC81C \uD655\uC778",`\uD604\uC7AC ${this.totalPages}\uD398\uC774\uC9C0 \uC911 \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 ${this.totalPages-1}\uD398\uC774\uC9C0\uB97C \uBAA8\uB450 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?

\uC774 \uC791\uC5C5\uC740 \uB418\uB3CC\uB9B4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`,()=>this.executeKeepOnlyFirstPage())})}executeKeepOnlyFirstPage(){return V(this,null,function*(){try{if(console.log("\u{1F4C4} PDF \uD398\uC774\uC9C0 \uC0AD\uC81C \uC2DC\uC791"),this.pdfSrc&&this.totalPages>1){console.log("\u2705 PDF \uC788\uC74C - \uC2E4\uC81C PDF \uC218\uC815 \uC9C4\uD589"),console.log("PDF URL:",this.pdfSrc.substring(0,50)+"..."),console.log("\u{1F527} PDF-lib\uB97C \uC0AC\uC6A9\uD55C \uC9C1\uC811 \uCC98\uB9AC \uC2DC\uC791...");try{let t=yield(yield fetch(this.pdfSrc)).arrayBuffer(),o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:n}=o,a=yield n.load(t);console.log("\u{1F4C4} \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218:",a.getPageCount());let d=yield n.create(),[p]=yield d.copyPages(a,[0]);d.addPage(p),console.log("\u2702\uFE0F \uC0C8 PDF \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC (1\uD398\uC774\uC9C0)");let m=yield d.save(),u=new Blob([m],{type:"application/pdf"}),h=URL.createObjectURL(u),P=`data:application/pdf;base64,${btoa(String.fromCharCode(...new Uint8Array(m)))}`;this.pdfSrc=h,this.pdfBase64Data=P,console.log("\u2705 PDF URL \uC5C5\uB370\uC774\uD2B8:",h.substring(0,50)+"..."),console.log("\u2705 Base64 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC (\uAE38\uC774:",P.length,")")}catch(e){throw console.error("\u274C PDF \uC9C1\uC811 \uCC98\uB9AC \uC2E4\uD328:",e),e}this.pdfPages=[this.pdfPages[0]],this.totalPages=1,this.currentPage=1,this.pdfPages[0]&&(this.pdfPages[0].pageNumber=1),this.selectedElement=null,console.log("\u{1F504} \uD398\uC774\uC9C0 \uB85C\uB4DC \uC911..."),this.loadPage(),console.log("\u2705 \uD398\uC774\uC9C0 \uC0AD\uC81C \uC644\uB8CC"),console.log("\u{1F4CA} \uC5C5\uB370\uC774\uD2B8\uB41C \uC0C1\uD0DC:",{totalPages:this.totalPages,currentPage:this.currentPage,pdfSrc:this.pdfSrc?.substring(0,50)+"...",pdfBase64DataLength:this.pdfBase64Data?.length||0,pdfBase64Preview:this.pdfBase64Data?.substring(0,50)+"..."||"null"}),this.snackbar.showSuccess("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 \uD398\uC774\uC9C0\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}else console.log("\u26A0\uFE0F PDF \uC5C6\uC74C - \uB0B4\uBD80 \uB370\uC774\uD130\uB9CC \uC218\uC815"),this.pdfPages=[this.pdfPages[0]],this.totalPages=1,this.currentPage=1,this.pdfPages[0]&&(this.pdfPages[0].pageNumber=1),this.selectedElement=null,this.loadPage(),this.snackbar.showSuccess("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uACE0 \uB098\uBA38\uC9C0 \uD398\uC774\uC9C0\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\u274C \uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",e),this.snackbar.showError("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4: "+e)}})}rotateCurrentPage(){let e=this.currentPage-1;if(this.pdfPages[e]){let t=this.pdfPages[e],o=t.width;t.width=t.height,t.height=o,t.elements.forEach(n=>{let a=n.x;n.x=t.width-n.y-n.height,n.y=a;let d=n.width;n.width=n.height,n.height=d}),this.loadPage(),this.autoCloseRightPanel()}}startDrag(e){this.isDragging=!0;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.dragOffset.x=t-this.panelPosition.x,this.dragOffset.y=o-this.panelPosition.y,e.preventDefault()}onDocumentMove(e){if(this.isDragging){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.panelPosition.x=t-this.dragOffset.x,this.panelPosition.y=o-this.dragOffset.y,this.constrainPanelPosition(),e.preventDefault();return}if(this.isDraggingElement&&this.currentDragElement){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,n=t-this.dragStartPosition.x,a=o-this.dragStartPosition.y;this.currentDragElement.x=Math.max(0,this.elementStartPosition.x+n),this.currentDragElement.y=Math.max(0,this.elementStartPosition.y+a),e.preventDefault();return}if(this.isResizingElement&&this.currentDragElement){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,n=t-this.dragStartPosition.x,a=o-this.dragStartPosition.y;this.handleResize(n,a),e.preventDefault()}}onDocumentUp(){this.isDragging&&(this.isDragging=!1),(this.isDraggingElement||this.isResizingElement)&&(this.currentDragElement&&(this.pdfPages=[...this.pdfPages],console.log("\uC694\uC18C \uBCC0\uACBD \uC644\uB8CC - \uBCC0\uACBD \uAC10\uC9C0 \uD2B8\uB9AC\uAC70")),this.isDraggingElement=!1,this.isResizingElement=!1,this.currentDragElement=null,this.resizeDirection="")}constrainPanelPosition(){this.panelPosition.x=Math.max(0,Math.min(window.innerWidth-320,this.panelPosition.x)),this.panelPosition.y=Math.max(0,Math.min(window.innerHeight-500,this.panelPosition.y))}updateSelectedElement(){this.selectedElement&&this.loadPage()}deleteSelectedElement(){this.selectedElement&&this.deleteElement()}deselectElement(){this.selectedElement=null}startElementDrag(e,t){e.target.classList.contains("resize-handle")||(this.isDraggingElement=!0,this.currentDragElement=t,this.dragStartPosition.x=e.clientX,this.dragStartPosition.y=e.clientY,this.elementStartPosition.x=t.x,this.elementStartPosition.y=t.y,e.preventDefault(),e.stopPropagation())}startResize(e,t,o){console.log(`\uB9AC\uC0AC\uC774\uC988 \uC2DC\uC791: ${t.type} \uC694\uC18C, \uBC29\uD5A5: ${o}`),this.isResizingElement=!0,this.currentDragElement=t,this.resizeDirection=o,this.dragStartPosition.x=e.clientX,this.dragStartPosition.y=e.clientY,this.elementStartPosition.x=t.x,this.elementStartPosition.y=t.y,this.elementStartPosition.width=t.width,this.elementStartPosition.height=t.height,e.preventDefault(),e.stopPropagation()}handleResize(e,t){if(!this.currentDragElement)return;let o=this.currentDragElement,n=20;switch(this.resizeDirection){case"se":o.width=Math.max(n,this.elementStartPosition.width+e),o.height=Math.max(n,this.elementStartPosition.height+t);break;case"sw":let a=this.elementStartPosition.width-e;a>=n&&(o.width=a,o.x=this.elementStartPosition.x+e),o.height=Math.max(n,this.elementStartPosition.height+t);break;case"ne":o.width=Math.max(n,this.elementStartPosition.width+e);let d=this.elementStartPosition.height-t;d>=n&&(o.height=d,o.y=this.elementStartPosition.y+t);break;case"nw":let p=this.elementStartPosition.width-e,m=this.elementStartPosition.height-t;p>=n&&(o.width=p,o.x=this.elementStartPosition.x+e),m>=n&&(o.height=m,o.y=this.elementStartPosition.y+t);break;case"n":let u=this.elementStartPosition.height-t;u>=n&&(o.height=u,o.y=this.elementStartPosition.y+t);break;case"s":o.height=Math.max(n,this.elementStartPosition.height+t);break;case"w":let h=this.elementStartPosition.width-e;h>=n&&(o.width=h,o.x=this.elementStartPosition.x+e);break;case"e":o.width=Math.max(n,this.elementStartPosition.width+e);break}}startEditingText(e){e.type==="text"&&(this.editingElement=e,this.selectedElement=e,setTimeout(()=>{let t=document.querySelector(".text-element.editing");if(t){t.focus();let o=document.createRange();o.selectNodeContents(t);let n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(o))}},10))}stopEditingText(e,t){if(this.editingElement?.id===e.id){let o=t.target;if(o){let n=o.textContent||"";e.text=n,this.saveToUndoStack()}this.editingElement=null}}cancelEditingText(e){this.editingElement?.id===e.id&&(this.editingElement=null)}updateElementText(e,t){let o=t.target;if(o){let n=o.textContent||"";e.text=n,this.saveToUndoStack()}}saveDocument(){this.documentModalMode="save",this.isDocumentModalVisible=!0}onSaveDocument(e){return V(this,null,function*(){try{this.snackbar.showInfo("\uBB38\uC11C\uB97C \uC800\uC7A5\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4...");let t=this.pdfSrc?"viewer":"editor",o=t==="viewer"?this.pdfPages.length:this.totalElementCount,n={id:this.generateDocumentId(),title:e,pages:this.pdfPages,elementCount:o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"1.0",pdfSrc:this.pdfSrc||void 0,pdfBase64:this.pdfBase64Data||void 0,fileName:this.loadedFileName||void 0,documentType:t};console.log("\uBB38\uC11C \uC800\uC7A5 \uC2DC\uC791:",{title:n.title,pages:`${n.pages.length}\uAC1C \uD398\uC774\uC9C0`,elements:`${n.elementCount}\uAC1C \uC694\uC18C`,type:t,pdfSrc:!!n.pdfSrc,pdfBase64Length:n.pdfBase64?.length||0,pdfBase64Preview:n.pdfBase64?.substring(0,50)+"..."||"null"});let d=(yield this.indexedDbService.getAllDocuments()).find(m=>m.title===e);d?(n.id=d.id,n.createdAt=d.createdAt,console.log("\uAE30\uC874 \uBB38\uC11C \uC5C5\uB370\uC774\uD2B8:",e)):console.log("\uC0C8 \uBB38\uC11C \uC800\uC7A5:",e),yield this.indexedDbService.saveDocument(n),yield this.updateRecentDocsCache(),this.docsTitle=e;let p=t==="viewer"?"PDF \uBDF0\uC5B4":"\uD3B8\uC9D1\uAE30";this.snackbar.showSuccess(`'${e}' \uBB38\uC11C\uAC00 ${p} \uBAA8\uB4DC\uB85C \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}catch(t){console.error("\uBB38\uC11C \uC800\uC7A5 \uC2E4\uD328:",t),this.snackbar.showError("\uBB38\uC11C \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}generateDocumentId(){return"doc_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}arrayBufferToBase64(e){let t="",o=new Uint8Array(e),n=o.byteLength;for(let a=0;a<n;a++)t+=String.fromCharCode(o[a]);return btoa(t)}createNewDocument(){this.pdfSrc=null,this.loadedFileName="",this.pdfBase64Data="",this.renderedVectorGraphics=[],this.showVectorGraphicsPreview=!1,this.pdfPages=[{id:"page-1",pageNumber:1,width:this.pageWidth,height:this.pageHeight,elements:[]}],this.selectedElement=null,this.editingElement=null,this.docsTitle="\uC81C\uBAA9 \uC5C6\uC74C",this.currentPage=1,this.snackbar.showSuccess("\uC0C8 \uBB38\uC11C\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}openDocument(){this.documentModalMode="open",this.isDocumentModalVisible=!0}onOpenDocument(e){try{console.log("\uBAA8\uB2EC\uC5D0\uC11C \uBB38\uC11C \uC5F4\uAE30:",e.title,"\uD0C0\uC785:",e.documentType),this.loadDocumentFromData({data:e}),this.isDocumentModalVisible=!1}catch(t){console.error("\uBB38\uC11C \uC5F4\uAE30 \uC624\uB958:",t),this.snackbar.showError("\uBB38\uC11C\uB97C \uC5EC\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}}onDeleteDocument(e){return V(this,null,function*(){try{yield this.indexedDbService.deleteDocument(e),this.snackbar.showInfo("\uBB38\uC11C\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(t){console.error("\uBB38\uC11C \uC0AD\uC81C \uC2E4\uD328:",t),this.snackbar.showError("\uBB38\uC11C \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onCloseDocumentModal(){this.isDocumentModalVisible=!1}onFileUpload(e){try{this.snackbar.showInfo("PDF \uD30C\uC77C\uC744 \uBD88\uB7EC\uC624\uB294 \uC911...");let t=new FileReader;t.onload=o=>{try{let n=o.target?.result,a=new Blob([n],{type:"application/pdf"}),d=URL.createObjectURL(a),p=new FileReader;p.onload=()=>{let m=p.result;this.pdfBase64Data=m,console.log("PDF Base64 \uB370\uC774\uD130 \uC800\uC7A5 \uC644\uB8CC")},p.readAsDataURL(a),this.pdfSrc=d,this.loadedFileName=e.name,this.documentType="pdf-viewer",this.docsTitle=e.name.replace(/\.[^/.]+$/,""),this.snackbar.showSuccess(`PDF \uD30C\uC77C "${e.name}"\uC774 \uC131\uACF5\uC801\uC73C\uB85C \uBD88\uB7EC\uC640\uC84C\uC2B5\uB2C8\uB2E4.`),console.log("PDF URL \uC0DD\uC131\uB428:",d)}catch(n){console.error("PDF \uD30C\uC77C \uCC98\uB9AC \uC2E4\uD328:",n),this.snackbar.showError("PDF \uD30C\uC77C \uCC98\uB9AC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}},t.onerror=()=>{this.snackbar.showError("\uD30C\uC77C \uC77D\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")},t.readAsArrayBuffer(e)}catch(t){console.error("PDF \uD30C\uC77C \uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("PDF \uD30C\uC77C\uC744 \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}exportPdfFromDashboard(){return V(this,null,function*(){try{if(this.debugLogs=[],this.debugLogs.push("=== \u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30 \uD504\uB85C\uC138\uC2A4 \uC2DC\uC791 ==="),this.debugLogs.push(`\uC2DC\uC791 \uC2DC\uAC04: ${new Date().toLocaleString()}`),this.debugLogs.push(`
\u{1F504} 1\uB2E8\uACC4: \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911...`),this.showDebugModal=!0,this.cdr.detectChanges(),yield this.createCombinedDocument(),!this.pdfPages||this.pdfPages.length===0){this.debugLogs.push(`
\u274C \uC624\uB958: \uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328!`),this.debugLogs.push("   pdfPages\uAC00 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4."),this.debugLogs.push(`   loadedVectorData \uC874\uC7AC: ${!!this.loadedVectorData}`),this.debugLogs.push(`   textStreamRawData \uC874\uC7AC: ${!!this.textStreamRawData}`),this.cdr.detectChanges(),this.snackbar.showError("\uBB38\uC11C\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uBCA1\uD130 \uB370\uC774\uD130\uC640 \uD14D\uC2A4\uD2B8 \uB370\uC774\uD130\uB97C \uD655\uC778\uD558\uC138\uC694.");return}this.debugLogs.push(`
\u2705 1\uB2E8\uACC4 \uC644\uB8CC: \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC (${this.pdfPages.length}\uD398\uC774\uC9C0)`),this.debugLogs.push(`
\u{1F504} 2\uB2E8\uACC4: PDF \uD30C\uC77C\uB85C \uB0B4\uBCF4\uB0B4\uAE30 \uC911...`),this.cdr.detectChanges(),yield this.exportToPdf()}catch(e){console.error("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uD504\uB85C\uC138\uC2A4 \uC2E4\uD328:",e),this.debugLogs.push(`
\u274C PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328: ${e}`),this.cdr.detectChanges(),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}exportToPdf(){return V(this,null,function*(){try{if(this.debugLogs.length===0&&(this.debugLogs.push("=== \u{1F4E4} PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791 ==="),this.debugLogs.push(`\uC2DC\uC791 \uC2DC\uAC04: ${new Date().toLocaleString()}`)),this.debugLogs.push(`
\u{1F4CA} \uBB38\uC11C \uC815\uBCF4:`),this.debugLogs.push(`  - \uBB38\uC11C \uC81C\uBAA9: ${this.docsTitle||"(\uC81C\uBAA9 \uC5C6\uC74C)"}`),this.debugLogs.push(`  - \uCD1D \uD398\uC774\uC9C0 \uC218: ${this.pdfPages.length}`),this.debugLogs.push(`  - \uCD1D \uC694\uC18C \uC218: ${this.pdfPages.reduce((Y,G)=>Y+G.elements.length,0)}`),this.pdfPages.length===0){this.debugLogs.push(`
\u26A0\uFE0F \uACBD\uACE0: \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4!`),this.debugLogs.push('   \uBA3C\uC800 "\uD63C\uD569 \uC0C8\uBB38\uC11C \uB9CC\uB4E4\uAE30"\uB97C \uC2E4\uD589\uD558\uC138\uC694.'),this.cdr.detectChanges(),this.snackbar.showWarning("\uB0B4\uBCF4\uB0BC \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 \uBB38\uC11C\uB97C \uC0DD\uC131\uD558\uC138\uC694.");return}this.debugLogs.push(`
\u{1F4C4} \uD398\uC774\uC9C0\uBCC4 \uC694\uC18C \uD604\uD669:`),this.pdfPages.slice(0,5).forEach((Y,G)=>{let $=Y.elements.filter(ot=>ot.type==="text").length,U=Y.elements.filter(ot=>ot.type==="shape").length,k=Y.elements.filter(ot=>ot.type==="image").length,Q=Y.elements.filter(ot=>ot.type==="svg").length,at=Y.elements.filter(ot=>ot.type==="vector-path").length;this.debugLogs.push(`  \uD398\uC774\uC9C0 ${G+1}: \uD14D\uC2A4\uD2B8 ${$}, \uB3C4\uD615 ${U}, \uC774\uBBF8\uC9C0 ${k}, SVG ${Q}, \uBCA1\uD130 ${at}`),$>0&&Y.elements.filter(ot=>ot.type==="text").slice(0,2).forEach((ot,nt)=>{let tt=/[-|-|-]/.test(ot.text||"");this.debugLogs.push(`    [\uD14D\uC2A4\uD2B8 ${nt+1}] "${(ot.text||"").substring(0,30)}" ${tt?"\u{1F1F0}\u{1F1F7}":""}`),this.debugLogs.push(`      \uC0C9\uC0C1:${ot.color} \uD3F0\uD2B8:${ot.fontFamily}/${ot.fontSize}pt \uC704\uCE58:(${Math.round(ot.x)},${Math.round(ot.y)})`)})}),this.pdfPages.length>5&&this.debugLogs.push(`  ... \uC678 ${this.pdfPages.length-5}\uAC1C \uD398\uC774\uC9C0`);let e=this.pdfPages.reduce((Y,G)=>Y+G.elements.filter($=>$.type==="text").length,0),t=this.pdfPages.reduce((Y,G)=>Y+G.elements.filter($=>$.type==="svg").length,0),n=this.pdfPages.flatMap(Y=>Y.elements.filter(G=>G.type==="text").map(G=>G.text||"")).filter(Y=>/[-|-|-]/.test(Y));this.debugLogs.push(`
\u{1F4CA} \uC804\uCCB4 \uD1B5\uACC4:`),this.debugLogs.push(`  - \uCD1D \uD14D\uC2A4\uD2B8 \uC694\uC18C: ${e}\uAC1C`),this.debugLogs.push(`  - \uD55C\uAE00 \uD3EC\uD568 \uD14D\uC2A4\uD2B8: ${n.length}\uAC1C (${(n.length/e*100).toFixed(1)}%)`),this.debugLogs.push(`  - \uCD1D SVG \uC694\uC18C: ${t}\uAC1C`);let a=new Set(this.pdfPages.flatMap(Y=>Y.elements.filter(G=>G.type==="text"&&G.color).map(G=>G.color)));this.debugLogs.push(`  - \uC0AC\uC6A9\uB41C \uC0C9\uC0C1: ${a.size}\uC885\uB958`),a.size>0&&this.debugLogs.push(`    ${[...a].slice(0,10).join(", ")}${a.size>10?` \uC678 ${a.size-10}\uAC1C`:""}`),this.showDebugModal=!0,this.cdr.detectChanges(),console.log("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791..."),console.log("\uD604\uC7AC \uD398\uC774\uC9C0 \uC218:",this.pdfPages.length),console.log("PDF \uD398\uC774\uC9C0 \uB370\uC774\uD130:",this.pdfPages),this.debugLogs.push(`
\u23F3 PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB529 \uC911...`);let d=yield this.waitForPDFLib(),{PDFDocument:p,rgb:m,StandardFonts:u}=d;this.debugLogs.push("\u2705 PDF-lib \uB85C\uB4DC \uC644\uB8CC"),this.debugLogs.push(`
\u{1F4C4} PDF \uBB38\uC11C \uAC1D\uCCB4 \uC0DD\uC131 \uC911...`);let h=yield p.create();this.debugLogs.push("\u2705 PDF \uBB38\uC11C \uAC1D\uCCB4 \uC0DD\uC131 \uC644\uB8CC"),this.debugLogs.push(`
\u{1F524} \uD3F0\uD2B8 \uC784\uBCA0\uB529 \uC911...`);let x=new Map,P,O="Helvetica (\uAE30\uBCF8)",v=new Set,y=this.pdfPages.flatMap(Y=>Y.elements.filter(G=>G.type==="text"));this.debugLogs.push("   \u{1F50D} \uD14D\uC2A4\uD2B8 \uC694\uC18C \uBD84\uC11D \uC911..."),this.debugLogs.push(`   \u{1F4DD} \uCD1D \uD14D\uC2A4\uD2B8 \uC694\uC18C \uC218: ${y.length}\uAC1C`);let D=0;y.forEach((Y,G)=>{if(!Y.fontFamily){let $=/[-|-|-]/.test(Y.text||"");Y.fontFamily=$?"Noto Sans KR, sans-serif":"Arial",D++}G<5&&this.debugLogs.push(`      ${G+1}. \uD14D\uC2A4\uD2B8: "${(Y.text||"").substring(0,15)}..." | fontFamily: ${Y.fontFamily}`),Y.fontFamily&&v.add(Y.fontFamily)}),D>0&&this.debugLogs.push(`   \uFFFD fontFamily \uC5C6\uB294 \uC694\uC18C ${D}\uAC1C\uC5D0 \uAE30\uBCF8 \uD3F0\uD2B8 \uC790\uB3D9 \uC124\uC815`),this.debugLogs.push(`   \u{1F4CB} \uC0AC\uC6A9\uB41C \uD3F0\uD2B8 \uC885\uB958: ${v.size}\uAC1C`),v.size>0&&this.debugLogs.push(`   \uD3F0\uD2B8 \uBAA9\uB85D: ${[...v].join(", ")}`);let S=this.pdfPages.some(Y=>Y.elements.some(G=>G.type==="text"&&/[-|-|-]/.test(G.text||"")));if(S||v.size>0){this.debugLogs.push("   \uFFFD \uCEE4\uC2A4\uD140 \uD3F0\uD2B8 \uD544\uC694 - fontkit \uB85C\uB4DC \uC2DC\uB3C4 \uC911...");try{window.fontkit?(this.debugLogs.push("   \u2705 fontkit \uC774\uBBF8 \uB85C\uB4DC\uB428"),this.cdr.detectChanges()):(this.debugLogs.push("   \u{1F4E6} fontkit \uB77C\uC774\uBE0C\uB7EC\uB9AC \uB85C\uB529 \uC911..."),this.cdr.detectChanges(),yield new Promise((G,$)=>{let U=document.createElement("script");U.src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js",U.onload=()=>{this.debugLogs.push("   \u2705 fontkit \uB85C\uB529 \uC644\uB8CC"),this.cdr.detectChanges(),G(!0)},U.onerror=()=>{this.debugLogs.push("   \u274C fontkit \uB85C\uB529 \uC2E4\uD328"),this.cdr.detectChanges(),$(new Error("fontkit \uB85C\uB529 \uC2E4\uD328"))},document.head.appendChild(U)})),this.debugLogs.push("   \u{1F527} PDF \uBB38\uC11C\uC5D0 fontkit \uB4F1\uB85D \uC911..."),this.cdr.detectChanges(),h.registerFontkit(window.fontkit),this.debugLogs.push("   \u2705 fontkit \uB4F1\uB85D \uC644\uB8CC"),this.cdr.detectChanges();let Y={"Noto Sans KR":"/fonts/NotoSansKR-Regular.ttf",NanumGothic:"/fonts/NanumGothic-Regular.ttf",NanumBarunGothic:"/fonts/NanumBarunGothic-Regular.ttf","IBM Plex Sans KR":"/fonts/IBMPlexSansKR-Regular.ttf",NanumSquare:"/fonts/NanumSquare-Regular.ttf","Black Han Sans":"/fonts/BlackHanSans-Regular.ttf","Noto Serif KR":"/fonts/NotoSerifKR-Regular.ttf",NanumMyeongjo:"/fonts/NanumMyeongjo-Regular.ttf",NanumPen:"/fonts/NanumPen-Regular.ttf",NanumBrush:"/fonts/NanumBrush-Regular.ttf",DoHyeon:"/fonts/DoHyeon-Regular.ttf",Jua:"/fonts/Jua-Regular.ttf",Gaegu:"/fonts/Gaegu-Regular.ttf",GamjaFlower:"/fonts/GamjaFlower-Regular.ttf",Sunflower:"/fonts/Sunflower-Medium.ttf",EastSeaDokdo:"/fonts/EastSeaDokdo-Regular.ttf",HiMelody:"/fonts/HiMelody-Regular.ttf",Roboto:"/fonts/Roboto-Regular.ttf","Open Sans":"/fonts/OpenSans-Regular.ttf",Lato:"/fonts/Lato-Regular.ttf",Montserrat:"/fonts/Montserrat-Regular.ttf",Poppins:"/fonts/Poppins-Regular.ttf",Inter:"/fonts/Inter-Regular.ttf",Ubuntu:"/fonts/Ubuntu-Regular.ttf"};for(let G of v)try{let $=this.extractFontName(G);if(this.debugLogs.push(`   \u{1F4E5} \uD3F0\uD2B8 \uB85C\uB529 \uC2DC\uB3C4: ${$}`),this.cdr.detectChanges(),Y[$]){let U=Y[$];this.debugLogs.push(`      \uACBD\uB85C: ${U}`);let k=yield fetch(U);if(k.ok){let Q=yield k.arrayBuffer();this.debugLogs.push(`   \u2705 ${$} \uB85C\uB4DC \uC644\uB8CC (${(Q.byteLength/1024).toFixed(1)} KB)`);let at=yield h.embedFont(new Uint8Array(Q));x.set(G,at),this.debugLogs.push(`   \u2713 ${$} PDF \uC784\uBCA0\uB529 \uC644\uB8CC`),this.cdr.detectChanges()}else this.debugLogs.push(`   \u274C HTTP ${k.status} - \uD30C\uC77C \uC5C6\uC74C`)}else this.debugLogs.push(`   \u26A0\uFE0F ${$} - \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uB294 \uD3F0\uD2B8, \uAE30\uBCF8 \uD3F0\uD2B8 \uC0AC\uC6A9`)}catch($){this.debugLogs.push(`   \u26A0\uFE0F ${G} \uB85C\uB4DC \uC2E4\uD328: ${$}`),this.cdr.detectChanges()}if(S){this.debugLogs.push("   \u{1F1F0}\u{1F1F7} \uD55C\uAE00 \uD3F0\uD2B8(NanumGothic) \uB85C\uB4DC \uC2DC\uB3C4...");let G=null,$=["/fonts/NanumGothic-Regular.ttf","/fonts/NanumGothic.ttf","fonts/NanumGothic-Regular.ttf"];for(let U of $)try{let k=yield fetch(U);if(k.ok){G=yield k.arrayBuffer(),this.debugLogs.push(`   \u2705 NanumGothic \uB85C\uB4DC \uC644\uB8CC (${(G.byteLength/1024).toFixed(1)} KB)`);break}}catch{continue}if(!G)try{let U=yield fetch("https://cdn.jsdelivr.net/gh/google/fonts@main/ofl/nanumgothic/NanumGothic-Regular.ttf");U.ok&&(G=yield U.arrayBuffer(),this.debugLogs.push("   \u2705 NanumGothic CDN\uC5D0\uC11C \uB85C\uB4DC \uC644\uB8CC"))}catch{this.debugLogs.push("   \u274C NanumGothic CDN \uB85C\uB4DC \uC2E4\uD328")}if(G&&G.byteLength>0)P=yield h.embedFont(new Uint8Array(G)),O="NanumGothic (\uD55C\uAE00 \uC9C0\uC6D0)",x.set("Noto Sans KR, sans-serif",P),x.set("NanumGothic",P),x.set("default-korean",P),this.debugLogs.push("   \u2705 \uD55C\uAE00 \uD3F0\uD2B8 \uC784\uBCA0\uB529 \uC644\uB8CC!"),this.cdr.detectChanges();else throw new Error("\uD55C\uAE00 \uD3F0\uD2B8 \uB85C\uB4DC \uC2E4\uD328")}else P=yield h.embedFont(u.Helvetica),O="Helvetica (\uAE30\uBCF8)"}catch(Y){this.debugLogs.push(`   \u274C \uCEE4\uC2A4\uD140 \uD3F0\uD2B8 \uB85C\uB4DC \uC2E4\uD328: ${Y}`),this.debugLogs.push("   \u26A0\uFE0F Helvetica \uD3F0\uD2B8\uB85C \uB300\uCCB4"),this.cdr.detectChanges(),P=yield h.embedFont(u.Helvetica),O="Helvetica (\uAE30\uBCF8)"}}else this.debugLogs.push("   \u2139\uFE0F \uAE30\uBCF8 \uD3F0\uD2B8\uB9CC \uC0AC\uC6A9 - Helvetica"),P=yield h.embedFont(u.Helvetica),O="Helvetica (\uAE30\uBCF8)";this.debugLogs.push(`   \u{1F4DD} \uAE30\uBCF8 \uD3F0\uD2B8: ${O}`),this.debugLogs.push(`   \u{1F4DA} \uB85C\uB4DC\uB41C \uCEE4\uC2A4\uD140 \uD3F0\uD2B8 \uC218: ${x.size}\uAC1C`);let A=Y=>{if(!Y)return P;if(x.has(Y))return x.get(Y);let G=this.extractFontName(Y);for(let[$,U]of x.entries())if(this.extractFontName($)===G)return U;return P};this.debugLogs.push(`
\u{1F504} \uD398\uC774\uC9C0 \uCC98\uB9AC \uC2DC\uC791 (\uCD1D ${this.pdfPages.length}\uD398\uC774\uC9C0):`);let w={text:0,shape:0,image:0,svg:0,vectorPath:0,failed:0};for(let Y=0;Y<this.pdfPages.length;Y++){let G=this.pdfPages[Y],$=Y<3;$&&this.debugLogs.push(`
  \u{1F4C4} \uD398\uC774\uC9C0 ${G.pageNumber} \uCC98\uB9AC \uC911...`);let U=G.elements.filter(X=>X.type==="text"),k=G.elements.filter(X=>X.type==="svg"),Q=G.elements.filter(X=>X.type==="shape"),at=G.elements.filter(X=>X.type==="vector-path"),ot=G.elements.filter(X=>X.type==="image");if($){this.debugLogs.push(`     \uC694\uC18C \uBD84\uC11D: \uD14D\uC2A4\uD2B8 ${U.length}, SVG ${k.length}, \uB3C4\uD615 ${Q.length}, \uBCA1\uD130 ${at.length}, \uC774\uBBF8\uC9C0 ${ot.length}`);let X=U.filter(st=>/[-|-|-]/.test(st.text||""));if(X.length>0&&(this.debugLogs.push(`     \u{1F1F0}\u{1F1F7} \uD55C\uAE00 \uD14D\uC2A4\uD2B8: ${X.length}\uAC1C`),X[0]&&this.debugLogs.push(`       \uC0D8\uD50C: "${(X[0].text||"").substring(0,20)}..."`)),k.length>0&&k[0]){let st=k[0];if(this.debugLogs.push("     \u{1F3A8} SVG \uC0D8\uD50C:"),this.debugLogs.push(`       \uD06C\uAE30: ${Math.round(st.width||0)}x${Math.round(st.height||0)}`),this.debugLogs.push(`       \uC704\uCE58: (${Math.round(st.x)}, ${Math.round(st.y)})`),st.svgContent){let Mt=st.svgContent.substring(0,80).replace(/\n/g," ");this.debugLogs.push(`       \uB0B4\uC6A9: ${Mt}...`)}}}console.log(`\uD398\uC774\uC9C0 ${G.pageNumber} \uCC98\uB9AC \uC911... \uC694\uC18C \uAC1C\uC218: ${G.elements.length}`),console.log("\uD398\uC774\uC9C0 \uC694\uC18C\uB4E4:",G.elements);let nt=h.addPage([595,842]),{width:tt,height:rt}=nt.getSize();$&&this.debugLogs.push(`     PDF \uD398\uC774\uC9C0 \uD06C\uAE30: ${tt}x${rt} pt`);let Z={text:0,shape:0,image:0,svg:0,vectorPath:0,failed:0};for(let X of G.elements)try{if(X.type==="text"){let st=A(X.fontFamily);if(console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1:",{text:X.text?.substring(0,20),fontFamily:X.fontFamily,fontSelected:st===P?"\uAE30\uBCF8\uD3F0\uD2B8":"\uCEE4\uC2A4\uD140\uD3F0\uD2B8",hasFont:!!st}),yield this.addTextToPdfPage(nt,X,d,st),Z.text++,$&&Z.text<=2){let Mt=/[-|-|-]/.test(X.text||""),zt=X.fontFamily?this.extractFontName(X.fontFamily):"\uAE30\uBCF8";this.debugLogs.push(`       \u2713 \uD14D\uC2A4\uD2B8 \uCD94\uAC00: "${(X.text||"").substring(0,20)}" ${Mt?"\u{1F1F0}\u{1F1F7}":""} @ (${Math.round(X.x)},${Math.round(X.y)}) [${zt}]`)}}else X.type==="shape"?(yield this.addShapeToPdfPage(nt,X,d),Z.shape++):X.type==="image"?(yield this.addImageToPdfPage(nt,X,d,h),Z.image++):X.type==="vector-path"?(yield this.addVectorPathToPdfPage(nt,X,d),Z.vectorPath++):X.type==="svg"&&(yield this.addSvgToPdfPage(nt,X,d),Z.svg++,$&&Z.svg<=2&&this.debugLogs.push(`       \u2713 SVG \uCD94\uAC00: ${Math.round(X.width||0)}x${Math.round(X.height||0)} @ (${Math.round(X.x)},${Math.round(X.y)})`))}catch(st){Z.failed++,$&&this.debugLogs.push(`       \u274C \uC694\uC18C \uCD94\uAC00 \uC2E4\uD328: ${X.type} - ${st}`),console.error("\uC694\uC18C \uCD94\uAC00 \uC2E4\uD328:",X,st)}w.text+=Z.text,w.shape+=Z.shape,w.image+=Z.image,w.svg+=Z.svg,w.vectorPath+=Z.vectorPath,w.failed+=Z.failed,$&&(this.debugLogs.push(`     \u2705 \uD398\uC774\uC9C0 \uC644\uB8CC: \uD14D\uC2A4\uD2B8 ${Z.text}, SVG ${Z.svg}, \uB3C4\uD615 ${Z.shape}, \uBCA1\uD130 ${Z.vectorPath}, \uC774\uBBF8\uC9C0 ${Z.image}`),Z.failed>0&&this.debugLogs.push(`     \u26A0\uFE0F \uC2E4\uD328: ${Z.failed}\uAC1C`))}this.debugLogs.push(`
\u{1F4CA} \uC804\uCCB4 \uD398\uC774\uC9C0 \uCC98\uB9AC \uC644\uB8CC:`),this.debugLogs.push(`  - \uCD1D \uD398\uC774\uC9C0: ${this.pdfPages.length}`),this.debugLogs.push(`  - \uD14D\uC2A4\uD2B8: ${w.text}\uAC1C`),this.debugLogs.push(`  - SVG: ${w.svg}\uAC1C`),this.debugLogs.push(`  - \uB3C4\uD615: ${w.shape}\uAC1C`),this.debugLogs.push(`  - \uBCA1\uD130 \uD328\uC2A4: ${w.vectorPath}\uAC1C`),this.debugLogs.push(`  - \uC774\uBBF8\uC9C0: ${w.image}\uAC1C`),w.failed>0&&this.debugLogs.push(`  \u26A0\uFE0F \uC2E4\uD328: ${w.failed}\uAC1C`),this.debugLogs.push(`
\u{1F4BE} PDF \uBC14\uC774\uD2B8 \uBC30\uC5F4 \uC0DD\uC131 \uC911...`);let I=yield h.save();this.debugLogs.push(`\u2705 PDF \uBC14\uC774\uD2B8 \uC0DD\uC131 \uC644\uB8CC (\uD06C\uAE30: ${(I.length/1024).toFixed(2)} KB)`),this.debugLogs.push(`
\u{1F4E5} \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC900\uBE44 \uC911...`);let z=new Blob([I],{type:"application/pdf"}),J=URL.createObjectURL(z),K=document.createElement("a");K.href=J;let et=`${this.docsTitle||"\uBB38\uC11C"}.pdf`;K.download=et,this.debugLogs.push(`   \uD30C\uC77C\uBA85: ${et}`),document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(J),this.debugLogs.push(`
\u2705 PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC644\uB8CC!`),this.debugLogs.push(`\uC644\uB8CC \uC2DC\uAC04: ${new Date().toLocaleString()}`),this.debugLogs.push(`
\u{1F4CA} \uCD5C\uC885 \uD1B5\uACC4:`),this.debugLogs.push(`  - \uCD1D \uD398\uC774\uC9C0: ${this.pdfPages.length}`),this.debugLogs.push(`  - \uCD1D \uC694\uC18C: ${this.pdfPages.reduce((Y,G)=>Y+G.elements.length,0)}`),this.debugLogs.push(`  - \uD30C\uC77C \uD06C\uAE30: ${(I.length/1024).toFixed(2)} KB`),console.log("PDF \uC0DD\uC131 \uC644\uB8CC!"),this.snackbar.showSuccess("PDF\uAC00 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",e),this.debugLogs.push(`
\u274C \uC624\uB958 \uBC1C\uC0DD!`),this.debugLogs.push(`\uC624\uB958 \uB0B4\uC6A9: ${e}`),this.debugLogs.push(`\uC624\uB958 \uC2DC\uAC04: ${new Date().toLocaleString()}`),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}addTextToPdfPage(e,t,o,n){return V(this,null,function*(){try{let{rgb:a}=o,{width:d,height:p}=e.getSize(),m=this.parseColor(t.color||"#000000"),u=Math.max(0,Math.min(t.x||0,d-10)),h=Math.max(10,Math.min(p-(t.y||0)-(t.fontSize||16),p-10)),x=Math.max(8,Math.min(t.fontSize||16,72)),O=(t.text||"").trim()||"\uD14D\uC2A4\uD2B8";console.log(`\uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uD14D\uC2A4\uD2B8: "${O}"
        - \uC6D0\uBCF8 \uC88C\uD45C: (${t.x}, ${t.y})
        - \uC870\uC815\uB41C \uC88C\uD45C: (${u}, ${h})
        - \uD3F0\uD2B8 \uD06C\uAE30: ${x}
        - \uD3F0\uD2B8 \uD328\uBC00\uB9AC: ${t.fontFamily||"default"}
        - \uD3F0\uD2B8 \uAD75\uAE30: ${t.fontWeight||"normal"}
        - \uD3F0\uD2B8 \uC2A4\uD0C0\uC77C: ${t.fontStyle||"normal"}
        - \uC0C9\uC0C1: ${t.color} -> rgb(${m.r}, ${m.g}, ${m.b})
        - \uD398\uC774\uC9C0 \uD06C\uAE30: ${d} x ${p}`);let v={x:u,y:h,size:x,color:a(m.r,m.g,m.b)};n&&(v.font=n),e.drawText(O,v),console.log("\uD14D\uC2A4\uD2B8 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428 (\uC0C9\uC0C1 \uD3EC\uD568)")}catch(a){console.error("\uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uC2E4\uD328:",a),a instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",a.message)}})}addShapeToPdfPage(e,t,o){return V(this,null,function*(){try{let{rgb:n}=o,{width:a,height:d}=e.getSize(),p=this.parseColor(t.fillColor||t.color||"#3498db"),m=this.parseColor(t.strokeColor||t.color||"#2980b9"),u=Math.max(0,Math.min(t.x||0,a-10)),h=Math.max(10,Math.min(d-(t.y||0)-(t.height||50),d-10)),x=Math.max(10,Math.min(t.width||100,a-u)),P=Math.max(10,Math.min(t.height||50,d-h));switch(console.log(`\uB3C4\uD615 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uB3C4\uD615 \uD0C0\uC785: ${t.shapeType||"rectangle"}
        - \uC704\uCE58: (${u}, ${h})
        - \uD06C\uAE30: ${x} x ${P}
        - \uCC44\uC6B0\uAE30 \uC0C9\uC0C1: rgb(${p.r}, ${p.g}, ${p.b})
        - \uD14C\uB450\uB9AC \uC0C9\uC0C1: rgb(${m.r}, ${m.g}, ${m.b})`),t.shapeType||"rectangle"){case"rectangle":case"square":e.drawRectangle({x:u,y:h,width:x,height:P,color:n(p.r,p.g,p.b)}),e.drawRectangle({x:u,y:h,width:x,height:P,borderColor:n(m.r,m.g,m.b),borderWidth:t.strokeWidth||1});break;case"circle":case"ellipse":let v=u+x/2,y=h+P/2,D=Math.min(x,P)/2;e.drawCircle({x:v,y,size:D,color:n(p.r,p.g,p.b)}),e.drawCircle({x:v,y,size:D,borderColor:n(m.r,m.g,m.b),borderWidth:t.strokeWidth||1});break;case"line":e.drawLine({start:{x:u,y:h},end:{x:u+x,y:h+P},thickness:t.strokeWidth||2,color:n(m.r,m.g,m.b)});break;default:e.drawRectangle({x:u,y:h,width:x,height:P,color:n(p.r,p.g,p.b)});break}console.log("\uB3C4\uD615 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428")}catch(n){console.error("\uB3C4\uD615 \uCD94\uAC00 \uC2E4\uD328:",n),n instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",n.message)}})}addImageToPdfPage(e,t,o,n){return V(this,null,function*(){try{if(!t.src){console.error("\uC774\uBBF8\uC9C0 src\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let{width:a,height:d}=e.getSize(),p=Math.max(0,Math.min(t.x||0,a-10)),m=Math.max(10,Math.min(d-(t.y||0)-(t.height||100),d-10)),u=Math.max(10,Math.min(t.width||100,a-p)),h=Math.max(10,Math.min(t.height||100,d-m));console.log(`\uC774\uBBF8\uC9C0 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uC704\uCE58: (${p}, ${m})
        - \uD06C\uAE30: ${u} x ${h}
        - \uC6D0\uBCF8 \uD06C\uAE30: ${t.width} x ${t.height}
        - src \uAE38\uC774: ${t.src.length}`);let x="jpeg";t.src.startsWith("data:image/png")?x="png":(t.src.startsWith("data:image/jpeg")||t.src.startsWith("data:image/jpg"))&&(x="jpeg");let P=t.src.split(",")[1];if(!P){console.error("\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 Base64 \uB370\uC774\uD130");return}let O=Uint8Array.from(atob(P),y=>y.charCodeAt(0)),v;x==="png"?v=yield(n||e.doc).embedPng(O):v=yield(n||e.doc).embedJpg(O),e.drawImage(v,{x:p,y:m,width:u,height:h}),console.log("\uC774\uBBF8\uC9C0 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428")}catch(a){console.error("\uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC2E4\uD328:",a),a instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",a.message);try{let{rgb:d}=o,p=Math.max(0,Math.min(t.x||0,e.getSize().width-10)),m=Math.max(10,Math.min(e.getSize().height-(t.y||0)-(t.height||100),e.getSize().height-10));e.drawRectangle({x:p,y:m,width:Math.min(t.width||100,e.getSize().width-p),height:Math.min(t.height||100,e.getSize().height-m),borderColor:d(.8,.8,.8),borderWidth:2}),e.drawText("\uC774\uBBF8\uC9C0",{x:p+10,y:m+(t.height||100)/2,size:12,color:d(.5,.5,.5)}),console.log("\uC774\uBBF8\uC9C0 \uB300\uC2E0 \uD50C\uB808\uC774\uC2A4\uD640\uB354 \uCD94\uAC00\uB428")}catch(d){console.error("\uD50C\uB808\uC774\uC2A4\uD640\uB354 \uCD94\uAC00\uB3C4 \uC2E4\uD328:",d)}}})}parseColor(e){let t=0,o=0,n=0;try{if(e.startsWith("#")){let a=e.slice(1);a.length===3?(t=parseInt(a[0]+a[0],16)/255,o=parseInt(a[1]+a[1],16)/255,n=parseInt(a[2]+a[2],16)/255):a.length===6&&(t=parseInt(a.slice(0,2),16)/255,o=parseInt(a.slice(2,4),16)/255,n=parseInt(a.slice(4,6),16)/255)}else if(e.startsWith("rgb")){let a=e.match(/\d+/g);a&&a.length>=3&&(t=parseInt(a[0])/255,o=parseInt(a[1])/255,n=parseInt(a[2])/255)}}catch(a){console.error("\uC0C9\uC0C1 \uD30C\uC2F1 \uC2E4\uD328:",a)}return{r:t,g:o,b:n}}extractFontName(e){return e?e.split(",")[0].trim().replace(/['"]/g,""):"Helvetica"}fixSvgDimensions(e,t,o){try{console.log("\u{1F527} SVG \uD06C\uAE30 \uC218\uC815 \uC2DC\uC791:",{width:t,height:o});let d=new DOMParser().parseFromString(e,"image/svg+xml").documentElement;if(d.tagName!=="svg")return console.warn("\u26A0\uFE0F \uC720\uD6A8\uD55C SVG\uAC00 \uC544\uB2D9\uB2C8\uB2E4."),e;let p=d.getAttribute("width"),m=d.getAttribute("height"),u=d.getAttribute("viewBox");console.log("\u{1F4CA} \uC6D0\uBCF8 SVG \uC18D\uC131:",{width:p,height:m,viewBox:u}),d.setAttribute("width",String(t)),d.setAttribute("height",String(o)),u?console.log("\u2705 \uAE30\uC874 viewBox \uC720\uC9C0:",u):(d.setAttribute("viewBox",`0 0 ${t} ${o}`),console.log("\u2705 viewBox \uCD94\uAC00:",`0 0 ${t} ${o}`)),d.setAttribute("preserveAspectRatio","none"),d.hasAttribute("xmlns")||d.setAttribute("xmlns","http://www.w3.org/2000/svg");let x=new XMLSerializer().serializeToString(d);return console.log("\u2705 SVG \uD06C\uAE30 \uC218\uC815 \uC644\uB8CC:",{originalLength:e.length,fixedLength:x.length,newWidth:d.getAttribute("width"),newHeight:d.getAttribute("height"),newViewBox:d.getAttribute("viewBox")}),x}catch(n){return console.error("\u274C SVG \uD06C\uAE30 \uC218\uC815 \uC2E4\uD328:",n),e}}addSvgAsImageToPdf(e,t,o){return V(this,null,function*(){return new Promise((n,a)=>{try{if(console.log("\u{1F5BC}\uFE0F SVG\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658 \uC2DC\uC791..."),console.log("\u{1F4C4} SVG \uCF58\uD150\uCE20 \uC0D8\uD50C (\uCCAB 500\uC790):",t.svgContent?.substring(0,500)),!t.svgContent){let h="SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.";this.debugLogs.push(`         \u274C ${h}`),this.cdr.detectChanges(),a(new Error(h));return}let d=new Blob([t.svgContent],{type:"image/svg+xml;charset=utf-8"}),p=URL.createObjectURL(d);console.log("\u{1F517} SVG Blob URL \uC0DD\uC131 \uC644\uB8CC:",p);let m=new Image;m.crossOrigin="anonymous";let u=setTimeout(()=>{console.error("\u23F1\uFE0F SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uD0C0\uC784\uC544\uC6C3 (10\uCD08)"),this.debugLogs.push("         \u274C \uD0C0\uC784\uC544\uC6C3: SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC 10\uCD08 \uCD08\uACFC"),this.cdr.detectChanges(),URL.revokeObjectURL(p),a(new Error("SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uD0C0\uC784\uC544\uC6C3"))},1e4);m.onload=()=>V(this,null,function*(){clearTimeout(u);try{console.log("\u2705 SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC644\uB8CC:",{naturalWidth:m.naturalWidth,naturalHeight:m.naturalHeight,width:m.width,height:m.height}),this.debugLogs.push(`         \u2705 SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC644\uB8CC: ${m.naturalWidth}x${m.naturalHeight}`),this.cdr.detectChanges();let h=document.createElement("canvas"),x=2,P=t.width||m.naturalWidth||m.width||595,O=t.height||m.naturalHeight||m.height||842;h.width=P*x,h.height=O*x,console.log("\u{1F3A8} Canvas \uC0DD\uC131:",{canvasWidth:h.width,canvasHeight:h.height,targetWidth:P,targetHeight:O,scale:x}),this.debugLogs.push(`         \u{1F3A8} Canvas \uC0DD\uC131: ${h.width}x${h.height} (\uC2A4\uCF00\uC77C ${x}x)`),this.cdr.detectChanges();let v=h.getContext("2d");if(!v)throw new Error("Canvas context\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");v.clearRect(0,0,h.width,h.height),v.scale(x,x),v.drawImage(m,0,0,P,O),console.log("\u2705 Canvas\uC5D0 SVG \uADF8\uB9AC\uAE30 \uC644\uB8CC");let y=v.getImageData(0,0,Math.min(10,h.width),Math.min(10,h.height)),D=y.data.some(S=>S!==0);console.log("\u{1F50D} Canvas \uD53D\uC140 \uB370\uC774\uD130 \uD655\uC778:",{hasContent:D,sampleBytes:Array.from(y.data.slice(0,20))}),D||(this.debugLogs.push("         \u26A0\uFE0F Canvas\uAC00 \uBE44\uC5B4\uC788\uC74C (\uD53D\uC140 \uB370\uC774\uD130 \uC5C6\uC74C)"),this.cdr.detectChanges()),h.toBlob(S=>V(this,null,function*(){try{if(!S)throw new Error("Canvas\uB97C Blob\uC73C\uB85C \uBCC0\uD658\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");console.log("\u{1F3A8} PNG Blob \uC0DD\uC131 \uC644\uB8CC:",{size:S.size,type:S.type}),this.debugLogs.push(`         \u2705 PNG \uBCC0\uD658 \uC644\uB8CC: ${(S.size/1024).toFixed(1)} KB`),this.cdr.detectChanges();let b=yield S.arrayBuffer(),A=new Uint8Array(b);console.log("\u{1F4E6} ArrayBuffer \uBCC0\uD658 \uC644\uB8CC:",{byteLength:b.byteLength,firstBytes:Array.from(A.slice(0,10))});let w=e.doc;if(!w)throw new Error("PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");console.log("\u{1F4C4} PDF \uBB38\uC11C \uD655\uC778 \uC644\uB8CC");let I=yield w.embedPng(A);console.log("\u2705 PNG \uC774\uBBF8\uC9C0 \uC784\uBCA0\uB4DC \uC644\uB8CC:",{width:I.width,height:I.height,scale:I.scale});let z=e.getSize().height,J=e.getSize().width,K=z-(t.y||0)-O;console.log("\u{1F4D0} \uC774\uBBF8\uC9C0 \uBC30\uCE58 \uC88C\uD45C:",{x:t.x||0,y:K,width:P,height:O,pageWidth:J,pageHeight:z}),e.drawImage(I,{x:t.x||0,y:K,width:P,height:O}),console.log("\u2705 PDF\uC5D0 \uC774\uBBF8\uC9C0 \uC0BD\uC785 \uC644\uB8CC \u2728"),URL.revokeObjectURL(p),n()}catch(b){console.error("\u274C PNG \u2192 PDF \uBCC0\uD658 \uC2E4\uD328:",b),b instanceof Error&&console.error("\uC624\uB958 \uC2A4\uD0DD:",b.stack),URL.revokeObjectURL(p),a(b)}}),"image/png",.95)}catch(h){console.error("\u274C Canvas \uB80C\uB354\uB9C1 \uC2E4\uD328:",h),URL.revokeObjectURL(p),a(h)}}),m.onerror=h=>{console.error("\u274C SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC2E4\uD328:",h),URL.revokeObjectURL(p),a(new Error("SVG \uC774\uBBF8\uC9C0\uB97C \uB85C\uB4DC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."))},m.src=p}catch(d){console.error("\u274C SVG \u2192 \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2E4\uD328:",d),a(d)}})})}addVectorPathToPdfPage(e,t,o){return V(this,null,function*(){try{let{rgb:n}=o,{width:a,height:d}=e.getSize();console.log(`\uBCA1\uD130 \uD328\uC2A4 \uB80C\uB354\uB9C1 \uC138\uBD80\uC815\uBCF4:
        - \uD328\uC2A4 \uB370\uC774\uD130: ${t.pathData}
        - \uC704\uCE58: (${t.x}, ${t.y})
        - \uD06C\uAE30: ${t.width} x ${t.height}
        - \uC120 \uC0C9\uC0C1: ${t.strokeColor}
        - \uC120 \uB450\uAED8: ${t.strokeWidth}
        - \uCC44\uC6B0\uAE30: ${t.fill}
        - \uD398\uC774\uC9C0 \uD06C\uAE30: ${a} x ${d}`),t.pathData||(console.warn("\uD328\uC2A4 \uB370\uC774\uD130\uAC00 \uC5C6\uC5B4\uC11C \uAE30\uBCF8 \uBCA0\uC9C0\uC5B4 \uACE1\uC120\uC744 \uC0DD\uC131\uD569\uB2C8\uB2E4."),t.pathData="M 50 50 Q 100 20 150 50"),yield this.convertAndDrawSvgPath(e,t,o),console.log("\uBCA1\uD130 \uD328\uC2A4 \uC131\uACF5\uC801\uC73C\uB85C \uCD94\uAC00\uB428")}catch(n){console.error("\uBCA1\uD130 \uD328\uC2A4 \uCD94\uAC00 \uC2E4\uD328:",n),n instanceof Error&&console.error("\uC5D0\uB7EC \uC0C1\uC138:",n.message);try{let{rgb:a}=o,d=this.parseColor(t.strokeColor||"#000000"),{width:p,height:m}=e.getSize(),u=Math.max(0,Math.min(t.x||0,p-10)),h=Math.max(10,Math.min(m-(t.y||0)-(t.height||50),m-10));e.drawRectangle({x:u,y:h,width:Math.min(t.width||100,p-u),height:Math.min(t.height||50,m-h),borderColor:a(d.r,d.g,d.b),borderWidth:t.strokeWidth||2}),e.drawText("\uBCA1\uD130\uD328\uC2A4",{x:u+10,y:h+(t.height||50)/2,size:10,color:a(.5,.5,.5)})}catch(a){console.error("\uBCA1\uD130 \uD328\uC2A4 \uB300\uCCB4 \uADF8\uB9AC\uAE30\uB3C4 \uC2E4\uD328:",a)}}})}convertAndDrawSvgPath(e,t,o){return V(this,null,function*(){let{rgb:n}=o,a=this.parseColor(t.strokeColor||"#000000"),d=t.fill&&t.fill!=="none"?this.parseColor(t.fill):null,p=t.pathData||"",m=this.parseSvgPathData(p);yield this.drawPathCommands(e,m,t,o,a,d)})}parseSvgPathData(e){let t=[],o=/([MLQCZmlqcz])\s*([^MLQCZmlqcz]*)/g,n;for(;(n=o.exec(e))!==null;){let a=n[1],d=n[2].trim(),p=d?d.split(/[\s,]+/).map(Number).filter(m=>!isNaN(m)):[];t.push({command:a,params:p})}return t}drawPathCommands(e,t,o,n,a,d){return V(this,null,function*(){let{rgb:p}=n,m=0,u=0,h=0,x=0;console.log("\u{1F3A8} \uD328\uC2A4 \uBA85\uB839\uC5B4 \uADF8\uB9AC\uAE30:",{commandCount:t.length,firstCommands:t.slice(0,5),strokeColor:a,fillColor:d});for(let P of t)switch(P.command.toUpperCase()){case"M":P.params.length>=2&&(m=P.params[0],u=P.params[1],h=m,x=u,console.log(`  M ${m},${u}`));break;case"L":if(P.params.length>=2){let O=P.params[0],v=P.params[1];console.log(`  L ${O},${v} (\uC120 \uADF8\uB9AC\uAE30: ${m},${u} \u2192 ${O},${v})`),e.drawLine({start:{x:m,y:u},end:{x:O,y:v},thickness:o.strokeWidth||1,color:p(a.r,a.g,a.b)}),m=O,u=v}break;case"Q":if(P.params.length>=4){let O=P.params[0],v=P.params[1],y=P.params[2],D=P.params[3];console.log(`  Q ${O},${v} ${y},${D} (\uACE1\uC120)`);let S=10;for(let b=0;b<S;b++){let A=b/S,w=(b+1)/S,I=(1-A)*(1-A)*m+2*(1-A)*A*O+A*A*y,z=(1-A)*(1-A)*u+2*(1-A)*A*v+A*A*D,J=(1-w)*(1-w)*m+2*(1-w)*w*O+w*w*y,K=(1-w)*(1-w)*u+2*(1-w)*w*v+w*w*D;e.drawLine({start:{x:I,y:z},end:{x:J,y:K},thickness:o.strokeWidth||1,color:p(a.r,a.g,a.b)})}m=y,u=D}break;case"C":if(P.params.length>=6){let O=P.params[0],v=P.params[1],y=P.params[2],D=P.params[3],S=P.params[4],b=P.params[5];console.log(`  C ${O},${v} ${y},${D} ${S},${b} (3\uCC28 \uACE1\uC120)`);let A=15;for(let w=0;w<A;w++){let I=w/A,z=(w+1)/A,J=Math.pow(1-I,3)*m+3*Math.pow(1-I,2)*I*O+3*(1-I)*Math.pow(I,2)*y+Math.pow(I,3)*S,K=Math.pow(1-I,3)*u+3*Math.pow(1-I,2)*I*v+3*(1-I)*Math.pow(I,2)*D+Math.pow(I,3)*b,et=Math.pow(1-z,3)*m+3*Math.pow(1-z,2)*z*O+3*(1-z)*Math.pow(z,2)*y+Math.pow(z,3)*S,Y=Math.pow(1-z,3)*u+3*Math.pow(1-z,2)*z*v+3*(1-z)*Math.pow(z,2)*D+Math.pow(z,3)*b;e.drawLine({start:{x:J,y:K},end:{x:et,y:Y},thickness:o.strokeWidth||1,color:p(a.r,a.g,a.b)})}m=S,u=b}break;case"Z":console.log("  Z (\uACBD\uB85C \uB2EB\uAE30)"),(m!==h||u!==x)&&e.drawLine({start:{x:m,y:u},end:{x:h,y:x},thickness:o.strokeWidth||1,color:p(a.r,a.g,a.b)}),m=h,u=x;break}console.log("\u2705 \uD328\uC2A4 \uADF8\uB9AC\uAE30 \uC644\uB8CC")})}addSvgToPdfPage(e,t,o){return V(this,null,function*(){try{if(console.log("\u{1F3A8} SVG \uC694\uC18C\uB97C PDF\uB85C \uB80C\uB354\uB9C1 \uC2DC\uC791:",{svgContentLength:t.svgContent?.length||0,position:{x:t.x,y:t.y},size:{width:t.width,height:t.height}}),this.debugLogs.push("     \u{1F3A8} SVG \u2192 PDF \uBCC0\uD658 \uC2DC\uC791..."),this.debugLogs.push(`       \uD06C\uAE30: ${t.width}x${t.height}, SVG \uB370\uC774\uD130: ${(t.svgContent?.length||0/1024).toFixed(1)} KB`),this.cdr.detectChanges(),!t.svgContent){console.warn("\u26A0\uFE0F SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.debugLogs.push("       \u274C SVG \uCF58\uD150\uCE20 \uC5C6\uC74C"),this.cdr.detectChanges();return}try{this.debugLogs.push("       \u{1F504} SVG\uB97C PNG \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658 \uC911..."),this.cdr.detectChanges(),yield this.addSvgAsImageToPdf(e,t,o),console.log("\u2705 SVG\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658\uD558\uC5EC PDF\uC5D0 \uC0BD\uC785 \uC644\uB8CC"),this.debugLogs.push("       \u2705 SVG \u2192 PNG \uBCC0\uD658 \uC131\uACF5, PDF\uC5D0 \uC0BD\uC785 \uC644\uB8CC"),this.cdr.detectChanges();return}catch(y){console.warn("\u26A0\uFE0F SVG \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2E4\uD328, \uBCA1\uD130 \uBC29\uC2DD\uC73C\uB85C \uC2DC\uB3C4:",y),this.debugLogs.push(`       \u26A0\uFE0F PNG \uBCC0\uD658 \uC2E4\uD328: ${y}`),this.debugLogs.push("       \u{1F504} \uBCA1\uD130 \uBC29\uC2DD\uC73C\uB85C \uC7AC\uC2DC\uB3C4 \uC911..."),this.cdr.detectChanges()}console.log("\u{1F4CA} Fallback: \uBCA1\uD130 \uBC29\uC2DD\uC73C\uB85C SVG \uB80C\uB354\uB9C1 \uC2DC\uB3C4...");let d=new DOMParser().parseFromString(t.svgContent,"image/svg+xml").documentElement;if(d.tagName!=="svg"){console.error("\u274C \uC720\uD6A8\uD55C SVG\uAC00 \uC544\uB2D9\uB2C8\uB2E4.");return}let p=d.querySelectorAll("path"),m=d.querySelectorAll("rect"),u=d.querySelectorAll("circle");console.log(`\u{1F4CA} SVG \uC694\uC18C \uAC1C\uC218: path=${p.length}, rect=${m.length}, circle=${u.length}`);let{rgb:h}=o,x=e.getSize().height,P=t.x||0,O=t.y||0,v=t.height||842;for(let y=0;y<p.length;y++){let D=p[y],S=D.getAttribute("d");if(!S)continue;let b=D.getAttribute("fill")||"none",A=D.getAttribute("stroke")||"#000000",w=parseFloat(D.getAttribute("stroke-width")||"1"),I=this.parseSvgPathData(S),z={id:`svg-path-${y}`,type:"vector-path",x:P,y:O,width:t.width||595,height:v,pathData:S,strokeColor:A,strokeWidth:w,fill:b!=="none"?b:void 0};yield this.convertAndDrawSvgPath(e,z,o)}for(let y=0;y<m.length;y++){let D=m[y],S=parseFloat(D.getAttribute("x")||"0")+P,b=parseFloat(D.getAttribute("y")||"0"),A=parseFloat(D.getAttribute("width")||"0"),w=parseFloat(D.getAttribute("height")||"0"),I=D.getAttribute("fill")||"none",z=D.getAttribute("stroke")||"none",J=parseFloat(D.getAttribute("stroke-width")||"1"),K=x-O-b-w;if(I!=="none"){let et=this.parseColor(I);e.drawRectangle({x:S,y:K,width:A,height:w,color:h(et.r,et.g,et.b)})}if(z!=="none"){let et=this.parseColor(z);e.drawRectangle({x:S,y:K,width:A,height:w,borderColor:h(et.r,et.g,et.b),borderWidth:J})}}for(let y=0;y<u.length;y++){let D=u[y],S=parseFloat(D.getAttribute("cx")||"0")+P,b=parseFloat(D.getAttribute("cy")||"0"),A=parseFloat(D.getAttribute("r")||"0"),w=D.getAttribute("fill")||"none",I=D.getAttribute("stroke")||"none",z=parseFloat(D.getAttribute("stroke-width")||"1"),J=x-O-b,K=32;for(let et=0;et<K;et++){let Y=et/K*2*Math.PI,G=(et+1)/K*2*Math.PI,$=S+A*Math.cos(Y),U=J+A*Math.sin(Y),k=S+A*Math.cos(G),Q=J+A*Math.sin(G);if(I!=="none"){let at=this.parseColor(I);e.drawLine({start:{x:$,y:U},end:{x:k,y:Q},thickness:z,color:h(at.r,at.g,at.b)})}}}console.log("\u2705 SVG \uC694\uC18C \uB80C\uB354\uB9C1 \uC644\uB8CC")}catch(n){console.error("\u274C SVG \uC694\uC18C \uB80C\uB354\uB9C1 \uC2E4\uD328:",n);try{let{rgb:a}=o;e.drawText("SVG \uB80C\uB354\uB9C1 \uC2E4\uD328",{x:(t.x||50)+10,y:e.getSize().height-(t.y||100)-20,size:12,color:a(.8,0,0)})}catch(a){console.error("\uD3F4\uBC31 \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1\uB3C4 \uC2E4\uD328:",a)}}})}waitForPDFLib(){return V(this,null,function*(){return new Promise((e,t)=>{if(typeof window.PDFLib<"u"){e(window.PDFLib);return}let o=0,n=50,a=setInterval(()=>{o++,typeof window.PDFLib<"u"?(clearInterval(a),e(window.PDFLib)):o>=n&&(clearInterval(a),t(new Error("PDF-lib \uB85C\uB4DC \uC2E4\uD328")))},100)})})}generatePdfThumbnailsOptimized(){return V(this,null,function*(){if(console.log("[\uC378\uB124\uC77C] \uC0DD\uC131 \uC2DC\uC791 - PDF \uAD6C\uC131 \uBC29\uC2DD \uC801\uC6A9"),this.pdfSrc){console.log("[\uC378\uB124\uC77C] PDF URL \uC0AC\uC6A9:",this.pdfSrc),yield this.generateThumbnailsFromPdfUrl();return}if(!this.currentDocument?.pdfBase64){console.log("[\uC378\uB124\uC77C] PDF \uB370\uC774\uD130 \uC5C6\uC74C");return}console.log("[\uC378\uB124\uC77C] Base64 \uBC29\uC2DD\uC73C\uB85C \uC9C4\uD589");try{this.isGeneratingThumbnails=!0;let e=this.currentDocument.pdfBase64.split(",")[1],t=atob(e),o=new Uint8Array(t.length);for(let d=0;d<t.length;d++)o[d]=t.charCodeAt(d);let a=yield window.pdfjsLib.getDocument({data:o,cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/cmaps/",cMapPacked:!0}).promise;console.log("[\uC378\uB124\uC77C] Base64 PDF \uB85C\uB4DC \uC644\uB8CC");for(let d=1;d<=this.totalPages;d++){let p=yield a.getPage(d),m=yield this.generatePageThumbnailLikePdfConfig(p),u=d-1;this.pdfPages[u]&&(this.pdfPages[u].thumbnail=m)}this.pdfPages=[...this.pdfPages],this.cdr.detectChanges()}catch(e){console.error("[\uC378\uB124\uC77C] Base64 \uBC29\uC2DD\uB3C4 \uC2E4\uD328:",e),this.createDefaultThumbnailsForAllPages()}finally{this.isGeneratingThumbnails=!1}})}generateOptimizedThumbnail(e,t){return V(this,null,function*(){try{let o=yield e.getPage(t),n=yield this.extractNativeThumbnail(o);if(n){let a=t-1;this.pdfPages[a]&&(this.pdfPages[a].thumbnail=n);return}yield this.renderHighQualityThumbnail(o,t)}catch(o){console.error(`\uD398\uC774\uC9C0 ${t} \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:`,o);let n=t-1;this.pdfPages[n]&&(this.pdfPages[n].thumbnail=this.createDefaultThumbnail(t))}})}extractNativeThumbnail(e){return V(this,null,function*(){try{let t=yield e.getOperatorList();for(let o=0;o<t.fnArray.length;o++){let n=t.fnArray[o],a=t.argsArray[o];if(n===window.pdfjsLib.OPS.paintImageXObject){let d=a[0];if(d)return yield this.convertImageToDataUrl(e,d)}}return null}catch{return null}})}convertImageToDataUrl(e,t){return V(this,null,function*(){try{let n=e.getViewport({scale:.3}),a=document.createElement("canvas"),d=a.getContext("2d");return d?(a.width=n.width,a.height=n.height,d.fillStyle="#ffffff",d.fillRect(0,0,a.width,a.height),yield e.render({canvasContext:d,viewport:n}).promise,a.toDataURL("image/jpeg",.8)):null}catch{return null}})}renderHighQualityThumbnail(e,t){return V(this,null,function*(){let n=e.getViewport({scale:.25}),a=document.createElement("canvas"),d=a.getContext("2d");if(!d){let u=t-1;this.pdfPages[u]&&(this.pdfPages[u].thumbnail=this.createDefaultThumbnail(t));return}a.width=n.width,a.height=n.height,d.imageSmoothingEnabled=!0,d.imageSmoothingQuality="high",d.fillStyle="#ffffff",d.fillRect(0,0,a.width,a.height),yield e.render({canvasContext:d,viewport:n}).promise;let p=a.toDataURL("image/jpeg",.8),m=t-1;this.pdfPages[m]&&(this.pdfPages[m].thumbnail=p)})}onPdfLoaded(e){console.log("\u{1F4D6} PDF \uB85C\uB4DC\uB428:",e),this.totalPages=e.pagesCount||1,console.log("\u{1F4CA} \uCD1D \uD398\uC774\uC9C0 \uC218 \uC124\uC815\uB428:",this.totalPages),this.snackbar.showSuccess(`PDF \uBB38\uC11C\uAC00 \uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. (${this.totalPages}\uD398\uC774\uC9C0)`),this.generatePdfPageData(),this.enablePdfAnalysis?(console.log("\u{1F50D} PDF \uAD6C\uC870 \uC790\uB3D9 \uBD84\uC11D \uC2DC\uC791..."),this.analyzePdfStructure().then(()=>{console.log("\u2705 PDF \uAD6C\uC870 \uBD84\uC11D \uC644\uB8CC - \uB300\uC2DC\uBCF4\uB4DC \uD45C\uC2DC\uB428")}).catch(t=>{console.error("\u274C PDF \uAD6C\uC870 \uBD84\uC11D \uC2E4\uD328:",t)})):console.log("\u23F8\uFE0F PDF \uBD84\uC11D \uD1A0\uAE00 \uBE44\uD65C\uC131\uD654\uB428 - \uC790\uB3D9 \uBD84\uC11D \uAC74\uB108\uB700"),setTimeout(()=>{this.generatePdfThumbnailsOptimized()},2e3),setTimeout(()=>{this.setupPdfScrollListener()},500)}onPdfLoadingFailed(e){console.error("PDF loading failed:",e),this.snackbar.showError("PDF \uBB38\uC11C \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}onPageChange(e){this.currentPage=e}onZoomChange(e){this.zoomLevel=typeof e=="string"?parseInt(e):e}generatePdfPageData(){this.pdfPages=[];for(let e=1;e<=this.totalPages;e++)this.pdfPages.push({id:`page-${e}`,pageNumber:e,width:this.pageWidth,height:this.pageHeight,elements:[]})}generatePdfThumbnailsWithRetry(e=0){try{let o=window.PDFViewerApplication;if(o&&o.pdfDocument){let n=[];for(let a=1;a<=this.totalPages;a++)n.push(this.generateSinglePageThumbnail(a));Promise.all(n).then(()=>{this.pdfPages=[...this.pdfPages],this.cdr.detectChanges()}).catch(a=>{console.error("\uC378\uB124\uC77C \uC0DD\uC131 \uC911 \uC77C\uBD80 \uC624\uB958 \uBC1C\uC0DD:",a),this.cdr.detectChanges()})}else e<5?setTimeout(()=>{this.generatePdfThumbnailsWithRetry(e+1)},1500):(console.error("PDF \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328: PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC74C"),this.createDefaultThumbnailsForAllPages())}catch(o){console.error("PDF \uC378\uB124\uC77C \uC0DD\uC131 \uC911 \uC624\uB958:",o),e<5?setTimeout(()=>{this.generatePdfThumbnailsWithRetry(e+1)},1500):this.createDefaultThumbnailsForAllPages()}}generateSinglePageThumbnail(e){return new Promise(t=>{let o=window.PDFViewerApplication;if(!o||!o.pdfDocument){let n=e-1;this.pdfPages[n]&&(this.pdfPages[n].thumbnail=this.createDefaultThumbnail(e)),t();return}o.pdfDocument.getPage(e).then(n=>{let d=n.getViewport({scale:.25}),p=document.createElement("canvas"),m=p.getContext("2d");if(!m){let h=e-1;this.pdfPages[h]&&(this.pdfPages[h].thumbnail=this.createDefaultThumbnail(e)),t();return}p.width=d.width,p.height=d.height,m.fillStyle="#ffffff",m.fillRect(0,0,p.width,p.height);let u={canvasContext:m,viewport:d};n.render(u).promise.then(()=>{try{let h=p.toDataURL("image/jpeg",.7),x=e-1;this.pdfPages[x]&&(this.pdfPages[x].thumbnail=h),t()}catch(h){console.error(`\uD398\uC774\uC9C0 ${e} \uCE94\uBC84\uC2A4 \uBCC0\uD658 \uC2E4\uD328:`,h);let x=e-1;this.pdfPages[x]&&(this.pdfPages[x].thumbnail=this.createDefaultThumbnail(e)),t()}}).catch(h=>{console.error(`\uD398\uC774\uC9C0 ${e} \uB80C\uB354\uB9C1 \uC2E4\uD328:`,h);let x=e-1;this.pdfPages[x]&&(this.pdfPages[x].thumbnail=this.createDefaultThumbnail(e)),t()})}).catch(n=>{console.error(`\uD398\uC774\uC9C0 ${e} \uB85C\uB4DC \uC2E4\uD328:`,n);let a=e-1;this.pdfPages[a]&&(this.pdfPages[a].thumbnail=this.createDefaultThumbnail(e)),t()})})}createDefaultThumbnailsForAllPages(){this.pdfPages.forEach((e,t)=>{e.thumbnail=this.createDefaultThumbnail(t+1)}),this.cdr.detectChanges()}createDefaultThumbnail(e){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
      <svg width="120" height="160" xmlns="http://www.w3.org/2000/svg">
        <rect width="120" height="160" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
        <text x="${120/2}" y="${160/2-10}" font-size="14" fill="#6c757d" text-anchor="middle" font-family="Arial">PDF</text>
        <text x="${120/2}" y="${160/2+10}" font-size="12" fill="#6c757d" text-anchor="middle" font-family="Arial">Page ${e}</text>
      </svg>
    `)}`}generateThumbnailsFromPdfUrl(){return V(this,null,function*(){try{this.isGeneratingThumbnails=!0,console.log("[\uC378\uB124\uC77C] PDF URL \uBC29\uC2DD\uC73C\uB85C \uC0DD\uC131");let t=yield window.pdfjsLib.getDocument(this.pdfSrc).promise;console.log("[\uC378\uB124\uC77C] PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC, \uCD1D \uD398\uC774\uC9C0:",t.numPages);for(let n=1;n<=this.totalPages;n++){console.log("[\uC378\uB124\uC77C]",n,"\uD398\uC774\uC9C0 \uC0DD\uC131 \uC911");let a=yield t.getPage(n),d=yield this.generatePageThumbnailLikePdfConfig(a),p=n-1;this.pdfPages[p]&&(this.pdfPages[p].thumbnail=d,console.log("[\uC378\uB124\uC77C]",n,"\uD398\uC774\uC9C0 \uC644\uB8CC"))}console.log("[\uC378\uB124\uC77C] URL \uBC29\uC2DD \uC0DD\uC131 \uC644\uB8CC"),this.pdfPages=[...this.pdfPages],this.cdr.detectChanges();let o=this.pdfPages.filter(n=>n.thumbnail).length;console.log("[\uC378\uB124\uC77C] \uCD5C\uC885 \uC0DD\uC131 \uAC1C\uC218:",o,"/",this.totalPages)}catch(e){console.error("[\uC378\uB124\uC77C] URL \uBC29\uC2DD \uC2E4\uD328:",e),this.createDefaultThumbnailsForAllPages()}finally{this.isGeneratingThumbnails=!1}})}generatePageThumbnailLikePdfConfig(e){return V(this,null,function*(){let o=e.getViewport({scale:.3}),n=document.createElement("canvas"),a=n.getContext("2d");if(!a)throw new Error("Canvas context\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");n.height=o.height,n.width=o.width;let d={canvasContext:a,viewport:o};return yield e.render(d).promise,n.toDataURL("image/png")})}onElementPropertyChange(e){if(console.log("Element property changed:",e),!this.selectedElement||!e)return;let{property:t,value:o}=e,n=this.pageElements.find(a=>a.id===this.selectedElement.id);if(n){if(t.includes(".")){let a=t.split("."),d=n;for(let p=0;p<a.length-1;p++)d[a[p]]||(d[a[p]]={}),d=d[a[p]];d[a[a.length-1]]=o}else n[t]=o;if(t.includes(".")){let a=t.split("."),d=this.selectedElement;for(let p=0;p<a.length-1;p++)d[a[p]]||(d[a[p]]={}),d=d[a[p]];d[a[a.length-1]]=o}else this.selectedElement[t]=o;this.saveToUndoStack(),this.updateSelectedElement(),console.log("Element updated:",n)}}onDeselectElement(){console.log("Element deselected"),this.selectedElement=null,this.updateSelectedElement()}onDeleteElement(){if(console.log("Delete element request from sidebar"),this.selectedElement){let e=this.currentPage-1,t=this.pdfPages[e];if(t){let o=t.elements.findIndex(n=>n.id===this.selectedElement.id);console.log("Deleting element:",this.selectedElement.id,"at index:",o),o>-1?(t.elements.splice(o,1),console.log("Element deleted successfully. Remaining elements:",t.elements.length),this.selectedElement=null,this.saveToUndoStack()):console.warn("Element not found in current page")}else console.error("Current page not found:",e)}else console.warn("No element selected for deletion")}onSidebarAction(e){switch(console.log("Sidebar action:",e),e.action){case"toggle-dark-mode":this.toggleDarkMode();break;case"keep-first-page":this.keepFirstPageOnly();break;case"analyze-structure":this.analyzePdfStructure();break;case"export-text-stream":this.exportTextStreamData();break;case"compress-pdf":this.compressPdf();break;default:console.log("Unknown sidebar action:",e.action)}}toggleDarkMode(){let e=document.body;e.classList.contains("dark-mode")?(e.classList.remove("dark-mode"),localStorage.setItem("darkMode","false")):(e.classList.add("dark-mode"),localStorage.setItem("darkMode","true"))}initializeDarkMode(){localStorage.getItem("darkMode")==="true"&&document.body.classList.add("dark-mode")}keepFirstPageOnly(){return V(this,null,function*(){if(!this.pdfSrc){this.snackbar.showError("PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{this.snackbar.showInfo("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uB294 \uC911...");let e=yield this.pdfPageDeleterService.getPageCount(this.pdfSrc);if(console.log(`\uD604\uC7AC PDF \uCD1D \uD398\uC774\uC9C0 \uC218: ${e}`),e===1){this.snackbar.showInfo("\uC774\uBBF8 1\uD398\uC774\uC9C0\uB9CC \uC788\uC2B5\uB2C8\uB2E4.");return}let t=[];for(let x=2;x<=e;x++)t.push(x);console.log(`\uC0AD\uC81C\uD560 \uD398\uC774\uC9C0: ${t.join(", ")}`);let o=yield this.pdfPageDeleterService.deletePages(this.pdfSrc,t),d=yield(yield(yield fetch(o)).blob()).arrayBuffer(),p=this.arrayBufferToBase64(d);this.pdfBase64Data=p,console.log("PDF Base64 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC (\uD06C\uAE30:",p.length,")"),this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=o;let u=(this.loadedFileName||"document.pdf").replace(".pdf","_first_page_only.pdf"),h=document.createElement("a");h.href=o,h.download=u,document.body.appendChild(h),h.click(),document.body.removeChild(h),this.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30 \uC644\uB8CC! (${e}\uD398\uC774\uC9C0 \u2192 1\uD398\uC774\uC9C0) - \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC\uB428`),console.log("1\uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30 \uC644\uB8CC \uBC0F \uB2E4\uC6B4\uB85C\uB4DC:",u)}catch(e){console.error("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958:",e),this.snackbar.showError("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}exportTextStreamData(){return V(this,null,function*(){if(!this.pdfSrc){this.snackbar.showError("PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{this.snackbar.showInfo("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911...");let t=yield(yield fetch(this.pdfSrc)).blob(),o=this.currentDocument?.title||"document.pdf",n=new File([t],o,{type:"application/pdf"}),a=yield this.pdfTextStreamService.extractTextStreamAsJson(n),d=JSON.stringify(a,null,2),p=new Blob([d],{type:"application/json"}),m=URL.createObjectURL(p),u=document.createElement("a");u.href=m,u.download=`${o.replace(".pdf","")}_text_stream.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(m),this.snackbar.showSuccess("\u2705 \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC JSON \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!"),console.log("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130:",a)}catch(e){console.error("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958:",e),this.snackbar.showError("\uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadVectorStreamJson(){return V(this,null,function*(){let e=null,t="document";try{if(this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uC2A4\uD2B8\uB9BC \uB370\uC774\uD130 \uCD94\uCD9C \uC911..."),this.pdfBase64Data){console.log("\u{1F4C4} pdfBase64Data\uB85C\uBD80\uD130 PDF \uC0DD\uC131");let n=this.pdfBase64Data.includes(",")?this.pdfBase64Data.split(",")[1]:this.pdfBase64Data,a=atob(n),d=new Array(a.length);for(let u=0;u<a.length;u++)d[u]=a.charCodeAt(u);let p=new Uint8Array(d),m=new Blob([p],{type:"application/pdf"});t=this.loadedFileName?this.loadedFileName.replace(".pdf",""):"document",e=new File([m],`${t}.pdf`,{type:"application/pdf"})}else if(this.pdfSrc){console.log("\u{1F4C4} pdfSrc URL\uB85C\uBD80\uD130 PDF \uAC00\uC838\uC624\uAE30");let a=yield(yield fetch(this.pdfSrc)).blob();t=this.loadedFileName?this.loadedFileName.replace(".pdf",""):"document",e=new File([a],`${t}.pdf`,{type:"application/pdf"})}else{let n=window.PDFViewerApplication;if(n?.pdfDocument){console.log("\u{1F4C4} PDFViewerApplication\uC73C\uB85C\uBD80\uD130 PDF \uAC00\uC838\uC624\uAE30");let a=yield n.pdfDocument.getData(),d=new Blob([a],{type:"application/pdf"});t=n.url?.split("/").pop()?.split(".")[0]||"document",e=new File([d],`${t}.pdf`,{type:"application/pdf"})}}if(!e){this.snackbar.showError("\u274C PDF \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. PDF\uB97C \uB2E4\uC2DC \uC5C5\uB85C\uB4DC\uD574 \uC8FC\uC138\uC694."),console.warn("PDF \uC811\uADFC \uC2E4\uD328:",{hasPdfBase64Data:!!this.pdfBase64Data,hasPdfSrc:!!this.pdfSrc,hasCurrentDocument:!!this.currentDocument,loadedFileName:this.loadedFileName});return}console.log("\u2705 PDF \uD30C\uC77C \uC900\uBE44 \uC644\uB8CC:",e.name,e.size);let o=yield this.pdfTextStreamService.extractVectorStreamData(e);this.pdfTextStreamService.downloadVectorStreamJson(o),this.pdfTextStreamService.logVectorStreamJson(o),this.snackbar.showSuccess("\u2705 \uBCA1\uD130 \uC2A4\uD2B8\uB9BC JSON \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!")}catch(o){console.error("\uBCA1\uD130 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958:",o),this.snackbar.showError("\uBCA1\uD130 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}compressPdf(){return V(this,null,function*(){if(!this.pdfSrc){this.snackbar.showError("PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{this.snackbar.showInfo("PDF \uC555\uCD95 \uC911... (\uC7AC\uCD5C\uC801\uD654)");let t=yield(yield fetch(this.pdfSrc)).arrayBuffer(),n=yield(yield window.PDFLib.PDFDocument.load(t)).save(),a=t.byteLength,d=n.byteLength,p=a-d,m=(p/a*100).toFixed(2),u=this.arrayBufferToBase64(n);this.pdfBase64Data=u,console.log("\uC555\uCD95\uB41C PDF Base64 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC (\uD06C\uAE30:",u.length,")");let h=new Blob([n],{type:"application/pdf"}),x=URL.createObjectURL(h);this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=x;let O=(this.loadedFileName||"document.pdf").replace(".pdf","_compressed.pdf"),v=document.createElement("a");v.href=x,v.download=O,document.body.appendChild(v),v.click(),document.body.removeChild(v),this.cdr.detectChanges();let y=p>0?`\u2705 PDF \uC555\uCD95 \uC644\uB8CC! (${m}% \uAC10\uC18C, ${Math.round(p/1024)}KB \uC808\uC57D) - \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC\uB428`:"\u2705 PDF \uCD5C\uC801\uD654 \uC644\uB8CC! (\uC774\uBBF8 \uCD5C\uC801\uD654\uB41C \uC0C1\uD0DC\uC785\uB2C8\uB2E4) - \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC\uB428";this.snackbar.showSuccess(y),console.log(`\uC555\uCD95 \uC644\uB8CC \uBC0F \uB2E4\uC6B4\uB85C\uB4DC - \uC6D0\uBCF8: ${a}bytes, \uC555\uCD95: ${d}bytes, \uD30C\uC77C\uBA85: ${O}`)}catch(e){console.error("PDF \uC555\uCD95 \uC911 \uC624\uB958:",e),this.snackbar.showError("PDF \uC555\uCD95 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}startDrawing(e){this.isDrawing=!0;let t=this.signatureCanvas.nativeElement,o=this.getCanvasCoordinates(e,t);this.lastX=o.x,this.lastY=o.y,this.signatureEditorData.canvasData||this.initializeCanvas()}draw(e){if(!this.isDrawing)return;let t=this.signatureCanvas.nativeElement,o=t.getContext("2d");if(!o)return;let n=this.getCanvasCoordinates(e,t),a=n.x,d=n.y;o.lineWidth=this.signatureEditorData.strokeWidth,o.strokeStyle=this.signatureEditorData.strokeColor,o.lineCap="round",o.lineJoin="round",o.beginPath(),o.moveTo(this.lastX,this.lastY),o.lineTo(a,d),o.stroke(),this.lastX=a,this.lastY=d}stopDrawing(){this.isDrawing&&(this.isDrawing=!1,this.updateCanvasData())}handleTouch(e){e.preventDefault();let t=this.signatureCanvas.nativeElement,o=e.touches[0]||e.changedTouches[0];if(e.type==="touchstart"){this.isDrawing=!0;let n=this.getCanvasTouchCoordinates(o,t);this.lastX=n.x,this.lastY=n.y,this.signatureEditorData.canvasData||this.initializeCanvas()}else if(e.type==="touchmove"&&this.isDrawing){let n=t.getContext("2d");if(!n)return;let a=this.getCanvasTouchCoordinates(o,t),d=a.x,p=a.y;n.lineWidth=this.signatureEditorData.strokeWidth,n.strokeStyle=this.signatureEditorData.strokeColor,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.moveTo(this.lastX,this.lastY),n.lineTo(d,p),n.stroke(),this.lastX=d,this.lastY=p}}clearCanvas(){let e=this.signatureCanvas.nativeElement,t=e.getContext("2d");if(t){let o=e.getBoundingClientRect();t.clearRect(0,0,o.width,o.height),this.initializeCanvas(),this.signatureEditorData.canvasData=null}}useCanvasSignature(){this.updateCanvasData(),this.signatureEditorData.signatureText=""}initializeCanvas(){let e=this.signatureCanvas.nativeElement,t=e.getContext("2d");if(t){let o=window.devicePixelRatio||1,n=e.getBoundingClientRect();e.width=n.width*o,e.height=n.height*o,e.style.width=n.width+"px",e.style.height=n.height+"px",t.scale(o,o),t.fillStyle="#ffffff",t.fillRect(0,0,n.width,n.height),t.lineCap="round",t.lineJoin="round",t.imageSmoothingEnabled=!0}}updateCanvasData(){let e=this.signatureCanvas.nativeElement;this.signatureEditorData.canvasData=e.toDataURL("image/png")}initializeCanvasIfNeeded(){this.signatureCanvas&&this.initializeCanvas()}getCanvasCoordinates(e,t){let o=t.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top}}getCanvasTouchCoordinates(e,t){let o=t.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top}}createSentenceOverlays(){return V(this,null,function*(){if(console.log("\u{1F4DD} \uBB38\uC7A5 \uB2E8\uC704 \uC624\uBC84\uB808\uC774 \uC0DD\uC131 \uC2DC\uC791"),!this.pdfSrc){this.snackbar.showWarning("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694");return}try{let t=yield(yield fetch(this.pdfSrc)).blob(),o=new File([t],this.docsTitle||"document.pdf",{type:"application/pdf"});console.log("\u{1F4CA} PDF \uD30C\uC77C \uB85C\uB4DC:",o.size,"bytes");let n=yield this.pdfTextStreamService.extractTextStreamAsJson(o);console.log("\u2705 \uD14D\uC2A4\uD2B8 \uC2A4\uD2B8\uB9BC \uCD94\uCD9C \uC644\uB8CC:",n),console.log("\u{1F4CA} \uD398\uC774\uC9C0 \uC218:",n.pageCount),console.log("\u{1F4DD} \uCD1D \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C:",n.metadata.totalTextItems),this.sentenceGroups=this.convertToSentenceGroups(n),console.log("\u{1F4CB} \uC0DD\uC131\uB41C \uBB38\uC7A5 \uADF8\uB8F9:",this.sentenceGroups.length),this.textEditModalInfo={totalTextItems:n.metadata.totalTextItems,sentenceGroupCount:this.sentenceGroups.length,currentPage:this.currentPage,totalPages:n.pageCount},this.isTextEditInfoModalVisible=!0}catch(e){console.error("\u274C \uBB38\uC7A5 \uC624\uBC84\uB808\uC774 \uC0DD\uC131 \uC2E4\uD328:",e),this.snackbar.showError("\uD14D\uC2A4\uD2B8 \uCD94\uCD9C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4")}})}convertToSentenceGroups(e){console.log("\u{1F504} [convertToSentenceGroups] \uC2DC\uC791",e);let t=[];if(e.pages&&e.pages.length>0){let o=e.pages[0];if(console.log("\u{1F4C4} \uCCAB \uD398\uC774\uC9C0 \uD14D\uC2A4\uD2B8 \uC544\uC774\uD15C \uC218:",o.textItems?.length||0),!o.textItems||o.textItems.length===0)return console.warn("\u26A0\uFE0F \uCCAB \uD398\uC774\uC9C0\uC5D0 textItems\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4!"),t;let n=[...o.textItems].sort((p,m)=>Math.abs(p.position.y-m.position.y)<5?p.position.x-m.position.x:m.position.y-p.position.y);console.log("\u{1F4CA} \uC815\uB82C\uB41C \uCCAB 3\uAC1C \uC544\uC774\uD15C:",n.slice(0,3));let a=null,d=20;n.forEach((p,m)=>{if(!a)a={text:p.text,position:{x:p.position.x,y:p.position.y,width:p.position.width||100,height:p.position.height||20},items:[p],pageNumber:1};else{let u=Math.abs(p.position.y-a.position.y),h=p.position.x-(a.position.x+a.position.width);u<d&&h<d?(a.text+=" "+p.text,a.position.width=p.position.x+(p.position.width||100)-a.position.x,a.position.height=Math.max(a.position.height,p.position.height||20),a.items.push(p)):(t.push(a),a={text:p.text,position:{x:p.position.x,y:p.position.y,width:p.position.width||100,height:p.position.height||20},items:[p],pageNumber:1})}}),a&&t.push(a)}else console.warn("\u26A0\uFE0F textStreamData.pages\uAC00 \uC5C6\uAC70\uB098 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4!",e);return console.log(`\u2705 [convertToSentenceGroups] \uC644\uB8CC: ${t.length}\uAC1C \uADF8\uB8F9 \uC0DD\uC131`),console.log("\u{1F4CB} \uCCAB \uBC88\uC9F8 \uADF8\uB8F9 \uC0D8\uD50C:",t[0]),t}createTextEditorInstances(){if(!this.sentenceGroups||this.sentenceGroups.length===0){this.sentenceTextEditors=[];return}let e=this.sentenceGroups.filter(t=>t.pageNumber===1);if(e.length===0){console.log("[DOCS] \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uC5D0 \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uBB38\uC7A5 \uADF8\uB8F9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),this.sentenceTextEditors=[];return}this.sentenceTextEditors=e.map((t,o)=>{let n=this.convertPdfToViewerCoordinates(t);if(o===0){console.log("=== [DOCS] \uCCAB \uBC88\uC9F8 \uC5D0\uB514\uD130 \uC88C\uD45C \uBCC0\uD658 ==="),console.log("[DOCS] PDF \uC88C\uD45C:",t.position),console.log("[DOCS] \uBCC0\uD658\uB41C \uC88C\uD45C:",n),console.log("[DOCS] \uC6D0\uBCF8 \uC88C\uD45C:",n.x,"\u2192 \uC870\uC815\uB41C \uC88C\uD45C:",n.x-10),console.log("[DOCS] \uC6D0\uBCF8 \uD3ED:",n.width,"\u2192 \uC870\uC815\uB41C \uD3ED:",n.width+20);let a=document.querySelector(".page"),d=this.pdfContainer?.nativeElement;if(a&&d){let p=a.getBoundingClientRect(),m=d.getBoundingClientRect();console.log("[DOCS] Page Rect:",{width:p.width,height:p.height,left:p.left,top:p.top}),console.log("[DOCS] Container Rect:",{width:m.width,height:m.height,left:m.left,top:m.top}),console.log("[DOCS] Calculated Scale:",p.width/595.276)}else console.warn("[DOCS] pageDiv \uB610\uB294 viewerContainer\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4!")}return{id:`sentence-editor-${o}`,x:n.x-10,y:n.y,width:n.width+20,height:n.height,rotation:0,text:t.text,originalText:t.text,isActive:!1,isModified:!1,font:{name:"NanumGothic",size:14,color:"#000000"}}}),console.log(`[DOCS] \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uC5D0\uC11C \uC0DD\uC131\uB41C \uBB38\uC7A5 \uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130\uB4E4: ${this.sentenceTextEditors.length}\uAC1C`)}convertPdfToViewerCoordinates(e){let o=document.querySelector(".page"),n=this.pdfContainer?.nativeElement;if(!o||!n){console.warn("Page or container not found");let y=(this.zoomLevel||100)/100,D=e.position.y;return{x:e.position.x*y,y:D*y,width:e.position.width*y,height:e.position.height*y}}let a=o.getBoundingClientRect(),d=n.getBoundingClientRect(),u=a.width/595.276,h=e.position.y,x=e.position.x*u,P=h*u,O=x+(a.left-d.left),v=P+(a.top-d.top);return{x:O,y:v,width:e.position.width*u,height:e.position.height*u}}onSentenceOverlayClick(e){console.log("\u{1F4DD} \uBB38\uC7A5 \uC624\uBC84\uB808\uC774 \uD074\uB9AD:",e.id),this.sentenceTextEditors.forEach(o=>{o.id!==e.id&&(o.isActive=!1)});let t=this.sentenceTextEditors.find(o=>o.id===e.id);t&&(t.isActive=!t.isActive,console.log(`\u2705 \uC5D0\uB514\uD130 ${e.id} ${t.isActive?"\uD65C\uC131\uD654":"\uBE44\uD65C\uC131\uD654"}`)),this.cdr.detectChanges()}setupPdfScrollListener(){if(this.scrollListenerAttached){console.log("\u26A0\uFE0F \uC2A4\uD06C\uB864 \uB9AC\uC2A4\uB108 \uC774\uBBF8 \uC5F0\uACB0\uB428, \uC911\uBCF5 \uBC29\uC9C0");return}if(!this.pdfContainer){console.warn("pdfContainer not found");return}new MutationObserver((t,o)=>{let n=this.pdfContainer.nativeElement.querySelector("#viewerContainer");n&&(this.renderer.listen(n,"scroll",a=>this.onPdfScroll(a)),this.scrollListenerAttached=!0,console.log("\u2705 PDF \uC2A4\uD06C\uB864 \uB9AC\uC2A4\uB108 \uC124\uC815 \uC644\uB8CC (ez-reader \uBC29\uC2DD)"),o.disconnect())}).observe(this.pdfContainer.nativeElement,{childList:!0,subtree:!0})}onPdfScroll(e){let t=e.target;this.scrollLeft=t.scrollLeft,this.scrollTop=t.scrollTop,this.sentenceTextEditors.forEach(o=>{o.isActive&&(o.isActive=!1)}),this.sentenceGroups&&this.sentenceGroups.length>0&&this.createTextEditorInstances(),this.cdr.detectChanges()}onTextEditorConfigChange(e){let t=this.sentenceTextEditors.findIndex(o=>o.id===e.id);t!==-1&&(this.sentenceTextEditors[t]=Be(yt({},e),{isModified:!0}))}onTextEditorClose(){this.textEditorVisible=!1,console.log("\uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uB2EB\uAE30")}onTextEditorDelete(e){this.sentenceTextEditors=this.sentenceTextEditors.filter(t=>t.id!==e),console.log("\uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uC0AD\uC81C:",e)}onTextEditorDeactivate(e){let t=this.sentenceTextEditors.findIndex(o=>o.id===e);t!==-1&&(this.sentenceTextEditors[t].isActive=!1,console.log("\uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uBE44\uD65C\uC131\uD654:",e))}onTextEditInfoModalConfirm(){console.log("\u2705 \uD14D\uC2A4\uD2B8 \uD3B8\uC9D1 \uC2DC\uC791 \uD655\uC778"),this.isTextEditInfoModalVisible=!1,this.createTextEditorInstances(),console.log("\u{1F4CA} sentenceTextEditors \uAC1C\uC218:",this.sentenceTextEditors.length),console.log("\u{1F4CA} textEditorVisible:",this.textEditorVisible),this.textEditorVisible=!0,console.log("\u2705 \uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130 \uD65C\uC131\uD654 \uC644\uB8CC"),console.log("\u{1F4CB} \uC0DD\uC131\uB41C \uC5D0\uB514\uD130\uB4E4:",this.sentenceTextEditors),this.cdr.detectChanges(),this.snackbar.showSuccess(`${this.sentenceGroups.length}\uAC1C\uC758 \uD14D\uC2A4\uD2B8 \uBE14\uB85D\uC744 \uD3B8\uC9D1\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4`)}onTextEditInfoModalCancel(){this.isTextEditInfoModalVisible=!1,this.sentenceGroups=[],console.log("\uD14D\uC2A4\uD2B8 \uD3B8\uC9D1 \uCDE8\uC18C\uB428")}loadVectorGraphicsFromPdf(e){return V(this,null,function*(){try{console.log("\u{1F3A8} PDF \uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D \uC2DC\uC791..."),this.snackbar.showInfo("\uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D \uC911..."),this.loadedVectorData=yield this.pdfTextStreamService.extractVectorStreamData(e),console.log("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uB85C\uB4DC \uC644\uB8CC:",{totalOperations:this.loadedVectorData.totalOperations,pageCount:this.loadedVectorData.pageCount,summary:this.loadedVectorData.summary}),this.snackbar.showSuccess(`\uBCA1\uD130 \uADF8\uB798\uD53D ${this.loadedVectorData.totalOperations}\uAC1C \uC694\uC18C \uBC1C\uACAC`),this.loadedVectorData.pageDetails.length>0&&(yield this.renderVectorGraphicsToCurrentPage())}catch(t){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB4DC \uC624\uB958:",t),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uBD84\uC11D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}renderVectorGraphicsToCurrentPage(){return V(this,null,function*(){if(!this.loadedVectorData||!this.pdfStructureData){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130 \uB610\uB294 \uAD6C\uC870 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uADF8\uB798\uD53D \uC7AC\uC0DD\uC131 \uC2DC\uC791...`);let e=this.pdfPages.find(d=>d.pageNumber===this.currentPage);if(!e){console.warn("\u26A0\uFE0F \uD604\uC7AC \uD398\uC774\uC9C0 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=e.elements.length;e.elements=e.elements.filter(d=>d.type!=="vector-path");let o=t-e.elements.length;console.log(`\u{1F5D1}\uFE0F \uAE30\uC874 \uBCA1\uD130 \uC694\uC18C ${o}\uAC1C \uC81C\uAC70`);let n=this.loadedVectorData.pageDetails.find(d=>d.pageNumber===this.currentPage);if(!n||!n.operations||n.operations.length===0){console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`),this.snackbar.showWarning(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}let a=this.convertVectorOperationsToElements(n,this.currentPage);e.elements.push(...a),console.log(`\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uC7AC\uC0DD\uC131 \uC644\uB8CC: ${a.length}\uAC1C \uC694\uC18C`),this.snackbar.showSuccess(`\uD398\uC774\uC9C0 ${this.currentPage}\uC5D0 ${a.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`),this.cdr.detectChanges()}catch(e){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB80C\uB354\uB9C1 \uC624\uB958:",e),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uB80C\uB354\uB9C1 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}getOrCreateVectorCanvas(){let e="vector-graphics-canvas",t=document.getElementById(e);if(!t){t=document.createElement("canvas"),t.id=e,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.zIndex="1",t.style.pointerEvents="none";let o=document.querySelector(".pdf-page-container");o&&o.appendChild(t)}return t}convertRenderedGraphicsToElements(){let e=this.pdfPages.find(t=>t.pageNumber===this.currentPage);if(!e){console.warn("\u26A0\uFE0F \uD604\uC7AC \uD398\uC774\uC9C0 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}e.elements=e.elements.filter(t=>t.type!=="vector-path"),this.renderedVectorGraphics.forEach((t,o)=>{if(t.svgPath&&t.boundingBox.width>0&&t.boundingBox.height>0){let n={id:`vector-${t.id}-${o}`,type:"vector-path",x:t.boundingBox.x,y:t.boundingBox.y,width:t.boundingBox.width,height:t.boundingBox.height,pathData:t.svgPath,fill:t.style.fill||"none",strokeColor:t.style.stroke||"#2c3e50",strokeWidth:t.style.strokeWidth||2,fillOpacity:t.style.opacity||1,strokeOpacity:t.style.opacity||1,properties:{originalType:t.type,coordinates:t.coordinates,pageNumber:t.pageNumber}};e.elements.push(n)}}),console.log(`\u{1F4DD} ${e.elements.filter(t=>t.type==="vector-path").length}\uAC1C \uBCA1\uD130 \uC694\uC18C\uB97C \uD398\uC774\uC9C0\uC5D0 \uCD94\uAC00\uD588\uC2B5\uB2C8\uB2E4.`),this.cdr.detectChanges()}toggleVectorGraphicsPreview(){this.showVectorGraphicsPreview=!this.showVectorGraphicsPreview,console.log(`\u{1F441}\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D ${this.showVectorGraphicsPreview?"\uD45C\uC2DC":"\uC228\uAE40"}`);let e=this.pdfPages.find(o=>o.pageNumber===this.currentPage);if(!e){console.warn("\u26A0\uFE0F \uD604\uC7AC \uD398\uC774\uC9C0 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=0;e.elements.forEach(o=>{o.type==="vector-path"&&(o.properties||(o.properties={}),o.properties.visible=this.showVectorGraphicsPreview,t++)}),this.cdr.detectChanges(),this.snackbar.showInfo(`${t}\uAC1C \uBCA1\uD130 \uC694\uC18C ${this.showVectorGraphicsPreview?"\uD45C\uC2DC":"\uC228\uAE40"}`)}addDebugLog(e,t,o){if(!this.enableDebugLogs)return;let n=o?JSON.stringify(o,(d,p)=>p,2):"",a=`[${new Date().toISOString()}] [${e}] ${t}${n?`
`+n:""}`;this.debugLogs.push(a),console.log(`[${e}] ${t}`,o||"")}downloadPdfBinary(){return V(this,null,function*(){try{let e=window.PDFViewerApplication,t=null,o="document";if(e?.pdfDocument)console.log("\u{1F4C4} PDFViewerApplication\uC73C\uB85C\uBD80\uD130 PDF \uBC14\uC774\uB108\uB9AC \uAC00\uC838\uC624\uAE30"),t=yield e.pdfDocument.getData(),o=e.url?.split("/").pop()?.split(".")[0]||"document";else if(this.pdfSrc)console.log("\u{1F4C4} pdfSrc\uB85C\uBD80\uD130 PDF \uBC14\uC774\uB108\uB9AC \uAC00\uC838\uC624\uAE30"),t=yield(yield fetch(this.pdfSrc)).arrayBuffer(),o=this.loadedFileName?.split(".")[0]||"document";else if(this.pdfBase64Data){console.log("\u{1F4C4} Base64 \uB370\uC774\uD130\uB85C\uBD80\uD130 PDF \uBC14\uC774\uB108\uB9AC \uAC00\uC838\uC624\uAE30");let m=this.pdfBase64Data.includes("base64,")?this.pdfBase64Data.split("base64,")[1]:this.pdfBase64Data,u=atob(m),h=new Uint8Array(u.length);for(let x=0;x<u.length;x++)h[x]=u.charCodeAt(x);t=h.buffer,o=this.loadedFileName?.split(".")[0]||"document"}if(!t){this.snackbar.showError("\u274C PDF \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=new Blob([t],{type:"application/pdf"}),a=URL.createObjectURL(n),d=document.createElement("a");d.href=a,d.download=`${o}_binary_${Date.now()}.pdf`,d.click(),URL.revokeObjectURL(a);let p=(t.byteLength/1024).toFixed(2);this.snackbar.showSuccess(`\u2705 PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC (${p}KB)`),console.log("\u2705 PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC:",{fileName:d.download,size:`${p}KB`,byteLength:t.byteLength})}catch(e){console.error("\u274C PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC \uC624\uB958:",e),this.snackbar.showError("PDF \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}clearDebugLogs(){this.debugLogs=[],this.vectorDebugInfo={},this.snackbar.showInfo("\uB514\uBC84\uADF8 \uB85C\uADF8\uAC00 \uCD08\uAE30\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}redrawAllVectorGraphics(){return V(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791..."),console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791...");let t=e.pdfDocument,o=window.pdfjsLib;if(!o){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=document.getElementById("viewerContainer")||document.querySelector(".pdfViewer");if(!n){this.snackbar.showError("\u274C PDF \uBDF0\uC5B4 \uCEE8\uD14C\uC774\uB108\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}yield this.pdfTextStreamService.redrawAllPagesVectorGraphics(t,o,n),this.snackbar.showSuccess("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC644\uB8CC!"),console.log("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC644\uB8CC!")}catch(e){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC624\uB958:",e),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}redrawCurrentPageVectorGraphics(){return V(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=e.page||this.currentPage;this.snackbar.showInfo(`\u{1F3A8} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791...`),console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC2DC\uC791...`);let o=e.pdfDocument,n=window.pdfjsLib,a=yield o.getPage(t),p=(document.getElementById("viewerContainer")||document.querySelector(".pdfViewer"))?.querySelector(`.page[data-page-number="${t}"]`);if(!p){this.snackbar.showError(`\u274C \uD398\uC774\uC9C0 ${t} DOM \uC694\uC18C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.`);return}let m=yield this.pdfTextStreamService.redrawVectorGraphicsFromSVG(a,n,p);m.success?(this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${t} \uBCA1\uD130 \uADF8\uB798\uD53D \uC644\uB8CC! (${m.totalElementsCreated}\uAC1C \uC694\uC18C \uC0DD\uC131)`),console.log(`\u2705 \uD398\uC774\uC9C0 ${t} \uACB0\uACFC:`,m)):this.snackbar.showWarning(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${t}\uC5D0 \uB80C\uB354\uB9C1 \uAC00\uB2A5\uD55C \uBCA1\uD130 \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`)}catch(e){console.error("\u274C \uD604\uC7AC \uD398\uC774\uC9C0 \uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC624\uB958:",e),this.snackbar.showError("\uBCA1\uD130 \uADF8\uB798\uD53D \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}toggleVectorGraphicsOverlay(){let e=document.querySelectorAll(".vector-graphics-overlay");if(e.length===0){this.snackbar.showWarning("\u26A0\uFE0F \uBA3C\uC800 \uBCA1\uD130 \uADF8\uB798\uD53D\uC744 \uC0C8\uB85C\uADF8\uB9AC\uAE30 \uD574\uC8FC\uC138\uC694.");return}e.forEach(o=>{let n=o,a=n.style.display;n.style.display=a==="none"?"block":"none"});let t=e[0].style.display!=="none";this.snackbar.showInfo(t?"\u{1F441}\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uD45C\uC2DC":"\u{1F6AB} \uBCA1\uD130 \uADF8\uB798\uD53D \uC228\uAE40")}clearVectorGraphicsOverlay(){let e=document.querySelectorAll(".vector-graphics-overlay");if(e.length===0){this.snackbar.showWarning("\u26A0\uFE0F \uC81C\uAC70\uD560 \uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}e.forEach(t=>t.remove()),this.snackbar.showSuccess(`\u2705 ${e.length}\uAC1C \uD398\uC774\uC9C0\uC758 \uBCA1\uD130 \uADF8\uB798\uD53D \uC81C\uAC70 \uC644\uB8CC`),console.log(`\u2705 ${e.length}\uAC1C \uD398\uC774\uC9C0\uC758 \uBCA1\uD130 \uADF8\uB798\uD53D \uC81C\uAC70 \uC644\uB8CC`)}viewCurrentPageVectorGraphicsAsSVG(){return V(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=window.pdfjsLib;if(!t){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let o=e.page||this.currentPage||1,n=yield e.pdfDocument.getPage(o);this.snackbar.showInfo(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${o} \uBCA1\uD130 \uADF8\uB798\uD53D SVG \uC0DD\uC131 \uC911...`),yield this.pdfTextStreamService.viewVectorGraphicsAsSVG(n,t,o),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${o} SVG \uC0DD\uC131 \uC644\uB8CC!`)}catch(e){console.error("\u274C SVG \uC0DD\uC131 \uC2E4\uD328:",e),this.snackbar.showError("\u274C SVG \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadAllPagesVectorGraphicsAsSVG(){return V(this,null,function*(){try{let e=window.PDFViewerApplication;if(!e?.pdfDocument){this.snackbar.showError("\u274C PDF\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}let t=window.pdfjsLib;if(!t){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.snackbar.showInfo("\u{1F4E6} \uC804\uCCB4 \uD398\uC774\uC9C0 \uBCA1\uD130 \uADF8\uB798\uD53D SVG \uC0DD\uC131 \uC911..."),yield this.pdfTextStreamService.downloadAllPagesVectorGraphicsAsSVG(e.pdfDocument,t),this.snackbar.showSuccess("\u2705 \uC804\uCCB4 \uD398\uC774\uC9C0 SVG \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!")}catch(e){console.error("\u274C \uC804\uCCB4 \uD398\uC774\uC9C0 SVG \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",e),this.snackbar.showError("\u274C SVG \uB2E4\uC6B4\uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}openVectorGraphicsViewer(){return V(this,null,function*(){try{if(!this.pdfSrc){this.snackbar.showError("\u274C PDF \uD30C\uC77C\uC774 \uC5F4\uB824\uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}let e=window.pdfjsLib;if(!e){this.snackbar.showError("\u274C PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.snackbar.showInfo("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529 \uC911...");let o=yield(yield fetch(this.pdfSrc)).arrayBuffer(),a=yield e.getDocument({data:o}).promise,p=window.PDFViewerApplication?.page||this.currentPage||1;this.currentVectorGraphicsPageNum=p;let m=yield a.getPage(p),u=m.getViewport({scale:2}),h=e.SVGGraphics||e.SVGGraphics,x;if(h){console.log("\u2705 PDF.js SVGGraphics \uC0AC\uC6A9");let P=new h(m.commonObjs,m.objs),O=yield m.getOperatorList({intent:"display"});P.embedFonts=!0;let v=yield P.getSVG(O,u);x=new XMLSerializer().serializeToString(v),console.log("\u{1F4D0} \uC6D0\uBCF8 SVG \uD06C\uAE30:",u.width,"x",u.height),console.log("\u2705 PDF.js \uB124\uC774\uD2F0\uBE0C SVG \uC0DD\uC131 \uC644\uB8CC")}else{console.warn("\u26A0\uFE0F PDF.js SVGGraphics\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC5B4 fallback \uBC29\uC2DD \uC0AC\uC6A9");let P=yield m.getOperatorList({intent:"display"}),O=this.parseOperatorList(P);x=this.generateSvgFromVectorOperations(O,u.width,u.height)}this.vectorGraphicsSvgContent=x,this.showVectorGraphicsModal=!0,window.tempVectorPdfDoc=a,setTimeout(()=>{let P=document.getElementById("vectorGraphicsSvgContainer");P&&x&&(P.innerHTML=x)},0),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${p} \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529 \uC644\uB8CC!`)}catch(e){console.error("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529 \uC2E4\uD328:",e),this.snackbar.showError("\u274C \uBCA1\uD130 \uADF8\uB798\uD53D \uB85C\uB529\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}closeVectorGraphicsModal(){this.showVectorGraphicsModal=!1,this.vectorGraphicsSvgContent=""}loadPreviousPageVectorGraphics(){return V(this,null,function*(){if(this.currentVectorGraphicsPageNum<=1){this.snackbar.showWarning("\u26A0\uFE0F \uCCAB \uD398\uC774\uC9C0\uC785\uB2C8\uB2E4.");return}let e=window.tempVectorPdfDoc||window.PDFViewerApplication?.pdfDocument;if(!e){this.snackbar.showError("\u274C PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=window.pdfjsLib;this.currentVectorGraphicsPageNum--;try{let o=yield e.getPage(this.currentVectorGraphicsPageNum),n=o.getViewport({scale:2}),a=t.SVGGraphics||t.SVGGraphics,d;if(a){let m=new a(o.commonObjs,o.objs),u=yield o.getOperatorList({intent:"display"});m.embedFonts=!0;let h=yield m.getSVG(u,n);d=new XMLSerializer().serializeToString(h)}else{let m=yield o.getOperatorList({intent:"display"}),u=this.parseOperatorList(m);d=this.generateSvgFromVectorOperations(u,n.width,n.height)}this.vectorGraphicsSvgContent=d;let p=document.getElementById("vectorGraphicsSvgContainer");p&&d&&(p.innerHTML=d),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${this.currentVectorGraphicsPageNum} \uB85C\uB529 \uC644\uB8CC!`)}catch(o){console.error("\u274C \uD398\uC774\uC9C0 \uB85C\uB529 \uC2E4\uD328:",o),this.snackbar.showError("\u274C \uD398\uC774\uC9C0 \uB85C\uB529\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}loadNextPageVectorGraphics(){return V(this,null,function*(){let e=window.tempVectorPdfDoc||window.PDFViewerApplication?.pdfDocument;if(!e){this.snackbar.showError("\u274C PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=e.numPages||1;if(this.currentVectorGraphicsPageNum>=t){this.snackbar.showWarning("\u26A0\uFE0F \uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0\uC785\uB2C8\uB2E4.");return}let o=window.pdfjsLib;this.currentVectorGraphicsPageNum++;try{let n=yield e.getPage(this.currentVectorGraphicsPageNum),a=n.getViewport({scale:2}),d=o.SVGGraphics||o.SVGGraphics,p;if(d){let u=new d(n.commonObjs,n.objs),h=yield n.getOperatorList({intent:"display"});u.embedFonts=!0;let x=yield u.getSVG(h,a);p=new XMLSerializer().serializeToString(x)}else{let u=yield n.getOperatorList({intent:"display"}),h=this.parseOperatorList(u);p=this.generateSvgFromVectorOperations(h,a.width,a.height)}this.vectorGraphicsSvgContent=p;let m=document.getElementById("vectorGraphicsSvgContainer");m&&p&&(m.innerHTML=p),this.snackbar.showSuccess(`\u2705 \uD398\uC774\uC9C0 ${this.currentVectorGraphicsPageNum} \uB85C\uB529 \uC644\uB8CC!`)}catch(n){console.error("\u274C \uD398\uC774\uC9C0 \uB85C\uB529 \uC2E4\uD328:",n),this.snackbar.showError("\u274C \uD398\uC774\uC9C0 \uB85C\uB529\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadVectorGraphicsSVG(){if(!this.vectorGraphicsSvgContent){this.snackbar.showWarning("\u26A0\uFE0F \uB2E4\uC6B4\uB85C\uB4DC\uD560 SVG\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=new Blob([this.vectorGraphicsSvgContent],{type:"image/svg+xml"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=`vector_graphics_page_${this.currentVectorGraphicsPageNum}_${Date.now()}.svg`,o.click(),URL.revokeObjectURL(t),this.snackbar.showSuccess("\u2705 SVG \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC!")}updateVectorRenderOptions(e){this.vectorRenderOptions=yt(yt({},this.vectorRenderOptions),e),this.loadedVectorData&&this.showVectorGraphicsPreview&&this.renderVectorGraphicsToCurrentPage()}exportVectorGraphicsAsSVG(){if(!this.loadedVectorData)return console.warn("\u26A0\uFE0F \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),"";let e=this.vectorGraphicsRenderService.convertVectorDataToSVG(this.loadedVectorData,this.currentPage,this.vectorRenderOptions);return console.log("\u{1F4C4} SVG \uB0B4\uBCF4\uB0B4\uAE30 \uC644\uB8CC"),e}updateAnalysisDashboard(e,t,o){console.log("\u{1F680} updateAnalysisDashboard \uD638\uCD9C\uB428"),console.log("\u{1F4E5} textStreamData:",e),console.log("\u{1F4E5} fileSize:",t),console.log("\u{1F5BC}\uFE0F imageData:",o),console.log("\u{1F3A8} loadedVectorData:",this.loadedVectorData),this.addDebugLog("COLOR_EXTRACTION","PDF \uC0C9\uC0C1 \uCD94\uCD9C \uC2DC\uC791",{hasVectorData:!!this.loadedVectorData,pageCount:e.pageCount,textItemsCount:e.metadata.totalTextItems});let n={},a=0,d={};if(this.loadedVectorData?.pageDetails){console.log("\u{1F3A8} \uBCA1\uD130 \uB370\uC774\uD130\uC5D0\uC11C \uC0C9\uC0C1 \uC815\uBCF4 \uCD94\uCD9C \uC2DC\uC791..."),this.loadedVectorData.pageDetails.forEach(v=>{v.svgColorInfo&&(console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${v.pageNumber} SVG \uC0C9\uC0C1:`,v.svgColorInfo),v.svgColorInfo.fillColors?.forEach(y=>{n[y]=(n[y]||0)+1,a++}),v.svgColorInfo.strokeColors?.forEach(y=>{n[y]=(n[y]||0)+1,a++})),v.textColorInfo&&v.textColorInfo.colorsByPosition&&(console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${v.pageNumber} \uC704\uCE58\uBCC4 \uC0C9\uC0C1:`,v.textColorInfo.colorsByPosition.length),d[v.pageNumber]||(d[v.pageNumber]=[]),d[v.pageNumber]=v.textColorInfo.colorsByPosition)});let O=Object.keys(n);console.log(`\u{1F3A8} \uBCA1\uD130\uC5D0\uC11C \uCD94\uCD9C\uB41C \uC0C9\uC0C1: ${a}\uAC1C, \uACE0\uC720 \uC0C9\uC0C1: ${O.length}\uAC1C`,O),console.log(`\u{1F3A8} \uC704\uCE58\uBCC4 \uC0C9\uC0C1 \uB9E4\uD551: ${Object.keys(d).length}\uAC1C \uD398\uC774\uC9C0`),this.addDebugLog("COLOR_EXTRACTION","\uBCA1\uD130 \uC0C9\uC0C1 \uCD94\uCD9C \uC644\uB8CC",{totalVectorColors:a,uniqueVectorColors:O.length,vectorColors:O,positionColorMappingPages:Object.keys(d).length,totalPositions:Object.values(d).reduce((v,y)=>v+y.length,0),samplePositionColors:Object.entries(d).slice(0,2).map(([v,y])=>({page:v,positionCount:y.length,samplePositions:y.slice(0,5).map(D=>({x:D.x.toFixed(1),y:D.y.toFixed(1),color:D.color}))}))})}let p=(O,v,y)=>{let D=d[O];if(!D||D.length===0)return null;let S=1/0,b=null;for(let A of D){let w=Math.sqrt(Math.pow(A.x-v,2)+Math.pow(A.y-y,2));w<S&&(S=w,b=A.color)}return S<50?b:null},m={},u=0,h=0;e.pages.forEach(O=>{O.textItems.forEach(v=>{u++;let y=p(O.pageNumber,v.position.x,v.position.y),D=y||v.style.color||"#000000";y&&h++,m[D]=(m[D]||0)+1,v.color=D,y&&h<=10&&console.log(`\u{1F3A8} \uD14D\uC2A4\uD2B8 "${v.text.substring(0,30)}" \uC704\uCE58 (${v.position.x.toFixed(1)}, ${v.position.y.toFixed(1)}) \u2192 ${y}`)})}),console.log(`\u2705 textStreamData.pages[].textItems[]\uC5D0 color \uD544\uB4DC \uCD94\uAC00 \uC644\uB8CC (${u}\uAC1C \uD56D\uBAA9)`),this.addDebugLog("COLOR_EXTRACTION","\uD14D\uC2A4\uD2B8 \uC0C9\uC0C1 \uB9E4\uD551 \uC644\uB8CC",{totalTextItems:u,successfulMappings:h,mappingRate:`${Math.round(h/u*100)}%`,textColorStats:{uniqueColors:Object.keys(m).length,colorDistribution:m}});let x=yt(yt({},m),n),P=Object.keys(x);console.log(`\u{1F3A8} \uCD5C\uC885 \uC0C9\uC0C1 \uD1B5\uACC4: \uD14D\uC2A4\uD2B8 ${Object.keys(m).length}\uAC1C + \uBCA1\uD130 ${Object.keys(n).length}\uAC1C = \uCD1D ${P.length}\uAC1C`),this.addDebugLog("COLOR_EXTRACTION","PDF \uC0C9\uC0C1 \uCD94\uCD9C \uCD5C\uC885 \uD1B5\uACC4",{textColors:Object.keys(m).length,vectorColors:Object.keys(n).length,totalUniqueColors:P.length,allColors:P,finalColorDistribution:x}),this.pdfAnalysisData={fileName:e.fileName,fileSize:t,pageCount:e.pageCount,totalTextItems:e.metadata.totalTextItems,totalWords:e.metadata.totalWords,totalCharacters:e.metadata.totalCharacters,uniqueFonts:e.metadata.uniqueFonts||[],textColors:P.length>0?{uniqueColors:P,colorDistribution:x}:void 0,pages:e.pages.map(O=>({pageNumber:O.pageNumber,textItems:O.textItems.map(v=>({text:v.text,color:v.color,font:v.font.name,fontSize:v.font.size,position:{x:v.position.x,y:v.position.y}}))})),hasVectorGraphics:e.metadata.hasVectorGraphics||!1,totalVectorOperations:this.loadedVectorData?.totalOperations||0,vectorSummary:this.loadedVectorData?{totalPaths:this.loadedVectorData.summary.totalPaths,totalLines:this.loadedVectorData.summary.totalLines,totalCurves:this.loadedVectorData.summary.totalCurves,totalRectangles:this.loadedVectorData.summary.totalRectangles,totalFillOperations:this.loadedVectorData.summary.totalFillOperations,totalStrokeOperations:this.loadedVectorData.summary.totalStrokeOperations}:void 0,pdfSrc:this.pdfSrc,languageDetection:e.metadata.languageDetection,hasImages:o?.hasImages||e.metadata.hasImages||!1,imageInfo:o?{totalImages:o.totalImages,pagesWithImages:o.pagesWithImages,images:o.images}:void 0},console.log("\u{1F4CA} PDF \uBD84\uC11D \uB300\uC2DC\uBCF4\uB4DC \uB370\uC774\uD130 \uC0DD\uC131 \uC644\uB8CC:",this.pdfAnalysisData),console.log("\u{1F4DD} \uD398\uC774\uC9C0\uBCC4 \uD14D\uC2A4\uD2B8 \uD56D\uBAA9 \uC218\uC9D1 \uC644\uB8CC:",e.pages.length,"\uD398\uC774\uC9C0"),console.log("\u2705 showAnalysisDashboard \uD50C\uB798\uADF8 \uC124\uC815 \uC608\uC815")}extractPdfImages(e){return V(this,null,function*(){try{this.addDebugLog("IMAGE_EXTRACTION","\u{1F5BC}\uFE0F PDF \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC2DC\uC791",{fileName:e.name,fileSize:e.size});let t=window.pdfjsLib;if(!t){let h="\u26A0\uFE0F PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.";return console.warn(h),this.addDebugLog("IMAGE_EXTRACTION","PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC \uC624\uB958",{error:h}),{hasImages:!1,totalImages:0,images:[]}}let o=yield e.arrayBuffer(),a=yield t.getDocument({data:o}).promise;console.log(`\u{1F5BC}\uFE0F PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC: ${a.numPages}\uD398\uC774\uC9C0`),this.addDebugLog("IMAGE_EXTRACTION","PDF \uBB38\uC11C \uB85C\uB4DC \uC644\uB8CC",{totalPages:a.numPages});let d=[],p=0,m=this.SINGLE_PAGE_MODE?1:a.numPages;for(let h=1;h<=m;h++){let x=yield a.getPage(h),P=yield x.getOperatorList();console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${h} OperatorList \uBD84\uC11D: ${P.fnArray.length}\uAC1C \uC5F0\uC0B0`),this.addDebugLog("IMAGE_EXTRACTION",`\uD398\uC774\uC9C0 ${h} \uBD84\uC11D \uC2DC\uC791`,{operatorCount:P.fnArray.length});let O=[];for(let v=0;v<P.fnArray.length;v++){let y=P.fnArray[v],D=P.argsArray[v];if(y===85||y===86){let S=y===85?"XObject":"Inline",b=D[0];console.log(`\u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${h}: ${S} \uC774\uBBF8\uC9C0 \uBC1C\uACAC - ${b}`),this.addDebugLog("IMAGE_EXTRACTION",`\uD398\uC774\uC9C0 ${h} \uC774\uBBF8\uC9C0 \uBC1C\uACAC`,{type:S,name:b,operatorIndex:v});try{let A=x.getViewport({scale:1}),w=A.width,I=A.height,z=null,J=0,K=0,et=[];for(let $=Math.max(0,v-15);$<Math.min(P.fnArray.length,v+5);$++)et.push({index:$,fn:P.fnArray[$],args:P.argsArray[$],isCurrent:$===v});this.addDebugLog("IMAGE_EXTRACTION","\u{1F50D} \uC774\uBBF8\uC9C0 \uC8FC\uBCC0 \uC5F0\uC0B0\uC790 \uBD84\uC11D (\xB115)",{imageName:b,currentIndex:v,operators:et.map($=>({index:$.index,fn:$.fn,argsLength:$.args?.length,args:$.args,isCurrent:$.isCurrent}))});let Y=[];for(let $=v-1;$>=0&&$>=v-20;$--){let U=P.fnArray[$],k=P.argsArray[$];if((U===12||U===74||U===75)&&(Y.unshift({fn:U,args:k,index:$}),this.addDebugLog("IMAGE_EXTRACTION","\u{1F504} Transform \uC5F0\uC0B0\uC790 \uBC1C\uACAC",{imageName:b,operatorIndex:$,operatorType:U===12?"transform(12)":U===74?"transform(74)":"setMatrix(75)",args:k})),U===11)break}if(Y.length>0){let $=(k,Q)=>[k[0]*Q[0]+k[2]*Q[1],k[1]*Q[0]+k[3]*Q[1],k[0]*Q[2]+k[2]*Q[3],k[1]*Q[2]+k[3]*Q[3],k[0]*Q[4]+k[2]*Q[5]+k[4],k[1]*Q[4]+k[3]*Q[5]+k[5]],U=Y[0].args;for(let k=1;k<Y.length;k++)U=$(U,Y[k].args);z=U,J=Math.abs(U[0]),K=Math.abs(U[3]),this.addDebugLog("IMAGE_EXTRACTION","\u2705 \uCD5C\uC885 Transform \uACC4\uC0B0 (\uB204\uC801)",{imageName:b,transformCount:Y.length,transforms:Y.map(k=>({index:k.index,args:k.args})),finalTransform:z,width:J,height:K,translateX:U[4],translateY:U[5]})}let G={pageNumber:h,type:S,name:b,width:J,height:K,transform:z,pageWidth:w,pageHeight:I};if(y===85&&b)try{let $=x.objs,U=x.commonObjs;this.addDebugLog("IMAGE_EXTRACTION",`\u{1F50D} \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uCC3E\uAE30 \uC2DC\uC791: ${b}`,{imageName:b,hasInPageObjs:$.has(b),hasInCommonObjs:U?U.has(b):!1}),yield new Promise(at=>{if($.has(b)||U&&U.has(b))at();else{let ot=setInterval(()=>{($.has(b)||U&&U.has(b))&&(clearInterval(ot),at())},100);setTimeout(()=>{clearInterval(ot),at()},5e3)}});let k=null,Q="";if($.has(b)?(k=$.get(b),Q="page.objs"):U&&U.has(b)&&(k=U.get(b),Q="commonObjs"),k)if(this.addDebugLog("IMAGE_EXTRACTION",`\u{1F3A8} \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uB85C\uB4DC \uC131\uACF5: ${b}`,{imageName:b,source:Q,hasData:!!k,width:k?.width,height:k?.height,dataLength:k?.data?.length,kind:k?.kind,bitmap:k?.bitmap?"has bitmap":"no bitmap",bitmapWidth:k?.bitmap?.width,bitmapHeight:k?.bitmap?.height}),k){let at=k.width||J,ot=k.height||K;z||(z=[at,0,0,ot,0,0],G.transform=z,J=at,K=ot,this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F transform \uC5C6\uC74C, \uC774\uBBF8\uC9C0 \uC2E4\uC81C \uD06C\uAE30 \uC0AC\uC6A9",{imageName:b,imageWidth:at,imageHeight:ot,generatedTransform:z,pageWidth:w,pageHeight:I})),G.width=J,G.height=K,this.addDebugLog("IMAGE_EXTRACTION","\u{1F4CF} \uCD5C\uC885 \uC774\uBBF8\uC9C0 \uD06C\uAE30 \uACB0\uC815",{imageName:b,finalWidth:G.width,finalHeight:G.height,fromImgDataWidth:k.width,fromImgDataHeight:k.height,fromTransformWidth:J,fromTransformHeight:K});try{if(this.addDebugLog("IMAGE_EXTRACTION",`\u{1F5BC}\uFE0F \uC378\uB124\uC77C \uC0DD\uC131 \uC2DC\uC791: ${b}`,{imageName:b,originalWidth:k.width,originalHeight:k.height,dataLength:k.data?.length,hasData:!!k.data,imgDataType:typeof k.data,imgDataKeys:k.data?Object.keys(k.data).slice(0,5):[]}),!k.data||!k.width||!k.height){if(this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F imgData.data \uC5C6\uC74C, \uB300\uCCB4 \uBC29\uBC95 \uC2DC\uB3C4",{imageName:b,hasData:!!k.data,width:k.width,height:k.height,hasBitmap:!!k.bitmap}),k.bitmap){this.addDebugLog("IMAGE_EXTRACTION","\u{1F3A8} bitmap \uC0AC\uC6A9 \uC2DC\uB3C4",{imageName:b,bitmapType:typeof k.bitmap,isBitmap:k.bitmap instanceof ImageBitmap,bitmapWidth:k.bitmap.width,bitmapHeight:k.bitmap.height});try{if(k.bitmap instanceof ImageBitmap){let nt=document.createElement("canvas");nt.width=k.bitmap.width,nt.height=k.bitmap.height;let tt=nt.getContext("2d");if(tt){tt.drawImage(k.bitmap,0,0),G.originalImage=nt.toDataURL("image/png");let rt=300,Z=Math.min(rt/k.bitmap.width,rt/k.bitmap.height,1),X=document.createElement("canvas");X.width=Math.floor(k.bitmap.width*Z),X.height=Math.floor(k.bitmap.height*Z);let st=X.getContext("2d");st&&(st.drawImage(nt,0,0,X.width,X.height),G.thumbnail=X.toDataURL("image/png"),this.addDebugLog("IMAGE_EXTRACTION","\u2705 bitmap\uC73C\uB85C \uC6D0\uBCF8 + \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC",{imageName:b,originalSize:`${k.bitmap.width}x${k.bitmap.height}`,thumbnailSize:`${X.width}x${X.height}`,scale:Z,hasOriginalImage:!!G.originalImage}))}}}catch(nt){this.addDebugLog("IMAGE_EXTRACTION","\u274C bitmap \uB80C\uB354\uB9C1 \uC2E4\uD328",{imageName:b,error:nt instanceof Error?nt.message:String(nt)})}}G.thumbnail||this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uC9C1\uC811 \uCD94\uCD9C \uC2E4\uD328, \uC774 \uC774\uBBF8\uC9C0\uB294 \uAC74\uB108\uB700",{imageName:b,reason:"No data, No bitmap available"})}else{let nt=document.createElement("canvas"),tt=300,rt=Math.min(tt/k.width,tt/k.height,1);nt.width=Math.floor(k.width*rt),nt.height=Math.floor(k.height*rt);let Z=nt.getContext("2d");if(Z&&k.data){this.addDebugLog("IMAGE_EXTRACTION","\u{1F3A8} Canvas \uCEE8\uD14D\uC2A4\uD2B8 \uC900\uBE44 \uC644\uB8CC",{imageName:b,canvasWidth:nt.width,canvasHeight:nt.height,hasData:!!k.data,dataLength:k.data.length,expectedRGBA:k.width*k.height*4,expectedRGB:k.width*k.height*3});let X=document.createElement("canvas");X.width=k.width,X.height=k.height;let st=X.getContext("2d");if(st){let Mt=st.createImageData(k.width,k.height);if(k.data.length===k.width*k.height*4)Mt.data.set(k.data),this.addDebugLog("IMAGE_EXTRACTION","\u2705 RGBA \uB370\uC774\uD130 \uC9C1\uC811 \uBCF5\uC0AC",{imageName:b,dataLength:k.data.length});else{this.addDebugLog("IMAGE_EXTRACTION","\u{1F504} RGB \u2192 RGBA \uBCC0\uD658 \uC2DC\uC791",{imageName:b,sourceLength:k.data.length,targetLength:k.width*k.height*4});for(let zt=0;zt<k.width*k.height;zt++){let ye=zt*3,Jt=zt*4;Mt.data[Jt]=k.data[ye],Mt.data[Jt+1]=k.data[ye+1],Mt.data[Jt+2]=k.data[ye+2],Mt.data[Jt+3]=255}this.addDebugLog("IMAGE_EXTRACTION","\u2705 RGB \u2192 RGBA \uBCC0\uD658 \uC644\uB8CC",{imageName:b,pixelCount:k.width*k.height})}st.putImageData(Mt,0,0),Z.drawImage(X,0,0,nt.width,nt.height),G.thumbnail=nt.toDataURL("image/png"),console.log(`\u2705 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC: ${b} (${nt.width}x${nt.height})`),this.addDebugLog("IMAGE_EXTRACTION","\u2705 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC",{imageName:b,originalSize:`${k.width}x${k.height}`,thumbnailSize:`${nt.width}x${nt.height}`,dataLength:k.data.length})}else this.addDebugLog("IMAGE_EXTRACTION","\u274C Canvas \uCEE8\uD14D\uC2A4\uD2B8 \uB610\uB294 \uB370\uC774\uD130 \uC5C6\uC74C",{imageName:b,hasContext:!!Z,hasData:!!k.data})}}}catch(nt){console.warn(`\u26A0\uFE0F Canvas \uB80C\uB354\uB9C1 \uC2E4\uD328: ${b}`,nt),this.addDebugLog("IMAGE_EXTRACTION","\u274C Canvas \uB80C\uB354\uB9C1 \uC2E4\uD328",{imageName:b,error:nt})}}else this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uB370\uC774\uD130 \uC5C6\uC74C",{imageName:b,hasImgData:!1});else this.addDebugLog("IMAGE_EXTRACTION","\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uB85C\uB4DC \uC2E4\uD328 (\uD0C0\uC784\uC544\uC6C3)",{imageName:b,objsHas:!1})}catch($){console.warn(`\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328: ${b}`,$),this.addDebugLog("IMAGE_EXTRACTION","\u274C \uC774\uBBF8\uC9C0 \uAC1D\uCCB4 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328",{imageName:b,error:$ instanceof Error?$.message:String($)})}O.push(G),p++,this.addDebugLog("IMAGE_EXTRACTION","\u{1F4E6} \uC774\uBBF8\uC9C0 \uC815\uBCF4 \uC218\uC9D1 \uC644\uB8CC",{imageName:G.name,hasThumbnail:!!G.thumbnail,hasOriginalImage:!!G.originalImage,width:G.width,height:G.height,transform:G.transform,type:G.type,allKeys:Object.keys(G)}),console.log("\u2705 \uC774\uBBF8\uC9C0 \uC815\uBCF4 \uC218\uC9D1 \uC644\uB8CC:",G)}catch(A){console.warn("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC624\uB958:",A),this.addDebugLog("IMAGE_EXTRACTION","\u274C \uC774\uBBF8\uC9C0 \uCC98\uB9AC \uC624\uB958",{error:A instanceof Error?A.message:String(A)})}}}O.length>0&&(d.push({pageNumber:h,images:O,count:O.length}),this.addDebugLog("IMAGE_EXTRACTION",`\u{1F4C4} \uD398\uC774\uC9C0 ${h} \uC774\uBBF8\uC9C0 ${O.length}\uAC1C \uCD94\uCD9C \uC644\uB8CC`,{pageNumber:h,imageCount:O.length,images:O.map(v=>({name:v.name,type:v.type}))}))}let u={hasImages:p>0,totalImages:p,pageCount:a.numPages,pagesWithImages:d.length,images:d};return this.addDebugLog("IMAGE_EXTRACTION","\u2705 \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC644\uB8CC",{hasImages:u.hasImages,totalImages:u.totalImages,pageCount:u.pageCount,pagesWithImages:u.pagesWithImages,summary:u.hasImages?`\uCD1D ${u.totalImages}\uAC1C\uC758 \uC774\uBBF8\uC9C0\uB97C ${u.pagesWithImages}\uAC1C \uD398\uC774\uC9C0\uC5D0\uC11C \uBC1C\uACAC`:"PDF\uC5D0 \uCD94\uAC00\uD560 \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"}),console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC644\uB8CC:",u),u}catch(t){return console.error("\u274C PDF \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC624\uB958:",t),this.addDebugLog("IMAGE_EXTRACTION","\u274C \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC911 \uC624\uB958 \uBC1C\uC0DD",{error:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0}),{hasImages:!1,totalImages:0,images:[],error:t}}})}parseOperatorList(e){let t=[];for(let o=0;o<e.fnArray.length;o++){let n=e.fnArray[o],a=e.argsArray[o],d="",p=!1;n===1?(d="moveTo",p=!0):n===2?(d="lineTo",p=!0):n>=3&&n<=6?(d="curveTo",p=!0):n===7?(d="rectangle",p=!0):n===9?(d="closePath",p=!0):n===22?(d="fill",p=!0):n===20?(d="stroke",p=!0):n===29?(d="clip",p=!0):[28,37,42,44,58,59,70,71,91].includes(n)&&a&&Array.isArray(a)&&a.length>=2&&typeof a[a.length-2]=="number"&&typeof a[a.length-1]=="number"&&(d="unknownVectorGraphic",p=!0),p&&d&&t.push({type:d,args:a||[],opCode:n,coordinates:this.extractCoordinatesFromArgs(a)})}return t}extractCoordinatesFromArgs(e){return!e||!Array.isArray(e)?null:e.length>=2&&typeof e[0]=="number"&&typeof e[1]=="number"?{x:e[0],y:e[1],additionalCoords:e.slice(2)}:null}logout(){this.docsAuthService.logout()}static \u0275fac=function(t){return new(t||l)(it(xt),it(Wt),it(Xt),it(ie),it(tn),it(en),it(nn),it(ee),it(ge),it(ae),it(Tt))};static \u0275cmp=ct({type:l,selectors:[["app-docs-generator"]],viewQuery:function(t,o){if(t&1&&(It(lr,5),It(dr,5),It(gr,5)),t&2){let n;Vt(n=Ft())&&(o.vectorPathDrawer=n.first),Vt(n=Ft())&&(o.signatureCanvas=n.first),Vt(n=Ft())&&(o.pdfContainer=n.first)}},hostBindings:function(t,o){t&1&&M("resize",function(a){return o.onResize(a)},Ie)("mousemove",function(a){return o.onDocumentMove(a)},Ct)("touchmove",function(a){return o.onDocumentMove(a)},Ct)("mouseup",function(){return o.onDocumentUp()},Ct)("touchend",function(){return o.onDocumentUp()},Ct)},standalone:!1,decls:35,vars:30,consts:[["signatureCanvas",""],["pdfContainer",""],["vectorPathDrawer",""],[3,"analysisData","isCollapsed","isDraggable","isCompact","vectorData","vectorMinimaps","debugLogs","closeEvent","createSvgPdfEvent","createTextStructureDocEvent","createCombinedDocEvent","requestMinimapEvent","exportPdfEvent","createImagePdfEvent",4,"ngIf"],[1,"pdf-structure-detail-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content","large-modal"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["title","PDF \uBC14\uC774\uB108\uB9AC \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC (\uBCA1\uD130 \uBD84\uC11D\uC6A9)",1,"btn-primary",3,"click"],["class","vector-graphics-modal",3,"click",4,"ngIf"],[3,"menuChange","toolbarAction","search","rightPanelToggle","leftPanelToggle","pdfAnalysisToggle","docsTitle","documentType","activeMenu","wordCount","isSearchMode","searchResults","isGenerating","generatedDocs","enablePdfAnalysis"],["class","text-editor-modal",4,"ngIf"],["class","image-editor-modal",4,"ngIf"],["class","shape-editor-modal",4,"ngIf"],["class","signature-editor-modal",4,"ngIf"],["class","watermark-editor-modal",3,"click",4,"ngIf"],[1,"main-container"],["class","left-menu-container",3,"collapsed",4,"ngIf"],[1,"docs-main-content"],["class","pdf-viewer-container",4,"ngIf"],["class","pdf-document-editor",4,"ngIf"],["class","right-sidebar-container",3,"collapsed",4,"ngIf"],[3,"close","save","open","delete","fileUpload","isVisible","mode","currentTitle"],["class","confirm-modal",4,"ngIf"],["class","vector-path-modal",4,"ngIf"],[3,"closeEvent","createSvgPdfEvent","createTextStructureDocEvent","createCombinedDocEvent","requestMinimapEvent","exportPdfEvent","createImagePdfEvent","analysisData","isCollapsed","isDraggable","isCompact","vectorData","vectorMinimaps","debugLogs"],[1,"modal-body"],[1,"structure-section"],[1,"info-box"],[1,"description"],["class","page-item",4,"ngIf"],["class","info-box",4,"ngIf"],["class","xref-preview",4,"ngIf"],[4,"ngFor","ngForOf"],["class","structure-section",4,"ngIf"],[1,"page-item"],[1,"xref-preview"],[1,"font-list"],["style","color: #666; font-style: italic;",4,"ngIf"],[2,"margin-top","8px"],["style","margin-top: 20px; padding-top: 15px; border-top: 2px solid #e0e0e0;",4,"ngIf"],[1,"description",2,"margin-top","15px","padding-top","15px","border-top","1px solid #e0e0e0"],[2,"margin-top","20px","text-align","center"],[1,"btn-json-toggle",3,"click"],["class","json-viewer-container",4,"ngIf"],[2,"color","#666","font-style","italic"],[2,"margin-top","20px","padding-top","15px","border-top","2px solid #e0e0e0"],[1,"page-detail-box"],[1,"page-info-table"],[1,"label"],[1,"value"],[2,"margin-top","15px"],[1,"sample-sentences"],["class","sentence-sample",4,"ngFor","ngForOf"],["class","more-sentences",4,"ngIf"],[1,"sentence-sample"],[1,"sentence-number"],[1,"sentence-text"],[1,"more-sentences"],[1,"json-viewer-container"],[1,"json-viewer-header"],[1,"json-actions"],[1,"btn-copy",3,"click"],[1,"btn-download",3,"click"],[1,"json-viewer-content"],["class","vector-graphics-info",4,"ngIf"],[1,"vector-graphics-info"],["class","info-box vector-box",4,"ngIf"],[1,"info-box","vector-box"],[1,"vector-summary"],[1,"summary-grid"],[1,"summary-item"],["class","vector-pages",4,"ngIf"],[2,"margin-top","20px","padding-top","15px","border-top","1px solid rgba(255,255,255,0.3)"],[1,"vector-actions",2,"margin-top","15px","text-align","center"],[1,"btn-download","btn-vector-stream",3,"click"],[2,"font-size","12px","color","rgba(255,255,255,0.7)","margin-top","8px"],[1,"vector-pages"],[2,"margin-top","20px"],[1,"page-cards"],["class","page-card",4,"ngIf"],[1,"page-card"],[1,"page-card-header"],[1,"badge"],[1,"page-card-body"],[1,"stat-row"],["class","operations-preview",4,"ngIf"],[1,"operations-preview"],[1,"operations-list"],["class","operation-item",4,"ngFor","ngForOf"],["class","more-ops",4,"ngIf"],[1,"operation-item"],[1,"op-number"],[1,"op-type"],[1,"op-desc"],[1,"more-ops"],[1,"vector-graphics-modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-toolbar"],[1,"btn-nav",3,"click","disabled"],[1,"page-indicator"],[1,"btn-nav",3,"click"],[1,"modal-body-svg"],["id","vectorGraphicsSvgContainer"],[1,"text-editor-modal"],[1,"modal-content","text-editor-modal-content"],[1,"text-editor-container"],[1,"editor-section"],["placeholder","\uC5EC\uAE30\uC5D0 \uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694...","rows","4",1,"text-input",3,"ngModelChange","ngModel"],[1,"style-section"],[1,"style-controls"],[1,"control-group"],[1,"font-select",3,"ngModelChange","ngModel"],["label","\uD55C\uAE00 \uACE0\uB515\uCCB4"],["value","Noto Sans KR"],["value","NanumGothic"],["value","NanumBarunGothic"],["value","IBM Plex Sans KR"],["value","NanumSquare"],["value","Black Han Sans"],["label","\uD55C\uAE00 \uBA85\uC870\uCCB4"],["value","Noto Serif KR"],["value","NanumMyeongjo"],["label","\uD55C\uAE00 \uC190\uAE00\uC528/\uCE90\uC8FC\uC5BC"],["value","NanumPen"],["value","NanumBrush"],["value","DoHyeon"],["value","Jua"],["value","Gaegu"],["value","GamjaFlower"],["value","Sunflower"],["value","EastSeaDokdo"],["value","HiMelody"],["label","\uC601\uBB38 \uD3F0\uD2B8"],["value","Arial"],["value","Helvetica"],["value","Times New Roman"],["value","Courier New"],["value","Georgia"],["value","Verdana"],["value","Roboto"],["value","Open Sans"],["value","Lato"],["value","Montserrat"],["value","Poppins"],["value","Inter"],["value","Ubuntu"],["type","range","min","8","max","72",1,"range-input",3,"ngModelChange","ngModel"],["type","color",1,"color-input",3,"ngModelChange","ngModel"],[1,"position-section"],[1,"position-controls"],["type","number","min","0",1,"number-input",3,"ngModelChange","ngModel","max"],["type","number","min","50",1,"number-input",3,"ngModelChange","ngModel","max"],[1,"preview-section"],[1,"text-preview"],[1,"image-editor-modal"],[1,"modal-content","image-editor-modal-content"],[1,"image-editor-container"],[1,"upload-section"],[1,"upload-area"],["type","file","accept","image/*","id","imageFileInput",1,"file-input",3,"change"],["for","imageFileInput",1,"upload-label"],[1,"upload-icon"],["class","preview-section",4,"ngIf"],[1,"btn-primary",3,"click","disabled"],[1,"image-preview"],[2,"border","1px solid #ddd",3,"src"],[1,"shape-editor-modal"],[1,"modal-content","shape-editor-modal-content"],[1,"shape-editor-container"],[1,"shape-type-section"],[1,"shape-types"],[1,"shape-type-btn",3,"click"],[1,"shape-icon"],["type","range","min","0","max","10",1,"range-input",3,"ngModelChange","ngModel"],["type","number","min","10",1,"number-input",3,"ngModelChange","ngModel","max"],[1,"shape-preview"],[1,"preview-canvas",2,"width","200px","height","100px","border","1px solid #ddd","position","relative","background","#f9f9f9"],["style","position: absolute; left: 20px; top: 20px; width: 60px; height: 40px;",3,"background-color","border",4,"ngIf"],["style","position: absolute; left: 20px; top: 20px; width: 60px; height: 60px; border-radius: 50%;",3,"background-color","border",4,"ngIf"],["style","position: absolute; left: 20px; top: 50px; width: 160px;",3,"height","background-color",4,"ngIf"],[2,"position","absolute","left","20px","top","20px","width","60px","height","40px"],[2,"position","absolute","left","20px","top","20px","width","60px","height","60px","border-radius","50%"],[2,"position","absolute","left","20px","top","50px","width","160px"],[1,"signature-editor-modal"],[1,"modal-content","signature-editor-modal-content"],[1,"signature-editor-container"],[1,"signature-text-section"],["type","text","placeholder","\uC11C\uBA85\uD560 \uC774\uB984\uC744 \uC785\uB825\uD558\uC138\uC694",1,"signature-text-input",3,"ngModelChange","ngModel"],[1,"signature-style-section"],[1,"signature-styles"],[1,"signature-style-btn",3,"click"],[1,"style-icon",2,"font-family","cursive"],[1,"style-icon",2,"font-family","serif"],[1,"style-icon",2,"font-family","sans-serif"],[1,"signature-color-section"],[1,"signature-controls"],["type","range","min","12","max","48",1,"range-input",3,"ngModelChange","ngModel"],["type","range","min","1","max","5",1,"range-input",3,"ngModelChange","ngModel"],[1,"signature-position-section"],["type","number","min","20",1,"number-input",3,"ngModelChange","ngModel","max"],[1,"signature-canvas-section"],[1,"canvas-container"],["width","400","height","150",1,"signature-canvas",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend"],[1,"canvas-controls"],[1,"canvas-btn","clear-btn",3,"click"],[1,"canvas-btn","use-canvas-btn",3,"click"],[1,"signature-preview-section"],[1,"signature-preview"],[1,"preview-canvas",2,"width","300px","height","100px","border","2px solid #ddd","position","relative","background","#f9f9f9","display","flex","align-items","center","justify-content","center"],["style","max-width: 100%; max-height: 100%; object-fit: contain;",3,"src",4,"ngIf"],["class","signature-sample",3,"color","font-size","font-family","font-weight",4,"ngIf"],[2,"max-width","100%","max-height","100%","object-fit","contain",3,"src"],[1,"signature-sample"],[1,"watermark-editor-modal",3,"click"],[1,"watermark-editor-content",3,"click"],[1,"watermark-editor-body"],[1,"watermark-text-section"],[1,"input-group"],["type","text","placeholder","\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694","maxlength","50",1,"watermark-input",3,"ngModelChange","ngModel"],[1,"watermark-size-section"],[1,"controls-row"],["type","range","min","12","max","120",1,"size-range",3,"ngModelChange","ngModel"],["type","number","min","12","max","120",1,"size-number",3,"ngModelChange","ngModel"],["type","range","min","0.1","max","1","step","0.1",1,"opacity-range",3,"ngModelChange","ngModel"],[1,"opacity-value"],[1,"watermark-style-section"],["type","range","min","-90","max","90",1,"rotation-range",3,"ngModelChange","ngModel"],[1,"rotation-value"],[1,"watermark-position-section"],["type","number","min","0",1,"position-input",3,"ngModelChange","ngModel"],["type","number","min","50",1,"position-input",3,"ngModelChange","ngModel"],["type","number","min","20",1,"position-input",3,"ngModelChange","ngModel"],[1,"watermark-preview-section"],[1,"watermark-preview"],[1,"preview-container",2,"width","300px","height","200px","border","2px solid #ddd","position","relative","background","#f9f9f9","overflow","hidden"],[1,"watermark-sample",2,"position","absolute","top","50%","left","50%","transform-origin","center","white-space","nowrap","font-weight","bold","pointer-events","none"],[1,"modal-actions"],[1,"modal-btn","cancel-btn",3,"click"],[1,"modal-btn","apply-btn",3,"click"],[1,"left-menu-container"],[3,"menuAction","close","itemClick","expand","recentWorks","isCollapsed"],[1,"pdf-viewer-container"],[2,"height","100%","width","100%","display","block",3,"pdfLoaded","pdfLoadingFailed","pageChange","zoomChange","src","zoom","page","showToolbar","showSidebarButton","sidebarVisible","showFindButton","showPagingButtons","showZoomButtons","showPresentationModeButton","showOpenFileButton","showPrintButton","showDownloadButton","showSecondaryToolbarButton","showRotateButton","showSpreadButton","showPropertiesButton","showHandToolButton","handTool","textLayer","showBorders","enableDragAndDrop","showUnverifiedSignatures","showDrawEditor","showStampEditor","showHighlightEditor"],["class","text-editor-host",4,"ngIf"],[3,"confirm","cancel","isVisible","totalTextItems","sentenceGroupCount","currentPage","totalPages"],[1,"text-editor-host"],[1,"sentence-overlay-area",3,"click","title"],[3,"config","isVisible","configChange","close","delete","deactivate",4,"ngIf"],[3,"configChange","close","delete","deactivate","config","isVisible"],[1,"pdf-document-editor"],[1,"pdf-pages-wrapper"],["class","pdf-page-container",3,"id","active",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-page-section"],[1,"add-page-button",3,"click"],[1,"add-icon"],[1,"pdf-page-container",3,"id"],[1,"pdf-page",3,"click"],[1,"page-number"],["class","page-element",3,"ngClass","left","top","width","height","selected","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"page-element",3,"click","mousedown","ngClass"],["class","text-element",3,"editing","font-size","font-family","font-weight","font-style","color","contentEditable","dblclick","blur","keydown.enter","keydown.escape","click",4,"ngIf"],["class","image-element",3,"src","selected","width","height","mousedown","click",4,"ngIf"],["class","signature-element","title","\uC11C\uBA85",3,"selected","width","height","font-size","color","font-family","font-weight","border","background-color","border-radius","display","align-items","justify-content","padding","mousedown","click",4,"ngIf"],["class","watermark-element","title","\uC6CC\uD130\uB9C8\uD06C",3,"selected","left","top","width","height","transform","opacity","mousedown","click",4,"ngIf"],["class","vector-path-element","title","\uBCA1\uD130 \uADF8\uB798\uD53D",3,"selected","hidden","width","height","border","display","mousedown","click",4,"ngIf"],["class","svg-element","title","SVG \uBCA1\uD130 \uADF8\uB798\uD53D",3,"selected","width","height","border","overflow","innerHTML","mousedown","click",4,"ngIf"],["class","shape-element",3,"selected","width","height","background-color","border","mousedown","click",4,"ngIf"],["class","resize-handles",4,"ngIf"],[1,"text-element",3,"dblclick","blur","keydown.enter","keydown.escape","click","contentEditable"],[1,"image-element",3,"mousedown","click","src"],["title","\uC11C\uBA85",1,"signature-element",3,"mousedown","click"],["style","width: 100%; height: 100%; object-fit: contain;",3,"src",4,"ngIf"],[4,"ngIf"],[2,"width","100%","height","100%","object-fit","contain",3,"src"],["title","\uC6CC\uD130\uB9C8\uD06C",1,"watermark-element",3,"mousedown","click"],[2,"width","100%","height","100%","display","flex","align-items","center","justify-content","center","font-weight","bold","white-space","nowrap","pointer-events","none"],["title","\uBCA1\uD130 \uADF8\uB798\uD53D",1,"vector-path-element",3,"mousedown","click"],["preserveAspectRatio","xMidYMid meet",2,"overflow","visible","display","block"],["stroke-linecap","round","stroke-linejoin","round","vector-effect","non-scaling-stroke"],["title","SVG \uBCA1\uD130 \uADF8\uB798\uD53D",1,"svg-element",3,"mousedown","click","innerHTML"],[1,"shape-element",3,"mousedown","click"],[1,"resize-handles"],[1,"resize-handle","corner-handle","nw-resize",2,"top","-4px","left","-4px",3,"mousedown"],[1,"resize-handle","corner-handle","ne-resize",2,"top","-4px","right","-4px",3,"mousedown"],[1,"resize-handle","corner-handle","sw-resize",2,"bottom","-4px","left","-4px",3,"mousedown"],[1,"resize-handle","corner-handle","se-resize",2,"bottom","-4px","right","-4px",3,"mousedown"],[1,"resize-handle","edge-handle","n-resize",2,"top","-4px","left","50%","transform","translateX(-50%)",3,"mousedown"],[1,"resize-handle","edge-handle","s-resize",2,"bottom","-4px","left","50%","transform","translateX(-50%)",3,"mousedown"],[1,"resize-handle","edge-handle","w-resize",2,"left","-4px","top","50%","transform","translateY(-50%)",3,"mousedown"],[1,"resize-handle","edge-handle","e-resize",2,"right","-4px","top","50%","transform","translateY(-50%)",3,"mousedown"],[1,"right-sidebar-container"],[3,"addText","addImage","addShape","addSignature","addWatermark","addVectorPath","addPage","deletePage","zoomIn","zoomOut","rotatePage","pageSelect","elementPropertyChange","deselectElement","deleteElement","sidebarAction","keepOnlyFirstPage","close","expand","generatedDocs","selectedElement","currentPage","totalPages","zoomLevel","pdfPages","isPdfViewer","isCollapsed"],[1,"confirm-modal"],[1,"modal-content","confirm-modal-content"],[1,"confirm-message"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"vector-path-modal"],[1,"modal-content","vector-path-modal-content"],["class","direct-drawing-container",4,"ngIf"],["class","direct-drawing-controls",4,"ngIf"],["class","normal-mode-controls",4,"ngIf"],["class","debug-modal","style","display: flex !important;",4,"ngIf"],[1,"direct-drawing-container"],[3,"pathsChanged","pathSelected","width","height","backgroundColor"],[1,"vector-tools-panel"],[1,"tool-section"],[1,"drawing-tools"],[1,"draw-btn","primary",3,"click"],[1,"tool-icon"],[1,"preset-patterns"],[1,"pattern-btn",3,"click"],[1,"pattern-icon"],["type","range","min","1","max","10",1,"range-input",3,"ngModelChange","ngModel"],[1,"toggle-fill",3,"click"],["class","tool-section",4,"ngIf"],[1,"advanced-controls"],["placeholder","SVG \uD328\uC2A4 \uB370\uC774\uD130\uB97C \uC785\uB825\uD558\uC138\uC694 (\uC608: M 10 10 Q 50 0 90 10)","rows","3",1,"path-input",3,"ngModelChange","ngModel"],[1,"path-preview"],["width","200","height","100","viewBox","0 0 200 100",2,"border","1px solid #ddd","background","#f9f9f9"],["stroke-linecap","round","stroke-linejoin","round"],[1,"direct-drawing-controls"],[1,"normal-mode-controls"],[1,"section-header"],[1,"info-cards"],[1,"info-card"],[1,"card-icon"],[1,"card-content"],[1,"card-label"],[1,"card-value"],[1,"card-description"],[1,"section-desc"],[1,"structure-item"],[1,"structure-title"],[1,"item-number"],[1,"item-badge"],[1,"structure-desc"],[1,"item-badge","catalog"],[1,"properties-table"],[1,"item-badge","pages"],[1,"item-badge","page"],[1,"item-badge","stream"],[1,"operators-grid"],["class","operator-card",4,"ngFor","ngForOf"],[1,"xref-info"],[1,"xref-card"],[1,"code-block"],[1,"resources-grid"],[1,"resource-card"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[1,"compression-grid"],["class","compression-card",4,"ngFor","ngForOf"],[1,"operator-card"],[1,"operator-code"],[1,"operator-desc"],[1,"resource-item"],[1,"compression-card"],[1,"debug-modal",2,"display","flex !important"],[1,"debug-log-content",2,"background","#1e1e1e","color","#d4d4d4","padding","20px","border-radius","8px","max-height","600px","overflow-y","auto","font-family","'Courier New', monospace","font-size","12px","line-height","1.6","user-select","text","white-space","pre-wrap","word-break","break-all"]],template:function(t,o){t&1&&(B(0,ur,1,7,"app-pdf-analysis-dashboard",3),r(1,"div",4)(2,"div",5),M("click",function(){return o.closePdfStructureModal()}),i(),r(3,"div",6)(4,"div",7)(5,"h2"),s(6,"\u{1F4D6} PDF \uAD6C\uC870 \uBD84\uC11D (ISO 32000-1:2008)"),i(),r(7,"button",8),M("click",function(){return o.closePdfStructureModal()}),s(8,"\u2715"),i()(),B(9,Ir,123,25,"div",9),r(10,"div",10)(11,"button",11),M("click",function(){return o.closePdfStructureModal()}),s(12,"\uB2EB\uAE30"),i(),r(13,"button",12),M("click",function(){return o.exportPdfStructure()}),s(14,"\uAD6C\uC870 \uB0B4\uBCF4\uB0B4\uAE30"),i(),r(15,"button",12),M("click",function(){return o.createNewFromStructure()}),s(16,"\uAD6C\uC870\uB85C \uC0C8\uBB38\uC11C \uB9CC\uB4E4\uAE30"),i(),r(17,"button",13),M("click",function(){return o.downloadPdfBinary()}),s(18," \uBC14\uC774\uB108\uB9AC \uB2E4\uC6B4\uB85C\uB4DC "),i()()()(),B(19,Vr,21,3,"div",14),r(20,"app-docs-header",15),M("menuChange",function(a){return o.onMenuChange(a)})("toolbarAction",function(a){return o.onToolbarAction(a)})("search",function(a){return o.onSearch(a)})("rightPanelToggle",function(){return o.toggleRightPanel()})("leftPanelToggle",function(){return o.toggleLeftPanel()})("pdfAnalysisToggle",function(a){return o.onPdfAnalysisToggle(a)}),i(),B(21,Fr,122,18,"div",16)(22,zr,48,10,"div",17)(23,Nr,80,21,"div",18)(24,Yr,100,22,"div",19)(25,Hr,75,24,"div",20),r(26,"div",21),B(27,Ur,2,4,"div",22),r(28,"div",23),B(29,Zr,5,32,"div",24)(30,pa,9,2,"div",25),i(),B(31,ua,2,10,"div",26),i(),r(32,"app-document-modal",27),M("close",function(){return o.onCloseDocumentModal()})("save",function(a){return o.onSaveDocument(a)})("open",function(a){return o.onOpenDocument(a)})("delete",function(a){return o.onDeleteDocument(a)})("fileUpload",function(a){return o.onFileUpload(a)}),i(),B(33,ma,16,2,"div",28)(34,Fa,31,11,"div",29)),t&2&&(f("ngIf",o.showAnalysisDashboard&&o.pdfAnalysisData),c(),q("display",o.showPdfStructureModal?"block":"none"),ut("aria-hidden",!o.showPdfStructureModal),c(8),f("ngIf",o.pdfStructureData),c(10),f("ngIf",o.showVectorGraphicsModal),c(),f("docsTitle",o.docsTitle)("documentType",o.documentType)("activeMenu","\uD3B8\uC9D1")("wordCount",o.totalElementCount)("isSearchMode",!1)("searchResults",Gt(29,pr))("isGenerating",!1)("generatedDocs",o.hasContent?"content":"")("enablePdfAnalysis",o.enablePdfAnalysis),c(),f("ngIf",o.showTextEditor),c(),f("ngIf",o.showImageEditor),c(),f("ngIf",o.showShapeEditor),c(),f("ngIf",o.showSignatureEditor),c(),f("ngIf",o.showWatermarkEditor),c(2),f("ngIf",o.showLeftPanel),c(2),f("ngIf",o.pdfSrc),c(),f("ngIf",!o.pdfSrc),c(),f("ngIf",o.showRightPanel),c(),f("isVisible",o.isDocumentModalVisible)("mode",o.documentModalMode)("currentTitle",o.docsTitle),c(),f("ngIf",o.showConfirmModal),c(),f("ngIf",o.showVectorPathEditor&&!o.showTextEditor&&!o.showImageEditor&&!o.showShapeEditor))},dependencies:[ze,_t,dt,Et,kt,vt,je,se,Rt,ft,Xe,He,Ye,Pt,pe,on,Ke,Ut,me,Ce,_e,he,fe,Pe,Ge,re],styles:['@charset "UTF-8";@font-face{font-family:Noto Sans KR;src:url(/fonts/NotoSansKR-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumGothic;src:url(/fonts/NanumGothic-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumBarunGothic;src:url(/fonts/NanumBarunGothic-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:IBM Plex Sans KR;src:url(/fonts/IBMPlexSansKR-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumSquare;src:url(/fonts/NanumSquare-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Black Han Sans;src:url(/fonts/BlackHanSans-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Noto Serif KR";src:url(/fonts/NotoSerifKR-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumMyeongjo;src:url(/fonts/NanumMyeongjo-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumPen;src:url(/fonts/NanumPen-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:NanumBrush;src:url(/fonts/NanumBrush-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:DoHyeon;src:url(/fonts/DoHyeon-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Jua;src:url(/fonts/Jua-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Gaegu;src:url(/fonts/Gaegu-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:GamjaFlower;src:url(/fonts/GamjaFlower-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Sunflower;src:url(/fonts/Sunflower-Medium.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:EastSeaDokdo;src:url(/fonts/EastSeaDokdo-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:HiMelody;src:url(/fonts/HiMelody-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Roboto;src:url(/fonts/Roboto-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Lato;src:url(/fonts/Lato-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Montserrat;src:url(/fonts/Montserrat-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(/fonts/Poppins-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Inter;src:url(/fonts/Inter-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Ubuntu;src:url(/fonts/Ubuntu-Regular.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(2,1fr)!important;gap:10px!important;margin:16px 0!important;padding:8px!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;padding:14px 10px!important;background:linear-gradient(135deg,#fff,#f8f9fa)!important;border:2px solid #e9ecef!important;border-radius:12px!important;cursor:pointer!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;min-height:70px!important;box-shadow:0 2px 4px #0000000d!important;position:relative!important;-webkit-user-select:none!important;user-select:none!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6,#1d4ed8)!important;border-color:#3b82f6!important;color:#fff!important;transform:translateY(-2px) scale(1.02)!important;box-shadow:0 8px 25px #3b82f640!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:hover   .tool-icon[_ngcontent-%COMP%]{transform:scale(1.1)!important;color:#fff!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:hover   .tool-title[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(1.01)!important;box-shadow:0 4px 15px #3b82f64d!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{font-size:22px!important;margin-bottom:6px!important;transition:all .3s ease!important;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .pdf-tools-grid[_ngcontent-%COMP%]   .pdf-tool-item[_ngcontent-%COMP%]   .tool-title[_ngcontent-%COMP%]{font-size:11px!important;text-align:center!important;color:#4b5563!important;line-height:1.3!important;word-break:keep-all!important;font-weight:500!important;transition:all .3s ease!important}app-docs-right-sidebar[_ngcontent-%COMP%]   .element-properties-panel[_ngcontent-%COMP%]{margin-top:16px!important;padding:16px 12px!important;border-radius:12px!important;box-shadow:0 4px 6px -1px #0000001a!important}.docs-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:var(--bg-primary, #ffffff);border-bottom:1px solid var(--border-color, #e2e8f0);height:60px;position:relative;z-index:1000}.docs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center}.docs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:var(--text-primary, #1e293b);letter-spacing:-.5px}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:8px 16px;background:var(--bg-secondary, #f8fafc);color:var(--text-primary, #475569);border:1px solid var(--border-color, #e2e8f0);border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px;box-shadow:none}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background:var(--hover-bg, #e2e8f0);border-color:var(--border-color, #cbd5e1);color:var(--text-primary, #1e293b)}.docs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:active{background:var(--active-bg, #cbd5e1)}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:calc(100vh - 48px);background:var(--bg-secondary);transition:background-color .3s ease;position:relative}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;z-index:1}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .analysis-dashboard-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;background:var(--bg-primary);z-index:10}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]{position:relative;flex:1;height:100%;background:var(--bg-primary);border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]{height:100%;width:100%;display:block}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .toolbar{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #sidebarContainer{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #sidebarToggle{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .contextMenuItems{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .errorWrapper{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .secondaryToolbar{display:none!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .viewer{background:var(--bg-secondary)!important;top:0!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     .page{margin:10px auto!important;box-shadow:0 4px 12px #00000026!important;border-radius:4px!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #viewerContainer{inset:0!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .pdf-viewer-container[_ngcontent-%COMP%]   ngx-extended-pdf-viewer[_ngcontent-%COMP%]     #mainContainer{inset:0!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area[_ngcontent-%COMP%]{border-radius:2px;transition:all .15s ease;position:relative;background-color:transparent}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area[_ngcontent-%COMP%]:hover{background-color:#007acc14!important;border-color:#007acc!important;border-style:solid!important;border-width:2px!important;box-shadow:0 1px 4px #007acc33}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area[_ngcontent-%COMP%]:active{transform:scale(.99)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area.active[_ngcontent-%COMP%]{background-color:#007acc1a!important;box-shadow:0 2px 8px #007acc4d}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .text-editor-host[_ngcontent-%COMP%]   .sentence-overlay-area.active[_ngcontent-%COMP%]:hover{background-color:#007acc26!important}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;background:var(--bg-secondary);transition:background-color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;background:var(--bg-primary);border-radius:12px;padding:30px;box-shadow:0 8px 32px var(--shadow);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid var(--border-color);transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-primary);font-size:2rem;font-weight:700;margin-bottom:10px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;margin:0;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-size:.95rem;font-weight:600;margin-bottom:8px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid var(--border-color);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-color-alpha)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:40px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;border-radius:50px;padding:16px 32px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px var(--primary-color-alpha)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px var(--primary-color-alpha)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{text-align:center}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 24px;border:4px solid var(--border-color);border-top:4px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.5rem;margin-bottom:12px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem;margin-bottom:30px;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:.9rem;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .progress-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:not(.completed):not(.active){background:var(--bg-secondary);color:var(--text-secondary);border:1px solid var(--border-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.8rem;margin:0;transition:color .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:16px;font-size:.9rem;color:var(--text-secondary);transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;overflow:hidden}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:transparent;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .docs-preview[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{padding:20px;background:var(--bg-primary);color:var(--text-primary);min-height:300px;line-height:1.6;white-space:pre-wrap;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:30px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]:hover, .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]{background:transparent;color:var(--text-primary);border:2px solid var(--border-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);color:var(--primary-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:2px solid var(--primary-color)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color);border-color:var(--secondary-color)}.main-container[_ngcontent-%COMP%]   .left-menu-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:280px;height:100%;transition:width .3s ease}.main-container[_ngcontent-%COMP%]   .left-menu-container.collapsed[_ngcontent-%COMP%]{width:48px}.main-container[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{position:fixed;right:-360px;top:48px;width:360px;height:calc(100vh - 48px);z-index:1500;transition:right .3s ease}.main-container[_ngcontent-%COMP%]   .right-sidebar.visible[_ngcontent-%COMP%]{right:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dark-mode[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]{background:#ffffff0d;border-color:#ffffff1a}@media (max-width: 1200px){.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 992px){.main-container[_ngcontent-%COMP%]   .left-menu-container[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s ease;box-shadow:2px 0 8px var(--shadow);background:var(--bg-primary)}.main-container[_ngcontent-%COMP%]   .left-menu-container.show[_ngcontent-%COMP%]{transform:translate(0)}.main-container[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{transform:translate(100%);transition:right .3s ease,transform .3s ease;right:0}.main-container[_ngcontent-%COMP%]   .right-sidebar.visible[_ngcontent-%COMP%]{transform:translate(0)}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{margin-left:0;margin-right:0}}@media (max-width: 768px){.main-container[_ngcontent-%COMP%]{height:calc(100vh - 48px)}.main-container[_ngcontent-%COMP%]   .left-menu-container[_ngcontent-%COMP%]{width:80%;max-width:280px}.main-container[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{width:90%;max-width:350px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]{padding:8px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]{padding:15px}.main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .setup-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .generating-section[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .docs-main-content[_ngcontent-%COMP%]   .docs-generator-content[_ngcontent-%COMP%]   .result-section[_ngcontent-%COMP%]{padding:20px}}.pdf-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:var(--bg-secondary)}.pdf-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:var(--bg-primary);border-bottom:1px solid var(--border-color);box-shadow:0 2px 4px var(--shadow)}.pdf-toolbar[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 12px;background:transparent;border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);cursor:pointer;transition:all .2s ease;font-size:14px}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 2px 8px var(--shadow)}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn.primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.pdf-toolbar[_ngcontent-%COMP%]   .tool-btn.primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark);border-color:var(--primary-dark)}.pdf-editor-workspace[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:var(--bg-primary);border-bottom:1px solid var(--border-color)}.page-navigation[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%], .page-navigation[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-navigation[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .page-navigation[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]{padding:6px 12px;background:transparent;border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer;transition:all .2s ease}.page-navigation[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover:not(:disabled), .page-navigation[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-tertiary);border-color:var(--primary-color)}.page-navigation[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:disabled, .page-navigation[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-navigation[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%], .page-navigation[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{font-size:14px;color:var(--text-primary);min-width:80px;text-align:center}.pdf-canvas-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:flex-start;padding:20px;overflow:auto;background:var(--bg-tertiary);transform-origin:center top;transition:transform .3s ease}.pdf-page[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 20px #0000001a;border-radius:4px;position:relative;overflow:visible;cursor:crosshair}.grid-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1;background-image:linear-gradient(rgba(0,0,0,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(0,0,0,.1) 1px,transparent 1px);background-size:20px 20px;pointer-events:none}.pdf-element[_ngcontent-%COMP%]{position:absolute;cursor:move;border:1px solid transparent;transition:border-color .2s ease}.pdf-element[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.pdf-element.selected[_ngcontent-%COMP%]{border-color:var(--primary-color);box-shadow:0 0 0 2px rgba(var(--primary-color-rgb),.2)}.pdf-element.element-text[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]{width:100%;height:100%;padding:4px;border:none;background:transparent;outline:none;cursor:text}.pdf-element.element-text[_ngcontent-%COMP%]   .text-element[contenteditable=true][_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb),.05)}.pdf-element.element-image[_ngcontent-%COMP%]   .image-element[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:2px}.pdf-element.element-shape[_ngcontent-%COMP%]   .shape-element[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:2px}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]{width:100%;height:100%}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;overflow:visible}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .2s ease}.pdf-element.element-vector-path[_ngcontent-%COMP%]   .vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.resize-handles[_ngcontent-%COMP%]{position:absolute;inset:-4px;pointer-events:none}.resize-handles[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background:var(--primary-color);border:1px solid white;border-radius:50%;pointer-events:all}.resize-handles[_ngcontent-%COMP%]   .resize-handle.nw[_ngcontent-%COMP%]{top:0;left:0;cursor:nw-resize}.resize-handles[_ngcontent-%COMP%]   .resize-handle.ne[_ngcontent-%COMP%]{top:0;right:0;cursor:ne-resize}.resize-handles[_ngcontent-%COMP%]   .resize-handle.sw[_ngcontent-%COMP%]{bottom:0;left:0;cursor:sw-resize}.resize-handles[_ngcontent-%COMP%]   .resize-handle.se[_ngcontent-%COMP%]{bottom:0;right:0;cursor:se-resize}.properties-panel[_ngcontent-%COMP%]{position:absolute;right:20px;top:80px;width:250px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:16px;box-shadow:0 4px 12px var(--shadow);z-index:10}.properties-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--text-primary);font-size:16px;font-weight:600}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:16px}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;color:var(--text-secondary);font-size:14px;font-weight:500}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%;margin-bottom:4px}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:100%;height:36px;border:1px solid var(--border-color);border-radius:4px;cursor:pointer}.properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.properties-panel[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:100%;padding:8px 16px;background:var(--error-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease}.properties-panel[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:var(--error-dark);transform:translateY(-1px)}.pdf-document-editor[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;background:#f5f5f5}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;padding:15px;background:#fff;border-bottom:1px solid #ddd;box-shadow:0 2px 4px #0000001a}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{padding:10px 15px;background:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;align-items:center;gap:20px}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]{position:relative;transition:all .3s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container.active[_ngcontent-%COMP%]{transform:scale(1.02);box-shadow:0 8px 25px #00000026}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #ccc;box-shadow:0 4px 10px #0000001a;cursor:pointer;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]:hover{box-shadow:0 6px 15px #00000026}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{position:absolute;top:-30px;left:0;background:#333;color:#fff;padding:5px 10px;font-size:12px;border-radius:3px}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]{position:absolute;border:1px solid transparent;cursor:move;transition:all .2s ease;-webkit-user-select:none;user-select:none}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]:hover{border-color:#007bff}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element.selected[_ngcontent-%COMP%]{border-color:#007bff;box-shadow:0 0 5px #007bff80}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;background:#007bff;border:2px solid white;border-radius:50%;width:8px;height:8px;pointer-events:auto;z-index:1000;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]:hover{background:#0056b3;transform:scale(1.3);box-shadow:0 2px 6px #007bff66}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.nw-resize[_ngcontent-%COMP%]{cursor:nw-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.ne-resize[_ngcontent-%COMP%]{cursor:ne-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.sw-resize[_ngcontent-%COMP%]{cursor:sw-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.se-resize[_ngcontent-%COMP%]{cursor:se-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.n-resize[_ngcontent-%COMP%]{cursor:n-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.s-resize[_ngcontent-%COMP%]{cursor:s-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.w-resize[_ngcontent-%COMP%]{cursor:w-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .resize-handle.e-resize[_ngcontent-%COMP%]{cursor:e-resize}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .corner-handle[_ngcontent-%COMP%]{width:10px;height:10px;background:#007bff;border:2px solid white;box-shadow:0 1px 3px #0003}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .edge-handle[_ngcontent-%COMP%]{width:8px;height:8px;background:#28a745;border:1px solid white}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]{width:100%;height:100%;padding:2px;border:none;background:transparent;resize:none;outline:none;font-family:Arial,sans-serif;cursor:text;-webkit-user-select:text;user-select:text}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element.editing[_ngcontent-%COMP%]{background:#ffffffe6;border:2px solid #007acc;outline:none;box-shadow:0 0 8px #007acc4d;cursor:text}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]:hover:not(.editing){background:#007acc0d;cursor:text}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]:focus{outline:none;background:#ffffffe6}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .image-element[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;cursor:move;-webkit-user-select:none;user-select:none;border:2px solid transparent;transition:border-color .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .image-element[_ngcontent-%COMP%]:hover{border-color:#007acc4d}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .image-element.selected[_ngcontent-%COMP%]{border-color:#007acc;box-shadow:0 0 8px #007acc4d}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .shape-element[_ngcontent-%COMP%]{width:100%;height:100%;cursor:move;-webkit-user-select:none;user-select:none;border-radius:2px;transition:box-shadow .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .shape-element[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #0000001a}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .pdf-page-container[_ngcontent-%COMP%]   .pdf-page[_ngcontent-%COMP%]   .page-element[_ngcontent-%COMP%]   .shape-element.selected[_ngcontent-%COMP%]{box-shadow:0 0 8px #007acc4d}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]{padding:20px}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]   .add-page-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px 25px;background:#6c757d;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:16px;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]   .add-page-button[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.pdf-document-editor[_ngcontent-%COMP%]   .pdf-pages-wrapper[_ngcontent-%COMP%]   .add-page-section[_ngcontent-%COMP%]   .add-page-button[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]{position:fixed;top:50%;right:20px;transform:translateY(-50%);width:250px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 15px #0000001a;padding:20px;z-index:1000}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:16px}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#555}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:5px;border:1px solid #ddd;border-radius:3px;font-size:14px}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:60px;flex:none}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .property-row[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:40px;height:30px;flex:none;border:none;border-radius:3px;cursor:pointer}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:#dc3545;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:all .2s ease}.pdf-document-editor[_ngcontent-%COMP%]   .element-properties[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#c82333}.right-sidebar-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:350px;height:100%;transition:width .3s ease}.right-sidebar-container.collapsed[_ngcontent-%COMP%]{width:48px}.right-sidebar-container[_ngcontent-%COMP%]   app-docs-right-sidebar[_ngcontent-%COMP%]{height:100%}.element-properties-panel.draggable-panel[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;-webkit-user-select:none;user-select:none;cursor:default;width:320px;max-width:90vw;max-height:80vh;overflow:hidden;z-index:25;background:var(--bg-primary);border:2px solid var(--accent-color);border-radius:12px;box-shadow:0 12px 32px #0000004d;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.element-properties-panel[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:move;background:var(--accent-color);color:#fff;padding:12px 16px;border-radius:10px 10px 0 0}.element-properties-panel[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{background:#4f46e5;opacity:.9}.element-properties-panel[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{background:#3730a3;cursor:grabbing}.element-properties-panel[_ngcontent-%COMP%]   .properties-header[_ngcontent-%COMP%]{margin:0;padding:0;border:none}.element-properties-panel[_ngcontent-%COMP%]   .properties-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#fff;display:flex;align-items:center}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]{padding:20px;max-height:60vh;overflow-y:auto;background:var(--bg-primary)}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.element-properties-panel[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}.element-properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]{margin-bottom:20px}.element-properties-panel[_ngcontent-%COMP%]   .property-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]{margin-bottom:12px}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:2px solid var(--border-color);border-radius:6px;font-size:13px;background:var(--input-bg);color:var(--text-primary);transition:all .2s ease}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(var(--accent-color),.1)}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:var(--text-muted)}.element-properties-panel[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{height:36px;padding:4px;cursor:pointer}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color);display:flex;gap:10px}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%], .element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{flex:1;padding:10px 16px;border:none;border-radius:8px;font-size:13px;font-weight:500;cursor:pointer;transition:background .2s ease}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#dc2626}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:active{background:#b91c1c}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover)}.element-properties-panel[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{background:var(--bg-active)}.vector-path-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center}.vector-path-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:90vw;max-height:90vh;width:800px;display:flex;flex-direction:column;overflow:hidden}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:5px;border-radius:4px;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#495057}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]{padding:25px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.25rem;font-weight:600;color:#2c3e50}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:25px;border-bottom:1px solid #e9ecef}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1rem;font-weight:600;color:#495057}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]{margin-bottom:15px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;border:3px solid #4285f4;border-radius:12px;background:linear-gradient(135deg,#4285f4,#34a853);color:#fff;cursor:pointer;transition:all .3s ease;text-decoration:none;width:100%;box-shadow:0 4px 15px #4285f44d}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #4285f466;border-color:#3367d6}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 15px #4285f44d}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:8px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-size:1.1rem;font-weight:600;margin-bottom:4px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .drawing-tools[_ngcontent-%COMP%]   .draw-btn[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.85rem;opacity:.9;font-weight:400}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px 10px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-decoration:none}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8f9ff;transform:translateY(-2px);box-shadow:0 4px 12px #4285f426}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]   .pattern-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .preset-patterns[_ngcontent-%COMP%]   .pattern-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:.875rem;font-weight:500;color:#495057}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#495057;min-width:80px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:50px;height:35px;border:1px solid #ced4da;border-radius:4px;cursor:pointer;padding:2px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{flex:1;max-width:150px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;min-width:40px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-fill[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ced4da;border-radius:4px;background:#fff;cursor:pointer;font-size:.875rem;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .style-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .toggle-fill[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#adb5bd}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .path-preview[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .path-preview[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{border-radius:4px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:auto;margin-bottom:5px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .path-input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ced4da;border-radius:4px;font-family:Courier New,monospace;font-size:.875rem;resize:vertical}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .path-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{align-self:flex-start;padding:8px 16px;background:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.875rem;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .vector-tools-panel[_ngcontent-%COMP%]   .tool-section[_ngcontent-%COMP%]   .advanced-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .direct-drawing-container[_ngcontent-%COMP%]{height:70vh;width:100%;border:1px solid #e9ecef;border-radius:8px;overflow:hidden;background:#f8f9fa}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .direct-drawing-container[_ngcontent-%COMP%]   app-vector-path-drawer[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:10px}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .direct-drawing-controls[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .normal-mode-controls[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%;justify-content:flex-end}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%], .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled, .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:disabled, .vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{background:#e67e22;color:#fff}.vector-path-modal[_ngcontent-%COMP%]   .vector-path-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover:not(:disabled){background:#d35400}.text-editor-modal[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center;background:#00000080}.text-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:90vw;max-height:90vh;width:600px;display:flex;flex-direction:column;overflow:hidden}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:5px;border-radius:4px;transition:all .2s}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#495057}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:25px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.125rem;font-weight:600;color:#2c3e50;border-bottom:2px solid #e9ecef;padding-bottom:8px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:15px;flex-wrap:wrap}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#495057;min-width:80px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:50px;height:35px;border:1px solid #ced4da;border-radius:4px;cursor:pointer;padding:2px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{flex:1;max-width:200px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{width:100px;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;font-size:.875rem}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ced4da;border-radius:4px;background:#fff;font-size:.875rem;min-width:150px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]:focus, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]:focus, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;font-size:14px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Sans KR"][_ngcontent-%COMP%]{font-family:Noto Sans KR,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumGothic][_ngcontent-%COMP%]{font-family:NanumGothic,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBarunGothic][_ngcontent-%COMP%]{font-family:NanumBarunGothic,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="IBM Plex Sans KR"][_ngcontent-%COMP%]{font-family:IBM Plex Sans KR,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumSquare][_ngcontent-%COMP%]{font-family:NanumSquare,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Black Han Sans"][_ngcontent-%COMP%]{font-family:Black Han Sans,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Noto Serif KR"][_ngcontent-%COMP%]{font-family:"Noto Serif KR",serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumMyeongjo][_ngcontent-%COMP%]{font-family:NanumMyeongjo,serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumPen][_ngcontent-%COMP%]{font-family:NanumPen,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=NanumBrush][_ngcontent-%COMP%]{font-family:NanumBrush,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=DoHyeon][_ngcontent-%COMP%]{font-family:DoHyeon,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Jua][_ngcontent-%COMP%]{font-family:Jua,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Gaegu][_ngcontent-%COMP%]{font-family:Gaegu,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=GamjaFlower][_ngcontent-%COMP%]{font-family:GamjaFlower,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Sunflower][_ngcontent-%COMP%]{font-family:Sunflower,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=EastSeaDokdo][_ngcontent-%COMP%]{font-family:EastSeaDokdo,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=HiMelody][_ngcontent-%COMP%]{font-family:HiMelody,cursive}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Roboto][_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value="Open Sans"][_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Lato][_ngcontent-%COMP%]{font-family:Lato,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Montserrat][_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Poppins][_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Inter][_ngcontent-%COMP%]{font-family:Inter,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .font-select[_ngcontent-%COMP%]   option[value=Ubuntu][_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;min-width:40px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]{margin-bottom:25px}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .editor-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .style-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .position-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:10px;justify-content:flex-end}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.text-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, .image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, .shape-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.text-editor-modal[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ced4da;border-radius:4px;font-size:.875rem;font-family:inherit;resize:vertical;min-height:80px}.text-editor-modal[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.text-editor-modal[_ngcontent-%COMP%]   .text-preview[_ngcontent-%COMP%]{padding:15px;border:1px solid #e9ecef;border-radius:4px;background:#f8f9fa;min-height:60px;display:flex;align-items:center}.image-editor-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:700px}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{border:2px dashed #ced4da;border-radius:8px;padding:30px;text-align:center;transition:all .2s}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8f9ff}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;color:#495057}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:2rem;color:#4285f4}.image-editor-modal[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d}.image-editor-modal[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{text-align:center;padding:15px;border:1px solid #e9ecef;border-radius:4px;background:#f8f9fa}.shape-editor-modal[_ngcontent-%COMP%]   .shape-types[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:15px 10px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn.active[_ngcontent-%COMP%]{border-color:#4285f4;background:#f8f9ff;color:#4285f4}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8f9ff}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]   .shape-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:5px}.shape-editor-modal[_ngcontent-%COMP%]   .shape-type-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:.875rem;font-weight:500}.shape-editor-modal[_ngcontent-%COMP%]   .shape-preview[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]{margin:0 auto}.signature-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1110;display:flex;align-items:center;justify-content:center;background:#00000080}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0000004d;width:90vw;max-width:700px;max-height:80vh;overflow:hidden}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between;background:#f8f9fa}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#333;display:flex;align-items:center;gap:8px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#333}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:24px;max-height:60vh;overflow-y:auto}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #eee;display:flex;gap:12px;justify-content:flex-end;background:#f8f9fa}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:600;color:#333}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-text-section[_ngcontent-%COMP%]   .signature-text-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e9ecef;border-radius:8px;font-size:16px;transition:border-color .2s ease}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-text-section[_ngcontent-%COMP%]   .signature-text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 20px;border:2px solid #e9ecef;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;flex:1;min-width:120px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 2px 8px #007bff26}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn.active[_ngcontent-%COMP%]{border-color:#007bff;background:#f0f8ff;box-shadow:0 2px 8px #007bff33}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]   .style-icon[_ngcontent-%COMP%]{font-size:24px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-style-section[_ngcontent-%COMP%]   .signature-styles[_ngcontent-%COMP%]   .signature-style-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:500}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]{margin-bottom:24px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:12px;background:#f9f9f9}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .signature-canvas[_ngcontent-%COMP%]{width:100%;height:150px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:crosshair;display:block;margin-bottom:12px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer;font-size:14px;transition:all .2s ease}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.clear-btn[_ngcontent-%COMP%]{color:#f44;border-color:#f44}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.clear-btn[_ngcontent-%COMP%]:hover{background:#ffebeb}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.use-canvas-btn[_ngcontent-%COMP%]{color:#22c55e;border-color:#22c55e}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn.use-canvas-btn[_ngcontent-%COMP%]:hover{background:#f0fff4}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:4px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#555}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:60px;height:40px;border:none;border-radius:6px;cursor:pointer;box-shadow:0 2px 4px #0000001a}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .range-input[_ngcontent-%COMP%]{width:100%;cursor:pointer}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus, .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff33}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-color-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .signature-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#666}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-preview-section[_ngcontent-%COMP%]   .signature-preview[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]{border:2px dashed #ddd;border-radius:8px;margin:0 auto;background:#f9f9f9}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-container[_ngcontent-%COMP%]   .signature-preview-section[_ngcontent-%COMP%]   .signature-preview[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]   .signature-sample[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;text-align:center;transition:all .2s ease}.signature-element[_ngcontent-%COMP%]{cursor:move;transition:all .2s ease}.signature-element[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.signature-element.selected[_ngcontent-%COMP%]{box-shadow:0 4px 12px #007bff4d}@media (max-width: 768px){.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-content[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.signature-editor-modal[_ngcontent-%COMP%]   .signature-editor-content[_ngcontent-%COMP%]   .signature-canvas-section[_ngcontent-%COMP%]   .canvas-controls[_ngcontent-%COMP%]   .canvas-btn[_ngcontent-%COMP%]{width:100%;text-align:center}}.watermark-editor-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1120}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:12px;border-bottom:1px solid #eee}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:24px;font-weight:600}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#666}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0 12px;color:#555;font-size:16px;font-weight:500}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-text-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-text-section[_ngcontent-%COMP%]   .watermark-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;font-size:16px;font-family:inherit}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-text-section[_ngcontent-%COMP%]   .watermark-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007aff}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;flex-wrap:wrap}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#666;min-width:50px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:120px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:60px;padding:6px;border:1px solid #ddd;border-radius:4px;text-align:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:6px;cursor:pointer}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-size-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .rotation-value[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%], .watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-style-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .rotation-value[_ngcontent-%COMP%]{font-size:14px;color:#666;min-width:40px;text-align:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#666;min-width:40px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-position-section[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .position-input[_ngcontent-%COMP%]{flex:1;padding:6px;border:1px solid #ddd;border-radius:4px;text-align:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]{margin-bottom:24px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .watermark-preview[_ngcontent-%COMP%]{display:flex;justify-content:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .watermark-preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;background:#f9f9f9;position:relative;display:flex;align-items:center;justify-content:center}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-editor-body[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .watermark-preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .watermark-sample[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform-origin:center;white-space:nowrap;font-weight:700;pointer-events:none;-webkit-user-select:none;user-select:none}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:12px;border-top:1px solid #eee}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.cancel-btn[_ngcontent-%COMP%]{background:#f0f0f0;color:#666}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.cancel-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.apply-btn[_ngcontent-%COMP%]{background:#007aff;color:#fff}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .modal-btn.apply-btn[_ngcontent-%COMP%]:hover{background:#0056cc}.watermark-element[_ngcontent-%COMP%]{position:absolute;cursor:pointer;-webkit-user-select:none;user-select:none;pointer-events:all;transform-origin:center;z-index:10;background:#ffffff03}.watermark-element.selected[_ngcontent-%COMP%]{outline:2px solid #007AFF;outline-offset:-2px}.watermark-element[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-weight:700;white-space:nowrap;pointer-events:none;-webkit-user-select:none;user-select:none}@media (max-width: 768px){.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]{width:95%;padding:16px;max-height:95vh}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{justify-content:space-between}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .position-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}.watermark-editor-modal[_ngcontent-%COMP%]   .watermark-editor-content[_ngcontent-%COMP%]   .watermark-preview-section[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{width:100%!important;height:150px!important}}.pdf-structure-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1090}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:600px;height:100%;background:var(--bg-primary, #ffffff);box-shadow:-4px 0 20px #0003;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid var(--border-color, #e0e0e0);display:flex;align-items:center;justify-content:space-between}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:transparent;font-size:24px;color:var(--text-secondary, #666);cursor:pointer;border-radius:4px;transition:all .2s}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5);color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]{display:flex;padding:0 24px;border-bottom:1px solid var(--border-color, #e0e0e0);gap:8px}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]   .mode-tab[_ngcontent-%COMP%]{padding:12px 16px;border:none;background:transparent;color:var(--text-secondary, #666);font-size:14px;font-weight:500;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]   .mode-tab[_ngcontent-%COMP%]:hover{color:var(--primary-color, #2196F3)}.pdf-structure-panel[_ngcontent-%COMP%]   .mode-tabs[_ngcontent-%COMP%]   .mode-tab.active[_ngcontent-%COMP%]{color:var(--primary-color, #2196F3);border-bottom-color:var(--primary-color, #2196F3)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 16px;color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{padding:16px;background:var(--bg-info, #e3f2fd);border-left:4px solid var(--primary-color, #2196F3);border-radius:4px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary, #666);line-height:1.5}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-top:16px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary, #f5f5f5);border-radius:8px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary, #666);font-size:14px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .structure-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:20px;color:var(--primary-color, #2196F3)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px;margin-top:16px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:24px;background:var(--bg-secondary, #f5f5f5);border-radius:8px;text-align:center}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--primary-color, #2196F3);margin-bottom:8px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .edit-mode-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary, #666)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid var(--border-color, #e0e0e0);display:flex;justify-content:flex-end;gap:12px}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary, #f5f5f5);color:var(--text-primary, #333)}.pdf-structure-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1130;display:flex;align-items:center;justify-content:center;background:#00000080}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalFadeIn .3s ease-out}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-content.large-modal[_ngcontent-%COMP%]{width:90%;max-width:1200px}@keyframes _ngcontent-%COMP%_modalFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:5px;border-radius:4px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#495057}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:25px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.125rem;font-weight:600;color:#2c3e50;border-bottom:2px solid #e9ecef;padding-bottom:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]{margin-bottom:40px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:12px;border-bottom:2px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:22px;font-weight:700;color:#2c3e50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-desc[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:14px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:24px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 4px 12px #667eea4d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:36px;line-height:1}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:13px;opacity:.85;line-height:1.4}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:var(--bg-secondary, #f9f9f9);border-radius:12px;border-left:4px solid var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-number[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--primary-color, #2196F3);color:#fff;border-radius:50%;font-weight:700;font-size:16px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary, #333)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge[_ngcontent-%COMP%]{padding:4px 12px;background:var(--primary-color, #2196F3);color:#fff;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.catalog[_ngcontent-%COMP%]{background:#9c27b0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.pages[_ngcontent-%COMP%]{background:#ff9800}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.page[_ngcontent-%COMP%]{background:#4caf50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-title[_ngcontent-%COMP%]   .item-badge.stream[_ngcontent-%COMP%]{background:#f44336}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .structure-item[_ngcontent-%COMP%]   .structure-desc[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--text-secondary, #666);line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]{margin-top:16px;overflow-x:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;font-weight:600;font-size:14px;color:#fff;text-transform:uppercase;letter-spacing:.5px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color, #e0e0e0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;font-size:14px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .properties-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:2px 6px;background:#f0f0f0;border-radius:4px;font-family:Courier New,monospace;font-size:13px;color:#e91e63}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:16px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]{padding:16px;background:#fff;border:2px solid var(--border-color, #e0e0e0);border-radius:8px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color, #2196F3);box-shadow:0 4px 12px #2196f333;transform:translateY(-2px)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]   .operator-code[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:18px;font-weight:700;color:var(--primary-color, #2196F3);margin-bottom:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .operators-grid[_ngcontent-%COMP%]   .operator-card[_ngcontent-%COMP%]   .operator-desc[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary, #666);line-height:1.4}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]{padding:24px;background:#fff;border:2px solid var(--primary-color, #2196F3);border-radius:12px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:var(--text-primary, #333);line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   .code-block[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#1e1e1e;border-radius:8px;overflow-x:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .xref-info[_ngcontent-%COMP%]   .xref-card[_ngcontent-%COMP%]   .code-block[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;font-family:Courier New,monospace;font-size:13px;color:#d4d4d4;line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]{padding:20px;background:#fff;border:2px solid var(--border-color, #e0e0e0);border-radius:12px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:var(--text-primary, #333);padding-bottom:12px;border-bottom:1px solid var(--border-color, #e0e0e0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;background:var(--bg-secondary, #f9f9f9);border-radius:6px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px;color:var(--primary-color, #2196F3);margin-bottom:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .resources-grid[_ngcontent-%COMP%]   .resource-card[_ngcontent-%COMP%]   .resource-list[_ngcontent-%COMP%]   .resource-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary, #666)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]   .compression-card[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 4px 12px #667eea4d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]   .compression-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:700}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .compression-grid[_ngcontent-%COMP%]   .compression-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.9;line-height:1.5}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:var(--bg-info, #e3f2fd);border-left:4px solid var(--primary-color, #2196F3);border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color, #2196F3)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:8px 0;padding-left:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0;line-height:1.6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]{margin-left:20px;padding:8px 12px;background:#f8f9fa;border-radius:4px;max-height:200px;overflow-y:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .font-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:monospace;font-size:.85rem;padding:2px 0;color:#495057}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]{margin-top:12px;padding:15px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;box-shadow:0 2px 8px #0000001a}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:6px;overflow:hidden}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.label[_ngcontent-%COMP%]{font-weight:600;color:#495057;width:40%;background:#f8f9fa}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .page-detail-box[_ngcontent-%COMP%]   .page-info-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.value[_ngcontent-%COMP%]{color:#212529;font-weight:500}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]{margin-top:12px;padding:15px;background:linear-gradient(to right,#f8f9fa,#fff);border-radius:8px;border:1px solid #e9ecef}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]{margin:10px 0;padding:12px 15px;background:#fff;border-left:4px solid #4CAF50;border-radius:6px;box-shadow:0 1px 3px #0000001a;display:flex;gap:10px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]:hover{border-left-color:#2196f3;box-shadow:0 2px 6px #00000026;transform:translate(2px)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]   .sentence-number[_ngcontent-%COMP%]{font-weight:700;color:#4caf50;min-width:25px;font-size:.9rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .sentence-sample[_ngcontent-%COMP%]   .sentence-text[_ngcontent-%COMP%]{flex:1;font-size:.9rem;line-height:1.6;color:#333}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .sample-sentences[_ngcontent-%COMP%]   .more-sentences[_ngcontent-%COMP%]{margin-top:15px;padding:10px;text-align:center;color:#6c757d;font-style:italic;font-size:.85rem;background:#f8f9fa;border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .btn-json-toggle[_ngcontent-%COMP%]{padding:12px 24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px #667eea66}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .btn-json-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea99}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .btn-json-toggle[_ngcontent-%COMP%]:active{transform:translateY(0)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#1e1e1e;border-radius:12px;box-shadow:0 4px 20px #0003}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:15px;border-bottom:2px solid #333}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#61dafb;font-size:1.2rem;margin:0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-copy[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-copy[_ngcontent-%COMP%]:hover{background:#45a049;transform:scale(1.05)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]:hover{background:#0b7dda;transform:scale(1.05)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download.btn-vector-stream[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9c27b0,#e91e63);border:none;color:#fff;font-weight:600;box-shadow:0 4px 15px #9c27b04d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-header[_ngcontent-%COMP%]   .json-actions[_ngcontent-%COMP%]   button.btn-download.btn-vector-stream[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7b1fa2,#c2185b);transform:scale(1.05);box-shadow:0 6px 20px #9c27b066}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]{max-height:600px;overflow:auto;background:#282c34;border-radius:8px;padding:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;color:#abb2bf;font-family:Consolas,Monaco,Courier New,monospace;font-size:.85rem;line-height:1.6;white-space:pre-wrap;word-wrap:break-word}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e1e1e;border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4a4a4a;border-radius:4px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .json-viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#5a5a5a}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]{margin-top:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ff6b6b;font-size:1.3rem;margin-bottom:15px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;margin:0 0 15px;font-weight:600}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;padding:25px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(0,0,0,.2)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]{margin-bottom:20px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{background:#ffffff26;padding:12px 15px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;transition:all .3s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:gold}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;margin-top:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:12px;overflow:hidden;transition:all .3s;border:2px solid rgba(255,255,255,.2)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#fff6;transform:translateY(-3px);box-shadow:0 6px 20px #0000004d}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-header[_ngcontent-%COMP%]{background:#0003;padding:12px 15px;display:flex;justify-content:space-between;align-items:center}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:gold;color:#333;padding:4px 10px;border-radius:12px;font-size:.8rem;font-weight:600}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]{padding:15px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid rgba(255,255,255,.1);font-size:.9rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .page-card-body[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-weight:700;color:gold}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]{padding:15px;border-top:1px solid rgba(255,255,255,.2)}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]{cursor:pointer}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-weight:600;padding:8px;background:#ffffff1a;border-radius:6px;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{background:#fff3}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]{margin-top:10px;max-height:300px;overflow-y:auto}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px;margin:5px 0;background:#0003;border-radius:6px;font-size:.85rem;align-items:center}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-number[_ngcontent-%COMP%]{color:gold;font-weight:700;min-width:25px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type[_ngcontent-%COMP%]{padding:2px 8px;border-radius:4px;font-weight:600;font-size:.8rem;text-transform:uppercase}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-path[_ngcontent-%COMP%]{background:#4caf50}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-line[_ngcontent-%COMP%]{background:#2196f3}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-curve[_ngcontent-%COMP%]{background:#9c27b0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-shape[_ngcontent-%COMP%]{background:#ff9800}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-paint[_ngcontent-%COMP%]{background:#f44336}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-type.op-type-clip[_ngcontent-%COMP%]{background:#607d8b}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .operation-item[_ngcontent-%COMP%]   .op-desc[_ngcontent-%COMP%]{flex:1;font-size:.85rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]   .more-ops[_ngcontent-%COMP%]{text-align:center;padding:10px;color:#ffffffb3;font-style:italic;font-size:.85rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0003;border-radius:3px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-pages[_ngcontent-%COMP%]   .page-cards[_ngcontent-%COMP%]   .page-card[_ngcontent-%COMP%]   .operations-preview[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   .operations-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-details[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:#fff3;border-radius:8px}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:10px 0 0}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .json-viewer-container[_ngcontent-%COMP%]   .vector-graphics-info[_ngcontent-%COMP%]   .vector-box[_ngcontent-%COMP%]   .vector-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:.9rem}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:10px;justify-content:flex-end}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled, .pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.pdf-structure-detail-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:center}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-view-detail[_ngcontent-%COMP%]{padding:14px 32px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #667eea4d}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-view-detail[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.pdf-structure-panel[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-view-detail[_ngcontent-%COMP%]:active{transform:translateY(0)}[_nghost-%COMP%]     .snackbar-container, [_nghost-%COMP%]     .mat-snack-bar-container, [_nghost-%COMP%]     app-snackbar{z-index:10000!important}.confirm-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:10000;display:flex;align-items:center;justify-content:center}.confirm-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]{position:relative;background:var(--bg-primary);border-radius:12px;box-shadow:0 20px 60px #0000004d;min-width:400px;max-width:500px;margin:20px;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 0;border-bottom:1px solid var(--border-color);margin-bottom:20px}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600;color:var(--text-primary)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);color:var(--text-primary)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:0 24px 20px}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .confirm-message[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;color:var(--text-primary);margin:0;white-space:pre-line}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px;border-top:1px solid var(--border-color)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;border:none;font-weight:500;cursor:pointer;transition:all .2s ease;font-size:.9rem}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary)}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.confirm-modal[_ngcontent-%COMP%]   .confirm-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-1px);box-shadow:0 4px 12px #dc35454d}.vector-actions[_ngcontent-%COMP%]{padding:15px;background:#9c27b01a;border-radius:8px;border:1px solid rgba(156,39,176,.2)}.vector-actions[_ngcontent-%COMP%]   .btn-vector-stream[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:14px;transition:all .3s ease;cursor:pointer}.vector-actions[_ngcontent-%COMP%]   .btn-vector-stream[_ngcontent-%COMP%]:active{transform:scale(.98)}#vector-graphics-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;pointer-events:none;border-radius:4px;opacity:.8;transition:opacity .3s ease}#vector-graphics-canvas[_ngcontent-%COMP%]:hover{opacity:1}.vector-path-element[_ngcontent-%COMP%]{position:absolute;cursor:move;border:2px solid transparent;border-radius:3px;transition:all .3s ease}.vector-path-element[_ngcontent-%COMP%]:hover{border-color:#3498db80;box-shadow:0 2px 8px #3498db33}.vector-path-element.selected[_ngcontent-%COMP%]{border-color:#3498db;box-shadow:0 0 0 2px #3498db4d}.vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.vector-path-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.vector-preview-panel[_ngcontent-%COMP%]{position:fixed;top:100px;right:20px;width:300px;height:400px;background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;z-index:1000;display:flex;flex-direction:column;overflow:hidden}.vector-preview-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{background:#3498db;color:#fff;padding:12px;font-weight:600;display:flex;justify-content:space-between;align-items:center}.vector-preview-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer}.vector-preview-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:.8}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;padding:15px;overflow-y:auto}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]{background:#f8f9fa;padding:10px;border-radius:6px;margin-bottom:15px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px;font-size:13px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]{margin-bottom:15px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:5px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px;border:1px solid #ddd;border-radius:4px;font-size:12px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{height:30px;border:none;border-radius:4px;cursor:pointer}.vector-preview-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .vector-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{margin:5px 0}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:12px;border-top:1px solid #eee;display:flex;gap:8px}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:8px;border:none;border-radius:4px;cursor:pointer;font-size:12px;transition:all .3s ease}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:#3498db;color:#fff}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background:#2980b9}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#95a5a6;color:#fff}.vector-preview-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#7f8c8d}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.vector-graphics-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1140;display:flex;align-items:center;justify-content:center;background:#000000b3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 25px 80px #0006;display:flex;flex-direction:column;width:95%;max-width:1400px;height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalZoomIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalZoomIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:16px 16px 0 0}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;display:flex;align-items:center;gap:10px}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;font-size:1.5rem;cursor:pointer;color:#fff;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 30px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{padding:8px 16px;background:#fff;border:1px solid #dee2e6;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;color:#495057;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:hover:not(:disabled){background:#007bff;color:#fff;border-color:#007bff;transform:translateY(-1px);box-shadow:0 2px 8px #007bff4d}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:14px;font-weight:600;color:#495057}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]{padding:8px 20px;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:600;color:#fff;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-toolbar[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-body-svg[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:30px;background:#f8f9fa;display:flex;align-items:center;justify-content:center}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-body-svg[_ngcontent-%COMP%]   #vectorGraphicsSvgContainer[_ngcontent-%COMP%]{width:100%;max-width:100%;background:#fff;border-radius:8px;box-shadow:0 4px 20px #0000001a;padding:20px;display:flex;justify-content:center;align-items:center}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-body-svg[_ngcontent-%COMP%]   #vectorGraphicsSvgContainer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:100%;height:auto;border:1px solid #dee2e6;border-radius:4px}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px 30px;background:#f8f9fa;border-top:1px solid #e9ecef;border-radius:0 0 16px 16px}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.vector-graphics-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-1px);box-shadow:0 2px 8px #6c757d4d}.svg-element[_ngcontent-%COMP%]{position:absolute;cursor:move;border-radius:4px;transition:all .3s ease;background:#ffffffe6}.svg-element[_ngcontent-%COMP%]:hover{border-color:#e74c3cb3!important;box-shadow:0 2px 8px #e74c3c33;transform:translateY(-1px)}.svg-element.selected[_ngcontent-%COMP%]{border-color:#e74c3c!important;box-shadow:0 0 0 2px #e74c3c4d;z-index:10}.svg-element[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.debug-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:10000}.debug-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000b3;z-index:1}.debug-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fff;border-radius:16px;box-shadow:0 10px 40px #0000004d;max-width:90%;max-height:90%;display:flex;flex-direction:column}.debug-modal[_ngcontent-%COMP%]   .modal-content.large-modal[_ngcontent-%COMP%]{width:1200px;height:800px}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;border-bottom:1px solid #e9ecef}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#2c3e50}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#6c757d;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.debug-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#2c3e50}.debug-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:20px 30px}.debug-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .debug-log-content[_ngcontent-%COMP%]{margin:0;width:100%}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px 30px;background:#f8f9fa;border-top:1px solid #e9ecef;border-radius:0 0 16px 16px}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-1px);box-shadow:0 2px 8px #6c757d4d}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.debug-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px);box-shadow:0 2px 8px #007bff4d}'],changeDetection:0})};function $a(l,e){if(l&1&&(r(0,"div",29)(1,"span",30),s(2,"\u26A0\uFE0F"),i(),r(3,"span",31),s(4),i()()),l&2){let t=g();c(4),T(t.errorMessage)}}function za(l,e){l&1&&(r(0,"span"),s(1,"\u{1F513} \uB85C\uADF8\uC778"),i())}function Ga(l,e){l&1&&(r(0,"span",32),R(1,"span",33),r(2,"span"),s(3,"\uB85C\uADF8\uC778 \uC911..."),i()())}var be=class l{constructor(e,t,o){this.authService=e;this.router=t;this.route=o}username="";password="";errorMessage="";isLoading=!1;returnUrl="/docs";showPassword=!1;ngOnInit(){if(this.authService.isAuthenticated()){this.router.navigate(["/docs"]);return}this.route.queryParams.subscribe(e=>{this.returnUrl=e.returnUrl||"/docs"})}onLogin(){if(this.errorMessage="",!this.username||!this.password){this.errorMessage="\uC544\uC774\uB514\uC640 \uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.";return}this.isLoading=!0,setTimeout(()=>{this.authService.login(this.username,this.password)?this.router.navigate([this.returnUrl]):(this.errorMessage="\uC544\uC774\uB514 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",this.password=""),this.isLoading=!1},500)}onKeyPress(e){e.key==="Enter"&&this.onLogin()}togglePasswordVisibility(){this.showPassword=!this.showPassword}clearError(){this.errorMessage=""}static \u0275fac=function(t){return new(t||l)(it(Tt),it(xt),it(qe))};static \u0275cmp=ct({type:l,selectors:[["app-docs-login"]],decls:41,vars:15,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo-section"],[1,"app-title"],[1,"subtitle"],[1,"login-body"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username",1,"form-label"],[1,"label-icon"],[1,"label-text"],["type","text","id","username","name","username","placeholder","\uC544\uC774\uB514\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","username","required","",1,"form-input",3,"ngModelChange","focus","keypress","ngModel","disabled"],["for","password",1,"form-label"],[1,"password-input-wrapper"],["id","password","name","password","placeholder","\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","current-password","required","",1,"form-input",3,"ngModelChange","focus","keypress","type","ngModel","disabled"],["type","button",1,"toggle-password-btn",3,"click","disabled","title"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"login-footer"],[1,"footer-text"],[1,"footer-info"],[1,"background-animation"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"floating-shape","shape-4"],[1,"error-message"],[1,"error-icon"],[1,"error-text"],[1,"loading-spinner"],[1,"spinner"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),s(5,"\u{1F4C4}Docs"),i(),r(6,"p",5),s(7,"Documents Management System"),i()()(),r(8,"div",6)(9,"form",7),M("ngSubmit",function(){return o.onLogin()}),r(10,"div",8)(11,"label",9)(12,"span",10),s(13,"\u{1F464}"),i(),r(14,"span",11),s(15,"\uC544\uC774\uB514"),i()(),r(16,"input",12),j("ngModelChange",function(a){return W(o.username,a)||(o.username=a),a}),M("focus",function(){return o.clearError()})("keypress",function(a){return o.onKeyPress(a)}),i()(),r(17,"div",8)(18,"label",13)(19,"span",10),s(20,"\u{1F512}"),i(),r(21,"span",11),s(22,"\uBE44\uBC00\uBC88\uD638"),i()(),r(23,"div",14)(24,"input",15),j("ngModelChange",function(a){return W(o.password,a)||(o.password=a),a}),M("focus",function(){return o.clearError()})("keypress",function(a){return o.onKeyPress(a)}),i(),r(25,"button",16),M("click",function(){return o.togglePasswordVisibility()}),s(26),i()()(),B(27,$a,5,1,"div",17),r(28,"button",18),B(29,za,2,0,"span",19)(30,Ga,4,0,"span",20),i()()(),r(31,"div",21)(32,"p",22),s(33,"Authorized Access Only"),i(),r(34,"p",23),s(35,"\u{1F512} \uBCF4\uC548 \uB85C\uADF8\uC778 \uC2DC\uC2A4\uD15C"),i()()(),r(36,"div",24),R(37,"div",25)(38,"div",26)(39,"div",27)(40,"div",28),i()()),t&2&&(c(16),N("ngModel",o.username),f("disabled",o.isLoading),c(8),f("type",o.showPassword?"text":"password"),N("ngModel",o.password),f("disabled",o.isLoading),c(),f("title",$e(o.showPassword?"\uBE44\uBC00\uBC88\uD638 \uC228\uAE30\uAE30":"\uBE44\uBC00\uBC88\uD638 \uBCF4\uAE30"))("disabled",o.isLoading),c(),E(" ",o.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),c(),f("ngIf",o.errorMessage),c(),H("loading",o.isLoading),f("disabled",o.isLoading||!o.username||!o.password),c(),f("ngIf",!o.isLoading),c(),f("ngIf",o.isLoading))},dependencies:[Lt,dt,Nt,We,vt,ft,Re,Ue,Pt,Ne],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:450px;overflow:hidden;position:relative;z-index:10;animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:40px 30px;text-align:center;color:#fff}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin:0 0 8px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;margin:0;opacity:.9;font-weight:300;letter-spacing:1px}.login-body[_ngcontent-%COMP%]{padding:40px 30px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:600;color:#4a5568;margin-bottom:8px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:18px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{flex:1}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:15px;transition:all .3s ease;background:#f8fafc}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled{background:#e2e8f0;cursor:not-allowed;opacity:.6}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding-right:50px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;cursor:pointer;font-size:20px;padding:8px;border-radius:6px;transition:all .2s ease}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#fee;border:2px solid #fcc;border-radius:10px;margin-bottom:20px;animation:_ngcontent-%COMP%_shake .5s ease}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:20px}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{flex:1;color:#c53030;font-size:14px;font-weight:500}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #667eea66}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-form[_ngcontent-%COMP%]   .login-btn.loading[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3c7,#9a89b4)}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{background:#f7fafc;padding:20px 30px;text-align:center;border-top:1px solid #e2e8f0}.login-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{margin:0 0 4px;font-size:13px;color:#718096;font-weight:500}.login-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#a0aec0}.background-animation[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:1}.background-animation[_ngcontent-%COMP%]   .floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-150px;left:-150px;animation-delay:0s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;top:50%;right:-100px;animation-delay:5s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;bottom:-75px;left:30%;animation-delay:10s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;top:20%;right:20%;animation-delay:15s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) scale(1)}33%{transform:translate(30px,-30px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:16px}.login-card[_ngcontent-%COMP%]{max-width:100%}.login-header[_ngcontent-%COMP%]{padding:30px 20px}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:28px}.login-body[_ngcontent-%COMP%]{padding:30px 20px}.login-footer[_ngcontent-%COMP%]{padding:16px 20px}}"]})};var ve=class l{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/docs/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||l)(At(Tt),At(xt))};static \u0275prov=bt({token:l,factory:l.\u0275fac,providedIn:"root"})};var La=[{path:"login",component:be},{path:"",component:Me,canActivate:[ve],pathMatch:"full"}],Oe=class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=ne({type:l});static \u0275inj=Zt({imports:[Ee.forChild(La),Ee]})};var sn=class l{constructor(e){this.resourceLoader=e;console.log("\u{1F4E6} DocsModule \uCD08\uAE30\uD654 - \uB9AC\uC18C\uC2A4 \uB85C\uB529 \uC2DC\uC791"),this.resourceLoader.loadAllResources().then(()=>{console.log("\u2705 DocsModule \uB9AC\uC18C\uC2A4 \uB85C\uB529 \uC644\uB8CC")}).catch(t=>{console.error("\u274C DocsModule \uB9AC\uC18C\uC2A4 \uB85C\uB529 \uC2E4\uD328:",t)})}static \u0275fac=function(t){return new(t||l)(At(rn))};static \u0275mod=ne({type:l});static \u0275inj=Zt({imports:[Lt,Nt,Ze,Qe,Je,Oe,Ut]})};export{sn as DocsModule};
